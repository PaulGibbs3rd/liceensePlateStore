"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[64675],{63665:function(e,t,n){n.d(t,{Z:function(){return w}});var i=n(15671),o=n(43144),r=n(60136),a=n(29388),l=n(27366),u=n(11582),s=n(49861),d=(n(93169),n(32718),n(84936),n(69912)),c=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(e){var o;return(0,i.Z)(this,n),(o=t.call(this,e)).row=0,o.column=0,o.rows=1,o.columns=1,o}return(0,o.Z)(n,[{key:"equals",value:function(e){return null!=e&&this.row===e.row&&this.rows===e.rows&&this.column===e.column&&this.columns===e.columns}}]),n}(u.j);(0,l._)([(0,s.Cb)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],c.prototype,"row",void 0),(0,l._)([(0,s.Cb)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],c.prototype,"column",void 0),(0,l._)([(0,s.Cb)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],c.prototype,"rows",void 0),(0,l._)([(0,s.Cb)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],c.prototype,"columns",void 0);var m=c=(0,l._)([(0,d.j)("esri.CameraLayout")],c),k=n(17768),v=n(46784),h=n(16889),p=n(89125),b=n(38511),f=n(31201),_=n(25243),g=n(848),y=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).position=new g.Z([0,0,0]),e.heading=0,e.tilt=0,e.fov=55,e.layout=new m,e}return(0,o.Z)(n,[{key:"normalizeCtorArgs",value:function(e,t,n,i){if(e&&"object"==typeof e&&("x"in e||Array.isArray(e))){var o={position:e};return null!=t&&(o.heading=t),null!=n&&(o.tilt=n),null!=i&&(o.fov=i),o}return e}},{key:"writePosition",value:function(e,t,n,i){var o=e.clone();o.x=(0,_.q9)(e.x||0),o.y=(0,_.q9)(e.y||0),o.z=e.hasZ?(0,_.q9)(e.z||0):e.z,t[n]=o.write({},i)}},{key:"readPosition",value:function(e,t){var n=new g.Z;return n.read(e,t),n.x=(0,_.q9)(n.x||0),n.y=(0,_.q9)(n.y||0),n.z=n.hasZ?(0,_.q9)(n.z||0):n.z,n}},{key:"equals",value:function(e){return null!=e&&this.tilt===e.tilt&&this.heading===e.heading&&this.fov===e.fov&&this.position.equals(e.position)&&this.layout.equals(e.layout)}}]),n}((0,u.J)(v.wq));(0,l._)([(0,s.Cb)({type:g.Z,json:{write:{isRequired:!0}}})],y.prototype,"position",void 0),(0,l._)([(0,f.c)("position")],y.prototype,"writePosition",null),(0,l._)([(0,b.r)("position")],y.prototype,"readPosition",null),(0,l._)([(0,s.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,p.p)((function(e){return k.BV.normalize((0,_.q9)(e))}))],y.prototype,"heading",void 0),(0,l._)([(0,s.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,p.p)((function(e){return(0,h.uZ)((0,_.q9)(e),-180,180)}))],y.prototype,"tilt",void 0),(0,l._)([(0,s.Cb)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],y.prototype,"fov",void 0),(0,l._)([(0,s.Cb)({type:m,nonNullable:!0,json:{read:!1,write:!1}})],y.prototype,"layout",void 0);var w=y=(0,l._)([(0,d.j)("esri.Camera")],y)},36721:function(e,t,n){n.d(t,{Z:function(){return b}});var i,o=n(15671),r=n(43144),a=n(60136),l=n(29388),u=n(27366),s=n(63665),d=n(59486),c=n(46784),m=n(49861),k=n(89125),v=(n(84936),n(93169),n(69912)),h=n(77981),p=i=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,o.Z)(this,n),(i=t.call(this,e)).rotation=0,i.scale=0,i.targetGeometry=null,i.camera=null,i}return(0,r.Z)(n,[{key:"castRotation",value:function(e){return(e%=360)<0&&(e+=360),e}},{key:"clone",value:function(){return new i({rotation:this.rotation,scale:this.scale,targetGeometry:null!=this.targetGeometry?this.targetGeometry.clone():null,camera:null!=this.camera?this.camera.clone():null})}}]),n}(c.wq);(0,u._)([(0,m.Cb)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:f}}}}})],p.prototype,"rotation",void 0),(0,u._)([(0,k.p)("rotation")],p.prototype,"castRotation",null),(0,u._)([(0,m.Cb)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:f}}}}})],p.prototype,"scale",void 0),(0,u._)([(0,m.Cb)({types:d.qM,json:{read:h.im,write:!0,origins:{"web-scene":{read:h.im,write:{overridePolicy:f}}}}})],p.prototype,"targetGeometry",void 0),(0,u._)([(0,m.Cb)({type:s.Z,json:{write:!0}})],p.prototype,"camera",void 0);var b=p=i=(0,u._)([(0,v.j)("esri.Viewpoint")],p);function f(){return{enabled:!this.camera}}},17768:function(e,t,n){n.d(t,{BV:function(){return c},Q4:function(){return d},c5:function(){return s},pE:function(){return a}});var i=n(15671),o=n(43144),r=n(16889),a=function(){function e(t,n){(0,i.Z)(this,e),this.min=t,this.max=n,this.range=n-t}return(0,o.Z)(e,[{key:"normalize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l(this.range,this.min,this.max,e,t,n)}},{key:"clamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,r.uZ)(e-t,this.min,this.max)+t}},{key:"monotonic",value:function(e,t,n){return e<t?t:t+u(this.range,e-t,n)}},{key:"minimalMonotonic",value:function(e,t,n){return l(this.range,e,e+this.range,t,n)}},{key:"center",value:function(e,t,n){return t=this.monotonic(e,t,n),this.normalize((e+t)/2,n)}},{key:"diff",value:function(e,t,n){return this.monotonic(e,t,n)-e}},{key:"shortestSignedDiff",value:function(e,t){e=this.normalize(e);var n=(t=this.normalize(t))-e,i=t<e?this.minimalMonotonic(e,t)-e:t-this.minimalMonotonic(t,e);return Math.abs(n)<Math.abs(i)?n:i}},{key:"contains",value:function(e,t,n){return t=this.minimalMonotonic(e,t),(n=this.minimalMonotonic(e,n))>e&&n<t}}]),e}();function l(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return(i-=o)<t?i+=u(e,t-i):i>n&&(i-=u(e,i-n)),r&&i===n&&(i=t),i+o}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.ceil((t-n)/e)*e+n}var s=new a(0,2*Math.PI),d=new a(-Math.PI,Math.PI),c=new a(0,360)},26838:function(e,t,n){n.d(t,{A:function(){return k}});var i,o=n(15671),r=n(43144),a=n(60136),l=n(29388),u=n(27366),s=n(46784),d=n(49861),c=(n(93169),n(32718),n(84936),n(69912)),m=n(57509),k=i=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;return(0,o.Z)(this,n),(e=t.apply(this,arguments)).url="",e}return(0,r.Z)(n,[{key:"destroy",value:function(){this.url=""}},{key:"isSecureUrl",get:function(){return(0,m.xz)(this.url)}},{key:"isDataURI",get:function(){return(0,m.gJ)(this.url)}},{key:"clone",value:function(){return new i({url:this.url})}}]),n}(s.wq);(0,u._)([(0,d.Cb)({type:String,json:{write:{isRequired:!0}}})],k.prototype,"url",void 0),(0,u._)([(0,d.Cb)()],k.prototype,"isSecureUrl",null),(0,u._)([(0,d.Cb)()],k.prototype,"isDataURI",null),k=i=(0,u._)([(0,c.j)("esri.webdoc.support.SlideThumbnail")],k)},39328:function(e,t,n){n.d(t,{v:function(){return a}});var i=n(62044),o=n(10064),r=n(25243),a={type:i.Z,json:{read:{source:"timeExtent",reader:function(e){return e?Array.isArray(e)?i.Z.fromArray(e):i.Z.fromJSON(e):null}},write:{writer:function(e,t,n,i){e&&(e.isEmpty?(null===i||void 0===i?void 0:i.messages)&&i.messages.push(new o.Z("invalid-timeExtent","TimeExtent cannot be empty")):t[n]=e.toArray())},target:{timeExtent:{type:[[r.z8,r.p2]]}}}}}},2284:function(e,t,n){n.d(t,{Z:function(){return E}});var i,o=n(15671),r=n(43144),a=n(60136),l=n(29388),u=n(27366),s=n(36721),d=n(10064),c=n(79056),m=n(46784),k=n(84652),v=n(32718),h=n(49861),p=n(89125),b=n(38511),f=n(69912),_=n(31201),g=n(25243),y=n(26838),w=n(39328),B=i=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,o.Z)(this,n),(i=t.call(this,e)).name=null,i.thumbnail=new y.A,i.timeExtent=null,i}return(0,r.Z)(n,[{key:"castThumbnail",value:function(e){return"string"==typeof e?new y.A({url:e}):(0,g.se)(y.A,e)}},{key:"viewpoint",set:function(e){var t=e.targetGeometry,n=e.scale;null!=t&&"point"===t.type&&null==n&&v.Z.getLogger(this).warn("Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.",e),this._set("viewpoint",e)}},{key:"readViewpoint",value:function(e,t){var n=t.extent,i=t.viewpoint;return s.Z.fromJSON(i||{targetGeometry:n})}},{key:"writeViewpoint",value:function(e,t,n,i){if(e){var o=e.targetGeometry;if(null==o||"extent"===o.type)null!=o&&(t.extent=o.toJSON()),t[n]=e.toJSON();else{var r="Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.";null!==i&&void 0!==i&&i.messages?i.messages.push(new d.Z("property:unsupported",r)):v.Z.getLogger(this).error(r)}}}},{key:"clone",value:function(){return new i((0,k.d9)({name:this.name,thumbnail:this.thumbnail,timeExtent:this.timeExtent,viewpoint:this.viewpoint}))}}]),n}((0,c.IG)(m.wq));(0,u._)([(0,h.Cb)({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],B.prototype,"name",void 0),(0,u._)([(0,h.Cb)({type:y.A,json:{write:{overridePolicy:function(e){return{enabled:!(!e||!e.url)}}}}})],B.prototype,"thumbnail",void 0),(0,u._)([(0,p.p)("thumbnail")],B.prototype,"castThumbnail",null),(0,u._)([(0,h.Cb)(w.v)],B.prototype,"timeExtent",void 0),(0,u._)([(0,h.Cb)({type:s.Z,nonNullable:!0,json:{write:!0}})],B.prototype,"viewpoint",null),(0,u._)([(0,b.r)("viewpoint",["extent","viewpoint"])],B.prototype,"readViewpoint",null),(0,u._)([(0,_.c)("viewpoint")],B.prototype,"writeViewpoint",null);var E=B=i=(0,u._)([(0,f.j)("esri.webmap.Bookmark")],B)},64675:function(e,t,n){n.r(t),n.d(t,{default:function(){return $}});var i=n(74165),o=n(15861),r=n(4942),a=n(1413),l=n(15671),u=n(43144),s=n(97326),d=n(60136),c=n(29388),m=n(27366),k=n(63780),v=n(44927),h=n(79056),p=n(32718),b=n(49861),f=(n(93169),n(69912)),_=n(76969),g=n(6701),y=n(26838),w=n(33565),B=n(7138),E=(n(84936),function(e){(0,d.Z)(n,e);var t=(0,c.Z)(n);function n(e){return(0,l.Z)(this,n),t.call(this,e)}return(0,u.Z)(n,[{key:"editedBookmark",get:function(){var e=this.bookmark;return e?this._get("editedBookmark")||e.clone():null}},{key:"customUrl",get:function(){var e,t,n,i;return null!==(e=this.editedBookmark)&&void 0!==e&&null!==(t=e.thumbnail)&&void 0!==t&&t.isSecureUrl?null===(n=this.editedBookmark)||void 0===n||null===(i=n.thumbnail)||void 0===i?void 0:i.url:null},set:function(e){this._override("customUrl",e)}},{key:"screenshotUrl",get:function(){var e,t,n,i;return null!==(e=this.editedBookmark)&&void 0!==e&&null!==(t=e.thumbnail)&&void 0!==t&&t.isDataURI?null===(n=this.editedBookmark)||void 0===n||null===(i=n.thumbnail)||void 0===i?void 0:i.url:null},set:function(e){this._override("screenshotUrl",e)}},{key:"state",get:function(){return this._get("state")},set:function(e){this.validationState=void 0,this.loading=void 0,this._set("state",e)}},{key:"thumbnailState",get:function(){var e,t,n,i;return null!==(e=this.editedBookmark)&&void 0!==e&&null!==(t=e.thumbnail)&&void 0!==t&&t.url?null!==(n=this.editedBookmark)&&void 0!==n&&null!==(i=n.thumbnail)&&void 0!==i&&i.isSecureUrl?"url":"screenshot":"none"},set:function(e){this._overrideIfSome("thumbnailState",e)}}]),n}(B.default));(0,m._)([(0,b.Cb)()],E.prototype,"bookmark",void 0),(0,m._)([(0,b.Cb)({readOnly:!0})],E.prototype,"editedBookmark",null),(0,m._)([(0,b.Cb)()],E.prototype,"customUrl",null),(0,m._)([(0,b.Cb)()],E.prototype,"screenshotUrl",null),(0,m._)([(0,b.Cb)()],E.prototype,"state",null),(0,m._)([(0,b.Cb)()],E.prototype,"thumbnailState",null),(0,m._)([(0,b.Cb)()],E.prototype,"validationState",void 0),(0,m._)([(0,b.Cb)()],E.prototype,"loading",void 0);var C=E=(0,m._)([(0,f.j)("esri.widgets.Bookmarks.BookmarksUserState")],E),Z=n(36721),x=n(80987),S=n(10064),I=n(91505),T=n(89125),A=n(2284),N=n(99505),F=x.Z.ofType(A.Z),D={width:128,height:128,format:"png"},U={takeScreenshot:!0,captureViewpoint:!0,captureRotation:!0,captureScale:!0,captureTimeExtent:!0},M={time:!0},O=function(e){(0,d.Z)(n,e);var t=(0,c.Z)(n);function n(e){var i;return(0,l.Z)(this,n),(i=t.call(this,e)).capabilities=(0,a.Z)({},M),i.activeBookmark=null,i.view=null,i}return(0,u.Z)(n,[{key:"destroy",value:function(){this.view=null,this._set("activeBookmark",null)}},{key:"castCapabilities",value:function(e){return(0,a.Z)((0,a.Z)({},M),e)}},{key:"bookmarks",get:function(){var e,t,n;return null!==(e=null===(t=this.view)||void 0===t||null===(n=t.map)||void 0===n?void 0:n.bookmarks)&&void 0!==e?e:new F},set:function(e){this._overrideIfSome("bookmarks",e)}},{key:"defaultCreateOptions",get:function(){return U},set:function(e){this._set("defaultCreateOptions",(0,a.Z)((0,a.Z)({},U),e))}},{key:"defaultEditOptions",get:function(){return U},set:function(e){this._set("defaultEditOptions",(0,a.Z)((0,a.Z)({},U),e))}},{key:"state",get:function(){var e=this.view;return e&&!e.ready?"loading":"ready"}},{key:"createBookmark",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var n,o,r,l,u,s,d,c,m,k,v,h;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.view,o=this.defaultCreateOptions,r=this.capabilities,n){e.next=3;break}throw new S.Z("create-bookmark:invalid-view","Cannot create a bookmark without a view.");case 3:if(l=(0,a.Z)((0,a.Z)({},o),t),u=l.takeScreenshot,s=l.screenshotSettings,d=l.captureViewpoint,c=l.captureRotation,m=l.captureScale,k=l.captureTimeExtent,!u){e.next=16;break}return e.next=13,this._createThumbnail(s);case 13:e.t0=e.sent,e.next=17;break;case 16:e.t0=void 0;case 17:return v=e.t0,h=r.time&&k&&null!=n.timeExtent?n.timeExtent.clone():void 0,e.abrupt("return",new A.Z((0,a.Z)((0,a.Z)((0,a.Z)({},v&&{thumbnail:v}),k&&{timeExtent:h}),d&&{viewpoint:this._createViewpoint({view:n,captureScale:m,captureRotation:c})})));case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editBookmark",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n){var o,r,l,u,s,d,c,m,k,v;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",t);case 2:if(o=this.view,r=this.defaultEditOptions,o){e.next=5;break}throw new S.Z("edit-bookmark:invalid-view","Cannot edit a bookmark without a view.");case 5:if(l=(0,a.Z)((0,a.Z)({},r),n),u=l.takeScreenshot,s=l.screenshotSettings,d=l.captureViewpoint,c=l.captureRotation,m=l.captureScale,k=l.captureTimeExtent,!u){e.next=18;break}return e.next=15,this._createThumbnail(s);case 15:e.t0=e.sent,e.next=19;break;case 18:e.t0=void 0;case 19:return v=e.t0,e.abrupt("return",(v&&(t.thumbnail=v),d&&(t.viewpoint=this._createViewpoint({view:o,captureScale:m,captureRotation:c})),k&&null!=o.timeExtent&&(t.timeExtent=o.timeExtent.clone()),this.emit("bookmark-edit",{bookmark:t}),t));case 21:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"goTo",value:function(e){var t=this,n=this.capabilities,i=this.view;if(!i)throw new S.Z("go-to:invalid-view","Cannot go to a bookmark without a view");var o=null===e||void 0===e?void 0:e.viewpoint;if(!o)throw new S.Z("go-to:invalid-bookmark","Cannot go to a bookmark that does not contain a 'viewpoint'.",{bookmark:e});this._set("activeBookmark",e);var r={target:o},a=this.callGoTo(r),l=null===e||void 0===e?void 0:e.timeExtent;return n.time&&l&&(i.timeExtent=l),this.emit("bookmark-select",{bookmark:e}),a.catch((function(){})).then((function(){return t._set("activeBookmark",null)})),a}},{key:"_createThumbnail",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var n,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.view){e.next=3;break}throw new S.Z("bookmark:invalid-view","Cannot create slide thumbnail without a view");case 3:return e.next=5,n.takeScreenshot((0,a.Z)((0,a.Z)({},D),t));case 5:return o=e.sent,e.abrupt("return",new y.A({url:o.dataUrl}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createViewpoint",value:function(e){var t,n,i,o,r=e.view,a=e.captureRotation,l=e.captureScale,u=null===(t=r.viewpoint)||void 0===t?void 0:t.clone();return new Z.Z({targetGeometry:null===(n=r.extent)||void 0===n?void 0:n.clone(),rotation:null!==(i=a?null===u||void 0===u?void 0:u.rotation:null)&&void 0!==i?i:0,scale:null!==(o=l?null===u||void 0===u?void 0:u.scale:null)&&void 0!==o?o:0})}}]),n}((0,N._)(I.Z.EventedAccessor));(0,m._)([(0,b.Cb)()],O.prototype,"capabilities",void 0),(0,m._)([(0,T.p)("capabilities")],O.prototype,"castCapabilities",null),(0,m._)([(0,b.Cb)({readOnly:!0})],O.prototype,"activeBookmark",void 0),(0,m._)([(0,b.Cb)({type:F})],O.prototype,"bookmarks",null),(0,m._)([(0,b.Cb)()],O.prototype,"defaultCreateOptions",null),(0,m._)([(0,b.Cb)()],O.prototype,"defaultEditOptions",null),(0,m._)([(0,b.Cb)({readOnly:!0})],O.prototype,"state",null),(0,m._)([(0,b.Cb)()],O.prototype,"view",void 0);var P=O=(0,m._)([(0,f.j)("esri.widgets.Bookmarks.BookmarksViewModel")],O),L=function(e){(0,d.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,l.Z)(this,n),(e=t.apply(this,arguments)).addBookmarkButton=!1,e.closeButton=!1,e.collapseButton=!1,e.editBookmarkButton=!1,e.filter=!1,e.flow=!0,e.heading=!1,e.thumbnail=!0,e.time=!0,e}return(0,u.Z)(n,[{key:"addBookmark",get:function(){return(0,v.Mr)(p.Z.getLogger(this),"addBookmark",{replacement:"addBookmarkButton",version:"4.29",warnOnce:!0}),this.addBookmarkButton},set:function(e){(0,v.Mr)(p.Z.getLogger(this),"addBookmark",{replacement:"addBookmarkButton",version:"4.29",warnOnce:!0}),this.addBookmarkButton=e}}]),n}(B.default);(0,m._)([(0,b.Cb)({type:Boolean,nonNullable:!0})],L.prototype,"addBookmark",null),(0,m._)([(0,b.Cb)({type:Boolean,nonNullable:!0})],L.prototype,"addBookmarkButton",void 0),(0,m._)([(0,b.Cb)({type:Boolean,nonNullable:!0})],L.prototype,"closeButton",void 0),(0,m._)([(0,b.Cb)({type:Boolean,nonNullable:!0})],L.prototype,"collapseButton",void 0),(0,m._)([(0,b.Cb)({type:Boolean,nonNullable:!0})],L.prototype,"editBookmarkButton",void 0),(0,m._)([(0,b.Cb)({type:Boolean,nonNullable:!0})],L.prototype,"filter",void 0),(0,m._)([(0,b.Cb)({type:Boolean,nonNullable:!0})],L.prototype,"flow",void 0),(0,m._)([(0,b.Cb)({type:Boolean,nonNullable:!0})],L.prototype,"heading",void 0),(0,m._)([(0,b.Cb)({type:Boolean,nonNullable:!0})],L.prototype,"thumbnail",void 0),(0,m._)([(0,b.Cb)({type:Boolean,nonNullable:!0})],L.prototype,"time",void 0);var q=L=(0,m._)([(0,f.j)("esri.widgets.Bookmarks.BookmarksVisibleElements")],L),R=n(57509),j="esri-bookmarks",z="".concat(j,"__authoring"),G="".concat(j,"__bookmark"),V={base:j,noBookmarksHeader:"".concat(j,"__no-bookmarks-heading"),noBookmarksDescription:"".concat(j,"__no-bookmarks-description"),form:"".concat(j,"__form"),list:"".concat(j,"__list"),loader:"".concat(j,"__loader"),filterNoResults:"".concat(j,"__filter-no-results"),formContent:"".concat(j,"__form-content"),addBookmarkButton:"".concat(j,"__add-bookmark-button"),editBookmarkInput:"".concat(j,"__edit-bookmark-input"),addBookmarkInput:"".concat(j,"__add-bookmark-input"),dragEnabled:"".concat(j,"--drag-enabled"),bookmarkImage:"".concat(j,"__image"),bookmarkImageContainer:"".concat(G,"-image-container"),bookmarkContent:"".concat(G,"-content"),bookmarkContentLabel:"".concat(G,"-content-label"),authoring:z,authoringImageContainer:"".concat(z,"-image-container"),authoringRefreshThumbnailButton:"".concat(z,"-refresh-thumbnail-button")},H=n(8905),J=n(7021),X=n(96919),Q=(n(80975),n(80532)),K=n(28907),W=n(67005),Y=function(e){(0,d.Z)(m,e);var t=(0,c.Z)(m);function m(e,n){var i;return(0,l.Z)(this,m),(i=t.call(this,e,n))._addInputNode=null,i._editInputNode=null,i._urlEditInputNode=null,i._lastDragDetail=null,i._selectedDragBookmarkUid=null,i._editIncludeTimeExtent=void 0,i._userState=null,i._focusRootFlowItem=!1,i._focusAddFlowItem=!1,i._focusEditFlowItem=!1,i.disabled=!1,i.dragEnabled=!1,i.filterPlaceholder="",i.filterText="",i.headingLevel=2,i.messages=null,i.messagesCommon=null,i.viewModel=new P,i.visibleElements=new q,i._onCalciteListOrderChange=function(e){var t=(0,s.Z)(i),n=t._lastDragDetail,o=t.bookmarks,r=e.toEl,a=e.fromEl,l=e.dragEl,u=e.newIndex;if(o.length&&a&&r&&((null===n||void 0===n?void 0:n.newIndex)!==u||(null===n||void 0===n?void 0:n.dragEl)!==l||(null===n||void 0===n?void 0:n.toEl)!==r||(null===n||void 0===n?void 0:n.fromEl)!==a)){i._lastDragDetail=e;var d=Array.from(a.children).filter((function(e){return null===e||void 0===e?void 0:e.matches("calcite-list-item")})).map((function(e){return e.value}));o.sort((function(e,t){var n=d.indexOf(e.uid),i=d.indexOf(t.uid);return n>i?1:n<i?-1:0}))}},i}return(0,u.Z)(m,[{key:"normalizeCtorArgs",value:function(e){return null!=(null===e||void 0===e?void 0:e.editingEnabled)&&null!=e.visibleElements?(0,a.Z)((0,a.Z)({},e),{},{visibleElements:new q((0,a.Z)((0,a.Z)({},e.visibleElements),{},{addBookmarkButton:e.editingEnabled,editBookmarkButton:e.editingEnabled}))}):e}},{key:"loadDependencies",value:function(){return(0,H.h)({action:function(){return Promise.all([n.e(92358),n.e(46895),n.e(65138),n.e(91741)]).then(n.bind(n,6814))},button:function(){return Promise.all([n.e(92358),n.e(46895),n.e(54438),n.e(14105),n.e(32275)]).then(n.bind(n,32275))},"chip-group":function(){return Promise.all([n.e(92358),n.e(25917)]).then(n.bind(n,25917))},chip:function(){return Promise.all([n.e(92358),n.e(46895),n.e(1579),n.e(12386)]).then(n.bind(n,53607))},fab:function(){return Promise.all([n.e(92358),n.e(46895),n.e(54438),n.e(14105),n.e(3280)]).then(n.bind(n,3280))},flow:function(){return n.e(53049).then(n.bind(n,53049))},"flow-item":function(){return Promise.all([n.e(92358),n.e(46895),n.e(89219),n.e(63839),n.e(65138),n.e(2654),n.e(23635),n.e(89524),n.e(48926)]).then(n.bind(n,48926))},icon:function(){return Promise.all([n.e(92358),n.e(87474)]).then(n.bind(n,87474))},input:function(){return Promise.all([n.e(92358),n.e(46895),n.e(54438),n.e(8715),n.e(16746)]).then(n.bind(n,75655))},"input-message":function(){return Promise.all([n.e(92358),n.e(64058)]).then(n.bind(n,64058))},label:function(){return Promise.all([n.e(92358),n.e(35738)]).then(n.bind(n,35738))},list:function(){return Promise.all([n.e(92358),n.e(46895),n.e(54438),n.e(34504),n.e(8715),n.e(38782)]).then(n.bind(n,38782))},"list-item":function(){return Promise.all([n.e(92358),n.e(46895),n.e(65138),n.e(21340)]).then(n.bind(n,67994))},loader:function(){return Promise.all([n.e(92358),n.e(46895),n.e(92382)]).then(n.bind(n,92382))},notice:function(){return Promise.all([n.e(92358),n.e(46895),n.e(15669)]).then(n.bind(n,15669))},scrim:function(){return Promise.all([n.e(92358),n.e(46895),n.e(99174)]).then(n.bind(n,99174))},switch:function(){return Promise.all([n.e(92358),n.e(54438),n.e(40206)]).then(n.bind(n,40206))},table:function(){return Promise.all([n.e(92358),n.e(46895),n.e(54438),n.e(14105),n.e(1579),n.e(81145)]).then(n.bind(n,81145))},"table-cell":function(){return Promise.all([n.e(92358),n.e(46895),n.e(62216),n.e(22212)]).then(n.bind(n,30681))},"table-header":function(){return Promise.all([n.e(92358),n.e(46895),n.e(34592),n.e(23156)]).then(n.bind(n,23156))},"table-row":function(){return Promise.all([n.e(92358),n.e(46895),n.e(34592),n.e(62216),n.e(70635)]).then(n.bind(n,70635))}})}},{key:"defaultCreateOptions",get:function(){return this.viewModel.defaultCreateOptions},set:function(e){this.viewModel.defaultCreateOptions=e}},{key:"defaultEditOptions",get:function(){return this.viewModel.defaultEditOptions},set:function(e){this.viewModel.defaultEditOptions=e}},{key:"bookmarks",get:function(){return this.viewModel.bookmarks},set:function(e){this.viewModel.bookmarks=e}},{key:"editingEnabled",get:function(){return(0,v.Mr)(p.Z.getLogger(this),"editingEnabled",{replacement:"dragEnabled, visibleElements.editBookmarkButton, visibleElements.addBookmarkButton",version:"4.29",warnOnce:!0}),this.dragEnabled&&this.visibleElements.editBookmarkButton&&this.visibleElements.addBookmarkButton},set:function(e){(0,v.Mr)(p.Z.getLogger(this),"editingEnabled",{replacement:"dragEnabled, visibleElements.editBookmarkButton, visibleElements.addBookmarkButton",version:"4.29",warnOnce:!0}),this.dragEnabled=e,this.visibleElements.editBookmarkButton=e,this.visibleElements.addBookmarkButton=e}},{key:"goToOverride",get:function(){return this.viewModel.goToOverride},set:function(e){this.viewModel.goToOverride=e}},{key:"icon",get:function(){return"bookmark"},set:function(e){this._overrideIfSome("icon",e)}},{key:"label",get:function(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.widgetLabel)&&void 0!==e?e:""},set:function(e){this._overrideIfSome("label",e)}},{key:"view",get:function(){return this.viewModel.view},set:function(e){this.viewModel.view=e}},{key:"endAddBookmark",value:function(){this._userState=null}},{key:"goTo",value:function(e){return this.viewModel.goTo(e)}},{key:"render",value:function(){return(0,W.u)("div",{class:this.classes(V.base,J.z.widget,J.z.panel)},this._renderBookmarksContainer())}},{key:"startAddBookmark",value:function(){this._userState=new C({state:"add"}),this._focusAddFlowItem=!0}},{key:"_renderNoBookmarksContainer",value:function(e){var t=this.messages,n=this.viewModel.state;return e.length||"loading"===n?null:(0,W.u)("div",{class:J.z.empty,key:"no-bookmarks"},(0,W.u)("calcite-icon",{icon:"bookmark",scale:"l"}),(0,W.u)(X.X,{class:this.classes(J.z.heading,V.noBookmarksHeader),level:this.headingLevel},null===t||void 0===t?void 0:t.noBookmarksHeading),(0,W.u)("p",{class:V.noBookmarksDescription},t.noBookmarksDescription))}},{key:"_renderEditBookmarkFlowItems",value:function(){var e=this._userState,t=null===e||void 0===e?void 0:e.editedBookmark;return t&&"edit"===(null===e||void 0===e?void 0:e.state)?this._renderEditingBookmark(t):[]}},{key:"_renderBookmarkItems",value:function(e){var t=this;return e?e.toArray().map((function(e){return t._renderBookmark(e)})):[]}},{key:"_handleCalciteListDragEnd",value:function(e){var t=e.fromEl,n=e.dragEl,i=e.oldIndex;t.insertBefore(n,t.children[i])}},{key:"_renderBookmarksContainer",value:function(){var e=this,t=this.viewModel,n=t.state,i=t.bookmarks,o=this.dragEnabled,r=this.messages,a=this.disabled,l=this.filterPlaceholder,u=this.filterText,s=this.visible,d=this.headingLevel,c=this.visibleElements,m=c.closeButton,v=c.collapseButton,h=c.filter,p=c.heading,b=c.flow,f=this.uid,_=i.filter(k.pC),g=_.length?(0,W.u)("calcite-list",{class:V.list,dragEnabled:o,filterEnabled:h,filterPlaceholder:l,filterText:u,group:"bookmarks-".concat(f),key:"bookmark-list",label:r.widgetLabel,selectionAppearance:"border",selectionMode:"none",onCalciteListDragEnd:function(t){return e._handleCalciteListDragEnd(t.detail)},onCalciteListFilter:function(t){var n,i;return e.filterText=null!==(n=null===(i=t.target)||void 0===i?void 0:i.filterText)&&void 0!==n?n:""},onCalciteListOrderChange:function(t){return e._onCalciteListOrderChange(t.detail)}},this._renderBookmarkItems(_),h?(0,W.u)("div",{class:V.filterNoResults,slot:"filter-no-results"},(0,W.u)("calcite-notice",{kind:"info",open:!0,width:"full"},(0,W.u)("div",{slot:"message"},r.noBookmarksHeading),";")):null):null,y=[(0,W.u)("calcite-flow-item",{afterCreate:this._focusRootFlowItemNode,afterUpdate:this._focusRootFlowItemNode,bind:this,closable:m,closed:!s,collapsible:v,disabled:a,heading:p?r.widgetLabel:void 0,headingLevel:d,loading:"loading"===n,onCalciteFlowItemClose:function(){return e.visible=!1}},this._renderNoBookmarksContainer(_),g,this._renderAddBookmarkButton()),this._renderAddingBookmark(),this._renderEditBookmarkFlowItems()];return s?b?(0,W.u)("calcite-flow",{key:"root-flow"},y):y:null}},{key:"_renderAddBookmarkButton",value:function(){var e,t=this.messages,n=this._userState,i=this.disabled,o=this.viewModel,r=o.view,a=o.state,l=this.visibleElements.addBookmarkButton,u=null!==(e=null===n||void 0===n?void 0:n.loading)&&void 0!==e&&e;return r&&"loading"!==a&&l?(0,W.u)("calcite-fab",{appearance:"outline-fill",bind:this,class:V.addBookmarkButton,disabled:i||u,icon:"plus",key:"add-bookmark-item",kind:"neutral",loading:u,onclick:this.startAddBookmark,slot:"fab",text:t.addBookmark,textEnabled:!0,title:t.addBookmark,type:"button"}):null}},{key:"_renderEditContainer",value:function(e){var t=this,n=this.messagesCommon,i=this.visibleElements.editBookmarkButton,o="".concat(n.edit," ").concat(this._getBookmarkTitle(e));return i?(0,W.u)("calcite-action",{appearance:"transparent",icon:"pencil",key:"edit-action",onclick:function(){return t._showEditBookmarkForm(e)},slot:"actions-end",text:o,title:o}):null}},{key:"_renderBookmarkImage",value:function(e,t){var n;return t?(0,W.u)("img",{alt:"",class:V.bookmarkImage,key:"bookmark-image",src:null===(n=e.thumbnail)||void 0===n?void 0:n.url}):null}},{key:"_renderBookmarkTimeSwitch",value:function(e){var t,n=this,i=this.messages,o=this.viewModel.view,r=e.timeExtent;return(null!==(t=null===o||void 0===o?void 0:o.timeExtent)&&void 0!==t?t:r)?(0,W.u)("calcite-label",{layout:"inline-space-between"},i.includeTimeExtent,(0,W.u)("calcite-switch",{checked:!!r,onCalciteSwitchChange:function(e){n._editIncludeTimeExtent=!!e.target.checked}})):null}},{key:"_renderEditBookmarkTimeExtent",value:function(e){return this._editIncludeTimeExtent?this._renderBookmarkTimeExtent(e):null}},{key:"_getTimeExtentStrings",value:function(e){var t=this.visibleElements,n=e.timeExtent;if(!n)return{};var i=n.start,o=n.end,r=null!=o&&(null==i||i.getTime()!==o.getTime()),a=i?this._formatDate(i):"",l=i&&t.time?this._formatTime(i):"";return r?{startDate:a,startTime:l,endDate:this._formatDate(o),endTime:t.time?this._formatTime(o):""}:{startDate:a,startTime:l}}},{key:"_renderTimeExtentDescription",value:function(e){var t=this._getTimeExtentStrings(e),n=t.startDate,i=t.startTime,o=t.endDate,r=t.endTime;if(!n)return"";var a="".concat(n," ").concat(i);return o?"".concat(a," - ","".concat(o," ").concat(r)):a}},{key:"_renderBookmarkTimeExtent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.messages,i=this._getTimeExtentStrings(e),o=i.startDate,r=i.startTime,a=i.endDate,l=i.endTime,u=t?null:(0,W.u)("calcite-table-row",{slot:"table-header"},(0,W.u)("calcite-table-header",{heading:n.startDate}),a?(0,W.u)("calcite-table-header",{heading:n.endDate}):null);return o?(0,W.u)("calcite-table",{caption:n.timeExtent,scale:"s"},u,(0,W.u)("calcite-table-row",null,(0,W.u)("calcite-table-cell",null,o," ",r?[(0,W.u)("br",null),r]:null),a?(0,W.u)("calcite-table-cell",null,a,l?[(0,W.u)("br",null),l]:null):null)):null}},{key:"_renderBookmarkActiveScrim",value:function(e,t){return this.viewModel.activeBookmark===e&&t?(0,W.u)("calcite-scrim",{key:"bookmark-active-scrim",loading:!0}):null}},{key:"_renderBookmarkActiveLoader",value:function(e,t){return this.viewModel.activeBookmark!==e||t?null:(0,W.u)("calcite-loader",{class:V.loader,inline:!0,key:"bookmark-active-loader",label:this.messagesCommon.loading})}},{key:"_renderBookmarkImageIcon",value:function(e,t){return this.viewModel.activeBookmark===e||t?null:(0,W.u)("calcite-icon",{icon:"bookmark",key:"bookmark-icon",scale:"s"})}},{key:"_renderBookmarkThumbnail",value:function(e){var t,n=this.visibleElements.thumbnail&&!(null===(t=e.thumbnail)||void 0===t||!t.url);return(0,W.u)("div",{class:V.bookmarkImageContainer,slot:"content-start"},this._renderBookmarkActiveScrim(e,n),this._renderBookmarkImage(e,n),this._renderBookmarkActiveLoader(e,n),this._renderBookmarkImageIcon(e,n))}},{key:"_focusSelectedDragEl",value:function(e,t){this._selectedDragBookmarkUid===t.uid&&requestAnimationFrame((function(){return null===e||void 0===e?void 0:e.setFocus()}))}},{key:"_handleCalciteListItemDragHandleChange",value:function(e,t){e.stopPropagation();var n=e.target.dragSelected;this._selectedDragBookmarkUid=n?t.uid:null}},{key:"_renderBookmark",value:function(e){var t=this;return(0,W.u)("calcite-list-item",{afterCreate:function(n){return t._focusSelectedDragEl(n,e)},afterUpdate:function(n){return t._focusSelectedDragEl(n,e)},class:this.classes((0,r.Z)({},V.dragEnabled,this.dragEnabled)),description:this._renderTimeExtentDescription(e),dragSelected:e.uid===this._selectedDragBookmarkUid,key:e.uid,label:this._getBookmarkTitle(e),value:e.uid,onCalciteListItemDragHandleChange:function(n){return t._handleCalciteListItemDragHandleChange(n,e)},onCalciteListItemSelect:function(){return t._goToBookmark(e)}},this._renderBookmarkThumbnail(e),this._renderBookmarkContent(e),this._renderEditContainer(e))}},{key:"_renderBookmarkContent",value:function(e){return(0,W.u)("div",{class:V.bookmarkContent,slot:"content"},(0,W.u)("span",{class:V.bookmarkContentLabel},this._getBookmarkTitle(e)),this._renderBookmarkTimeExtent(e,!0))}},{key:"_renderEditingBookmarkName",value:function(e){var t=this.messages,n=this._userState,i="name-required"===(null===n||void 0===n?void 0:n.validationState);return(0,W.u)("calcite-label",null,t.title,(0,W.u)("calcite-input",{afterCreate:this._storeEditInput,bind:this,class:V.editBookmarkInput,name:"bookmark-name",placeholder:t.titlePlaceholder,required:!0,type:"text",value:e.name}),i?(0,W.u)("calcite-input-message",{icon:"exclamation-mark-triangle",status:"invalid"},t.invalidTitle):null)}},{key:"_renderEditingBookmarkActions",value:function(){var e=this,t=this.messagesCommon,n=this._userState,i=null===n||void 0===n?void 0:n.bookmark;return[(0,W.u)("calcite-button",{appearance:"transparent",kind:"danger",onclick:function(){return e._deleteBookmark(i)},slot:"footer",type:"button",width:"full"},t.delete),(0,W.u)("calcite-button",{appearance:"outline",bind:this,onclick:this._closeEditBookmarkForm,slot:"footer",type:"button",width:"full"},t.cancel),(0,W.u)("calcite-button",{slot:"footer",type:"submit",width:"full"},t.save)]}},{key:"_handleUrlEditInputChange",value:function(){var e,t,n=this._userState,i=this._urlEditInputNode,o=null===i||void 0===i?void 0:i.value;if(null!==n&&void 0!==n&&n.editedBookmark&&o){n.validationState=void 0,(null===(e=n.editedBookmark.thumbnail)||void 0===e?void 0:e.isDataURI)&&(n.screenshotUrl=null===(t=n.editedBookmark.thumbnail)||void 0===t?void 0:t.url);var r=new y.A({url:o});r.isSecureUrl&&(n.customUrl=o,n.editedBookmark.thumbnail=r)}}},{key:"_renderEditingTimeExtent",value:function(e){var t,n=this.viewModel,i=n.capabilities,o=n.view,r=e.timeExtent;return i.time&&(null!==(t=null===o||void 0===o?void 0:o.timeExtent)&&void 0!==t?t:r)?(0,W.u)("div",{key:"edit-bookmark-time-container"},this._renderBookmarkTimeSwitch(e),this._renderEditBookmarkTimeExtent(e)):null}},{key:"_renderEditingBookmarkImage",value:function(e){var t,n,i=this._userState,o=null===i||void 0===i?void 0:i.thumbnailState,r=null!==(t=e.thumbnail)&&void 0!==t&&t.isSecureUrl?"url"===o:null!==(n=e.thumbnail)&&void 0!==n&&n.isDataURI?"screenshot"===o:null;if(r)return this._renderBookmarkImage(e,r)}},{key:"_renderEditingThumbnail",value:function(e){var t=this._userState,n=this.visibleElements,i=null===t||void 0===t?void 0:t.thumbnailState;return n.thumbnail&&"none"!==i?(0,W.u)("div",{class:V.authoringImageContainer},this._renderEditingBookmarkImage(e)):null}},{key:"_renderUpdateThumbnailButton",value:function(){var e=this,t=this.visibleElements,n=this.messages,i=this._userState,o=null===i||void 0===i?void 0:i.thumbnailState;return t.thumbnail&&"screenshot"===o?(0,W.u)("calcite-button",{appearance:"outline",class:V.authoringRefreshThumbnailButton,iconStart:"refresh",key:"update-thumbnail",kind:"neutral",onclick:function(){e._updateThumbnail()},width:"half"},n.updateThumbnail):null}},{key:"_renderEditingBookmarkUrlInput",value:function(e){var t,n,i=this.messages,o=this._userState,r=null===(t=e.thumbnail)||void 0===t?void 0:t.url,a=null!==(n=e.thumbnail)&&void 0!==n&&n.isSecureUrl?r:void 0,l=r&&"absolute-url-required"===(null===o||void 0===o?void 0:o.validationState);return"url"===(null===o||void 0===o?void 0:o.thumbnailState)?(0,W.u)("calcite-label",{key:"thumbnail-url-input"},(0,W.u)("calcite-input",{afterCreate:this._storeUrlEditInput,bind:this,name:"bookmark-thumbnail-url",pattern:R.by,placeholder:i?"https://<".concat(i.imageUrlPlaceholder,">"):void 0,required:!0,title:i.imageUrlTooltip,type:"text",value:a,onCalciteInputChange:this._handleUrlEditInputChange,onCalciteInputInput:this._handleUrlEditInputChange}),l?(0,W.u)("calcite-input-message",{icon:"exclamation-mark-triangle",status:"invalid"},i.invalidImageUrl):null):null}},{key:"_renderThumbnailSelector",value:function(){var e=this,t=this.visibleElements,n=this.messages,i=this._userState,o=null===i||void 0===i?void 0:i.thumbnailState;return t.thumbnail?(0,W.u)("calcite-label",{key:"thumbnail-chip-group"},n.thumbnail,(0,W.u)("calcite-chip-group",{label:n.thumbnail,selectionMode:"single-persist",onCalciteChipGroupSelect:function(t){return e._handleThumbnailTypeSelect(t.target.selectedItems[0].value)}},(0,W.u)("calcite-chip",{selected:"screenshot"===o,value:"screenshot"},n.screenshot),(0,W.u)("calcite-chip",{selected:"url"===o,value:"url"},n.url),(0,W.u)("calcite-chip",{selected:"none"===o,value:"none"},n.none))):null}},{key:"_renderEditingBookmark",value:function(e){var t=this,n=this.disabled,i=this.messagesCommon,o=this.headingLevel;return e?(0,W.u)("form",{bind:this,class:V.form,disabled:this.disabled,onsubmit:this._editBookmarkSubmit},(0,W.u)("calcite-flow-item",{afterCreate:this._focusEditFlowItemNode,afterUpdate:this._focusEditFlowItemNode,bind:this,disabled:n,heading:i.edit,headingLevel:o,key:"edit-bookmark-form",onCalciteFlowItemBack:function(e){e.preventDefault(),t._closeEditBookmarkForm()}},(0,W.u)("div",{class:V.formContent},(0,W.u)("div",{class:V.authoring},this._renderEditingBookmarkName(e),this._renderThumbnailSelector(),this._renderEditingThumbnail(e),this._renderEditingBookmarkUrlInput(e),this._renderUpdateThumbnailButton(),this._renderEditingTimeExtent(e))),this._renderEditingBookmarkActions())):null}},{key:"_renderAddingBookmarkName",value:function(){var e=this._userState,t=this.messages,n="name-required"===(null===e||void 0===e?void 0:e.validationState);return(0,W.u)("calcite-label",null,t.title,(0,W.u)("calcite-input",{afterCreate:this._storeAddInput,bind:this,class:V.addBookmarkInput,name:"bookmark-name",placeholder:t.titlePlaceholder,required:!0,type:"text",value:""}),n?(0,W.u)("calcite-input-message",{icon:"exclamation-mark-triangle",status:"invalid"},t.invalidTitle):null)}},{key:"_renderAddingBookmarkActions",value:function(){var e=this.messagesCommon;return[(0,W.u)("calcite-button",{appearance:"outline",bind:this,onclick:this._endAddBookmark,slot:"footer",type:"button",width:"half"},e.cancel),(0,W.u)("calcite-button",{slot:"footer",type:"submit",width:"half"},e.add)]}},{key:"_renderAddingBookmark",value:function(){var e=this,t=this.disabled,n=this.messages,i=this.headingLevel,o=this._userState;return"add"===(null===o||void 0===o?void 0:o.state)?(0,W.u)("form",{bind:this,class:V.form,disabled:t,onsubmit:this._addBookmarkSubmitClick},(0,W.u)("calcite-flow-item",{afterCreate:this._focusAddFlowItemNode,afterUpdate:this._focusAddFlowItemNode,bind:this,disabled:t,heading:n.addBookmark,headingLevel:i,key:"add-bookmark-form",onCalciteFlowItemBack:function(t){t.preventDefault(),e._endAddBookmark()}},(0,W.u)("div",{class:V.formContent},this._renderAddingBookmarkName()),this._renderAddingBookmarkActions())):null}},{key:"_getBookmarkTitle",value:function(e){return(null===e||void 0===e?void 0:e.name)||this.messagesCommon.untitled}},{key:"_formatDate",value:function(e){var t,n;return e?(0,_.p6)(e,(0,a.Z)((0,a.Z)({},(0,_.Ze)("short-date")),{},{timeZone:null!==(t=null===(n=this.viewModel.view)||void 0===n?void 0:n.timeZone)&&void 0!==t?t:g.By})):""}},{key:"_formatTime",value:function(e){var t,n;return e?(0,_.p6)(e,(0,a.Z)((0,a.Z)({},(0,_.Ze)("long-time")),{},{timeZone:null!==(t=null===(n=this.viewModel.view)||void 0===n?void 0:n.timeZone)&&void 0!==t?t:g.By})):""}},{key:"_endAddBookmark",value:function(){this.endAddBookmark(),this._focusRootFlowItem=!0}},{key:"_showEditBookmarkForm",value:function(e){e&&(this._editIncludeTimeExtent=!!e.timeExtent,this._userState=new C({bookmark:e,state:"edit"}),this._focusEditFlowItem=!0,this.viewModel.goTo(e))}},{key:"_createNewScreenshotUrl",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var t,n,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.viewModel.createBookmark();case 2:return o=e.sent,e.abrupt("return",null!==(t=null===(n=o.thumbnail)||void 0===n?void 0:n.url)&&void 0!==t?t:null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_storeCurrentUrl",value:function(){var e,t,n,i,o,r,a=this._userState,l=null===a||void 0===a||null===(e=a.editedBookmark)||void 0===e||null===(t=e.thumbnail)||void 0===t?void 0:t.url;l&&(null!==a&&void 0!==a&&null!==(n=a.editedBookmark)&&void 0!==n&&null!==(i=n.thumbnail)&&void 0!==i&&i.isSecureUrl?a.customUrl=l:(null===a||void 0===a||null===(o=a.editedBookmark)||void 0===o||null===(r=o.thumbnail)||void 0===r?void 0:r.isDataURI)&&(a.screenshotUrl=l))}},{key:"_handleThumbnailTypeSelect",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var n,o,r,a,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._userState){e.next=3;break}return e.abrupt("return");case 3:if(o=n.screenshotUrl,r=n.customUrl,a=n.editedBookmark,"screenshot"!==t){e.next=17;break}if(null===o||void 0===o){e.next=11;break}e.t1=o,e.next=14;break;case 11:return e.next=13,this._createNewScreenshotUrl();case 13:e.t1=e.sent;case 14:e.t0=e.t1,e.next=18;break;case 17:e.t0="url"===t&&r?r:null;case 18:l=e.t0,this._storeCurrentUrl(),a&&l&&(a.thumbnail=new y.A({url:l})),n.validationState=void 0,n.thumbnailState=t;case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_closeEditBookmarkForm",value:function(){this._userState=null,this._focusRootFlowItem=!0}},{key:"_addBookmarkSubmitClick",value:function(e){e.preventDefault(),this._addBookmarkSubmit()}},{key:"_addBookmarkSubmit",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var t,n,o,r,a,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._addInputNode,n=this._userState,o=this.viewModel,r=this.viewModel.bookmarks,n){e.next=3;break}return e.abrupt("return");case 3:if(a=t?t.value.trim():null){e.next=6;break}return e.abrupt("return",void(n.validationState="name-required"));case 6:return n.loading=!0,e.next=9,o.createBookmark();case 9:(l=e.sent).name=a,r.add(l),this._endAddBookmark();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_editBookmarkAndClose",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n){var o,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.viewModel,r=this.viewModel.defaultEditOptions,e.next=3,o.editBookmark(t,(0,a.Z)((0,a.Z)({},r),n));case 3:this._closeEditBookmarkForm();case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_editBookmarkSubmit",value:function(e){e.preventDefault();var t=this._editInputNode,n=this._userState,i=this._editIncludeTimeExtent,o=this._urlEditInputNode;if(null!==n&&void 0!==n&&n.bookmark&&n.editedBookmark){n.validationState=void 0,n.customUrl=void 0,n.screenshotUrl=void 0;var r=null===t||void 0===t?void 0:t.value.trim();if(r){n.bookmark.name=r,n.bookmark.thumbnail=n.editedBookmark.thumbnail,i||(n.bookmark.timeExtent=null);var a=n.thumbnailState;if("url"===a&&o){var l=o.value,u=new y.A({url:l});if(!u.isSecureUrl)return void(n.validationState="absolute-url-required");n.bookmark.thumbnail=u}else"none"===a&&(n.bookmark.thumbnail=null);this._editBookmarkAndClose(n.bookmark,{takeScreenshot:!1,captureTimeExtent:i})}else n.validationState="name-required"}}},{key:"_storeEditInput",value:function(e){this._editInputNode=e}},{key:"_storeAddInput",value:function(e){this._addInputNode=e}},{key:"_storeUrlEditInput",value:function(e){this._urlEditInputNode=e}},{key:"_deleteBookmark",value:function(e){this._closeEditBookmarkForm(),e&&(this.viewModel.bookmarks.remove(e),e.destroy())}},{key:"_goToBookmark",value:function(e){e&&(this.endAddBookmark(),this.viewModel.goTo(e))}},{key:"_updateThumbnail",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._userState,n=this.viewModel,e.t0=t,!e.t0){e.next=6;break}return t.validationState=void 0,e.next=6,n.editBookmark(t.editedBookmark,{takeScreenshot:!0,captureViewpoint:!1,captureRotation:!1,captureScale:!1,captureTimeExtent:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_focusRootFlowItemNode",value:function(e){this._focusRootFlowItem&&(this._focusRootFlowItem=!1,requestAnimationFrame((function(){return null===e||void 0===e?void 0:e.setFocus()})))}},{key:"_focusEditFlowItemNode",value:function(e){this._focusEditFlowItem&&(this._focusEditFlowItem=!1,requestAnimationFrame((function(){return null===e||void 0===e?void 0:e.setFocus()})))}},{key:"_focusAddFlowItemNode",value:function(e){this._focusAddFlowItem&&(this._focusAddFlowItem=!1,requestAnimationFrame((function(){return null===e||void 0===e?void 0:e.setFocus()})))}}]),m}((0,h.IG)(w.Z));(0,m._)([(0,b.Cb)()],Y.prototype,"_editIncludeTimeExtent",void 0),(0,m._)([(0,b.Cb)({type:C})],Y.prototype,"_userState",void 0),(0,m._)([(0,b.Cb)()],Y.prototype,"_focusRootFlowItem",void 0),(0,m._)([(0,b.Cb)()],Y.prototype,"_focusAddFlowItem",void 0),(0,m._)([(0,b.Cb)()],Y.prototype,"_focusEditFlowItem",void 0),(0,m._)([(0,b.Cb)()],Y.prototype,"defaultCreateOptions",null),(0,m._)([(0,b.Cb)()],Y.prototype,"defaultEditOptions",null),(0,m._)([(0,b.Cb)()],Y.prototype,"bookmarks",null),(0,m._)([(0,b.Cb)()],Y.prototype,"disabled",void 0),(0,m._)([(0,b.Cb)()],Y.prototype,"dragEnabled",void 0),(0,m._)([(0,b.Cb)()],Y.prototype,"editingEnabled",null),(0,m._)([(0,b.Cb)()],Y.prototype,"filterPlaceholder",void 0),(0,m._)([(0,b.Cb)()],Y.prototype,"filterText",void 0),(0,m._)([(0,b.Cb)()],Y.prototype,"headingLevel",void 0),(0,m._)([(0,b.Cb)()],Y.prototype,"goToOverride",null),(0,m._)([(0,b.Cb)()],Y.prototype,"icon",null),(0,m._)([(0,b.Cb)()],Y.prototype,"label",null),(0,m._)([(0,b.Cb)(),(0,Q.H)("esri/widgets/Bookmarks/t9n/Bookmarks")],Y.prototype,"messages",void 0),(0,m._)([(0,b.Cb)(),(0,Q.H)("esri/t9n/common")],Y.prototype,"messagesCommon",void 0),(0,m._)([(0,b.Cb)()],Y.prototype,"uiStrings",void 0),(0,m._)([(0,b.Cb)()],Y.prototype,"view",null),(0,m._)([(0,b.Cb)({type:P}),(0,K.s)(["select-bookmark","bookmark-edit","bookmark-select"])],Y.prototype,"viewModel",void 0),(0,m._)([(0,b.Cb)({type:q,nonNullable:!0})],Y.prototype,"visibleElements",void 0),(0,m._)([(0,b.Cb)()],Y.prototype,"endAddBookmark",null),(0,m._)([(0,b.Cb)()],Y.prototype,"startAddBookmark",null);var $=Y=(0,m._)([(0,f.j)("esri.widgets.Bookmarks")],Y)},57509:function(e,t,n){n.d(t,{by:function(){return i},gJ:function(){return r},xz:function(){return o}});var i="https://.*";function o(e){return!!e&&/^https:\/\/.*/i.test(e)}function r(e){return!!e&&/data:([\x2D0-9A-Z_a-z]+\/[\+\x2D\.0-9A-Z_a-z]+)?(;?[0-9A-Z_a-z]+=[\x2D0-9A-Z_a-z]+)*(;base64)?,(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*/g.test(e)}},99505:function(e,t,n){n.d(t,{_:function(){return c}});var i=n(15671),o=n(43144),r=n(60136),a=n(29388),l=n(27366),u=n(92026),s=n(49861),d=(n(93169),n(32718),n(84936),n(69912)),c=function(e){var t=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).goToOverride=null,e.view=null,e}return(0,o.Z)(n,[{key:"callGoTo",value:function(e){var t=this.view;return(0,u.O3)(t),this.goToOverride?this.goToOverride(t,e):t.goTo(e.target,e.options)}}]),n}(e);return(0,l._)([(0,s.Cb)()],t.prototype,"goToOverride",void 0),(0,l._)([(0,s.Cb)()],t.prototype,"view",void 0),t=(0,l._)([(0,d.j)("esri.widgets.support.GoTo")],t)}},96919:function(e,t,n){n.d(t,{M:function(){return m},X:function(){return d}});var i=n(1413),o=n(44925),r=n(16889),a=n(7021),l=n(80975),u=n(67005),s=["level","class"];function d(e,t){var n=e.level,r=e.class,d=(0,o.Z)(e,s),m=c(n);return(0,u.u)("h".concat(m),(0,i.Z)((0,i.Z)({},d),{},{"aria-level":String(m),class:(0,l.Sh)(a.z.heading,r),role:"heading"}),t)}function c(e){return(0,r.uZ)(Math.ceil(e),1,6)}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return c(e+t)}},28907:function(e,t,n){n.d(t,{s:function(){return o}});var i=n(93433);function o(e){return function(t){t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);var n=t._delegatedEventNames,o=Array.isArray(e)?e:function(e){return e.split(",").map((function(e){return e.trim()}))}(e);n.push.apply(n,(0,i.Z)(o))}}},7021:function(e,t,n){n.d(t,{z:function(){return i}});var i={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"}}}]);
//# sourceMappingURL=64675.93dfea9b.chunk.js.map