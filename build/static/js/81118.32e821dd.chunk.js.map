{"version":3,"file":"static/js/81118.32e821dd.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/schemaValidatorLoader.js","../node_modules/@arcgis/core/layers/mixins/SceneService.js","../node_modules/@arcgis/core/layers/support/I3SIndexInfo.js","../node_modules/@arcgis/core/portal/support/jsonContext.js","../node_modules/@arcgis/core/webdoc/support/saveUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nlet n=null;function t(t){n=t}function u(){return n}export{u as getLoader,t as registerLoader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import r from\"../../core/Error.js\";import o from\"../../core/Logger.js\";import{debounce as i}from\"../../core/promiseUtils.js\";import{urlToObject as s}from\"../../core/urlUtils.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{reader as n}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import{updateOrigins as c}from\"../../core/accessorSupport/originUtils.js\";import d from\"../../geometry/Extent.js\";import u from\"../../geometry/HeightModelInfo.js\";import m from\"../../geometry/SpatialReference.js\";import{titleFromUrlAndName as h,parse as y,cleanTitle as f,sanitizeUrlWithLayerId as v,writeUrlWithLayerId as g}from\"../support/arcgisLayerUrl.js\";import{id as S,url as w}from\"../support/commonProperties.js\";import{fetchIndexInfo as x}from\"../support/I3SIndexInfo.js\";import{getLoader as I}from\"../support/schemaValidatorLoader.js\";import j from\"../../portal/Portal.js\";import b from\"../../portal/PortalItem.js\";import{createForItemWrite as _}from\"../../portal/support/jsonContext.js\";import{saveResources as E,updateItemWithResources as N}from\"../../webdoc/support/resourceUtils.js\";import{validateSaveAPIKey as A}from\"../../webdoc/support/saveAPIKeyUtils.js\";import{evaluateWriteErrors as R}from\"../../webdoc/support/saveUtils.js\";const L=L=>{let M=class extends L{constructor(){super(...arguments),this.spatialReference=null,this.fullExtent=null,this.heightModelInfo=null,this.minScale=0,this.maxScale=0,this.version={major:Number.NaN,minor:Number.NaN,versionString:\"\"},this.copyright=null,this.sublayerTitleMode=\"item-title\",this.title=null,this.layerId=null,this.indexInfo=null,this._debouncedSaveOperations=i((async(e,t,r)=>{switch(e){case C.SAVE:return this._save(t);case C.SAVE_AS:return this._saveAs(r,t)}}))}readSpatialReference(e,t){return T(t)}readFullExtent(e,t,r){if(null!=e&&\"object\"==typeof e){const o=null==e.spatialReference?{...e,spatialReference:T(t)}:e;return d.fromJSON(o,r)}const o=t.store,i=T(t);return null==i||null==o?.extent||!Array.isArray(o.extent)||o.extent.some((e=>e<U))?null:new d({xmin:o.extent[0],ymin:o.extent[1],xmax:o.extent[2],ymax:o.extent[3],spatialReference:i})}parseVersionString(e){const t={major:Number.NaN,minor:Number.NaN,versionString:e},r=e.split(\".\");return r.length>=2&&(t.major=parseInt(r[0],10),t.minor=parseInt(r[1],10)),t}readVersion(e,t){const r=t.store,o=null!=r.version?r.version.toString():\"\";return this.parseVersionString(o)}readTitlePortalItem(e){return\"item-title\"!==this.sublayerTitleMode?void 0:e}readTitleService(e,t){const r=this.portalItem?.title;if(\"item-title\"===this.sublayerTitleMode)return this.url?h(this.url,t.name):t.name;let o=t.name;if(!o&&this.url){const e=y(this.url);null!=e&&(o=e.title)}return\"item-title-and-service-name\"===this.sublayerTitleMode&&r&&(o=r+\" - \"+o),f(o)}set url(e){if(null==e)return void this._set(\"url\",e);const t=v({layer:this,url:e,nonStandardUrlAllowed:!1,logger:o.getLogger(this)});this._set(\"url\",t.url),null!=t.layerId&&this._set(\"layerId\",t.layerId)}writeUrl(e,t,r,o){g(this,e,\"layers\",t,o)}get parsedUrl(){const e=this._get(\"url\"),t=s(e);return t&&null!=this.layerId&&(t.path=`${t.path}/layers/${this.layerId}`),t}async _fetchIndexAndUpdateExtent(e,t){this.indexInfo=x(this.parsedUrl?.path??\"\",this.rootNode,e,this.customParameters,this.apiKey,o.getLogger(this),t),null==this.fullExtent||this.fullExtent.hasZ||this._updateExtent(await this.indexInfo)}_updateExtent(e){if(\"page\"===e?.type){const t=e.rootIndex%e.pageSize,o=e.rootPage?.nodes?.[t];if(null==o?.obb?.center||null==o.obb.halfSize)throw new r(\"sceneservice:invalid-node-page\",\"Invalid node page.\");if(o.obb.center[0]<U||null==this.fullExtent||this.fullExtent.hasZ)return;const i=o.obb.halfSize,s=o.obb.center[2],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]);this.fullExtent.zmin=s-a,this.fullExtent.zmax=s+a}else if(\"node\"===e?.type){const t=e.rootNode?.mbs;if(!Array.isArray(t)||4!==t.length||t[0]<U)return;const r=t[2],o=t[3],{fullExtent:i}=this;i&&(i.zmin=r-o,i.zmax=r+o)}}async _fetchService(e){if(null==this.url)throw new r(\"sceneservice:url-not-set\",\"Scene service can not be loaded without valid portal item or url\");if(null==this.layerId&&/SceneServer\\/*$/i.test(this.url)){const t=await this._fetchFirstLayerId(e);null!=t&&(this.layerId=t)}return this._fetchServiceLayer(e)}async _fetchFirstLayerId(e){const r=await t(this.url??\"\",{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e});if(r.data&&Array.isArray(r.data.layers)&&r.data.layers.length>0)return r.data.layers[0].id}async _fetchServiceLayer(e){const r=await t(this.parsedUrl?.path??\"\",{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e});r.ssl&&this.url&&(this.url=this.url.replace(/^http:/i,\"https:\"));let o=!1;if(r.data.layerType&&\"Voxel\"===r.data.layerType&&(o=!0),o)return this._fetchVoxelServiceLayer();const i=r.data;this.read(i,this._getServiceContext()),this.validateLayer(i)}async _fetchVoxelServiceLayer(e){const r=(await t(this.parsedUrl?.path+\"/layer\",{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e})).data;this.read(r,this._getServiceContext()),this.validateLayer(r)}_getServiceContext(){return{origin:\"service\",portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl}}async _ensureLoadBeforeSave(){await this.load(),\"beforeSave\"in this&&\"function\"==typeof this.beforeSave&&await this.beforeSave()}validateLayer(e){}async _saveAs(e,t){const o={...V,...t};let i=b.from(e);if(!i)throw new r(\"sceneservice:portal-item-required\",\"_saveAs() requires a portal item to save to\");A(i),i.id&&(i=i.clone(),i.id=null);const s=i.portal||j.getDefault();await this._ensureLoadBeforeSave(),i.type=K,i.portal=s;const a=_(i,\"portal-item\",!0),n={layers:[this.write({},a)]};return await Promise.all(a.resources.pendingOperations??[]),await this._validateAgainstJSONSchema(n,a,o),this.url&&(i.url=this.url),i.title||(i.title=this.title),O(i,o,P.newItem),await s.signIn(),await(s.user?.addItem({item:i,folder:o?.folder,data:n})),await E(this.resourceReferences,a),this.portalItem=i,c(a),a.portalItem=i,i}async _save(e){const t={...V,...e};if(!this.portalItem)throw new r(\"sceneservice:portal-item-not-set\",\"Portal item to save to has not been set on this SceneService\");if(A(this.portalItem),this.portalItem.type!==K)throw new r(\"sceneservice:portal-item-wrong-type\",`Portal item needs to have type \"${K}\"`);await this._ensureLoadBeforeSave();const o=_(this.portalItem,\"portal-item\",!0),i={layers:[this.write({},o)]};return await Promise.all(o.resources.pendingOperations??[]),await this._validateAgainstJSONSchema(i,o,t),this.url&&(this.portalItem.url=this.url),this.portalItem.title||(this.portalItem.title=this.title),O(this.portalItem,t,P.existingItem),await N(this.portalItem,i,this.resourceReferences,o),c(o),this.portalItem}async _validateAgainstJSONSchema(e,t,i){const s=i?.validationOptions;R(t,{errorName:\"sceneservice:save\"},{ignoreUnsupported:s?.ignoreUnsupported,supplementalUnsupportedErrors:[\"scenemodification:unsupported\"]});const a=s?.enabled,n=I();if(a&&n){const t=(await n()).validate(e,i.portalItemLayerType);if(!t.length)return;const a=`Layer item did not validate:\\n${t.join(\"\\n\")}`;if(o.getLogger(this).error(`_validateAgainstJSONSchema(): ${a}`),\"throw\"===s.failPolicy){const e=t.map((e=>new r(\"sceneservice:schema-validation\",e)));throw new r(\"sceneservice-validate:error\",\"Failed to save layer item due to schema validation, see `details.errors`.\",{validationErrors:e})}}}};return e([a(S)],M.prototype,\"id\",void 0),e([a({type:m})],M.prototype,\"spatialReference\",void 0),e([n(\"spatialReference\",[\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],M.prototype,\"readSpatialReference\",null),e([a({type:d})],M.prototype,\"fullExtent\",void 0),e([n(\"fullExtent\",[\"fullExtent\",\"store.extent\",\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],M.prototype,\"readFullExtent\",null),e([a({readOnly:!0,type:u})],M.prototype,\"heightModelInfo\",void 0),e([a({type:Number,json:{name:\"layerDefinition.minScale\",write:!0,origins:{service:{read:{source:\"minScale\"},write:!1}}}})],M.prototype,\"minScale\",void 0),e([a({type:Number,json:{name:\"layerDefinition.maxScale\",write:!0,origins:{service:{read:{source:\"maxScale\"},write:!1}}}})],M.prototype,\"maxScale\",void 0),e([a({readOnly:!0})],M.prototype,\"version\",void 0),e([n(\"version\",[\"store.version\"])],M.prototype,\"readVersion\",null),e([a({type:String,json:{read:{source:\"copyrightText\"}}})],M.prototype,\"copyright\",void 0),e([a({type:String,json:{read:!1}})],M.prototype,\"sublayerTitleMode\",void 0),e([a({type:String})],M.prototype,\"title\",void 0),e([n(\"portal-item\",\"title\")],M.prototype,\"readTitlePortalItem\",null),e([n(\"service\",\"title\",[\"name\"])],M.prototype,\"readTitleService\",null),e([a({type:Number,json:{origins:{service:{read:{source:\"id\"}},\"portal-item\":{write:{target:\"id\",isRequired:!0,ignoreOrigin:!0},read:!1}}}})],M.prototype,\"layerId\",void 0),e([a(w)],M.prototype,\"url\",null),e([p(\"url\")],M.prototype,\"writeUrl\",null),e([a()],M.prototype,\"parsedUrl\",null),e([a({readOnly:!0})],M.prototype,\"store\",void 0),e([a({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],M.prototype,\"rootNode\",void 0),M=e([l(\"esri.layers.mixins.SceneService\")],M),M},U=-1e38;function T(e){if(null!=e.spatialReference)return m.fromJSON(e.spatialReference);const t=e.store,r=t.indexCRS||t.geographicCRS,o=r&&parseInt(r.substring(r.lastIndexOf(\"/\")+1,r.length),10);return null!=o?new m(o):null}function O(e,t,r){e.typeKeywords||(e.typeKeywords=[]);const o=t.getTypeKeywords();for(const i of o)e.typeKeywords.push(i);e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)),r===P.newItem&&(e.typeKeywords=e.typeKeywords.filter((e=>\"Hosted Service\"!==e))))}var P;!function(e){e[e.existingItem=0]=\"existingItem\",e[e.newItem=1]=\"newItem\"}(P||(P={}));const K=\"Scene Service\",V={getTypeKeywords:()=>[],portalItemLayerType:\"unknown\",validationOptions:{enabled:!0,ignoreUnsupported:!1,failPolicy:\"throw\"}};var C;!function(e){e[e.SAVE=0]=\"SAVE\",e[e.SAVE_AS=1]=\"SAVE_AS\"}(C||(C={}));export{C as SaveOperationType,L as SceneService,K as sceneServiceItemType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import o from\"../../core/Error.js\";async function r(r,n,t,s,a,i,l){let d=null;if(null!=t){const o=`${r}/nodepages/`,n=o+Math.floor(t.rootIndex/t.nodesPerPage);try{return{type:\"page\",rootPage:(await e(n,{query:{f:\"json\",...s,token:a},responseType:\"json\",signal:l})).data,rootIndex:t.rootIndex,pageSize:t.nodesPerPage,lodMetric:t.lodSelectionMetricType,urlPrefix:o}}catch(g){null!=i&&i.warn(\"#fetchIndexInfo()\",\"Failed to load root node page. Falling back to node documents.\",n,g),d=g}}if(!n)return null;const p=n?.split(\"/\").pop(),c=`${r}/nodes/`,u=c+p;try{return{type:\"node\",rootNode:(await e(u,{query:{f:\"json\",...s,token:a},responseType:\"json\",signal:l})).data,urlPrefix:c}}catch(g){throw new o(\"sceneservice:root-node-missing\",\"Root node missing.\",{pageError:d,nodeError:g,url:u})}}export{r as fetchIndexInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{urlToObject as t}from\"../../core/urlUtils.js\";import r from\"../Portal.js\";function e(t,r){return{...l(t,r),readResourcePaths:[]}}function o(r,e,o){const i=t(r.itemUrl);return{...l(r,e),messages:[],writtenProperties:[],blockedRelativeUrls:[],verifyItemRelativeUrls:i?{rootPath:i.path,writtenUrls:[]}:null,resources:o?{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}:null}}function l(e,o){return{origin:o,url:t(e.itemUrl),portal:e.portal||r.getDefault(),portalItem:e}}export{e as createForItemRead,o as createForItemWrite};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";async function r(e){const r=[];for(const o of e.allLayers)if(\"beforeSave\"in o&&\"function\"==typeof o.beforeSave){const e=o.beforeSave();e&&r.push(e)}await Promise.allSettled(r)}const o=new Set([\"layer:unsupported\",\"property:unsupported\",\"symbol:unsupported\",\"symbol-layer:unsupported\",\"url:unsupported\"]);function t(r,t,n){let s=(r.messages??[]).filter((({type:e})=>\"error\"===e)).map((({name:r,message:o,details:t})=>new e(r,o,t)));if(r.blockedRelativeUrls&&(s=s.concat(r.blockedRelativeUrls.map((r=>new e(\"url:unsupported\",`Relative url '${r}' is not supported`))))),n){const{ignoreUnsupported:e,supplementalUnsupportedErrors:r=[],requiredPropertyChecksDisabled:t}=n;e&&(s=s.filter((({name:e})=>!(o.has(e)||r.includes(e))))),t&&(s=s.filter((e=>\"web-document-write:property-required\"!==e.name)))}if(s.length>0)throw new e(t.errorName,\"Failed to save due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:s})}export{r as beforeSave,t as evaluateWriteErrors};\n"],"names":["n","u","P","e","L","M","_L","_inherits","_super","_createSuper","_this","_classCallCheck","apply","arguments","spatialReference","fullExtent","heightModelInfo","minScale","maxScale","version","major","Number","NaN","minor","versionString","copyright","sublayerTitleMode","title","layerId","indexInfo","_debouncedSaveOperations","i","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","t","r","wrap","_context","prev","next","t0","C","SAVE","SAVE_AS","abrupt","_save","_saveAs","stop","_x","_x2","_x3","_createClass","key","value","T","o","_objectSpread","d","store","extent","Array","isArray","some","U","xmin","ymin","xmax","ymax","split","length","parseInt","toString","this","parseVersionString","_this$portalItem","portalItem","url","h","name","y","f","set","v","layer","nonStandardUrlAllowed","logger","_set","g","get","_get","s","path","concat","_fetchIndexAndUpdateExtent2","_callee2","_this$parsedUrl$path","_this$parsedUrl","_context2","x","parsedUrl","rootNode","customParameters","apiKey","hasZ","t1","t2","sent","_updateExtent","call","_x4","_x5","type","_e$rootPage","_e$rootPage$nodes","_o2$obb","rootIndex","pageSize","rootPage","nodes","obb","center","halfSize","a","Math","sqrt","zmin","zmax","_e$rootNode","mbs","_fetchService2","_callee3","_t3","_context3","test","_fetchFirstLayerId","_fetchServiceLayer","_x6","_fetchFirstLayerId2","_callee4","_this$url","_context4","query","token","responseType","signal","data","layers","id","_x7","_fetchServiceLayer2","_callee5","_this$parsedUrl$path2","_this$parsedUrl2","_context5","ssl","replace","layerType","_fetchVoxelServiceLayer","read","_getServiceContext","validateLayer","_x8","_fetchVoxelServiceLayer2","_callee6","_this$parsedUrl3","_context6","_x9","_this$portalItem2","origin","portal","_ensureLoadBeforeSave2","_callee7","_context7","load","beforeSave","_saveAs2","_callee8","_a$resources$pendingO","_s$user","_context8","V","b","A","clone","j","_ensureLoadBeforeSave","K","_","write","Promise","all","resources","pendingOperations","_validateAgainstJSONSchema","O","newItem","signIn","user","addItem","item","folder","E","resourceReferences","c","_x10","_x11","_save2","_callee9","_o$resources$pendingO","_context9","existingItem","N","_x12","_validateAgainstJSONSchema2","_callee10","_t4","_a2","_e2","_context10","validationOptions","R","errorName","ignoreUnsupported","supplementalUnsupportedErrors","enabled","I","validate","portalItemLayerType","join","error","failPolicy","map","validationErrors","_x13","_x14","_x15","S","prototype","m","readOnly","json","origins","service","source","String","target","isRequired","ignoreOrigin","w","p","l","indexCRS","geographicCRS","substring","lastIndexOf","typeKeywords","_step","getTypeKeywords","_iterator","_createForOfIteratorHelper","done","push","err","filter","indexOf","_r","_o","_n","floor","nodesPerPage","t3","lodSelectionMetricType","t4","lodMetric","urlPrefix","t5","warn","pop","t6","t7","t8","pageError","nodeError","readResourcePaths","itemUrl","messages","writtenProperties","blockedRelativeUrls","verifyItemRelativeUrls","rootPath","writtenUrls","toAdd","toUpdate","toKeep","allLayers","allSettled","Set","_r$messages","_ref2","message","details","_n$supplementalUnsupp","requiredPropertyChecksDisabled","_ref3","has","includes","errors"],"sourceRoot":""}