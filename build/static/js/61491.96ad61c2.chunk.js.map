{"version":3,"file":"static/js/61491.96ad61c2.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/MeasurementArrow.glsl.js","../node_modules/@arcgis/core/properties/defaultUnit.js","../node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurement/DirectLineMeasurementController.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/MeasurementArrowTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/MeasurementArrowMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/MeasurementArrowVisualElement.js","../node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurement/DirectLineMeasurementVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurementAnalysisView3D.js","../node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurement/interfaces.js","../node_modules/@arcgis/core/views/3d/analysis/interfaces.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElementResources.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/EngineVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/Object3DVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/RightAngleQuadVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElement.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{addProjViewLocalOrigin as e}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float4PassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatPassUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as i}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as d}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function n(n){const s=new i,{vertex:a,fragment:l}=s;e(a,n),a.uniforms.add(new t(\"width\",(e=>e.width))),s.attributes.add(d.POSITION,\"vec3\"),s.attributes.add(d.NORMAL,\"vec3\"),s.attributes.add(d.UV0,\"vec2\"),s.attributes.add(d.LENGTH,\"float\"),s.varyings.add(\"vtc\",\"vec2\"),s.varyings.add(\"vlength\",\"float\"),s.varyings.add(\"vradius\",\"float\"),a.code.add(r`void main(void) {\nvec3 bitangent = normal;\nvtc = uv0;\nvlength = length;\nvradius = 0.5 * width;\nvec4 pos = view * vec4(position + vradius * bitangent * uv0.y, 1.0);\ngl_Position = proj * pos;\n}`),l.uniforms.add(new t(\"outlineSize\",(e=>e.outlineSize)),new o(\"outlineColor\",(e=>e.outlineColor)),new t(\"stripeLength\",(e=>e.stripeLength)),new o(\"stripeEvenColor\",(e=>e.stripeEvenColor)),new o(\"stripeOddColor\",(e=>e.stripeOddColor)));const v=1/Math.sqrt(2);return l.code.add(r`\n    const float INV_SQRT2 = ${r.float(v)};\n\n    vec4 arrowColor(vec2 tc, float len) {\n      float d = INV_SQRT2 * (tc.x - abs(tc.y));\n      d = min(d, INV_SQRT2 * (len - tc.x - abs(tc.y)));\n      d = min(d, 1.0 - abs(tc.y));\n\n      if (d < 0.0) {\n        return vec4(0.0);\n      } else if (d < outlineSize) {\n        return outlineColor;\n      } else {\n        return fract(0.5 / stripeLength * tc.x * vradius) >= 0.5 ? stripeOddColor : stripeEvenColor;\n      }\n    }\n\n    void main(void) {\n      vec2 ntc = vec2(vtc.x / vradius, vtc.y);\n      vec4 color = arrowColor(ntc, vlength / vradius);\n      if (color.a == 0.0) {\n        discard;\n      }\n      fragColor = color;\n    }\n  `),s}const s=Object.freeze(Object.defineProperty({__proto__:null,build:n},Symbol.toStringTag,{value:\"Module\"}));export{s as M,n as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{getDefaultUnitForView as t}from\"../support/getDefaultUnitForView.js\";const e={readOnly:!0,get(){return t(this.view)}};export{e as defaultUnitPropertyMetadata};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import i from\"../../../../core/Logger.js\";import{watch as o,syncAndInitial as r}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{MeasurementMode as a}from\"../interfaces.js\";import{applyProjectionAndElevationAlignment as l,logFailedGeometryProjectionError as c}from\"../support/projectionUtils.js\";import{euclideanDistanceBetweenPoints as p}from\"../../../support/euclideanLengthMeasurementUtils.js\";import{geodesicDistanceBetweenPoints as u}from\"../../../support/geodesicLengthMeasurementUtils.js\";import{geodesicDistanceThreshold as d}from\"../../../support/geodesicMeasurementUtils.js\";let m=class extends t{constructor(e){super(e)}initialize(){this.addHandles([o((()=>({viewData:this.viewData,startPoint:this.analysis.startPoint})),(({viewData:e,startPoint:t})=>{e.elevationAlignedStartPoint=this._applyProjectionAndElevationAlignment(t)}),r),o((()=>({viewData:this.viewData,endPoint:this.analysis.endPoint})),(({viewData:e,endPoint:t})=>{e.elevationAlignedEndPoint=this._applyProjectionAndElevationAlignment(t)}),r),o((()=>({result:this._computedResult,viewData:this.viewData})),(({result:e,viewData:t})=>{t.result=e}),r)])}_applyProjectionAndElevationAlignment(e){if(null==e)return e;const{spatialReference:t,elevationProvider:o}=this.view,r=l(e,t,o);return r??(c(this.analysis,e.spatialReference,i.getLogger(this)),null)}get _computedResult(){const{elevationAlignedStartPoint:e,elevationAlignedEndPoint:t,measurementMode:i}=this.viewData;if(null==e||null==t)return null;const o=p(e,t),r=u(e,t);if(null==o)return null;let s,n;switch(i){case a.Auto:n=null!=r?\"geodesic\":\"euclidean\",s=r??o.horizontal;break;case a.Geodesic:if(null==r)return null;n=\"geodesic\",s=r;break;case a.Euclidean:n=\"euclidean\",s=o.horizontal}return{mode:n,directDistance:o.direct,horizontalDistance:s,verticalDistance:o.vertical,distance:i===a.Euclidean||o.horizontal.value<=d?o.direct:r??o.horizontal}}};e([s()],m.prototype,\"view\",void 0),e([s()],m.prototype,\"analysis\",void 0),e([s()],m.prototype,\"viewData\",void 0),e([s()],m.prototype,\"_computedResult\",null),m=e([n(\"esri.views.3d.analysis.DirectLineMeasurement.DirectLineMeasurementController\")],m);export{m as DirectLineMeasurementController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as n}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{blendingDefault as o,oitBlending as s}from\"../lib/OrderIndependentTransparency.js\";import{Program as i}from\"../lib/Program.js\";import{TransparencyPassType as a}from\"../lib/TransparencyPassType.js\";import{VertexAttribute as p}from\"../lib/VertexAttribute.js\";import{DefaultTechniqueConfiguration as l}from\"../materials/DefaultTechniqueConfiguration.js\";import{M as u}from\"../../../../chunks/MeasurementArrow.glsl.js\";import{CompareFunction as c,PrimitiveType as m}from\"../../../webgl/enums.js\";import{makePipelineState as f,defaultDepthWriteParams as d,defaultColorWriteParams as h}from\"../../../webgl/renderState.js\";class g extends t{constructor(e,r,t){super(e,r,t)}initializeProgram(e){return new i(e.rctx,g.shader.get().build(this.configuration),y)}_setPipelineState(e){const r=e===a.NONE,t=this.configuration;return f({blending:t.transparent?r?o:s(e):null,polygonOffset:this.configuration.polygonOffsetEnabled?{factor:0,units:-4}:null,depthTest:{func:c.LESS},depthWrite:d,colorWrite:h})}initializePipeline(){return this._setPipelineState(this.configuration.transparencyPassType)}get primitiveType(){return m.TRIANGLE_STRIP}}g.shader=new r(u,(()=>import(\"./MeasurementArrow.glsl.js\")));class T extends l{constructor(){super(...arguments),this.polygonOffsetEnabled=!1,this.transparent=!1,this.transparencyPassType=a.NONE}}e([n()],T.prototype,\"polygonOffsetEnabled\",void 0),e([n()],T.prototype,\"transparent\",void 0),e([n({count:a.COUNT})],T.prototype,\"transparencyPassType\",void 0);const y=new Map([[p.POSITION,0],[p.NORMAL,1],[p.UV0,2],[p.LENGTH,3]]);export{y as MeasurementArrowAttributeLocations,g as MeasurementArrowTechnique,T as MeasurementArrowTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{s as t,n as e,f as r,b as s,p as o,h as i}from\"../../../../chunks/vec32.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as a}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{newLayout as c}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as l}from\"../core/shaderLibrary/ShaderOutput.js\";import u from\"../lib/GLMaterial.js\";import{Material as p,MaterialParameters as f}from\"../lib/Material.js\";import{RenderSlot as h}from\"../lib/RenderSlot.js\";import{VertexAttribute as m}from\"../lib/VertexAttribute.js\";import{MeasurementArrowAttributeLocations as g,MeasurementArrowTechniqueConfiguration as d,MeasurementArrowTechnique as b}from\"../shaders/MeasurementArrowTechnique.js\";class O extends p{constructor(t){super(t,new A),this._vertexAttributeLocations=g,this.produces=new Map([[h.OPAQUE_MATERIAL,t=>!this._transparent&&t===l.Color],[h.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL,t=>this._transparent&&t===l.Color]]),this._configuration=new d}getConfiguration(t,e){return this._configuration.polygonOffsetEnabled=this.parameters.polygonOffset,this._configuration.transparent=this._transparent,this._configuration.transparencyPassType=e.transparencyPassType,this._configuration}intersect(){}createGLMaterial(t){return new _(t)}createBufferWriter(){return new j}get _transparent(){const{parameters:t}=this;return t.outlineColor[3]<1||t.stripeEvenColor[3]<1||t.stripeOddColor[3]<1}}class _ extends u{beginSlot(t){return this.ensureTechnique(b,t)}}class A extends f{constructor(){super(...arguments),this.width=32,this.outlineSize=.2,this.outlineColor=a(1,.5,0,1),this.stripeEvenColor=a(1,1,1,1),this.stripeOddColor=a(1,.5,0,1),this.stripeLength=1,this.polygonOffset=!1}}const T=c().vec3f(m.POSITION).vec3f(m.NORMAL).vec2f(m.UV0).f32(m.LENGTH),L=n(),v=n(),E=n(),I=n(),M=n();class j{constructor(){this.vertexBufferLayout=T}elementCount(t){return 2*(t.attributes.get(m.POSITION).indices.length/2+1)}write(n,a,c,l,u){const{data:p,indices:f}=c.attributes.get(m.POSITION),h=c.attributes.get(m.NORMAL).data,g=p.length/3;f&&f.length!==2*(g-1)&&console.warn(\"MeasurementArrowMaterial does not support indices\");const d=L,b=v,O=E,_=I,A=M,T=l.position,j=l.normal,w=l.uv0;let y=0;for(let m=0;m<g;++m){const c=3*m;if(t(d,p[c],p[c+1],p[c+2]),m<g-1){const o=3*(m+1);t(b,p[o],p[o+1],p[o+2]),t(A,h[o],h[o+1],h[o+2]),e(A,A),r(O,b,d),e(O,O),s(_,A,O),e(_,_)}const l=o(d,b);n&&a&&(i(d,d,n),i(b,b,n),i(_,_,a));const f=u+2*m,L=f+1;T.setVec(f,d),T.setVec(L,d),j.setVec(f,_),j.setVec(L,_),w.set(f,0,y),w.set(f,1,-1),w.set(L,0,y),w.set(L,1,1),m<g-1&&(y+=l)}const C=l.length;for(let t=0;t<2*g;++t)C.set(u+t,y)}}export{O as MeasurementArrowMaterial,A as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{colorVectorEquals as e}from\"../../../../core/colorUtils.js\";import t from\"../../../../core/Handles.js\";import{destroyMaybe as r}from\"../../../../core/maybe.js\";import{watch as s}from\"../../../../core/reactiveUtils.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{c as i,z as a,b as n,H as l,f as h}from\"../../../../chunks/vec32.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{c as d}from\"../../../../chunks/vec42.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{sv3d as _}from\"../../../../geometry/support/vectorStacks.js\";import{Object3DVisualElement as p}from\"./Object3DVisualElement.js\";import{headingTiltToDirectionUp as g}from\"../../support/cameraUtils.js\";import{createDirectionUp as u}from\"../../support/cameraUtilsInternal.js\";import{createPolylineGeometry as w}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as f}from\"../../webgl-engine/lib/Material.js\";import{MeasurementArrowMaterial as C}from\"../../webgl-engine/materials/MeasurementArrowMaterial.js\";class y extends p{constructor(e){super(e),this._arrowWidth=16,this._arrowSubdivisions=128,this._origin=c(),this._originTransform=o(),this._arrowCenter=c(),this._renderOccluded=f.OccludeAndTransparent,this._geometry=null,this._stripeLength=1,this._stripesEnabled=!0,this._color=m(),this._contrastColor=m(),this.applyProperties(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._arrowMaterial&&this._arrowMaterial.setParameters({renderOccluded:e}))}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this._geometryChanged()}get stripeLength(){return this._stripeLength}set stripeLength(e){this._stripeLength=e,this.attached&&this._arrowMaterial.setParameters({stripeLength:this._stripeLength})}get stripesEnabled(){return this._stripesEnabled}set stripesEnabled(e){if(this._stripesEnabled=e,this.attached){const e=this._stripesEnabled?this._contrastColor:this._color;this._arrowMaterial.setParameters({stripeEvenColor:e})}}get color(){return this._color}set color(t){e(t,this._color)||(d(this._color,t),this._updateArrowColor())}get contrastColor(){return this._contrastColor}set contrastColor(t){e(t,this._color)||(d(this._contrastColor,t),this._updateArrowColor())}createExternalResources(){const e=this._color,r=this._contrastColor,o=this._stripesEnabled?r:e;this._arrowMaterial=new C({outlineColor:e,stripeEvenColor:o,stripeOddColor:e,renderOccluded:this.renderOccluded,polygonOffset:!0,isDecoration:this.isDecoration}),this._handles=new t,this._handles.add(s((()=>this.view.state.camera),(()=>{this._viewChanged()})))}destroyExternalResources(){this._arrowMaterial=null,this._handles=r(this._handles)}forEachExternalMaterial(e){e(this._arrowMaterial)}createGeometries(e){if(null==this._geometry?.startRenderSpace||null==this._geometry.endRenderSpace)return;const t=this._createArrowGeometry(this._geometry.startRenderSpace,this._geometry.endRenderSpace,this._origin,this._geometry);t.transformation=this._originTransform,e.addGeometry(t),this._viewChanged()}_createArrowGeometry(e,t,r,s){const o=this.view,a=o.renderCoordsHelper,n=[],l=[],c=(e,t)=>{const s=_.get();h(s,e,r),n.push(s),l.push(t)};if(\"euclidean\"===s.type){s.eval(.5,this._arrowCenter);const r=_.get();if(a.worldUpAtPosition(this._arrowCenter,r),b(e,t,r)){const{heading:t,tilt:s}=o.camera,{direction:a}=g(o,e,t,s,j);i(r,a)}c(e,r),c(t,r)}else{s.eval(.5,this._arrowCenter);const e=this._arrowSubdivisions+1&-2;for(let t=0;t<e;++t){const r=t/(e-1),o=_.get(),i=_.get();s.eval(r,o),a.worldUpAtPosition(o,i),c(o,i)}}return w(this._arrowMaterial,n,l)}_geometryChanged(){this.recreateGeometry()}_viewChanged(){if(this.view.ready&&this.attached&&null!=this._geometry){const e=this.view.state.camera.computeScreenPixelSizeAt(this._arrowCenter);this._arrowMaterial.setParameters({width:this._arrowWidth*e})}}_updateArrowColor(){if(!this.attached)return;const e=this._color,t=this._contrastColor,r=this._stripesEnabled?t:e,s=e,o=e;this._arrowMaterial.setParameters({stripeEvenColor:r,outlineColor:s,stripeOddColor:o})}}function b(e,t,r){const s=a(v,t,e),o=n(v,s,r);return 0===l(o)}const v=c(),j=u();export{y as MeasurementArrowVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../intl.js\";import t from\"../../../../core/Accessor.js\";import{unitRGBAFromColor as i,multiplyOpacityToUnitRGBA as s,getContrast as n,BrightnessThreshold as o,multiplyOpacity as r}from\"../../../../core/colorUtils.js\";import\"../../../../core/has.js\";import{nextHighestPowerOfTen as l,deg2rad as a}from\"../../../../core/mathUtils.js\";import{destroyMaybe as c}from\"../../../../core/maybe.js\";import{formatDecimal as d,formatImperialLength as h,formatImperialVerticalLength as u,formatMetricLength as m,formatMetricVerticalLength as g}from\"../../../../core/quantityFormatUtils.js\";import{toUnit as p}from\"../../../../core/quantityUtils.js\";import{watch as _,syncAndInitial as v,initial as b}from\"../../../../core/reactiveUtils.js\";import{createRenderScreenPointArray3 as L,createRenderScreenPointArray as w}from\"../../../../core/screenUtils.js\";import{adaptiveImperialLengthUnit as S,convertUnit as f}from\"../../../../core/unitUtils.js\";import{property as y}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as A}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{dot as E}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{j as V,g as P}from\"../../../../chunks/vec32.js\";import{create as z}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{MeasurementMode as j}from\"../interfaces.js\";import{ViewMode as M,VisualElementOrientation as C}from\"./interfaces.js\";import{LabelVisualElement as O,mirrorPosition as D}from\"../../interactive/visualElements/LabelVisualElement.js\";import{LineVisualElement as x}from\"../../interactive/visualElements/LineVisualElement.js\";import{MeasurementArrowVisualElement as G}from\"../../interactive/visualElements/MeasurementArrowVisualElement.js\";import{RightAngleQuadVisualElement as H}from\"../../interactive/visualElements/RightAngleQuadVisualElement.js\";import{GeodesicSegment as T,EuclideanSegment as k}from\"../../interactive/visualElements/support/Segment.js\";import{RenderOccludedFlag as U}from\"../../webgl-engine/lib/Material.js\";import{createStipplePatternSimple as R}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{renderScreenSpaceTangent as F}from\"../../../interactive/support/viewUtils.js\";import{geodesicDistanceThreshold as Q}from\"../../../support/geodesicMeasurementUtils.js\";import{onLocaleChange as q}from\"../../../../intl/locale.js\";import{fetchMessageBundle as B}from\"../../../../intl/messages.js\";let W=class extends t{get _parameters(){const e=this.view.effectiveTheme,{accentColor:t,textColor:l}=e,a=i(t),c=s(t,.75),d=i(n(t)),h=n(l,o.Low);return{accentColor:a,contrastColor:d,translucentAccentColor:c,triangleLineWidth:3,geodesicProjectionLineWidth:2,guideLineWidth:2,guideStippleLengthPixels:3,directLabelFontSize:16,horizontalLabelFontSize:12,verticalLabelFontSize:12,textColor:l,textBackgroundColor:r(h,.6),textCalloutColor:r(h,.5)}}get visible(){return this.analysisView.visible}get viewMode(){const{elevationAlignedStartPoint:e,elevationAlignedEndPoint:t}=this.analysisView;if(null==e||null==t||e.equals(t))return M.None;const i=this.analysisView.result;if(null==i)return M.Direct;if(\"geodesic\"===this.actualVisualizedMeasurement)return this._requiresGeodesicGuideAt(this._startPosition)||this._requiresGeodesicGuideAt(this._endPosition)?M.ProjectedGeodesic:M.Direct;const{verticalDistance:s,horizontalDistance:n}=i,o=s.value,r=n.value;return Math.min(o/r,r/o)<this.triangleCollapseRatioThreshold?M.Direct:M.Triangle}get actualVisualizedMeasurement(){const{measurementMode:e,result:t}=this.analysisView;switch(e){case j.Auto:return null!=t&&t.horizontalDistance.value>Q?\"geodesic\":\"euclidean\";case j.Euclidean:return\"euclidean\";case j.Geodesic:return\"geodesic\"}}get allowVisualElementsOrientationChange(){return null==this._triangleOrientationOverride}set allowVisualElementsOrientationChange(e){null==this._triangleOrientationOverride!==e&&(null==this._triangleOrientationOverride?this._triangleOrientationOverride=this._actualVisualElementsOrientation:this._triangleOrientationOverride=null)}get labels(){return\"geodesic\"===this.actualVisualizedMeasurement?{direct:null,horizontal:this._segmentLabel,vertical:this._verticalLabel}:{direct:this._segmentLabel,horizontal:this._horizontalLabel,vertical:this._verticalLabel}}constructor(e){super(e),this._segmentVisualElement=null,this._triangleVisualElement=null,this._rightAngleQuad=null,this._projectedGeodesicLine=null,this._geodesicStartHint=null,this._geodesicEndHint=null,this._segmentLabel=null,this._verticalLabel=null,this._horizontalLabel=null,this._startPosition=z(),this._endPosition=z(),this._cornerPosition=z(),this._startPositionAtSeaLevel=z(),this._endPositionAtSeaLevel=z(),this._triangleOrientationOverride=null,this.messages=null,this.loadingMessages=!0,this.visualElementOrientation=C.Auto,this.triangleCollapseRatioThreshold=.03}initialize(){const e=this._parameters,t={attached:!0,view:this.view,isDecoration:!0},{guideLineWidth:i,guideStippleLengthPixels:s,triangleLineWidth:n,geodesicProjectionLineWidth:o,directLabelFontSize:r,verticalLabelFontSize:l,horizontalLabelFontSize:a}=e;this._segmentVisualElement=new G({...t,geometry:null,renderOccluded:U.OccludeAndTransparent}),this._triangleVisualElement=new x({...t,width:n,renderOccluded:U.OccludeAndTransparent}),this._rightAngleQuad=new H({...t,renderOccluded:U.OccludeAndTransparent});const c={...t,polygonOffset:!0,renderOccluded:U.OccludeAndTransparent};this._projectedGeodesicLine=new x({...c,width:o,stipplePattern:R(s)}),this._geodesicStartHint=new x({...c,width:i,stipplePattern:R(s)}),this._geodesicEndHint=new x({...c,width:i,stipplePattern:R(s)}),this._segmentLabel=new O({...t,fontSize:r}),this._verticalLabel=new O({...t,fontSize:l}),this._horizontalLabel=new O({...t,fontSize:a}),this.addHandles([_((()=>{const{elevationAlignedStartPoint:e,elevationAlignedEndPoint:t}=this.analysisView,i=this.view;return{view:i,camera:i.state.camera,viewMode:this.viewMode,elevationAlignedStartPoint:e,elevationAlignedEndPoint:t,orientation:this._actualVisualElementsOrientation,visualizedMeasurement:this.actualVisualizedMeasurement,stripeLength:this._measurementArrowStripeLength}}),(e=>this._updateGeometryAndViewMode(e)),v),_((()=>({visible:this.visible,viewMode:this.viewMode})),(e=>this._updateVisualElementVisibility(e)),v),_((()=>({text:this._labelsText,visualizedMeasurement:this.actualVisualizedMeasurement})),(e=>this._updateLabelText(e)),v),_((()=>({visible:this.visible,viewMode:this.viewMode})),(e=>this._updateLabelVisibility(e)),v),_((()=>this._measurementArrowStripeLength),(e=>this._updateSegmentStripeLength(e)),v),q((async()=>this._updateMessageBundle())),_((()=>this._parameters),(({textBackgroundColor:e,textCalloutColor:t,textColor:i,translucentAccentColor:s,accentColor:n,contrastColor:o})=>{const{_segmentLabel:r,_verticalLabel:l,_horizontalLabel:a,_triangleVisualElement:c,_rightAngleQuad:d,_projectedGeodesicLine:h,_geodesicStartHint:u,_geodesicEndHint:m,_segmentVisualElement:g}=this;r.backgroundColor=e,r.calloutColor=t,r.textColor=i,l.backgroundColor=e,l.calloutColor=t,l.textColor=i,a.backgroundColor=e,a.calloutColor=t,a.textColor=i,c.color=s,d.color=s,h.color=s,u.color=s,m.color=s,g.color=n,g.contrastColor=o}),b)]),this._updateMessageBundle()}destroy(){this._segmentVisualElement=c(this._segmentVisualElement),this._triangleVisualElement=c(this._triangleVisualElement),this._rightAngleQuad=c(this._rightAngleQuad),this._projectedGeodesicLine=c(this._projectedGeodesicLine),this._geodesicStartHint=c(this._geodesicStartHint),this._geodesicEndHint=c(this._geodesicEndHint),this._segmentLabel=c(this._segmentLabel),this._verticalLabel=c(this._verticalLabel),this._horizontalLabel=c(this._horizontalLabel),this.set(\"view\",null)}_updateVisualElementVisibility({visible:e,viewMode:t}){if(this._segmentVisualElement.visible=!1,this._triangleVisualElement.visible=!1,this._rightAngleQuad.visible=!1,this._projectedGeodesicLine.visible=!1,this._geodesicStartHint.visible=!1,this._geodesicEndHint.visible=!1,e)switch(t){case M.None:break;case M.Direct:this._segmentVisualElement.visible=!0;break;case M.Triangle:this._segmentVisualElement.visible=!0,this._triangleVisualElement.visible=!0,this._rightAngleQuad.visible=!0;break;case M.ProjectedGeodesic:this._segmentVisualElement.visible=!0,this._projectedGeodesicLine.visible=!0,this._geodesicStartHint.visible=!0,this._geodesicEndHint.visible=!0}}_updateGeometryAndViewMode({view:e,camera:t,viewMode:i,elevationAlignedStartPoint:s,elevationAlignedEndPoint:n,orientation:o,visualizedMeasurement:r,stripeLength:l}){const a=e.renderCoordsHelper;if(null==a||null==s||null==n||s.equals(n))return;let c=this._startPosition,d=this._endPosition;a.toRenderCoords(s,c),a.toRenderCoords(n,d);const h=o===C.AboveSegment?1:-1,u=h*(a.getAltitude(d)-a.getAltitude(c));u<0&&(c=this._endPosition,d=this._startPosition);const m=\"geodesic\"===r?new T(this._startPosition,this._endPosition,a.spatialReference):new k(this._startPosition,this._endPosition);switch(this._segmentVisualElement.geometry=m,this._updateSegmentStripeLength(l),i){case M.Direct:this._updateSegment(m,o);break;case M.Triangle:this._updateSegmentAndTriangle({view:e,camera:t,segment:m,orientation:o,startPosition:c,endPosition:d,deltaSign:h,altitudeDelta:u});break;case M.ProjectedGeodesic:this._updateSegmentAndProjection({view:e,orientation:o,startPosition:c,endPosition:d})}}_updateSegment(e,t){this._segmentLabel.anchor=t===C.AboveSegment?\"top\":\"bottom\",this._segmentLabel.geometry={type:\"segment\",segment:e,sampleLocation:\"center\"}}_updateSegmentAndTriangle({view:{renderCoordsHelper:e},camera:t,segment:i,orientation:s,startPosition:n,endPosition:o,deltaSign:r,altitudeDelta:l}){const a=this._cornerPosition;e.worldUpAtPosition(n,a),V(a,a,r*Math.abs(l)),P(a,a,n),this._triangleVisualElement.geometry=[[[n[0],n[1],n[2]],[a[0],a[1],a[2]],[o[0],o[1],o[2]]]],this._rightAngleQuad.geometry={previous:n,center:a,next:o};const c=new k(n,a),d=new k(a,o),h=N(n,o,a,s,t);this._segmentLabel.anchor=h.segment,this._segmentLabel.geometry={type:\"segment\",segment:i,sampleLocation:\"center\"},this._verticalLabel.geometry={type:\"segment\",segment:c,sampleLocation:\"center\"},this._verticalLabel.anchor=h.vertical,this._horizontalLabel.geometry={type:\"segment\",segment:d,sampleLocation:\"center\"},this._horizontalLabel.anchor=h.horizontal}_updateSegmentAndProjection({view:{renderCoordsHelper:e},orientation:t,startPosition:i,endPosition:s}){e.setAltitude(this._startPositionAtSeaLevel,0,i),e.setAltitude(this._endPositionAtSeaLevel,0,s);const n=new T(this._startPositionAtSeaLevel,this._endPositionAtSeaLevel,e.spatialReference);this._projectedGeodesicLine.setGeometryFromSegment(n),this._geodesicStartHint.setGeometryFromSegment(new k(this._startPositionAtSeaLevel,i)),this._geodesicEndHint.setGeometryFromSegment(new k(this._endPositionAtSeaLevel,s)),this._segmentLabel.geometry={type:\"segment\",segment:n,sampleLocation:\"center\"},this._segmentLabel.anchor=t===C.AboveSegment?\"top\":\"bottom\"}_updateLabelText({text:e,visualizedMeasurement:t}){null!=e?(this._segmentLabel.text=\"euclidean\"===t?e.directDistance:e.horizontalDistance,this._horizontalLabel.text=e.horizontalDistance,this._verticalLabel.text=e.verticalDistance):(this._segmentLabel.text=null,this._horizontalLabel.text=null,this._verticalLabel.text=null),this.notifyChange(\"labels\")}_updateLabelVisibility({visible:e,viewMode:t}){const i=this._segmentLabel,s=this._horizontalLabel,n=this._verticalLabel;if(i.visible=!1,s.visible=!1,n.visible=!1,e)switch(t){case M.Direct:i.visible=!0;break;case M.Triangle:i.visible=!0,s.visible=!0,n.visible=!0;break;case M.ProjectedGeodesic:i.visible=!0;case M.None:}}get _labelsText(){if(this.destroyed)return null;const e=this.messages,t=this.analysisView.result;if(null==t||null==e)return null;const{directDistance:i,horizontalDistance:s,verticalDistance:n}=t,o=this.analysisView.unit,r=e=>({directDistance:\"\",horizontalDistance:\"\",verticalDistance:\"\",...e});switch(o){case\"metric\":return r({directDistance:i&&m(e,i),horizontalDistance:s&&m(e,s),verticalDistance:n&&g(e,n)});case\"imperial\":return r({directDistance:i&&h(e,i),horizontalDistance:s&&h(e,s),verticalDistance:n&&u(e,n)});default:return r({directDistance:i&&d(e,i,o),horizontalDistance:s&&d(e,s,o),verticalDistance:n&&d(e,n,o)})}}_updateSegmentStripeLength(e){const t=this._segmentVisualElement;null!=e?(t.stripeLength=e,t.stripesEnabled=!0):t.stripesEnabled=!1}get _actualVisualElementsOrientation(){if(null!=this._triangleOrientationOverride)return this._triangleOrientationOverride;const e=this.visualElementOrientation;return e===C.Auto?this.view.state.camera.aboveGround?C.AboveSegment:C.BelowSegment:e}_requiresGeodesicGuideAt(e){const t=this.view;if(!t?.state)return!1;const i=t.state.camera,s=t.renderCoordsHelper;if(!s)return!1;const n=i.computeScreenPixelSizeAt(e);return s.getAltitude(e)/n>=10}get _measurementArrowStripeLength(){const{result:e,unit:t}=this.analysisView;if(null==e)return null;let i=null;const s=e.directDistance;switch(t){case\"metric\":i=s&&p(s,\"meters\");break;case\"imperial\":i=s&&p(s,S(s.value,s.unit));break;default:i=s&&p(s,t)}if(null==i)return null;return l(i.value/30)*f(1,i.unit,\"meters\")}_updateMessageBundle(){this.loadingMessages=!0,B(\"esri/core/t9n/Units\").then((e=>{this.messages=e})).finally((()=>{this.loadingMessages=!1}))}get testData(){}};function N(e,t,i,s,n){const o=J,r=K;n.projectToRenderScreen(i,o),n.projectToRenderScreen(t,r);const l={segment:\"bottom\",horizontal:\"top\",vertical:o[0]<r[0]?\"left\":\"right\"};{const s=X,o=Y;if(F(e,i,n,s),F(e,t,n,o),E(s,o)>=I){const e=Math.sign(s[1])===Math.sign(o[1]);l.segment=e?D(l.vertical):l.vertical}else{const e=Z;F(i,t,n,e),E(e,o)>=I&&(l.segment=Math.sign(e[0])===Math.sign(o[0])?D(l.horizontal):l.horizontal)}}if(s===C.BelowSegment){const e=e=>\"top\"===e?\"bottom\":\"top\";l.segment=e(l.segment),l.horizontal=e(l.horizontal),l.vertical=e(l.vertical)}return l}e([y()],W.prototype,\"_parameters\",null),e([y()],W.prototype,\"_triangleOrientationOverride\",void 0),e([y()],W.prototype,\"messages\",void 0),e([y()],W.prototype,\"view\",void 0),e([y()],W.prototype,\"analysis\",void 0),e([y()],W.prototype,\"analysisView\",void 0),e([y()],W.prototype,\"loadingMessages\",void 0),e([y()],W.prototype,\"visible\",null),e([y()],W.prototype,\"viewMode\",null),e([y()],W.prototype,\"actualVisualizedMeasurement\",null),e([y()],W.prototype,\"visualElementOrientation\",void 0),e([y()],W.prototype,\"triangleCollapseRatioThreshold\",void 0),e([y()],W.prototype,\"allowVisualElementsOrientationChange\",null),e([y()],W.prototype,\"labels\",null),e([y()],W.prototype,\"_labelsText\",null),e([y()],W.prototype,\"_actualVisualElementsOrientation\",null),e([y()],W.prototype,\"_measurementArrowStripeLength\",null),W=e([A(\"esri.views.3d.analysis.DirectLineMeasurement.DirectLineMeasurementVisualization\")],W);const I=Math.cos(a(12)),J=L(),K=L(),X=w(),Y=w(),Z=w();export{W as DirectLineMeasurementVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import\"../../../core/has.js\";import{destroyMaybe as i}from\"../../../core/maybe.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{defaultUnitPropertyMetadata as l}from\"../../../properties/defaultUnit.js\";import{AnalysisView3D as n}from\"./AnalysisView3D.js\";import{MeasurementMode as o}from\"./interfaces.js\";import{DirectLineMeasurementController as r}from\"./DirectLineMeasurement/DirectLineMeasurementController.js\";import{DirectLineMeasurementVisualization as u}from\"./DirectLineMeasurement/DirectLineMeasurementVisualization.js\";let p=class extends(n(e)){constructor(t){super(t),this.type=\"direct-line-measurement-view-3d\",this.analysis=null,this.result=null,this.measurementMode=o.Auto,this.elevationAlignedStartPoint=null,this.elevationAlignedEndPoint=null}initialize(){const t=this.view,e=this.analysis;this._analysisVisualization=new u({view:t,analysis:e,analysisView:this}),this._analysisController=new r({view:t,analysis:e,viewData:this})}destroy(){this._analysisController=i(this._analysisController),this._analysisVisualization=i(this._analysisVisualization)}get updating(){return!!this._analysisVisualization?.loadingMessages}get viewMode(){return this._analysisVisualization.viewMode}get actualVisualizedMeasurement(){return this._analysisVisualization.actualVisualizedMeasurement}get visualElementOrientation(){return this._analysisVisualization.visualElementOrientation}set visualElementOrientation(t){this._analysisVisualization.visualElementOrientation=t}get allowVisualElementsOrientationChange(){return this._analysisVisualization.allowVisualElementsOrientationChange}set allowVisualElementsOrientationChange(t){this._analysisVisualization.allowVisualElementsOrientationChange=t}get triangleCollapseRatioThreshold(){return this._analysisVisualization.triangleCollapseRatioThreshold}set triangleCollapseRatioThreshold(t){this._analysisVisualization.triangleCollapseRatioThreshold=t}get directLabelText(){return this._analysisVisualization.labels.direct?.text??\"\"}get horizontalLabelText(){return this._analysisVisualization.labels.horizontal?.text??\"\"}get verticalLabelText(){return this._analysisVisualization.labels.vertical?.text??\"\"}get unit(){return this.analysis.unit??this._defaultUnit}get testData(){}};t([a()],p.prototype,\"updating\",null),t([a({readOnly:!0})],p.prototype,\"type\",void 0),t([a({constructOnly:!0,nonNullable:!0})],p.prototype,\"analysis\",void 0),t([a()],p.prototype,\"result\",void 0),t([a()],p.prototype,\"measurementMode\",void 0),t([a()],p.prototype,\"elevationAlignedStartPoint\",void 0),t([a()],p.prototype,\"elevationAlignedEndPoint\",void 0),t([a({readOnly:!0})],p.prototype,\"viewMode\",null),t([a({readOnly:!0})],p.prototype,\"actualVisualizedMeasurement\",null),t([a()],p.prototype,\"visualElementOrientation\",null),t([a()],p.prototype,\"allowVisualElementsOrientationChange\",null),t([a()],p.prototype,\"triangleCollapseRatioThreshold\",null),t([a({readOnly:!0})],p.prototype,\"directLabelText\",null),t([a({readOnly:!0})],p.prototype,\"horizontalLabelText\",null),t([a({readOnly:!0})],p.prototype,\"verticalLabelText\",null),t([a()],p.prototype,\"_analysisVisualization\",void 0),t([a()],p.prototype,\"_analysisController\",void 0),t([a()],p.prototype,\"unit\",null),t([a(l)],p.prototype,\"_defaultUnit\",void 0),p=t([s(\"esri.views.3d.analysis.DirectLineMeasurementAnalysisView3D\")],p);const y=p;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar e,o;!function(e){e[e.None=0]=\"None\",e[e.Direct=1]=\"Direct\",e[e.Triangle=2]=\"Triangle\",e[e.ProjectedGeodesic=3]=\"ProjectedGeodesic\"}(e||(e={})),function(e){e[e.Auto=0]=\"Auto\",e[e.AboveSegment=1]=\"AboveSegment\",e[e.BelowSegment=2]=\"BelowSegment\"}(o||(o={}));export{e as ViewMode,o as VisualElementOrientation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar e;!function(e){e[e.Auto=0]=\"Auto\",e[e.Euclidean=1]=\"Euclidean\",e[e.Geodesic=2]=\"Geodesic\"}(e||(e={}));export{e as MeasurementMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{IdentifiableMixin as s}from\"../../../../core/Identifiable.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{DrapeSourceType as i,DrapedRenderGroup as c}from\"../../layers/interfaces.js\";import{DirtyOperation as u}from\"../../webgl-engine/lib/ModelDirtyTypes.js\";import{UpdatePolicy as n}from\"../../webgl-engine/lib/UpdatePolicy.js\";class d{constructor(e){this._resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1,this._renderGroup=c.Outline}destroy(){this._destroyResources()}get resources(){return null!=this._resources?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}get renderGroup(){return this._renderGroup}set renderGroup(e){this._renderGroup=e;const r=this._resources?.layerView;r&&(r.renderGroup=e)}recreate(){this.attached&&this._createResources()}recreateGeometry(){this._resourceFactory.recreateGeometry?null!=this._resources&&(this._ensureRenderGeometriesRemoved(),this._resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}_createOrDestroyResources(){this._attached?null==this._resources&&this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const e=this._resourceFactory.createResources(),r=new a({view:this._resourceFactory.view,renderGroup:this._renderGroup}),s=this._resourceFactory.view.basemapTerrain?.overlayManager;this._resources={layerView:new a({view:this._resourceFactory.view,renderGroup:this._renderGroup}),external:e,geometriesAdded:!1},s&&(this._resources.drapeSourceRenderer=s.registerGeometryDrapeSource(r)),this._syncGeometriesToRenderer()}_destroyResources(){if(null==this._resources)return;this._ensureRenderGeometriesRemoved();const e=this._resourceFactory.view.basemapTerrain?.overlayManager;e&&e.unregisterDrapeSource(this._resources.layerView),this._resourceFactory.destroyResources(this._resources.external),this._resources=null}_syncGeometriesToRenderer(){this._visible?this._ensureRenderGeometriesAdded():this._ensureRenderGeometriesRemoved()}_ensureRenderGeometriesRemoved(){if(null==this._resources?.drapeSourceRenderer)return;if(!this._resources.geometriesAdded)return;this._resources.drapeSourceRenderer.removeGeometries(this._resources.external.geometries,u.UPDATE),this._resources.geometriesAdded=!1}_ensureRenderGeometriesAdded(){if(null==this._resources?.drapeSourceRenderer)return;if(this._resources.geometriesAdded)return;this._resources.drapeSourceRenderer.addGeometries(this._resources.external.geometries,u.UPDATE),this._resources.geometriesAdded=!0}}let a=class extends(s(r)){constructor(e){super(e),this.drapeSourceType=i.Features,this.updatePolicy=n.SYNC,this.renderGroup=c.Outline}};e([t({constructOnly:!0})],a.prototype,\"view\",void 0),e([t({readOnly:!0})],a.prototype,\"drapeSourceType\",void 0),e([t()],a.prototype,\"renderGroup\",void 0),a=e([o(\"esri.views.3d.interactive.visualElements.DrapedVisualElementResources\")],a);export{d as DrapedVisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{watch as e,initial as s}from\"../../../../core/reactiveUtils.js\";import{ContentObjectType as r}from\"../../webgl-engine/lib/ContentObjectType.js\";import{Object3D as t}from\"../../webgl-engine/lib/Object3D.js\";import{UpdatePolicy as o}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{WebGLLayer as i}from\"../../webgl-engine/lib/WebGLLayer.js\";class c{constructor(e){this._resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get object(){return null!=this._resources?this._resources.object:null}get resources(){return null!=this._resources?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncVisible())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){if(!this._resourceFactory.recreateGeometry)return void this.recreate();const e=this._resourceFactory.view._stage;if(null==this._resources||!e)return;const s=this._resources.object;this._resources.external.forEach((s=>{s.type!==r.Mesh&&s.type!==r.Line&&s.type!==r.Point||e.remove(s)})),s.removeAllGeometries(),this._resourceFactory.recreateGeometry(this._resources.external,s,this._resources.layer),this._resources.external.forEach((s=>{s.type!==r.Mesh&&s.type!==r.Line&&s.type!==r.Point||e.add(s)}))}_createOrDestroyResources(){this._attached?this._resources||this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const c=this._resourceFactory,a=c.view,h=a._stage;if(!h)return;const u=new i(h,{pickable:!1,updatePolicy:o.SYNC}),l=new t({castShadow:!1}),n=c.createResources(l,u);n.forEach((e=>{h.add(e),e.type===r.Texture&&e.load(h.renderView.renderingContext)})),h.add(l),u.add(l);const _=c.cameraChanged,y=_?e((()=>a.state.camera),(e=>_(e)),s):null;this._resources={layer:u,object:l,external:n,cameraHandle:y},this._syncVisible()}_destroyResources(){if(null==this._resources)return;const e=this._resourceFactory.view._stage;e&&(e.remove(this._resources.object),this._resources.layer.destroy(),this._resources.external.forEach((s=>{e.remove(s),s.type===r.Texture&&s.unload()}))),this._resources.object.dispose(),this._resources.cameraHandle?.remove(),this._resourceFactory.destroyResources(this._resources.external),this._resources=null}_syncVisible(){null!=this._resources&&(this._resources.object.visible=this._visible)}}export{c as VisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{DrapedVisualElementResources as e}from\"./DrapedVisualElementResources.js\";import{VisualElement as s}from\"./VisualElement.js\";import{VisualElementResources as r}from\"./VisualElementResources.js\";class t extends s{constructor(s){super(s),this._isDraped=!1,this.object3dResources=new r(this.createObject3DResourceFactory(s.view)),this.drapedResources=new e(this.createDrapedResourceFactory(s.view)),this.isDraped=s.isDraped??!1}get isDraped(){return this._isDraped}set isDraped(e){e!==this._isDraped&&(this._isDraped=e,this.object3dResources.attached=this.attached&&!e,this.drapedResources.attached=this.attached&&e)}get renderGroup(){return this.drapedResources.renderGroup}set renderGroup(e){this.drapedResources.renderGroup=e}createResources(){this.object3dResources.attached=!this._isDraped,this.drapedResources.attached=this._isDraped}destroyResources(){this.object3dResources.attached=!1,this.drapedResources.attached=!1}recreate(){this.object3dResources.recreate(),this.drapedResources.recreate()}recreateGeometry(){this.object3dResources.recreateGeometry(),this.drapedResources.recreateGeometry()}destroy(){this.object3dResources.destroy(),this.drapedResources.destroy(),super.destroy()}updateVisibility(e){this.object3dResources.visible=e,this.drapedResources.visible=e}}export{t as EngineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{copy as e}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{VisualElement as r}from\"./VisualElement.js\";import{Object3D as t}from\"../../webgl-engine/lib/Object3D.js\";import{UpdatePolicy as i}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{WebGLLayer as o}from\"../../webgl-engine/lib/WebGLLayer.js\";class a extends r{constructor(e){super(e),this._resources=null,this._transform=s()}get object(){return null!=this._resources?this._resources.object:null}get transform(){return this._transform}set transform(s){e(this._transform,s),null!=this._resources&&(this._resources.object.transformation=this._transform)}recreate(){this.attached&&this.createResources()}recreateGeometry(){if(null==this._resources)return;const e=this._resources.object,s=this.view._stage;s.removeMany(e.geometries),e.removeAllGeometries(),this.createGeometries(e),e.visible=this.visible,s.addMany(e.geometries)}createResources(){this.destroyResources();const e=this.view._stage;if(!e)return;const s=new o(e,{pickable:!1,updatePolicy:i.SYNC}),r=new t({castShadow:!1});r.transformation=this._transform,this.createExternalResources(),this.createGeometries(r),e.addMany(r.geometries),this.forEachExternalMaterial((s=>e.add(s))),e.add(r),s.add(r),r.visible=this.visible,this._resources={layer:s,object:r}}destroyResources(){const e=this.view._stage;null!=this._resources&&e&&(e.remove(this._resources.object),this._resources.layer.destroy(),this.forEachExternalMaterial((s=>{e.remove(s)})),e.removeMany(this._resources.object.geometries),this._resources.object.dispose(),this.destroyExternalResources(),this._resources=null)}updateVisibility(e){null!=this._resources&&(this._resources.object.visible=e)}}export{a as Object3DVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{watch as e}from\"../../../../core/reactiveUtils.js\";import{fromTranslation as t,scale as r}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{p as s,n as o,f as a,c as n,e as c,g as l}from\"../../../../chunks/vec32.js\";import{create as u,ZEROS as h}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{c as d}from\"../../../../chunks/vec42.js\";import{fromValues as m}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{sv3d as _}from\"../../../../geometry/support/vectorStacks.js\";import{makeDehydratedPoint as p}from\"../../../../layers/graphics/dehydratedPoint.js\";import{EngineVisualElement as f}from\"./EngineVisualElement.js\";import{drapedZ as g}from\"../../terrain/OverlayRenderer.js\";import{Attribute as b}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as M}from\"../../webgl-engine/lib/Geometry.js\";import{createPolylineGeometry as O}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as j}from\"../../webgl-engine/lib/Material.js\";import{RenderGeometry as R}from\"../../webgl-engine/lib/RenderGeometry.js\";import{VertexAttribute as w}from\"../../webgl-engine/lib/VertexAttribute.js\";import{ColorMaterial as z}from\"../../webgl-engine/materials/ColorMaterial.js\";import{RibbonLineMaterial as y}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class D extends f{constructor(e){super(e),this._maxSize=0,this._position=u(),this._up=u(),this._right=u(),this._renderOccluded=j.OccludeAndTransparent,this._color=m(1,0,0,1),this._outlineColor=m(0,0,0,1),this._outlineSize=0,this._size=32,this._outlineRenderOccluded=j.Opaque,this.applyProperties(e)}createObject3DResourceFactory(e){return{view:e,createResources:e=>this._createObject3DResources(e),destroyResources:()=>{},cameraChanged:()=>this._updateTransformObject3D()}}createDrapedResourceFactory(e){return{view:e,createResources:()=>this._createDrapedResources(),destroyResources:P}}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateQuadMaterial())}get color(){return this._color}set color(e){d(this._color,e),this._updateQuadMaterial()}get outlineColor(){return this._outlineColor}set outlineColor(e){d(this._outlineColor,e),this._updateOutlineMaterial()}get outlineSize(){return this._outlineSize}set outlineSize(e){const t=0===this._outlineSize!=(0===e);this._outlineSize=e,t?this.recreateGeometry():this._updateOutlineMaterial()}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateTransform())}get outlineRenderOccluded(){return this._outlineRenderOccluded}set outlineRenderOccluded(e){this._outlineRenderOccluded=e,this._updateOutlineMaterial()}set geometry({previous:e,center:t,next:r}){this._maxSize=Math.min(s(t,e),s(t,r))/3,o(this._up,a(this._up,e,t)),o(this._right,a(this._right,r,t)),n(this._position,t),this.recreateGeometry()}_createObject3DResources(e){const t=new z(this._quadMaterialParameters),r=0===this._outlineSize?void 0:new y(this._outlineMaterialParameters);return this._createObject3DGeometries(e,t,r),{quadMaterial:t,outlineMaterial:r,forEach:e=>{e(t),r&&e(r)}}}_createObject3DGeometries(e,t,r){if(c(this._up,h)&&c(this._right,h))return;const i=this._createGeometries(t,r);for(const s of i)e.addGeometry(s);this._updateTransformObject3D(e)}_createDrapedResources(){const t=new z(this._quadMaterialParameters),r=0===this._outlineSize?void 0:new y(this._outlineMaterialParameters),i=this._createGeometries(t,r).map((e=>new R(e)));this._setTransformDraped(i);return{quadMaterial:t,outlineMaterial:r,geometries:i,pixelRatioHandle:e((()=>this.view.state.contentPixelRatio),(()=>{this.drapedResources.recreateGeometry()}))}}_createGeometries(e,t){const{up:r,right:i,corner:s}=this._getVertices(),o=v(r,i,s,e);if(!t)return[o];return[o,O(t,[r,s,i])]}_getVertices(){let e=this._up,t=this._right;const r=l(_.get(),e,t);return this.isDraped&&(e=n(_.get(),e),t=n(_.get(),t),e[2]=0,t[2]=0,r[2]=0),{up:e,right:t,corner:r}}_updateTransform(){this.isDraped?this.drapedResources.recreateGeometry():this._updateTransformObject3D()}_updateTransformObject3D(e=this.object3dResources.object){if(!e)return;const i=this.view.state.camera,s=this._size*i.computeScreenPixelSizeAt(this._position),o=Math.min(this._maxSize,s);t(x,this._position),r(x,x,[o,o,o]),e.transformation=x}_setTransformDraped(e){if(0===e.length)return;const{view:{basemapTerrain:{overlayManager:i},state:{contentPixelRatio:s}}}=this,{_position:o,_size:a}=this,c=n(_.get(),o);c[2]=g;const l=S;l.spatialReference=i.renderer.spatialReference,l.x=c[0],l.y=c[1];const u=a*(this.view.overlayPixelSizeInMapUnits(l)*s),h=Math.min(this._maxSize,u);t(x,c),r(x,x,[h,h,1]);for(const t of e)t.transformation=x}get _quadMaterialParameters(){return{color:this._color,forceTransparentMode:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateQuadMaterial(){this.object3dResources.resources?.quadMaterial.setParameters(this._quadMaterialParameters),this.drapedResources.resources?.quadMaterial.setParameters(this._quadMaterialParameters)}get _outlineMaterialParameters(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded,isDecoration:this.isDecoration}}_updateOutlineMaterial(){this.object3dResources.resources?.outlineMaterial?.setParameters(this._outlineMaterialParameters),this.drapedResources.resources?.outlineMaterial?.setParameters(this._outlineMaterialParameters)}}function P(e){e.pixelRatioHandle.remove(),e.geometries=[]}function v(e,t,r,i){return new M(i,[[w.POSITION,new b([0,0,0,...t,...e,...r],[0,1,2,1,2,3],3,!0)]])}const x=i(),S=p(0,0,void 0,null);export{D as RightAngleQuadVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{watch as e}from\"../../../../core/reactiveUtils.js\";class t{get isDecoration(){return this._isDecoration}set isDecoration(e){this._isDecoration=e}constructor(t){this._isDecoration=!1,this._attached=!1,this._resourcesCreated=!1,this._visible=!0,this.view=t.view,this._handle=e((()=>t.view.ready),(e=>{this._resourcesCreated&&(e?this._createResources():this._destroyResources())}))}applyProperties(e){let t=!1;for(const s in e)s in this&&(\"attached\"===s?t=e[s]:this[s]=e[s]);this.attached=t}destroy(){this.attached=!1,this._handle.remove()}get attached(){return this._attached}set attached(e){e!==this._attached&&this.view._stage&&(this._attached=e,this._attached&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources(),this.onAttachedChange(e))}onAttachedChange(e){}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this.attached&&this.updateVisibility(e))}_createResources(){this.createResources(),this._resourcesCreated=!0,this.updateVisibility(this.visible)}_destroyResources(){this.destroyResources(),this._resourcesCreated=!1}}export{t as VisualElement};\n"],"names":["n","s","i","a","vertex","l","fragment","e","uniforms","add","t","width","attributes","d","varyings","code","r","_templateObject","_taggedTemplateLiteral","outlineSize","o","outlineColor","stripeLength","stripeEvenColor","stripeOddColor","v","Math","sqrt","_templateObject2","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","readOnly","get","this","view","m","_t","_inherits","_super","_createSuper","_classCallCheck","call","_createClass","key","_this","addHandles","viewData","startPoint","analysis","_ref","elevationAlignedStartPoint","_applyProjectionAndElevationAlignment","endPoint","_ref2","elevationAlignedEndPoint","result","_computedResult","_ref3","_this$view","spatialReference","elevationProvider","c","_this$viewData","measurementMode","p","u","horizontal","mode","directDistance","direct","horizontalDistance","verticalDistance","vertical","distance","prototype","g","rctx","shader","configuration","y","f","blending","transparent","polygonOffset","polygonOffsetEnabled","factor","units","depthTest","func","depthWrite","colorWrite","h","_setPipelineState","transparencyPassType","T","_l","_super2","apply","arguments","count","Map","O","_p","A","_vertexAttributeLocations","produces","_transparent","_configuration","parameters","_","j","_u","ensureTechnique","b","_f","_super3","_this2","vec3f","vec2f","f32","L","E","I","M","vertexBufferLayout","indices","length","_c$attributes$get","data","console","warn","position","normal","w","uv0","setVec","set","C","_arrowWidth","_arrowSubdivisions","_origin","_originTransform","_arrowCenter","_renderOccluded","_geometry","_stripeLength","_stripesEnabled","_color","_contrastColor","applyProperties","_arrowMaterial","setParameters","renderOccluded","_geometryChanged","attached","_updateArrowColor","isDecoration","_handles","state","camera","_viewChanged","_this$_geometry","startRenderSpace","endRenderSpace","_createArrowGeometry","transformation","addGeometry","renderCoordsHelper","push","type","eval","worldUpAtPosition","_o$camera","heading","tilt","direction","recreateGeometry","ready","computeScreenPixelSizeAt","W","_segmentVisualElement","_triangleVisualElement","_rightAngleQuad","_projectedGeodesicLine","_geodesicStartHint","_geodesicEndHint","_segmentLabel","_verticalLabel","_horizontalLabel","_startPosition","z","_endPosition","_cornerPosition","_startPositionAtSeaLevel","_endPositionAtSeaLevel","_triangleOrientationOverride","messages","loadingMessages","visualElementOrientation","triangleCollapseRatioThreshold","effectiveTheme","accentColor","textColor","contrastColor","translucentAccentColor","triangleLineWidth","geodesicProjectionLineWidth","guideLineWidth","guideStippleLengthPixels","directLabelFontSize","horizontalLabelFontSize","verticalLabelFontSize","textBackgroundColor","textCalloutColor","analysisView","visible","_this$analysisView","equals","actualVisualizedMeasurement","_requiresGeodesicGuideAt","min","_this$analysisView2","Q","_actualVisualElementsOrientation","_parameters","G","_objectSpread","geometry","U","x","H","stipplePattern","R","fontSize","_this2$analysisView","viewMode","orientation","visualizedMeasurement","_measurementArrowStripeLength","_updateGeometryAndViewMode","_updateVisualElementVisibility","text","_labelsText","_updateLabelText","_updateLabelVisibility","_updateSegmentStripeLength","q","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","abrupt","_updateMessageBundle","stop","backgroundColor","calloutColor","color","_ref4","toRenderCoords","getAltitude","k","_updateSegment","_updateSegmentAndTriangle","segment","startPosition","endPosition","deltaSign","altitudeDelta","_updateSegmentAndProjection","anchor","sampleLocation","_ref5","V","abs","P","previous","center","J","K","projectToRenderScreen","X","Y","F","sign","D","Z","N","_ref6","setAltitude","setGeometryFromSegment","_ref7","notifyChange","_ref8","destroyed","unit","stripesEnabled","aboveGround","_this$analysisView3","S","_this3","B","then","finally","cos","_n","_analysisVisualization","_analysisController","_this$_analysisVisual","allowVisualElementsOrientationChange","_this$_analysisVisual2","_this$_analysisVisual3","labels","_this$_analysisVisual4","_this$_analysisVisual5","_this$_analysisVisual6","_this$_analysisVisual7","_this$analysis$unit","_defaultUnit","constructOnly","nonNullable","None","Direct","Triangle","ProjectedGeodesic","Auto","AboveSegment","BelowSegment","Euclidean","Geodesic","_resourceFactory","_resources","_visible","_attached","_renderGroup","_destroyResources","external","_syncGeometriesToRenderer","_createOrDestroyResources","_this$_resources","layerView","renderGroup","_createResources","_ensureRenderGeometriesRemoved","recreate","_this$_resourceFactor","createResources","basemapTerrain","overlayManager","geometriesAdded","drapeSourceRenderer","registerGeometryDrapeSource","_this$_resourceFactor2","unregisterDrapeSource","destroyResources","_ensureRenderGeometriesAdded","_this$_resources2","removeGeometries","geometries","_this$_resources3","addGeometries","_s","drapeSourceType","updatePolicy","object","_syncVisible","_stage","forEach","remove","removeAllGeometries","layer","pickable","castShadow","load","renderView","renderingContext","cameraChanged","cameraHandle","_this$_resources$came","destroy","unload","dispose","_s$isDraped","_isDraped","object3dResources","createObject3DResourceFactory","drapedResources","createDrapedResourceFactory","isDraped","_get","_getPrototypeOf","_r","_transform","removeMany","createGeometries","addMany","createExternalResources","forEachExternalMaterial","destroyExternalResources","_maxSize","_position","_up","_right","_outlineColor","_outlineSize","_size","_outlineRenderOccluded","_createObject3DResources","_updateTransformObject3D","_createDrapedResources","_updateQuadMaterial","_updateOutlineMaterial","_updateTransform","_quadMaterialParameters","_outlineMaterialParameters","_createObject3DGeometries","quadMaterial","outlineMaterial","_step","_createGeometries","_iterator","_createForOfIteratorHelper","done","err","_this4","map","_setTransformDraped","pixelRatioHandle","contentPixelRatio","_this$_getVertices","_getVertices","up","right","corner","concat","_toConsumableArray","undefined","renderer","overlayPixelSizeInMapUnits","_step2","_iterator2","forceTransparentMode","writeDepth","_this$object3dResourc","_this$drapedResources","resources","_this$object3dResourc2","_this$object3dResourc3","_this$drapedResources2","_this$drapedResources3","_isDecoration","_resourcesCreated","_handle","onAttachedChange","updateVisibility"],"sourceRoot":""}