"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[10329],{46228:function(t,e,i){i.d(e,{I:function(){return a},v:function(){return r}});var n=i(16889);function a(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=(0,n.uZ)(t,0,u),r=0;r<4;r++)e[i+r]=Math.floor(256*l(a*o[r]))}function r(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=0,n=0;n<4;n++)i+=t[e+n]*s[n];return i}var o=[1,256,65536,16777216],s=[1/256,1/65536,1/16777216,1/4294967296],u=r(new Uint8ClampedArray([255,255,255,255]));function l(t){return t-Math.floor(t)}},78084:function(t,e,i){i.d(e,{Z:function(){return d}});var n,a,r=i(15671),o=i(43144),s=i(93169),u=i(13005);(a=n||(n={}))[a.varint=0]="varint",a[a.fixed64=1]="fixed64",a[a.delimited=2]="delimited",a[a.fixed32=5]="fixed32",a[a.unknown=99]="unknown";var l=4294967296,h=new TextDecoder("utf-8"),c=(0,s.Z)("safari")||(0,s.Z)("ios")?6:(0,s.Z)("ff")?12:32,d=function(){function t(e,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e?e.byteLength:0;(0,r.Z)(this,t),this._tag=0,this._dataType=n.unknown,this._init(e,i,a,o)}return(0,o.Z)(t,[{key:"_init",value:function(t,e,i,n){this._data=t,this._dataView=e,this._pos=i,this._end=n}},{key:"asUnsafe",value:function(){return this}},{key:"clone",value:function(){return new t(this._data,this._dataView,this._pos,this._end)}},{key:"pos",value:function(){return this._pos}},{key:"move",value:function(t){this._pos=t}},{key:"nextTag",value:function(t){for(;;){if(this._pos===this._end)return!1;var e=this._decodeVarint();if(this._tag=e>>3,this._dataType=7&e,!t||t===this._tag)break;this.skip()}return!0}},{key:"next",value:function(){if(this._pos===this._end)return!1;var t=this._decodeVarint();return this._tag=t>>3,this._dataType=7&t,!0}},{key:"empty",value:function(){return this._pos>=this._end}},{key:"tag",value:function(){return this._tag}},{key:"getInt32",value:function(){return this._decodeVarint()}},{key:"getInt64",value:function(){return this._decodeVarint()}},{key:"getUInt32",value:function(){var t=4294967295;if(t=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128)return t;if(t=(t|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128)return t;if(t=(t|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128)return t;if(t=(t|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128)return t;if(t=(t|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128)return t;throw new Error("Varint overflow")}},{key:"getUInt64",value:function(){return this._decodeVarint()}},{key:"getSInt32",value:function(){var t=this.getUInt32();return t>>>1^-(1&t)}},{key:"getSInt64",value:function(){return this._decodeSVarint()}},{key:"getBool",value:function(){var t=0!==this._data[this._pos];return this._skip(1),t}},{key:"getEnum",value:function(){return this._decodeVarint()}},{key:"getFixed64",value:function(){var t=this._dataView,e=this._pos,i=t.getUint32(e,!0)+t.getUint32(e+4,!0)*l;return this._skip(8),i}},{key:"getSFixed64",value:function(){var t=this._dataView,e=this._pos,i=t.getUint32(e,!0)+t.getInt32(e+4,!0)*l;return this._skip(8),i}},{key:"getDouble",value:function(){var t=this._dataView.getFloat64(this._pos,!0);return this._skip(8),t}},{key:"getFixed32",value:function(){var t=this._dataView.getUint32(this._pos,!0);return this._skip(4),t}},{key:"getSFixed32",value:function(){var t=this._dataView.getInt32(this._pos,!0);return this._skip(4),t}},{key:"getFloat",value:function(){var t=this._dataView.getFloat32(this._pos,!0);return this._skip(4),t}},{key:"getString",value:function(){var t=this._getLength(),e=this._pos,i=this._toString(this._data,e,e+t);return this._skip(t),i}},{key:"getBytes",value:function(){var t=this._getLength(),e=this._pos,i=this._toBytes(this._data,e,e+t);return this._skip(t),i}},{key:"getLength",value:function(){return this._getLengthUnsafe()}},{key:"processMessageWithArgs",value:function(t,e,i,n){var a=this.getMessage(),r=t(a,e,i,n);return a.release(),r}},{key:"processMessage",value:function(t){var e=this.getMessage(),i=t(e);return e.release(),i}},{key:"getMessage",value:function(){var e=this._getLength(),i=t.pool.acquire();return i._init(this._data,this._dataView,this._pos,this._pos+e),this._skip(e),i}},{key:"release",value:function(){t.pool.release(this)}},{key:"dataType",value:function(){return this._dataType}},{key:"skip",value:function(){switch(this._dataType){case n.varint:this._decodeVarint();break;case n.fixed64:this._skip(8);break;case n.delimited:this._skip(this._getLength());break;case n.fixed32:this._skip(4);break;default:throw new Error("Invalid data type!")}}},{key:"skipLen",value:function(t){this._skip(t)}},{key:"_skip",value:function(t){if(this._pos+t>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=t}},{key:"_decodeVarint",value:function(){var t=this._data,e=this._pos,i=0,n=0;if(this._end-e>=10)do{if(i|=127&(n=t[e++]),!(128&n))break;if(i|=(127&(n=t[e++]))<<7,!(128&n))break;if(i|=(127&(n=t[e++]))<<14,!(128&n))break;if(i|=(127&(n=t[e++]))<<21,!(128&n))break;if(i+=268435456*(127&(n=t[e++])),!(128&n))break;if(i+=34359738368*(127&(n=t[e++])),!(128&n))break;if(i+=4398046511104*(127&(n=t[e++])),!(128&n))break;if(i+=562949953421312*(127&(n=t[e++])),!(128&n))break;if(i+=72057594037927940*(127&(n=t[e++])),!(128&n))break;if(i+=0x8000000000000000*(127&(n=t[e++])),!(128&n))break;throw new Error("Varint too long!")}while(0);else{for(var a=1;e!==this._end&&128&(n=t[e]);)++e,i+=(127&n)*a,a*=128;if(e===this._end)throw new Error("Varint overrun!");++e,i+=n*a}return this._pos=e,i}},{key:"_decodeSVarint",value:function(){var t,e=this._data,i=0,n=0,a=1&e[this._pos];if(i|=127&(n=e[this._pos++]),!(128&n))return a?-(i+1)/2:i/2;if(i|=(127&(n=e[this._pos++]))<<7,!(128&n))return a?-(i+1)/2:i/2;if(i|=(127&(n=e[this._pos++]))<<14,!(128&n))return a?-(i+1)/2:i/2;if(i|=(127&(n=e[this._pos++]))<<21,!(128&n))return a?-(i+1)/2:i/2;if(i+=268435456*(127&(n=e[this._pos++])),!(128&n))return a?-(i+1)/2:i/2;if(i+=34359738368*(127&(n=e[this._pos++])),!(128&n))return a?-(i+1)/2:i/2;if(i+=4398046511104*(127&(n=e[this._pos++])),!(128&n))return a?-(i+1)/2:i/2;if(t=BigInt(i),n=e[this._pos++],t+=0x2000000000000n*BigInt(127&n),!(128&n))return Number(a?-(t+1n)/2n:t/2n);if(n=e[this._pos++],t+=0x100000000000000n*BigInt(127&n),!(128&n))return Number(a?-(t+1n)/2n:t/2n);if(n=e[this._pos++],t+=0x8000000000000000n*BigInt(127&n),!(128&n))return Number(a?-(t+1n)/2n:t/2n);throw new Error("Varint too long!")}},{key:"_getLength",value:function(){if(this._dataType!==n.delimited)throw new Error("Not a delimited data type!");return this._decodeVarint()}},{key:"_getLengthUnsafe",value:function(){return this.getUInt32()}},{key:"_toString",value:function(t,e,i){if((i=Math.min(this._end,i))-e>c){var n=t.subarray(e,i);return h.decode(n)}for(var a="",r="",o=e;o<i;++o){var s=t[o];128&s?r+="%"+s.toString(16):(a+=decodeURIComponent(r)+String.fromCharCode(s),r="")}return r.length&&(a+=decodeURIComponent(r)),a}},{key:"_toBytes",value:function(t,e,i){return i=Math.min(this._end,i),new Uint8Array(t.buffer,e,i-e)}}]),t}();d.pool=new u.Z(d,void 0,(function(t){t._data=null,t._dataView=null}))},70812:function(t,e,i){i.d(e,{Q:function(){return M}});var n=i(15671),a=i(43144),r=i(60136),o=i(29388),s=i(27366),u=i(7138),l=(i(10064),i(93169)),h=(i(32718),i(49861)),c=(i(84936),i(69912)),d=i(37762),v=i(29439),f=i(93433),_=i(94109),m=i(16889),p=i(44333),g=function(){function t(e,i,a){(0,n.Z)(this,t),this._width=e*a,this._height=i*a,this._pixelRatio=a;var r=Math.ceil(this._width/1),o=Math.ceil(this._height/1);this._cols=r,this._rows=o,this._cells=p.p.create(r*o)}return(0,a.Z)(t,[{key:"insertMetrics",value:function(t){this._markMetrics(t)}},{key:"hasCollision",value:function(t){var e,i=0,n=(0,d.Z)(t.bounds);try{for(n.s();!(e=n.n()).done;){var a=e.value,r=a.computedX,o=a.computedY,s=a.width,u=a.height,l=(s+_.gj)*this._pixelRatio,h=(u+_.gj)*this._pixelRatio;switch(this._collide(r,o,l,h)){case 2:return 2;case 1:i++}}}catch(c){n.e(c)}finally{n.f()}return i===t.bounds.length?1:0}},{key:"getCellId",value:function(t,e){return t+e*this._cols}},{key:"has",value:function(t){return this._cells.has(t)}},{key:"hasRange",value:function(t,e){return this._cells.hasRange(t,e)}},{key:"set",value:function(t){this._cells.set(t)}},{key:"setRange",value:function(t,e){this._cells.setRange(t,e)}},{key:"_collide",value:function(t,e,i,n){var a=t-i/2,r=e-n/2,o=a+i,s=r+n;if(o<0||s<0||a>this._width||r>this._height)return 1;for(var u=(0,m.uZ)(Math.floor(a/1),0,this._cols),l=(0,m.uZ)(Math.floor(r/1),0,this._rows),h=(0,m.uZ)(Math.ceil(o/1),0,this._cols),c=(0,m.uZ)(Math.ceil(s/1),0,this._rows),d=l;d<=c;d++)for(var v=u;v<=h;v++){var f=this.getCellId(v,d);if(this.has(f))return 2}return 0}},{key:"_mark",value:function(t,e,i,n,a){for(var r=t-i/2,o=e-n/2,s=r+i,u=o+n,l=(0,m.uZ)(Math.floor(r/1),0,this._cols),h=(0,m.uZ)(Math.floor(o/1),0,this._rows),c=(0,m.uZ)(Math.ceil(s/1),0,this._cols),d=(0,m.uZ)(Math.ceil(u/1),0,this._rows),v=h;v<=d;v++)for(var f=l;f<=c;f++){var _=this.getCellId(f,v);this.set(_)}return!1}},{key:"_markMetrics",value:function(t){var e,i=(0,d.Z)(t.bounds);try{for(i.s();!(e=i.n()).done;){var n=e.value,a=n.computedX,r=n.computedY,o=n.width,s=n.height,u=(o+_.gj)*this._pixelRatio,l=(s+_.gj)*this._pixelRatio;this._mark(a,r,u,l,t.entityTexel)}}catch(h){i.e(h)}finally{i.f()}}}]),t}(),y=254,w=255;function k(t,e){var i=t.children.slice();i.sort((function(t,e){return t.tileAge-e.tileAge})),i.forEach((function(t){null!=t.labelMetrics&&t.isReady&&e(t,t.labelMetrics)}))}function b(t,e){return(!t.minScale||t.minScale>=e)&&(!t.maxScale||t.maxScale<=e)}var Z=function(){function t(){(0,n.Z)(this,t)}return(0,a.Z)(t,[{key:"run",value:function(t,e,i,n){for(var a=[],r=t.length-1;r>=0;r--){var o,s=t[r];(null===(o=s.labelingCollisionInfos)||void 0===o?void 0:o.length)&&a.push.apply(a,(0,f.Z)(s.labelingCollisionInfos))}(0,l.Z)("esri-2d-update-debug")&&a.length&&console.debug("CollisionEngine.run"),this._transformMetrics(a),this._runCollision(a,e,i,n);for(var u=0,h=a;u<h.length;u++){h[u].container.requestRender()}}},{key:"_runCollision",value:function(t,e,i,n){var a,r=this,o=(0,v.Z)(e.state.size,2),s=o[0],u=o[1],l=new g(s,u,e.pixelRatio),h=(0,d.Z)(t);try{var c=function(){var t=a.value,e=t.container,o=t.deconflictionEnabled,s=t.visible,u=e.attributeView;o?s?(r._prepare(e),r._collideVisible(l,e,i,n),r._collideInvisible(l,e)):k(e,(function(t,e){var i,n=(0,d.Z)(e);try{for(n.s();!(i=n.n()).done;){var a=i.value;u.setLabelMinZoom(a.entityTexel,w)}}catch(r){n.e(r)}finally{n.f()}})):k(e,(function(t,e){var n,a=(0,d.Z)(e);try{for(a.s();!(n=a.n()).done;){var r=n.value;b(r,i)?(u.setLabelMinZoom(r.entityTexel,0),s&&l.insertMetrics(r)):u.setLabelMinZoom(r.entityTexel,y)}}catch(o){a.e(o)}finally{a.f()}}))};for(h.s();!(a=h.n()).done;)c()}catch(f){h.e(f)}finally{h.f()}}},{key:"_isFiltered",value:function(t,e,i){var n=e.getFilterFlags(t),a=!i.hasFilter||!!(n&_.g3),r=null==i.featureEffect||i.featureEffect.excludedLabelsVisible||!!(n&_.kU);return!(a&&r)}},{key:"_prepare",value:function(t){var e=this,i=t.attributeView,n=new Set;k(t,(function(a,r){var o,s=(0,d.Z)(r);try{for(s.s();!(o=s.n()).done;){var u=o.value.entityTexel;n.has(u)||(n.add(u),e._isFiltered(u,i,t.layerView)?i.setLabelMinZoom(u,y):0!==i.getLabelMinZoom(u)?i.setLabelMinZoom(u,w):i.setLabelMinZoom(u,0))}}catch(l){s.e(l)}finally{s.f()}}))}},{key:"_collideVisible",value:function(t,e,i,n){var a=e.attributeView,r=new Set;k(e,(function(e,o){for(var s=0;s<o.length;s++){var u=o[s].entityTexel;if(!r.has(u))if(e.key.level===n)if(b(o[s],i))if(0===a.getLabelMinZoom(u)){for(var l=!1,h=!0,c=s,d=s;d<o.length;d++){var v=o[d];if(v.entityTexel!==u)break;if(!l)switch(t.hasCollision(v)){case 1:break;case 2:l=!0,h=!1;break;case 0:h=!1}}if(!l)for(var f=c;f<d;f++)t.insertMetrics(o[f]);s=d-1,h||(r.add(u),a.setLabelMinZoom(u,l?y:0))}else r.add(u);else a.setLabelMinZoom(u,y),r.add(u);else a.setLabelMinZoom(u,y),r.add(u)}}))}},{key:"_collideInvisible",value:function(t,e){var i=e.attributeView,n=new Set;k(e,(function(e,a){for(var r=0;r<a.length;r++){var o=a[r].entityTexel;if(!n.has(o))if(i.getLabelMinZoom(o)===w){for(var s=!1,u=!0,l=r,h=r;h<a.length;h++){var c=a[h];if(c.entityTexel!==o)break;if(!s)switch(t.hasCollision(c)){case 1:break;case 2:s=!0,u=!1;break;case 0:u=!1}}if(!s)for(var d=l;d<h;d++)t.insertMetrics(a[d]);r=h-1,u||(n.add(o),i.setLabelMinZoom(o,s?w:0))}else n.add(o)}}))}},{key:"_transformMetrics",value:function(t){var e,i=(0,d.Z)(t);try{var n=function(){var t=e.value,i=t.container,n=t.geometryType,a=t.vvEvaluators;k(i,(function(t,e){var r=i.attributeView,o=t.transforms.labelMat2d;o[4]=Math.round(o[4]),o[5]=Math.round(o[5]);var s,u="polyline"===n,l=(0,d.Z)(e);try{for(l.s();!(s=l.n()).done;){var h,c,v=s.value,f=v.entityTexel,_=v.anchorX,m=v.anchorY,p=null!==(h=null===(c=v.referenceBounds)||void 0===c?void 0:c.size)&&void 0!==h?h:0,g=a[0];if(null!=g){var y=g(r.getVVSize(f));p=isNaN(y)||null==y||y===1/0?p:y}var w,k=v.directionX*(p/2),b=v.directionY*(p/2),Z=(0,d.Z)(v.bounds);try{for(Z.s();!(w=Z.n()).done;){var M=w.value,T=_,C=m;if(u){var I=T+M.x+k,S=C+M.y+b;I=o[0]*I+o[2]*S+o[4],S=o[1]*I+o[3]*S+o[5],M.computedX=Math.floor(I),M.computedY=Math.floor(S)}else{T=o[0]*_+o[2]*m+o[4],C=o[1]*_+o[3]*m+o[5];var x=T+M.x+k,D=C+M.y+b;M.computedX=x,M.computedY=D}}}catch(E){Z.e(E)}finally{Z.f()}}}catch(E){l.e(E)}finally{l.f()}}))};for(i.s();!(e=i.n()).done;)n()}catch(a){i.e(a)}finally{i.f()}}}]),t}(),M=function(t){(0,r.Z)(i,t);var e=(0,o.Z)(i);function i(t){var a;return(0,n.Z)(this,i),(a=e.call(this,t))._lastUpdate=0,a.collisionEngine=new Z,a.lastUpdateId=-1,a.updateRequested=!1,a.view=null,a}return(0,a.Z)(i,[{key:"updating",get:function(){return(0,l.Z)("esri-2d-log-updating")&&console.log("Updating LabelManager ".concat(this.updateRequested,":\n-> updateRequested: ").concat(this.updateRequested)),this.updateRequested}},{key:"update",value:function(t){var e=performance.now();e-this._lastUpdate>=32?(this._lastUpdate=e,this.doUpdate(t)):this.requestUpdate()}},{key:"viewChange",value:function(){this.requestUpdate()}},{key:"requestUpdate",value:function(){var t;this.updateRequested||(this.updateRequested=!0,null===(t=this.view)||void 0===t||t.requestUpdate())}},{key:"processUpdate",value:function(t){this.updateRequested&&(this.updateRequested=!1,this.update(t))}},{key:"doUpdate",value:function(t){var e=this.view;if(e)try{var i=t.state.scale,n=e.featuresTilingScheme.getClosestInfoForScale(i).level;this.collisionEngine.run(e.allLayerViews.items,t,i,n)}catch(y){}}}]),i}(u.default);(0,s._)([(0,h.Cb)()],M.prototype,"updateRequested",void 0),(0,s._)([(0,h.Cb)()],M.prototype,"updating",null),(0,s._)([(0,h.Cb)()],M.prototype,"view",void 0),M=(0,s._)([(0,c.j)("esri.views.2d.LabelManager")],M)},10106:function(t,e,i){var n,a,r;i.d(e,{Fr:function(){return r},_K:function(){return a},al:function(){return n}}),function(t){t[t.FILL=1]="FILL",t[t.LINE=2]="LINE",t[t.SYMBOL=3]="SYMBOL",t[t.CIRCLE=4]="CIRCLE"}(n||(n={})),function(t){t[t.BACKGROUND=0]="BACKGROUND",t[t.FILL=1]="FILL",t[t.OUTLINE=2]="OUTLINE",t[t.LINE=3]="LINE",t[t.ICON=4]="ICON",t[t.CIRCLE=5]="CIRCLE",t[t.TEXT=6]="TEXT",t[t.TILEINFO=7]="TILEINFO"}(a||(a={})),function(t){t[t.PAINTER_CHANGED=0]="PAINTER_CHANGED",t[t.LAYOUT_CHANGED=1]="LAYOUT_CHANGED",t[t.LAYER_CHANGED=2]="LAYER_CHANGED",t[t.LAYER_REMOVED=3]="LAYER_REMOVED",t[t.SPRITES_CHANGED=4]="SPRITES_CHANGED"}(r||(r={}))},13163:function(t,e,i){i.d(e,{Q:function(){return c}});var n=i(37762),a=i(15671),r=i(43144),o=i(43244),s=i(91505),u=i(93169),l=i(40235),h=(0,u.Z)("esri-2d-profiler"),c=function(){function t(e,i){var n=this;if((0,a.Z)(this,t),this._events=new s.Z,this._entries=new Map,this._timings=new o.Z(10),this._currentContainer=null,this._currentPass=null,this._currentBrush=null,this._currentSummary=null,h){this._ext=(0,l.mO)(e.gl,{}),this._debugOutput=i;var r,u=e.gl;if(this.enableCommandLogging)for(r in u)"function"==typeof u[r]&&function(){var t=u[r],e=r.includes("draw");u[r]=function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n._events.emit("command",{container:n._currentContainer,pass:n._currentPass,brush:n._currentBrush,method:r,args:a,isDrawCommand:e}),n._currentSummary&&(n._currentSummary.commands++,e&&n._currentSummary.drawCommands++),t.apply(u,a)}}()}}return(0,r.Z)(t,[{key:"enableCommandLogging",get:function(){return!("object"==typeof h&&h.disableCommands)}},{key:"recordContainerStart",value:function(t){h&&(this._currentContainer=t)}},{key:"recordContainerEnd",value:function(){h&&(this._currentContainer=null)}},{key:"recordPassStart",value:function(t){h&&(this._currentPass=t,this._initSummary())}},{key:"recordPassEnd",value:function(){h&&(this._currentPass=null,this._emitSummary())}},{key:"recordBrushStart",value:function(t){h&&(this._currentBrush=t)}},{key:"recordBrushEnd",value:function(){h&&(this._currentBrush=null)}},{key:"recordStart",value:function(t){if(h&&null!=this._ext){if(this._entries.has(t)){var e=this._entries.get(t),i=this._ext.resultAvailable(e.query),a=this._ext.disjoint();if(i&&!a){var r=this._ext.getResult(e.query)/1e6,o=0;if(null!=this._timings.enqueue(r)){var s,u=this._timings.entries,l=u.length,c=0,d=(0,n.Z)(u);try{for(d.s();!(s=d.n()).done;){c+=s.value}}catch(g){d.e(g)}finally{d.f()}o=c/l}var v=r.toFixed(2),f=o?o.toFixed(2):"--";this.enableCommandLogging?(console.groupCollapsed("Frame report for ".concat(t,", ").concat(v," ms (").concat(f," last 10 avg)\n").concat(e.commandsLen," Commands (").concat(e.drawCommands," draw)")),console.log("RenderPass breakdown: "),console.table(e.summaries),console.log("Commands: ",e.commands),console.groupEnd()):console.log("Frame report for ".concat(t,", ").concat(v," ms (").concat(f," last 10 avg)")),this._debugOutput.innerHTML="".concat(v," (").concat(f,")")}var _,m=(0,n.Z)(e.handles);try{for(m.s();!(_=m.n()).done;){_.value.remove()}}catch(g){m.e(g)}finally{m.f()}this._ext.deleteQuery(e.query),this._entries.delete(t)}var p={name:t,query:this._ext.createQuery(),commands:[],commandsLen:0,drawCommands:0,summaries:[],handles:[]};this.enableCommandLogging&&(p.handles.push(this._events.on("command",(function(t){p.commandsLen++,p.commands.push(t),t.isDrawCommand&&p.drawCommands++}))),p.handles.push(this._events.on("summary",(function(t){p.summaries.push(t)})))),this._ext.beginTimeElapsed(p.query),this._entries.set(t,p)}}},{key:"recordEnd",value:function(t){h&&null!=this._ext&&this._entries.has(t)&&this._ext.endTimeElapsed()}},{key:"_initSummary",value:function(){this.enableCommandLogging&&(this._currentSummary={container:this._currentContainer,pass:this._currentPass,drawCommands:0,commands:0})}},{key:"_emitSummary",value:function(){this.enableCommandLogging&&this._currentSummary&&this._events.emit("summary",this._currentSummary)}}]),t}()},53456:function(t,e,i){i.d(e,{Q:function(){return a}});var n=i(54711),a={shaders:{vertexShader:(0,n.w)("bitBlit/bitBlit.vert"),fragmentShader:(0,n.w)("bitBlit/bitBlit.frag")},attributes:new Map([["a_pos",0],["a_tex",1]])}},93985:function(t,e,i){i.d(e,{C:function(){return a},y:function(){return r}});var n=i(54711),a={shaders:{vertexShader:(0,n.w)("highlight/textured.vert"),fragmentShader:(0,n.w)("highlight/highlight.frag")},attributes:new Map([["a_position",0],["a_texcoord",1]])},r={shaders:{vertexShader:(0,n.w)("highlight/textured.vert"),fragmentShader:(0,n.w)("highlight/blur.frag")},attributes:new Map([["a_position",0],["a_texcoord",1]])}},69610:function(t,e,i){i.d(e,{F:function(){return o},c:function(){return r}});var n=i(54711),a=i(96721),r={shaders:{vertexShader:(0,n.w)("magnifier/magnifier.vert"),fragmentShader:(0,n.w)("magnifier/magnifier.frag")},attributes:new Map([["a_pos",0]])};function o(t){return(0,a.H)(t,r)}},92841:function(t,e,i){i.d(e,{H:function(){return a}});var n=i(54711),a={shaders:{vertexShader:(0,n.w)("stencil/stencil.vert"),fragmentShader:(0,n.w)("stencil/stencil.frag")},attributes:new Map([["a_pos",0]])}},582:function(t,e,i){i.d(e,{Z:function(){return X}});var n=i(74165),a=i(15861),r=i(15671),o=i(43144),s=i(60136),u=i(29388),l=i(27366),h=i(36721),c=i(7138),d=i(93169),v=i(92026),f=i(38499),_=i(49861),m=(i(32718),i(84936),i(69912)),p=i(848),g=i(86226),y=i(97326),w=i(17842),k=i(1614),b="esri-zoom-box",Z={container:"".concat(b,"__container"),overlay:"".concat(b,"__overlay"),background:"".concat(b,"__overlay-background"),box:"".concat(b,"__outline")},M="Shift",T="Control",C=function(t){(0,s.Z)(i,t);var e=(0,u.Z)(i);function i(t){var n;return(0,r.Z)(this,i),(n=e.call(this,t))._container=null,n._overlay=null,n._backgroundShape=null,n._boxShape=null,n._box={x:0,y:0,width:0,height:0},n._rafId=null,n._redraw=n._redraw.bind((0,y.Z)(n)),n}return(0,o.Z)(i,[{key:"destroy",value:function(){this.view=null}},{key:"view",set:function(t){var e=this;this.removeAllHandles(),this._destroyOverlay(),this._set("view",t),t&&this.addHandles([t.on("drag",[M],(function(t){return e._handleDrag(t,1)}),k.f.INTERNAL),t.on("drag",[M,T],(function(t){return e._handleDrag(t,-1)}),k.f.INTERNAL)])}},{key:"_start",value:function(){this._createContainer(),this._createOverlay(),this.navigation.begin()}},{key:"_update",value:function(t,e,i,n){this._box.x=t,this._box.y=e,this._box.width=i,this._box.height=n,this._rafId||(this._rafId=requestAnimationFrame(this._redraw))}},{key:"_end",value:function(t,e,i,n,a){var r=this.view,o=r.toMap((0,w.vW)(t+.5*i,e+.5*n)),s=Math.max(i/r.width,n/r.height);-1===a&&(s=1/s),this._destroyOverlay(),this.navigation.end(),r.goTo({center:o,scale:r.scale*s},{animationMode:"always",duration:(0,f.HA)((0,d.Z)("mapview-essential-goto-duration"))})}},{key:"_updateBox",value:function(t,e,i,n){var a=this._boxShape;a.setAttributeNS(null,"x",""+t),a.setAttributeNS(null,"y",""+e),a.setAttributeNS(null,"width",""+i),a.setAttributeNS(null,"height",""+n),a.setAttributeNS(null,"class",Z.box)}},{key:"_updateBackground",value:function(t,e,i,n){this._backgroundShape.setAttributeNS(null,"d",this._toSVGPath(t,e,i,n,this.view.width,this.view.height))}},{key:"_createContainer",value:function(){var t=document.createElement("div");t.className=Z.container,this.view.root.appendChild(t),this._container=t}},{key:"_createOverlay",value:function(){var t=this.view.width,e=this.view.height,i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttributeNS(null,"d","M 0 0 L "+t+" 0 L "+t+" "+e+" L 0 "+e+" Z"),i.setAttributeNS(null,"class",Z.background);var n=document.createElementNS("http://www.w3.org/2000/svg","rect"),a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),a.setAttributeNS(null,"class",Z.overlay),a.appendChild(i),a.appendChild(n),this._container.appendChild(a),this._backgroundShape=i,this._boxShape=n,this._overlay=a}},{key:"_destroyOverlay",value:function(){this._container&&this._container.parentNode&&this._container.parentNode.removeChild(this._container),this._container=this._backgroundShape=this._boxShape=this._overlay=null}},{key:"_toSVGPath",value:function(t,e,i,n,a,r){var o=t+i,s=e+n;return"M 0 0 L "+a+" 0 L "+a+" "+r+" L 0 "+r+" ZM "+t+" "+e+" L "+t+" "+s+" L "+o+" "+s+" L "+o+" "+e+" Z"}},{key:"_handleDrag",value:function(t,e){var i,n,a,r,o=t.x,s=t.y,u=t.origin.x,l=t.origin.y;switch(o>u?(i=u,a=o-u):(i=o,a=u-o),s>l?(n=l,r=s-l):(n=s,r=l-s),t.action){case"start":this._start();break;case"update":this._update(i,n,a,r);break;case"end":this._end(i,n,a,r,e)}t.stopPropagation()}},{key:"_redraw",value:function(){if(this._rafId&&(this._rafId=null,this._overlay)){var t=this._box,e=t.x,i=t.y,n=t.width,a=t.height;this._updateBox(e,i,n,a),this._updateBackground(e,i,n,a),this._rafId=requestAnimationFrame(this._redraw)}}}]),i}(c.default);(0,l._)([(0,_.Cb)()],C.prototype,"navigation",void 0),(0,l._)([(0,_.Cb)()],C.prototype,"view",null);var I=C=(0,l._)([(0,m.j)("esri.views.2d.navigation.ZoomBox")],C),S=(i(59486),i(94172)),x=i(32035),D=i(12400),E=i(87022),L=function(t){(0,s.Z)(i,t);var e=(0,u.Z)(i);function i(t){var n;return(0,r.Z)(this,i),(n=e.call(this,t)).animationTime=0,n.momentumEstimator=new E.G(500,6,.92),n.momentum=null,n.tmpMomentum=(0,D.Ue)(),n.momentumFinished=!1,n.viewpoint=new h.Z({targetGeometry:new p.Z,scale:0,rotation:0}),n._previousDrag=null,(0,S.when)((function(){return n.momentumFinished}),(function(){return n.navigation.stop()})),n}return(0,o.Z)(i,[{key:"begin",value:function(t,e){this.navigation.begin(),this.momentumEstimator.reset(),this.addToEstimator(e),this._previousDrag=e}},{key:"update",value:function(t,e){this.addToEstimator(e);var i=e.center.x,n=e.center.y,a=this._previousDrag;i=a?a.center.x-i:-i,n=a?n-a.center.y:n,t.viewpoint=(0,g.Rx)(this.viewpoint,t.viewpoint,[i||0,n||0]),this._previousDrag=e}},{key:"end",value:function(t,e){this.addToEstimator(e);var i=t.navigation.effectiveMomentumEnabled;this.momentum=i?this.momentumEstimator.evaluateMomentum():null,this.animationTime=0,this.momentum&&this.onAnimationUpdate(t),this._previousDrag=null,this.navigation.end()}},{key:"addToEstimator",value:function(t){var e=t.center.x,i=t.center.y,n=(0,w.s1)(-e,i),a=(0,D.al)(-e,i,0);this.momentumEstimator.add(n,a,.001*t.timestamp)}},{key:"onAnimationUpdate",value:function(t){var e,i=this;null===(e=this.navigation.animationManager)||void 0===e||e.animateContinuous(t.viewpoint,(function(e,n){var a=i.momentum,r=i.animationTime,o=i.tmpMomentum,s=.001*n;if(!(i.momentumFinished=!a||a.isFinished(r))){var u=a.valueDelta(r,s);(0,x.j)(o,a.direction,u),(0,g.Rx)(e,e,o),t.constraints.constrainByGeometry(e)}i.animationTime+=s}))}},{key:"stopMomentumNavigation",value:function(){this.momentum&&(this.momentumEstimator.reset(),this.momentum=null,this.navigation.stop())}}]),i}(c.default);(0,l._)([(0,_.Cb)()],L.prototype,"momentumFinished",void 0),(0,l._)([(0,_.Cb)()],L.prototype,"viewpoint",void 0),(0,l._)([(0,_.Cb)()],L.prototype,"navigation",void 0);var V=L=(0,l._)([(0,m.j)("esri.views.2d.navigation.actions.Pan")],L),R=i(13611),O=i(6644),A=i(19475),N=i(62124),B=function(t){(0,s.Z)(i,t);var e=(0,u.Z)(i);function i(t){var n;return(0,r.Z)(this,i),(n=e.call(this,t))._animationTime=0,n._momentumFinished=!1,n._previousAngle=0,n._previousRadius=0,n._previousCenter=null,n._rotationMomentumEstimator=new A.y(.6,.15,.95),n._rotationDirection=1,n._startAngle=0,n._startRadius=0,n._updateTimestamp=null,n._zoomDirection=1,n._zoomMomentumEstimator=new N.D,n._zoomOnly=null,n.viewpoint=new h.Z({targetGeometry:new p.Z,scale:0,rotation:0}),n.zoomMomentum=null,n.rotateMomentum=null,n.addHandles((0,S.when)((function(){return n._momentumFinished}),(function(){return n.navigation.stop()}))),n}return(0,o.Z)(i,[{key:"begin",value:function(t,e){this.navigation.begin(),this._rotationMomentumEstimator.reset(),this._zoomMomentumEstimator.reset(),this._zoomOnly=null,this._previousAngle=this._startAngle=e.angle,this._previousRadius=this._startRadius=e.radius,this._previousCenter=e.center,this._updateTimestamp=null,t.constraints.rotationEnabled&&this.addToRotateEstimator(0,e.timestamp),this.addToZoomEstimator(e,1)}},{key:"update",value:function(t,e){null===this._updateTimestamp&&(this._updateTimestamp=e.timestamp);var i=e.angle,n=e.radius,a=e.center,r=Math.abs(180*(i-this._startAngle)/Math.PI),o=Math.abs(n-this._startRadius),s=this._startRadius/n;if(this._previousRadius&&this._previousCenter){var u=n/this._previousRadius,l=180*(i-this._previousAngle)/Math.PI;this._rotationDirection=l>=0?1:-1,this._zoomDirection=u>=1?1:-1,t.constraints.rotationEnabled?(null===this._zoomOnly&&e.timestamp-this._updateTimestamp>200&&(this._zoomOnly=o-r>0),null===this._zoomOnly||this._zoomOnly?l=0:this.addToRotateEstimator(i-this._startAngle,e.timestamp)):l=0,this.addToZoomEstimator(e,s),this.navigation.setViewpoint([a.x,a.y],1/u,l,[this._previousCenter.x-a.x,a.y-this._previousCenter.y])}this._previousAngle=i,this._previousRadius=n,this._previousCenter=a}},{key:"end",value:function(t){this.rotateMomentum=this._rotationMomentumEstimator.evaluateMomentum(),this.zoomMomentum=this._zoomMomentumEstimator.evaluateMomentum(),this._animationTime=0,(this.rotateMomentum||this.zoomMomentum)&&this.onAnimationUpdate(t),this.navigation.end()}},{key:"addToRotateEstimator",value:function(t,e){this._rotationMomentumEstimator.add(t,.001*e)}},{key:"addToZoomEstimator",value:function(t,e){this._zoomMomentumEstimator.add(e,.001*t.timestamp)}},{key:"canZoomIn",value:function(t){var e=t.scale,i=t.constraints.effectiveMaxScale;return 0===i||e>i}},{key:"canZoomOut",value:function(t){var e=t.scale,i=t.constraints.effectiveMinScale;return 0===i||e<i}},{key:"onAnimationUpdate",value:function(t){var e,i=this;null===(e=this.navigation.animationManager)||void 0===e||e.animateContinuous(t.viewpoint,(function(e,n){var a=!i.canZoomIn(t)&&i._zoomDirection>1||!i.canZoomOut(t)&&i._zoomDirection<1,r=!i.rotateMomentum||i.rotateMomentum.isFinished(i._animationTime),o=a||!i.zoomMomentum||i.zoomMomentum.isFinished(i._animationTime),s=.001*n;if(i._momentumFinished=r&&o,!i._momentumFinished){var u=i.rotateMomentum?Math.abs(i.rotateMomentum.valueDelta(i._animationTime,s))*i._rotationDirection*180/Math.PI:0,l=i.zoomMomentum?Math.abs(i.zoomMomentum.valueDelta(i._animationTime,s)):1,h=(0,O.Ue)(),c=(0,O.Ue)();if(i._previousCenter){(0,R.t8)(h,i._previousCenter.x,i._previousCenter.y),(0,g.Dq)(c,t.size,t.padding),(0,R.IH)(h,h,c);var d=t.constraints,v=t.scale,f=v*l;l<1&&!d.canZoomInTo(f)?(l=v/d.effectiveMaxScale,i.zoomMomentum=null,i.rotateMomentum=null):l>1&&!d.canZoomOutTo(f)&&(l=v/d.effectiveMinScale,i.zoomMomentum=null,i.rotateMomentum=null),(0,g.UZ)(e,t.viewpoint,l,u,h,t.size),t.constraints.constrainByGeometry(e)}}i._animationTime+=s}))}},{key:"stopMomentumNavigation",value:function(){(this.rotateMomentum||this.zoomMomentum)&&(this.rotateMomentum&&(this._rotationMomentumEstimator.reset(),this.rotateMomentum=null),this.zoomMomentum&&(this._zoomMomentumEstimator.reset(),this.zoomMomentum=null),this.navigation.stop())}}]),i}(c.default);(0,l._)([(0,_.Cb)()],B.prototype,"_momentumFinished",void 0),(0,l._)([(0,_.Cb)()],B.prototype,"viewpoint",void 0),(0,l._)([(0,_.Cb)()],B.prototype,"navigation",void 0);var F=B=(0,l._)([(0,m.j)("esri.views.2d.navigation.actions.Pinch")],B),U=(0,O.Ue)(),z=(0,O.Ue)(),W=function(t){(0,s.Z)(i,t);var e=(0,u.Z)(i);function i(t){var n;return(0,r.Z)(this,i),(n=e.call(this,t))._previousCenter=(0,O.Ue)(),n.viewpoint=new h.Z({targetGeometry:new p.Z,scale:0,rotation:0}),n}return(0,o.Z)(i,[{key:"begin",value:function(t,e){this.navigation.begin(),(0,R.t8)(this._previousCenter,e.center.x,e.center.y)}},{key:"update",value:function(t,e){var i=t.state,n=i.size,a=i.padding;(0,R.t8)(U,e.center.x,e.center.y),(0,g.ni)(z,n,a),t.viewpoint=(0,g.$H)(this.viewpoint,t.state.paddedViewState.viewpoint,(0,g.dI)(z,this._previousCenter,U)),(0,R.JG)(this._previousCenter,U)}},{key:"end",value:function(){this.navigation.end()}}]),i}(c.default);(0,l._)([(0,_.Cb)()],W.prototype,"viewpoint",void 0),(0,l._)([(0,_.Cb)()],W.prototype,"navigation",void 0);var P=W=(0,l._)([(0,m.j)("esri.views.2d.navigation.actions.Rotate")],W),G=10,q=new h.Z({targetGeometry:new p.Z}),H=[0,0],j=function(t){(0,s.Z)(i,t);var e=(0,u.Z)(i);function i(t){var n;return(0,r.Z)(this,i),(n=e.call(this,t))._endTimer=null,n._lastEventTimestamp=null,n.animationManager=null,n.interacting=!1,n}return(0,o.Z)(i,[{key:"initialize",value:function(){this.pan=new V({navigation:this}),this.rotate=new P({navigation:this}),this.pinch=new F({navigation:this}),this.zoomBox=new I({view:this.view,navigation:this})}},{key:"destroy",value:function(){this.pan=(0,v.SC)(this.pan),this.rotate=(0,v.SC)(this.rotate),this.pinch=(0,v.SC)(this.pinch),this.zoomBox=(0,v.SC)(this.zoomBox),this.animationManager=null}},{key:"begin",value:function(){this.stop(),this._set("interacting",!0)}},{key:"end",value:function(){this._lastEventTimestamp=performance.now(),this._startTimer(250)}},{key:"zoom",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var i,a=arguments;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=a.length>1&&void 0!==a[1]?a[1]:this._getDefaultAnchor(),this.begin(),!this.view.constraints.snapToZoom||!this.view.constraints.effectiveLODs){t.next=3;break}return t.abrupt("return",e<1?this.zoomIn(i):this.zoomOut(i));case 3:this.setViewpoint(i,e,0,[0,0]);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"zoomIn",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var i,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.view,a=i.constraints.snapToNextScale(i.scale),t.abrupt("return",this._zoomToScale(a,e));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"zoomOut",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var i,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.view,a=i.constraints.snapToPreviousScale(i.scale),t.abrupt("return",this._zoomToScale(a,e));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"setViewpoint",value:function(t,e,i,n){this.begin(),this.view.stateManager.state.viewpoint=this._scaleRotateTranslateViewpoint(this.view.viewpoint,t,e,i,n),this.end()}},{key:"setViewpointImmediate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._getDefaultAnchor();this.view.stateManager.state.viewpoint=this._scaleRotateTranslateViewpoint(this.view.viewpoint,n,t,e,i)}},{key:"continuousRotateClockwise",value:function(){var t,e=this.view.viewpoint;null===(t=this.animationManager)||void 0===t||t.animateContinuous(e,(function(t){(0,g.$H)(t,t,-1)}))}},{key:"continuousRotateCounterclockwise",value:function(){var t,e=this.view.viewpoint;null===(t=this.animationManager)||void 0===t||t.animateContinuous(e,(function(t){(0,g.$H)(t,t,1)}))}},{key:"resetRotation",value:function(){this.view.constraints.rotationEnabled&&(this.view.rotation=0)}},{key:"continuousPanLeft",value:function(){this._continuousPan([-10,0])}},{key:"continuousPanRight",value:function(){this._continuousPan([G,0])}},{key:"continuousPanUp",value:function(){this._continuousPan([0,G])}},{key:"continuousPanDown",value:function(){this._continuousPan([0,-10])}},{key:"continuousPanVector",value:function(t){var e=t.x,i=t.y;this._continuousPan([e*G,i*G])}},{key:"stop",value:function(){var t;this.pan.stopMomentumNavigation(),null!==(t=this.animationManager)&&void 0!==t&&t.stop(),this.end(),null!==this._endTimer&&(clearTimeout(this._endTimer),this._endTimer=null,this._set("interacting",!1))}},{key:"_continuousPan",value:function(t){var e,i=this,n=this.view.viewpoint;null===(e=this.animationManager)||void 0===e||e.animateContinuous(n,(function(e){(0,g.Rx)(e,e,t),i.view.constraints.constrainByGeometry(e)}))}},{key:"_startTimer",value:function(t){var e=this;return null!==this._endTimer||(this._endTimer=setTimeout((function(){var t;e._endTimer=null;var i=performance.now()-(null!==(t=e._lastEventTimestamp)&&void 0!==t?t:0);i<250?e._endTimer=e._startTimer(i):e._set("interacting",!1)}),t)),this._endTimer}},{key:"_getDefaultAnchor",value:function(){var t=this.view,e=t.size,i=t.padding,n=i.left,a=i.right,r=i.top,o=i.bottom;return H[0]=.5*(e[0]-a+n),H[1]=.5*(e[1]-o+r),H}},{key:"_zoomToScale",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var i,a,r,o,s,u,l,h,c,v=arguments;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>1&&void 0!==v[1]?v[1]:this._getDefaultAnchor(),a=this.view,r=a.constraints,o=a.scale,s=a.viewpoint,u=a.size,l=a.padding,h=r.canZoomInTo(e),c=r.canZoomOutTo(e),e<o&&!h||e>o&&!c){t.next=4;break}return t.abrupt("return",((0,g.gG)(q,s,e/o,0,i,u,l),r.constrainByGeometry(q),a.goTo(q,{animate:!0,animationMode:"always",duration:(0,f.HA)((0,d.Z)("mapview-essential-goto-duration")),pickClosestTarget:!1})));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_scaleRotateTranslateViewpoint",value:function(t,e,i,n,a){var r=this.view,o=r.size,s=r.padding,u=r.constraints,l=r.scale,h=r.viewpoint,c=l*i,d=u.canZoomInTo(c),v=u.canZoomOutTo(c);return(i<1&&!d||i>1&&!v)&&(i=1),(0,g.Rx)(h,h,a),(0,g.gG)(t,h,i,n,e,o,s),u.constrainByGeometry(t)}}]),i}(c.default);(0,l._)([(0,_.Cb)()],j.prototype,"animationManager",void 0),(0,l._)([(0,_.Cb)({type:Boolean,readOnly:!0})],j.prototype,"interacting",void 0),(0,l._)([(0,_.Cb)()],j.prototype,"pan",void 0),(0,l._)([(0,_.Cb)()],j.prototype,"pinch",void 0),(0,l._)([(0,_.Cb)()],j.prototype,"rotate",void 0),(0,l._)([(0,_.Cb)()],j.prototype,"view",void 0),(0,l._)([(0,_.Cb)()],j.prototype,"zoomBox",void 0);var X=j=(0,l._)([(0,m.j)("esri.views.2d.navigation.MapViewNavigation")],j)},98634:function(t,e,i){i.d(e,{H:function(){return o},K:function(){return r}});var n=i(43144),a=i(15671),r=(0,n.Z)((function t(){(0,a.Z)(this,t)}));function o(t){for(var e="",i=0;i<(arguments.length<=1?0:arguments.length-1);i++)e+=t[i]+(i+1<1||arguments.length<=i+1?void 0:arguments[i+1]);return e+=t[t.length-1]}!function(t){t.int=function(t){return Math.round(t).toString()},t.float=function(t){return t.toPrecision(8)}}(o||(o={}))},68401:function(t,e,i){var n,a,r,o,s,u,l,h,c;i.d(e,{Gv:function(){return a},Iq:function(){return h},JJ:function(){return l},Rw:function(){return o},Ti:function(){return c},V_:function(){return u},Vr:function(){return n},Xx:function(){return r},hU:function(){return s}}),function(t){t[t.None=0]="None",t[t.Front=1]="Front",t[t.Back=2]="Back",t[t.COUNT=3]="COUNT"}(n||(n={})),function(t){t[t.Less=0]="Less",t[t.Lequal=1]="Lequal",t[t.COUNT=2]="COUNT"}(a||(a={})),function(t){t[t.BACKGROUND=0]="BACKGROUND",t[t.UPDATE=1]="UPDATE"}(r||(r={})),function(t){t[t.NOT_LOADED=0]="NOT_LOADED",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED"}(o||(o={})),function(t){t[t.IntegratedMeshMaskExcluded=1]="IntegratedMeshMaskExcluded",t[t.OutlineVisualElementMask=2]="OutlineVisualElementMask"}(s||(s={})),function(t){t[t.Highlight=0]="Highlight",t[t.MaskOccludee=1]="MaskOccludee",t[t.COUNT=2]="COUNT"}(u||(u={})),function(t){t[t.Blend=0]="Blend",t[t.Opaque=1]="Opaque",t[t.Mask=2]="Mask",t[t.MaskBlend=3]="MaskBlend",t[t.COUNT=4]="COUNT"}(l||(l={})),function(t){t[t.OFF=0]="OFF",t[t.ON=1]="ON"}(h||(h={})),function(t){t.DDS_ENCODING="image/vnd-ms.dds",t.KTX2_ENCODING="image/ktx2",t.BASIS_ENCODING="image/x.basis"}(c||(c={}))},78738:function(t,e,i){i.d(e,{J:function(){return r}});var n=i(15671),a=i(43144),r=function(){function t(e){(0,n.Z)(this,t),this._gain=e,this.lastValue=void 0,this.filteredDelta=void 0}return(0,a.Z)(t,[{key:"update",value:function(t){if(this.hasLastValue()){var e=this.computeDelta(t);this._updateDelta(e)}this.lastValue=t}},{key:"reset",value:function(){this.lastValue=void 0,this.filteredDelta=void 0}},{key:"hasLastValue",value:function(){return void 0!==this.lastValue}},{key:"hasFilteredDelta",value:function(){return void 0!==this.filteredDelta}},{key:"computeDelta",value:function(t){return void 0===this.lastValue?NaN:t-this.lastValue}},{key:"_updateDelta",value:function(t){void 0!==this.filteredDelta?this.filteredDelta=(1-this._gain)*this.filteredDelta+this._gain*t:this.filteredDelta=t}}]),t}()},99742:function(t,e,i){i.d(e,{X:function(){return r}});var n=i(15671),a=i(43144),r=function(){function t(e,i,a){(0,n.Z)(this,t),this._initialVelocity=e,this._stopVelocity=i,this._friction=a,this._duration=Math.abs(Math.log(Math.abs(this._initialVelocity)/this._stopVelocity)/Math.log(1-this._friction))}return(0,a.Z)(t,[{key:"duration",get:function(){return this._duration}},{key:"isFinished",value:function(t){return t>this.duration}},{key:"friction",get:function(){return this._friction}},{key:"value",value:function(t){return this.valueFromInitialVelocity(this._initialVelocity,t)}},{key:"valueDelta",value:function(t,e){var i=this.value(t);return this.value(t+e)-i}},{key:"valueFromInitialVelocity",value:function(t,e){e=Math.min(e,this.duration);var i=1-this.friction;return t*(Math.pow(i,e)-1)/Math.log(i)}}]),t}()},82332:function(t,e,i){i.d(e,{s:function(){return u}});var n=i(15671),a=i(43144),r=i(16889),o=i(78738),s=i(99742),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.95,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:12;(0,n.Z)(this,t),this._minimumInitialVelocity=e,this._stopVelocity=i,this._friction=a,this._maxVelocity=r,this.enabled=!0,this.value=new o.J(.8),this.time=new o.J(.3)}return(0,a.Z)(t,[{key:"add",value:function(t,e){if(this.enabled&&null!=e){if(this.time.hasLastValue()){if(this.time.computeDelta(e)<.01)return;if(this.value.hasFilteredDelta()){var i=this.value.computeDelta(t);this.value.filteredDelta*i<0&&this.value.reset()}}this.time.update(e),this.value.update(t)}}},{key:"reset",value:function(){this.value.reset(),this.time.reset()}},{key:"evaluateMomentum",value:function(){if(!this.enabled||!this.value.hasFilteredDelta()||!this.time.hasFilteredDelta())return null;var t=this.value.filteredDelta/this.time.filteredDelta;return t=(0,r.uZ)(t,-this._maxVelocity,this._maxVelocity),Math.abs(t)<this._minimumInitialVelocity?null:this.createMomentum(t,this._stopVelocity,this._friction)}},{key:"createMomentum",value:function(t,e,i){return new s.X(t,e,i)}}]),t}()},87022:function(t,e,i){i.d(e,{G:function(){return v}});var n=i(15671),a=i(43144),r=i(88301),o=i(61120),s=i(60136),u=i(29388),l=i(32035),h=i(12400),c=i(78738),d=function(t){(0,s.Z)(i,t);var e=(0,u.Z)(i);function i(t,a,r,o,s){var u;return(0,n.Z)(this,i),(u=e.call(this,t,a,r))._sceneVelocity=o,u.direction=s,u}return(0,a.Z)(i,[{key:"value",value:function(t){return(0,r.Z)((0,o.Z)(i.prototype),"valueFromInitialVelocity",this).call(this,this._sceneVelocity,t)}}]),i}(i(99742).X),v=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.84;(0,n.Z)(this,t),this._minimumInitialVelocity=e,this._stopVelocity=i,this._friction=a,this.enabled=!0,this._time=new c.J(.6),this._screen=[new c.J(.4),new c.J(.4)],this._scene=[new c.J(.6),new c.J(.6),new c.J(.6)],this._tmpDirection=(0,h.Ue)()}return(0,a.Z)(t,[{key:"add",value:function(t,e,i){if(this.enabled){if(this._time.hasLastValue()&&this._time.computeDelta(i)<.015)return;this._screen[0].update(t[0]),this._screen[1].update(t[1]),this._scene[0].update(e[0]),this._scene[1].update(e[1]),this._scene[2].update(e[2]),this._time.update(i)}}},{key:"reset",value:function(){this._screen[0].reset(),this._screen[1].reset(),this._scene[0].reset(),this._scene[1].reset(),this._scene[2].reset(),this._time.reset()}},{key:"evaluateMomentum",value:function(){if(!this.enabled||!this._screen[0].hasFilteredDelta()||!this._time.hasFilteredDelta())return null;var t=this._screen[0].filteredDelta,e=this._screen[1].filteredDelta,i=null==t||null==e?0:Math.sqrt(t*t+e*e),n=this._time.filteredDelta,a=null==n||null==i?0:i/n;return Math.abs(a)<this._minimumInitialVelocity?null:this.createMomentum(a,this._stopVelocity,this._friction)}},{key:"createMomentum",value:function(t,e,i){var n,a,r;(0,l.s)(this._tmpDirection,null!==(n=this._scene[0].filteredDelta)&&void 0!==n?n:0,null!==(a=this._scene[1].filteredDelta)&&void 0!==a?a:0,null!==(r=this._scene[2].filteredDelta)&&void 0!==r?r:0);var o=(0,l.l)(this._tmpDirection);o>0&&(0,l.j)(this._tmpDirection,this._tmpDirection,1/o);var s=this._time.filteredDelta;return new d(t,e,i,null==s?0:o/s,this._tmpDirection)}}]),t}()},19475:function(t,e,i){i.d(e,{y:function(){return l}});var n=i(15671),a=i(43144),r=i(88301),o=i(61120),s=i(60136),u=i(29388),l=function(t){(0,s.Z)(i,t);var e=(0,u.Z)(i);function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.95,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:12;return(0,n.Z)(this,i),e.call(this,t,a,r,o)}return(0,a.Z)(i,[{key:"add",value:function(t,e){var n=this.value.lastValue;if(null!=n){for(var a=t-n;a>Math.PI;)a-=2*Math.PI;for(;a<-Math.PI;)a+=2*Math.PI;t=n+a}(0,r.Z)((0,o.Z)(i.prototype),"add",this).call(this,t,e)}}]),i}(i(82332).s)},62124:function(t,e,i){i.d(e,{D:function(){return d}});var n=i(15671),a=i(43144),r=i(88301),o=i(61120),s=i(60136),u=i(29388),l=i(99742),h=i(82332),c=function(t){(0,s.Z)(i,t);var e=(0,u.Z)(i);function i(t,a,r){return(0,n.Z)(this,i),e.call(this,t,a,r)}return(0,a.Z)(i,[{key:"value",value:function(t){var e=(0,r.Z)((0,o.Z)(i.prototype),"value",this).call(this,t);return Math.exp(e)}},{key:"valueDelta",value:function(t,e){var n=(0,r.Z)((0,o.Z)(i.prototype),"value",this).call(this,t),a=(0,r.Z)((0,o.Z)(i.prototype),"value",this).call(this,t+e)-n;return Math.exp(a)}}]),i}(l.X),d=function(t){(0,s.Z)(i,t);var e=(0,u.Z)(i);function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2.5,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.95,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:12;return(0,n.Z)(this,i),e.call(this,t,a,r,o)}return(0,a.Z)(i,[{key:"add",value:function(t,e){(0,r.Z)((0,o.Z)(i.prototype),"add",this).call(this,Math.log(t),e)}},{key:"createMomentum",value:function(t,e,i){return new c(t,e,i)}}]),i}(h.s)},36207:function(t,e,i){i.d(e,{BK:function(){return f},LZ:function(){return v},Rd:function(){return h},if:function(){return u},jp:function(){return H},sg:function(){return c},sm:function(){return M},wK:function(){return l},zp:function(){return d}});var n=i(1413),a=i(15671),r=i(43144),o=i(68401),s=i(8548);function u(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.db.ADD,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,0,0,0];return{srcRgb:t,srcAlpha:t,dstRgb:e,dstAlpha:e,opRgb:i,opAlpha:i,color:{r:n[0],g:n[1],b:n[2],a:n[3]}}}function l(t,e,i,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.db.ADD,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:s.db.ADD,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[0,0,0,0];return{srcRgb:t,srcAlpha:e,dstRgb:i,dstAlpha:n,opRgb:a,opAlpha:r,color:{r:o[0],g:o[1],b:o[2],a:o[3]}}}var h={face:s.LR.BACK,mode:s.Wf.CCW},c={face:s.LR.FRONT,mode:s.Wf.CCW},d=function(t){return t===o.Vr.Back?h:t===o.Vr.Front?c:null},v={zNear:0,zFar:1},f={r:!0,g:!0,b:!0,a:!0};function _(t){return I.intern(t)}function m(t){return x.intern(t)}function p(t){return E.intern(t)}function g(t){return V.intern(t)}function y(t){return O.intern(t)}function w(t){return N.intern(t)}function k(t){return F.intern(t)}function b(t){return z.intern(t)}function Z(t){return P.intern(t)}function M(t){return q.intern(t)}var T=function(){function t(e,i){(0,a.Z)(this,t),this._makeKey=e,this._makeRef=i,this._interns=new Map}return(0,r.Z)(t,[{key:"intern",value:function(t){var e;if(!t)return null;var i=this._makeKey(t),n=this._interns;return n.has(i)||n.set(i,this._makeRef(t)),null!==(e=n.get(i))&&void 0!==e?e:null}}]),t}();function C(t){return"["+t.join(",")+"]"}var I=new T(S,(function(t){return(0,n.Z)({__tag:"Blending"},t)}));function S(t){return t?C([t.srcRgb,t.srcAlpha,t.dstRgb,t.dstAlpha,t.opRgb,t.opAlpha,t.color.r,t.color.g,t.color.b,t.color.a]):null}var x=new T(D,(function(t){return(0,n.Z)({__tag:"Culling"},t)}));function D(t){return t?C([t.face,t.mode]):null}var E=new T(L,(function(t){return(0,n.Z)({__tag:"PolygonOffset"},t)}));function L(t){return t?C([t.factor,t.units]):null}var V=new T(R,(function(t){return(0,n.Z)({__tag:"DepthTest"},t)}));function R(t){return t?C([t.func]):null}var O=new T(A,(function(t){return(0,n.Z)({__tag:"StencilTest"},t)}));function A(t){return t?C([t.function.func,t.function.ref,t.function.mask,t.operation.fail,t.operation.zFail,t.operation.zPass]):null}var N=new T(B,(function(t){return(0,n.Z)({__tag:"DepthWrite"},t)}));function B(t){return t?C([t.zNear,t.zFar]):null}var F=new T(U,(function(t){return(0,n.Z)({__tag:"ColorWrite"},t)}));function U(t){return t?C([t.r,t.g,t.b,t.a]):null}var z=new T(W,(function(t){return(0,n.Z)({__tag:"StencilWrite"},t)}));function W(t){return t?C([t.mask]):null}var P=new T(G,(function(t){return(0,n.Z)({__tag:"DrawBuffers"},t)}));function G(t){return t?C(t.buffers):null}var q=new T((function(t){return t?C([S(t.blending),D(t.culling),L(t.polygonOffset),R(t.depthTest),A(t.stencilTest),B(t.depthWrite),U(t.colorWrite),W(t.stencilWrite),G(t.drawBuffers)]):null}),(function(t){return{blending:_(t.blending),culling:m(t.culling),polygonOffset:p(t.polygonOffset),depthTest:g(t.depthTest),stencilTest:y(t.stencilTest),depthWrite:w(t.depthWrite),colorWrite:k(t.colorWrite),stencilWrite:b(t.stencilWrite),drawBuffers:Z(t.drawBuffers)}}));var H=function(){function t(e){(0,a.Z)(this,t),this._pipelineInvalid=!0,this._blendingInvalid=!0,this._cullingInvalid=!0,this._polygonOffsetInvalid=!0,this._depthTestInvalid=!0,this._stencilTestInvalid=!0,this._depthWriteInvalid=!0,this._colorWriteInvalid=!0,this._stencilWriteInvalid=!0,this._drawBuffersInvalid=!0,this._stateSetters=e}return(0,r.Z)(t,[{key:"setPipeline",value:function(t){(this._pipelineInvalid||t!==this._pipeline)&&(this._setBlending(t.blending),this._setCulling(t.culling),this._setPolygonOffset(t.polygonOffset),this._setDepthTest(t.depthTest),this._setStencilTest(t.stencilTest),this._setDepthWrite(t.depthWrite),this._setColorWrite(t.colorWrite),this._setStencilWrite(t.stencilWrite),this._setDrawBuffers(t.drawBuffers),this._pipeline=t),this._pipelineInvalid=!1}},{key:"invalidateBlending",value:function(){this._blendingInvalid=!0,this._pipelineInvalid=!0}},{key:"invalidateCulling",value:function(){this._cullingInvalid=!0,this._pipelineInvalid=!0}},{key:"invalidatePolygonOffset",value:function(){this._polygonOffsetInvalid=!0,this._pipelineInvalid=!0}},{key:"invalidateDepthTest",value:function(){this._depthTestInvalid=!0,this._pipelineInvalid=!0}},{key:"invalidateStencilTest",value:function(){this._stencilTestInvalid=!0,this._pipelineInvalid=!0}},{key:"invalidateDepthWrite",value:function(){this._depthWriteInvalid=!0,this._pipelineInvalid=!0}},{key:"invalidateColorWrite",value:function(){this._colorWriteInvalid=!0,this._pipelineInvalid=!0}},{key:"invalidateStencilWrite",value:function(){this._stencilTestInvalid=!0,this._pipelineInvalid=!0}},{key:"invalidateDrawBuffers",value:function(){this._drawBuffersInvalid=!0,this._pipelineInvalid=!0}},{key:"_setBlending",value:function(t){this._blending=this._setSubState(t,this._blending,this._blendingInvalid,this._stateSetters.setBlending),this._blendingInvalid=!1}},{key:"_setCulling",value:function(t){this._culling=this._setSubState(t,this._culling,this._cullingInvalid,this._stateSetters.setCulling),this._cullingInvalid=!1}},{key:"_setPolygonOffset",value:function(t){this._polygonOffset=this._setSubState(t,this._polygonOffset,this._polygonOffsetInvalid,this._stateSetters.setPolygonOffset),this._polygonOffsetInvalid=!1}},{key:"_setDepthTest",value:function(t){this._depthTest=this._setSubState(t,this._depthTest,this._depthTestInvalid,this._stateSetters.setDepthTest),this._depthTestInvalid=!1}},{key:"_setStencilTest",value:function(t){this._stencilTest=this._setSubState(t,this._stencilTest,this._stencilTestInvalid,this._stateSetters.setStencilTest),this._stencilTestInvalid=!1}},{key:"_setDepthWrite",value:function(t){this._depthWrite=this._setSubState(t,this._depthWrite,this._depthWriteInvalid,this._stateSetters.setDepthWrite),this._depthWriteInvalid=!1}},{key:"_setColorWrite",value:function(t){this._colorWrite=this._setSubState(t,this._colorWrite,this._colorWriteInvalid,this._stateSetters.setColorWrite),this._colorWriteInvalid=!1}},{key:"_setStencilWrite",value:function(t){this._stencilWrite=this._setSubState(t,this._stencilWrite,this._stencilWriteInvalid,this._stateSetters.setStencilWrite),this._stencilTestInvalid=!1}},{key:"_setDrawBuffers",value:function(t){this._drawBuffers=this._setSubState(t,this._drawBuffers,this._drawBuffersInvalid,this._stateSetters.setDrawBuffers),this._drawBuffersInvalid=!1}},{key:"_setSubState",value:function(t,e,i,n){return(i||t!==e)&&(n(t),this._pipelineInvalid=!0),t}}]),t}()}}]);
//# sourceMappingURL=10329.91f4ed36.chunk.js.map