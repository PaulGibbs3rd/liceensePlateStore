"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[50098],{50098:function(e,r,n){n.r(r),n.d(r,{alterVersion:function(){return f},serverVersionCacheMap:function(){return p}});var t=n(74165),s=n(1413),i=n(15861),a=n(76200),u=n(10064),o=n(23084),c=n(3231),p=new Map;function f(e,r,n,t){return v.apply(this,arguments)}function v(){return v=(0,i.Z)((0,t.Z)().mark((function e(r,n,i,f){var v,h,l,d,Z,g,w,k;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=p.has(r),e.t0){e.next=4;break}return e.next=4,(0,c.P)(p,r);case 4:if(h=p.get(r),!((null!==(v=null===h||void 0===h?void 0:h.serverVersion)&&void 0!==v?v:0)<=11.1)){e.next=7;break}throw new u.Z("alterVersion:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");case 7:if(n){e.next=9;break}throw new u.Z("alterVersion:missing-guid","guid for version is missing");case 9:return l=(0,o.en)(r),d=i.toJSON(),Z=(0,o.lA)(l.query,(0,s.Z)((0,s.Z)({query:(0,o.cv)((0,s.Z)((0,s.Z)({},d),{},{f:"json"}))},f),{},{authMode:"immediate",method:"post"})),n.startsWith("{")&&(n=n.slice(1,-1)),g="".concat(l.path,"/versions/").concat(n,"/alter"),e.next=14,(0,a.Z)(g,Z);case 14:return w=e.sent,k=w.data,e.abrupt("return",!!k&&k.success);case 17:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}},3231:function(e,r,n){n.d(r,{P:function(){return a}});var t=n(74165),s=n(15861),i=n(76200);function a(e,r){return u.apply(this,arguments)}function u(){return u=(0,s.Z)((0,t.Z)().mark((function e(r,n){var s,a,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=null,a="string"==typeof n?n:n.path,r.has(a)){e.next=7;break}return e.next=5,(0,i.Z)(a.replace(/\/VersionManagementServer/i,"/FeatureServer"),{query:{f:"json"}});case 5:u=e.sent,s={serverVersion:Number(u.data.currentVersion),featureServerUrl:a.replace(/\/VersionManagementServer/i,"/FeatureServer")},r.set(n,s);case 7:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}}}]);
//# sourceMappingURL=50098.2dac5b96.chunk.js.map