"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[67673,93655],{55364:function(e,t,n){function i(){return[1,0,0,1,0,0]}function o(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}n.d(t,{Ue:function(){return i},Wd:function(){return r},d9:function(){return o}});var r=[1,0,0,1,0,0];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:r,clone:o,create:i,createView:function(e,t){return new Float64Array(e,t,6)},fromValues:function(e,t,n,i,o,r){return[e,t,n,i,o,r]}},Symbol.toStringTag,{value:"Module"}))},50264:function(e,t,n){n.d(t,{Iu:function(){return d},Jp:function(){return s},U1:function(){return l},U_:function(){return a},Us:function(){return c},bA:function(){return u},t8:function(){return r},vc:function(){return v},xJ:function(){return p},yR:function(){return o}});var i=n(24204);function o(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function r(e,t,n,i,o,r,a){return e[0]=t,e[1]=n,e[2]=i,e[3]=o,e[4]=r,e[5]=a,e}function a(e,t){var n=t[0],i=t[1],o=t[2],r=t[3],a=t[4],s=t[5],l=n*r-i*o;return l?(l=1/l,e[0]=r*l,e[1]=-i*l,e[2]=-o*l,e[3]=n*l,e[4]=(o*s-r*a)*l,e[5]=(i*a-n*s)*l,e):null}function s(e,t,n){var i=t[0],o=t[1],r=t[2],a=t[3],s=t[4],l=t[5],u=n[0],d=n[1],c=n[2],p=n[3],v=n[4],h=n[5];return e[0]=i*u+r*d,e[1]=o*u+a*d,e[2]=i*c+r*p,e[3]=o*c+a*p,e[4]=i*v+r*h+s,e[5]=o*v+a*h+l,e}function l(e,t,n){var i=t[0],o=t[1],r=t[2],a=t[3],s=t[4],l=t[5],u=Math.sin(n),d=Math.cos(n);return e[0]=i*d+r*u,e[1]=o*d+a*u,e[2]=i*-u+r*d,e[3]=o*-u+a*d,e[4]=s,e[5]=l,e}function u(e,t,n){var i=t[0],o=t[1],r=t[2],a=t[3],s=t[4],l=t[5],u=n[0],d=n[1];return e[0]=i*u,e[1]=o*u,e[2]=r*d,e[3]=a*d,e[4]=s,e[5]=l,e}function d(e,t,n){var i=t[0],o=t[1],r=t[2],a=t[3],s=t[4],l=t[5],u=n[0],d=n[1];return e[0]=i,e[1]=o,e[2]=r,e[3]=a,e[4]=i*u+r*d+s,e[5]=o*u+a*d+l,e}function c(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=n,e[2]=-n,e[3]=i,e[4]=0,e[5]=0,e}function p(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function v(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function h(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e}var _=s,f=h;Object.freeze(Object.defineProperty({__proto__:null,add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},determinant:function(e){return e[0]*e[3]-e[1]*e[2]},equals:function(e,t){var n=e[0],o=e[1],r=e[2],a=e[3],s=e[4],l=e[5],u=t[0],d=t[1],c=t[2],p=t[3],v=t[4],h=t[5],_=(0,i.bn)();return Math.abs(n-u)<=_*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-d)<=_*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(r-c)<=_*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(a-p)<=_*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(s-v)<=_*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(l-h)<=_*Math.max(1,Math.abs(l),Math.abs(h))},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]},frob:function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)},fromRotation:c,fromScaling:p,fromTranslation:v,identity:o,invert:a,mul:_,multiply:s,multiplyScalar:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e},multiplyScalarAndAdd:function(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e[3]=t[3]+n[3]*i,e[4]=t[4]+n[4]*i,e[5]=t[5]+n[5]*i,e},rotate:l,scale:u,set:r,str:function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},sub:f,subtract:h,translate:d},Symbol.toStringTag,{value:"Module"}))},68748:function(e,t,n){n.d(t,{a:function(){return v},z:function(){return h}});var i=n(37762),o=n(15671),r=n(43144),a=n(60136),s=n(29388),l=n(27366),u=n(80987),d=n(60354),c=(n(93169),n(32718),n(49861)),p=(n(84936),n(69912)),v=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var i;return(0,o.Z)(this,n),(i=t.call(this,e)).addHandles([i.on("before-add",(function(e){null==e.item&&e.preventDefault()})),i.on("after-add",(function(e){return i._own(e.item)})),i.on("after-remove",(function(e){return i._release(e.item)}))]),i}return(0,r.Z)(n,[{key:"owner",get:function(){return this._get("owner")},set:function(e){e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}},{key:"_ownAll",value:function(){var e,t=(0,i.Z)(this.items);try{for(t.s();!(e=t.n()).done;){var n=e.value;this._own(n)}}catch(o){t.e(o)}finally{t.f()}}},{key:"_releaseAll",value:function(){var e,t=(0,i.Z)(this.items);try{for(t.s();!(e=t.n()).done;){var n=e.value;this._release(n)}}catch(o){t.e(o)}finally{t.f()}}},{key:"_createNewInstance",value:function(e){return this.itemType?new(u.Z.ofType(this.itemType.Type))(e):new u.Z(e)}}]),n}(u.Z);function h(e,t){return{type:e,cast:d.R,set:function(n){var i=(0,d.Z)(n,this._get(t),e);i.owner=this,this._set(t,i)}}}(0,l._)([(0,c.Cb)()],v.prototype,"owner",null),v=(0,l._)([(0,p.j)("esri.core.support.OwningCollection")],v)},93655:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var i=n(15671),o=n(43144),r=n(88301),a=n(61120),s=n(60136),l=n(29388),u=n(27366),d=n(49861),c=(n(93169),n(32718),n(84936),n(69912)),p=n(68748),v=n(30651),h=n(6693),_=n(56811),f=n(78983),y=n(64575),m=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(e){var o;return(0,i.Z)(this,n),(o=t.call(this,e)).elevationInfo=null,o.graphics=new f.J,o.screenSizePerspectiveEnabled=!0,o.type="graphics",o.internal=!1,o}return(0,o.Z)(n,[{key:"destroy",value:function(){this.removeAll(),this.graphics.destroy()}},{key:"add",value:function(e){return this.graphics.add(e),this}},{key:"addMany",value:function(e){return this.graphics.addMany(e),this}},{key:"removeAll",value:function(){return this.graphics.removeAll(),this}},{key:"remove",value:function(e){this.graphics.remove(e)}},{key:"removeMany",value:function(e){this.graphics.removeMany(e)}},{key:"on",value:function(e,t){return(0,r.Z)((0,a.Z)(n.prototype),"on",this).call(this,e,t)}},{key:"graphicChanged",value:function(e){this.emit("graphic-update",e)}}]),n}((0,h.h7)((0,_.M)(v.Z)));(0,u._)([(0,d.Cb)({type:y.Z})],m.prototype,"elevationInfo",void 0),(0,u._)([(0,d.Cb)((0,p.z)(f.J,"graphics"))],m.prototype,"graphics",void 0),(0,u._)([(0,d.Cb)({type:["show","hide"]})],m.prototype,"listMode",void 0),(0,u._)([(0,d.Cb)()],m.prototype,"screenSizePerspectiveEnabled",void 0),(0,u._)([(0,d.Cb)({readOnly:!0})],m.prototype,"type",void 0),(0,u._)([(0,d.Cb)({constructOnly:!0})],m.prototype,"internal",void 0);var w=m=(0,u._)([(0,c.j)("esri.layers.GraphicsLayer")],m)},70178:function(e,t,n){n.d(t,{Fz:function(){return l},fS:function(){return d},kg:function(){return s}});n(93169);var i=n(16889),o=n(92975);function r(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var i=e[n],o=t[n];if(i.length!==o.length)return!1;for(var r=0;r<i.length;r++)if(i[r]!==o[r])return!1}return!0}function a(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1;return!0}function s(e,t){return e===t||null!=e&&null!=t&&(0,o.fS)(e.spatialReference,t.spatialReference)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.m===t.m}function l(e,t,n){var r,a,s,l;return e===t||null!=e&&null!=t&&(0,o.fS)(e.spatialReference,t.spatialReference)&&(0,i.W8)(e.x,t.x,n)&&(0,i.W8)(e.y,t.y,n)&&(0,i.W8)(null!==(r=e.z)&&void 0!==r?r:0,null!==(a=t.z)&&void 0!==a?a:0,n)&&(0,i.W8)(null!==(s=e.m)&&void 0!==s?s:0,null!==(l=t.m)&&void 0!==l?l:0,n)}function u(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.type!==t.type)return!1;switch(e.type){case"point":return s(e,t);case"extent":return function(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&!!(0,o.fS)(e.spatialReference,t.spatialReference)&&e.xmin===t.xmin&&e.ymin===t.ymin&&e.zmin===t.zmin&&e.xmax===t.xmax&&e.ymax===t.ymax&&e.zmax===t.zmax}(e,t);case"polyline":return function(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&!!(0,o.fS)(e.spatialReference,t.spatialReference)&&a(e.paths,t.paths)}(e,t);case"polygon":return function(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&!!(0,o.fS)(e.spatialReference,t.spatialReference)&&a(e.rings,t.rings)}(e,t);case"multipoint":return function(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&!!(0,o.fS)(e.spatialReference,t.spatialReference)&&r(e.points,t.points)}(e,t);case"mesh":return!1;default:return}}function d(e,t){return e===t||null!=e&&null!=t&&e.objectId===t.objectId&&!!u(e.geometry,t.geometry)&&!!function(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var o=0,r=n;o<r.length;o++){var a=r[o];if(e[a]!==t[a])return!1}return!0}(e.attributes,t.attributes)}},37818:function(e,t,n){n.d(t,{D:function(){return m},Ou:function(){return d},WG:function(){return y},kB:function(){return v},mW:function(){return p}});var i=n(37762),o=(n(59486),n(52639)),r=(n(93169),n(84652)),a=n(18722),s=n(77981),l=n(55946),u=n(78952);function d(e){return"declaredClass"in e}function c(e){return"declaredClass"in e}function p(e,t){return e?"declaredClass"in e?e:new o.Z({layer:t,sourceLayer:t,visible:e.visible,symbol:(0,r.d9)(e.symbol),attributes:(0,r.d9)(e.attributes),geometry:v(e.geometry)}):null}function v(e){return null==e?null:d(e)?e:(0,s.im)(function(e){var t=e.spatialReference,n=t.wkid,i=t.wkt,o=t.wkt2,r=t.latestWkid,a={wkid:n,wkt:i,wkt2:o,latestWkid:r};switch(e.type){case"point":return{x:e.x,y:e.y,z:e.z,m:e.m,spatialReference:a};case"polygon":var s=e.rings,l=e.hasZ,u=e.hasM;return{rings:h(s),hasZ:l,hasM:u,spatialReference:a};case"polyline":var d=e.paths,c=e.hasZ,p=e.hasM;return{paths:h(d),hasZ:c,hasM:p,spatialReference:a};case"extent":return{xmin:e.xmin,xmax:e.xmax,ymin:e.ymin,ymax:e.ymax,zmin:e.zmin,zmax:e.zmax,mmin:e.mmin,mmax:e.mmax,hasZ:e.hasZ,hasM:e.hasM,spatialReference:a};case"multipoint":var v=e.points,y=e.hasZ,m=e.hasM;return{points:f(v)?_(v):v,hasZ:y,hasM:m,spatialReference:a};default:return}}(e))}function h(e){return function(e){var t,n=(0,i.Z)(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(0!==o.length)return f(o)}}catch(r){n.e(r)}finally{n.f()}return!1}(e)?e.map((function(e){return _(e)})):e}function _(e){return e.map((function(e){return Array.from(e)}))}function f(e){return e.length>0&&((0,a.xZ)(e[0])||(0,a.fS)(e[0]))}function y(e,t){if(!e)return null;var n;if(c(e)){if(null==t)return e.clone();if(c(t))return t.copy(e)}return null!=t?((n=t).x=e.x,n.y=e.y,n.spatialReference=e.spatialReference,e.hasZ?(n.z=e.z,n.hasZ=e.hasZ):(n.z=void 0,n.hasZ=!1),e.hasM?(n.m=e.m,n.hasM=!0):(n.m=void 0,n.hasM=!1)):(n=(0,l.T)(e.x,e.y,e.z,e.spatialReference),e.hasM&&(n.m=e.m,n.hasM=!0)),n}function m(e){var t={wkid:e.wkid,wkt:e.wkt,wkt2:e.wkt2,latestWkid:e.latestWkid};return u.Z.fromJSON(t)}},78983:function(e,t,n){n.d(t,{J:function(){return p}});var i=n(15671),o=n(43144),r=n(60136),a=n(29388),s=n(27366),l=n(52639),u=(n(32718),n(25243)),d=(n(84936),n(93169),n(10064),n(42017)),c=n(69912),p=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"_own",value:function(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}},{key:"_release",value:function(e){e.layer===this.owner&&(e.layer=null)}}]),n}(n(68748).a);(0,s._)([(0,d.c)({Type:l.Z,ensureType:(0,u.se)(l.Z)})],p.prototype,"itemType",void 0),p=(0,s._)([(0,c.j)("esri.support.GraphicsCollection")],p)},9843:function(e,t,n){n.d(t,{Z:function(){return ie}});var i,o=n(1413),r=n(15671),a=n(43144),s=n(60136),l=n(29388),u=n(27366),d=n(7138),c=(n(93169),n(49861)),p=(n(32718),n(84936),n(69912)),v=n(93433),h=n(88301),_=n(61120),f=(n(59486),n(10064),n(91505)),y=n(84652),m=n(92026),w=n(66978),g=n(17842),x=n(93655),O=n(55946),k=n(50951),C=n(85577),b=n(14813),T=n(84954),V=n(17877),P=n(34019),Z=n(71040),S=i=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(e){var o,a;return(0,r.Z)(this,n),(a=t.call(this,e))._hasZ=null,a._cursorScreenPoint=null,a._activePointerId=null,a._stagedVertexUnsnapped=null,a._lastVertexUnsnapped=null,a.interactiveUndoDisabled=!1,a.history=[],a.redoHistory=[],a.snapToScene=!1,a.view=null,a.elevationInfo=null,a.defaultZ=0,a._coordinateHelper=(0,b.Y6)(!!e.hasZ,!1,e.view.spatialReference),a._snappingManager=e.snappingManager,a._editGeometryOperations=new V.c(new T.XE(null!==(o=e.editGeometryType)&&void 0!==o?o:"polygon",a._coordinateHelper),k.JY.Local),a._snappingGraphicsLayer=new x.default({id:i.SNAPPING_GRAPHICS_LAYER_ID,listMode:"hide",internal:!0}),a._snappingContext=new P.N({editGeometryOperations:a._editGeometryOperations,elevationInfo:{mode:"on-the-ground",offset:0},pointer:"mouse",visualizer:new C.r(a._snappingGraphicsLayer)}),a._activeComponent=new T.wA(e.view.spatialReference,k.JY.Local),a._editGeometryOperations.data.components.push(a._activeComponent),a}return(0,a.Z)(n,[{key:"normalizeCtorArgs",value:function(e){var t=(0,o.Z)({},e);return delete t.editGeometryType,delete t.snappingManager,t}},{key:"initialize",value:function(){this._snappingOperation=new Z.y({view:this.view}),"2d"===this.view.type&&this.view.map.layers.add(this._snappingGraphicsLayer)}},{key:"destroy",value:function(){this.view.map.layers.remove(this._snappingGraphicsLayer),this._snappingGraphicsLayer.destroy(),null!=this._snappingManager&&this._snappingManager.doneSnapping(),this._snappingOperation=(0,m.SC)(this._snappingOperation),this._editGeometryOperations.destroy()}},{key:"_committedVertices",get:function(){return this._editGeometryOperations.data.components[0].vertices.map((function(e){return e.pos}))}},{key:"vertices",get:function(){return null!=this._stagedVertex?[].concat((0,v.Z)(this._committedVertices),[this._coordinateHelper.pointToArray(this._stagedVertex)]):this._committedVertices}},{key:"hasZ",get:function(){return null!=this._hasZ?this._hasZ:"3d"===this.view.type},set:function(e){this._hasZ=e,this.notifyChange("hasZ")}},{key:"_stagedVertex",get:function(){return this._snappingOperation.stagedPoint},set:function(e){this._snappingOperation.stagedPoint=(0,y.d9)(e)}},{key:"canUndo",value:function(){return this._editGeometryOperations.canUndo}},{key:"canRedo",value:function(){return this._editGeometryOperations.canRedo}},{key:"undo",value:function(){this.canUndo&&this._editGeometryOperations.undo()}},{key:"redo",value:function(){this.canRedo&&this._editGeometryOperations.redo()}},{key:"getCoordsFromScreenPoint",value:function(e){var t=e&&this.screenToMap(e);return null==t?null:t.hasZ?[t.x,t.y,t.z]:[t.x,t.y]}},{key:"getCoordsAndPointFromScreenPoint",value:function(e){var t=this.screenToMap(e);return null==t?null:t.hasZ?{vertex:[t.x,t.y,t.z],mapPoint:t}:{vertex:[t.x,t.y],mapPoint:t}}},{key:"screenToMap",value:function(e){var t=null;if("3d"===this.view.type)if(this.hasZ){var n,i=null!==(n=this.elevationInfo)&&void 0!==n?n:H;t=this.view.sceneIntersectionHelper.intersectElevationFromScreen((0,g.s1)(e.x,e.y),i,this._getGeometryZValue())}else{var o,r=null!==(o=this.elevationInfo)&&void 0!==o?o:M;null!=(t=this.view.sceneIntersectionHelper.intersectElevationFromScreen((0,g.s1)(e.x,e.y),r,0))&&(t.z=void 0)}else null!=(t=this.view.toMap(e))&&(t.z=this.hasZ?this._getGeometryZValue():void 0);return t}},{key:"_pushCursorVertex",value:function(e,t){var n=(0,O.T)(e[0],e[1],void 0,this.view.spatialReference);this._stagedVertexUnsnapped=n;var i=this._snappingManager;if(null==i)return this._stagedVertex=n,void t();(0,w.R8)(this._snappingOperation.snap({point:n},i,this._snappingContext)).then((function(){t()}))}},{key:"_popCursorVertex",value:function(){this._stagedVertexUnsnapped=null,this._stagedVertex=null}},{key:"_getGeometryZValue",value:function(){return this.defaultZ}},{key:"_abortSnapping",value:function(){this._snappingOperation.abort()}},{key:"_isDuplicateOfLastVertex",value:function(e){var t,n=null===(t=this._editGeometryOperations.data.components[0].getLastVertex())||void 0===t?void 0:t.pos;if(n&&e[0]===n[0]&&e[1]===n[1])return!0;var i=this._coordinateHelper.vectorToDehydratedPoint(e),o=i.x,r=i.y;return null!=this._lastVertexUnsnapped&&o===this._lastVertexUnsnapped.x&&r===this._lastVertexUnsnapped.y}},{key:"_shouldHandlePointerEvent",value:function(e){return function(e){return"mouse"!==e.pointerType||0===e.button}(e)&&(null==this._activePointerId||this._activePointerId===e.pointerId)}},{key:"_vertexAddHandler",value:function(e){var t=null!=this._stagedVertex?this._coordinateHelper.pointToArray(this._stagedVertex):this.getCoordsFromScreenPoint(this._cursorScreenPoint);null!=t&&this._addVertex(t,e.native)}},{key:"_drawCompleteHandler",value:function(e){this._completeDrawing(e.native)}}]),n}(f.Z.EventedAccessor);S.SNAPPING_GRAPHICS_LAYER_ID="DrawAction-snapping-graphics-layer",(0,u._)([(0,c.Cb)({readOnly:!0})],S.prototype,"vertices",null),(0,u._)([(0,c.Cb)({type:Boolean,nonNullable:!0})],S.prototype,"interactiveUndoDisabled",void 0),(0,u._)([(0,c.Cb)({readOnly:!0})],S.prototype,"history",void 0),(0,u._)([(0,c.Cb)({readOnly:!0})],S.prototype,"redoHistory",void 0),(0,u._)([(0,c.Cb)()],S.prototype,"snapToScene",void 0),(0,u._)([(0,c.Cb)()],S.prototype,"view",void 0),(0,u._)([(0,c.Cb)()],S.prototype,"elevationInfo",void 0),(0,u._)([(0,c.Cb)({nonNullable:!0})],S.prototype,"defaultZ",void 0),(0,u._)([(0,c.Cb)()],S.prototype,"hasZ",null),(0,u._)([(0,c.Cb)()],S.prototype,"_snappingOperation",void 0),(0,u._)([(0,c.Cb)()],S.prototype,"_stagedVertex",null),S=i=(0,u._)([(0,p.j)("esri.views.draw.DrawAction")],S);var H={mode:"absolute-height",offset:0},M={mode:"on-the-ground",offset:0};var A=S,I=function(){function e(t,n,i){(0,r.Z)(this,e),this.view=t,this.vertexIndex=n,this.vertices=i,this.defaultPrevented=!1,this.type="vertex-add"}return(0,a.Z)(e,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),e}(),D=function(){function e(t,n,i){(0,r.Z)(this,e),this.view=t,this.vertexIndex=n,this.vertices=i,this.defaultPrevented=!1,this.type="vertex-remove"}return(0,a.Z)(e,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),e}(),U=function(){function e(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,r.Z)(this,e),this.view=t,this.vertexIndex=n,this.vertices=i,this.mapPoint=o,this.coordinates=null,this.defaultPrevented=!1,this.type="cursor-update",this.coordinates=1===i.length?i[0]:null}return(0,a.Z)(e,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),e}(),L=function(){function e(t){(0,r.Z)(this,e),this.vertices=t,this.coordinates=null,this.defaultPrevented=!1,this.type="draw-complete",this.coordinates=1===t.length?t[0]:null}return(0,a.Z)(e,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),e}(),E=n(1614),R=n(87888),G=n(72612),z=n(848),j=Symbol("view-handles"),N=Symbol("undo-redo-handles"),F=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e))._popVertexOnPointerMove=!1,i._addVertexOnPointerUp=!1,i}return(0,a.Z)(n,[{key:"initialize",value:function(){this._addViewHandles(),this._addUndoRedoHandles()}},{key:"destroy",value:function(){this._removeViewHandles(),this._removeUndoRedoHandles(),this.emit("destroy")}},{key:"undo",value:function(){(0,h.Z)((0,_.Z)(n.prototype),"undo",this).call(this),this.notifyChange("vertices")}},{key:"redo",value:function(){(0,h.Z)((0,_.Z)(n.prototype),"redo",this).call(this),this.notifyChange("vertices")}},{key:"complete",value:function(){this._completeDrawing()}},{key:"_addViewHandles",value:function(){var e=this;this._removeViewHandles(),this.addHandles([this.view.on("click",(function(e){e.stopPropagation()}),E.f.TOOL),this.view.on("pointer-down",(function(t){e._shouldHandlePointerEvent(t)&&(e._abortSnapping(),e._activePointerId=t.pointerId,e._addVertexOnPointerUp=!0,e._cursorScreenPoint=(0,G.vT)(t),"touch"===t.pointerType&&e._updateCursor())}),E.f.TOOL),this.view.on("pointer-move",(function(t){e._popVertexOnPointerMove&&(e.undo(),e._popVertexOnPointerMove=!1),e._abortSnapping(),e._cursorScreenPoint=(0,G.vT)(t),"touch"!==t.pointerType&&e._updateCursor()}),E.f.TOOL),this.view.on("pointer-drag",(function(t){e._shouldHandlePointerEvent(t)&&(e._abortSnapping(),e._addVertexOnPointerUp=!1)}),E.f.TOOL),this.view.on("pointer-up",(function(t){if(e._shouldHandlePointerEvent(t))if(e._abortSnapping(),e._activePointerId=null,e._addVertexOnPointerUp)e._vertexAddHandler(t);else{var n="touch"===t.pointerType;e._updateCursor(n)}}),E.f.TOOL),this.view.on("drag",["Shift"],(function(e){e.stopPropagation()}),E.f.TOOL),this.view.on("double-click",(function(t){t.stopPropagation(),e._drawCompleteHandler(t)}),E.f.TOOL),this.view.on("double-click",["Control"],(function(t){t.stopPropagation(),e._drawCompleteHandler(t)}),E.f.TOOL),this.view.on("key-down",(function(t){var n=t.key,i=t.repeat;n===R.Sn.vertexAdd&&!i&&e._cursorScreenPoint?(t.stopPropagation(),e._abortSnapping(),e._vertexAddHandler(t)):n!==R.Sn.complete||i?n!==R.Sn.undo||e.interactiveUndoDisabled||i?n!==R.Sn.redo||e.interactiveUndoDisabled||i?n!==R.Sn.pan||i||t.stopPropagation():(t.stopPropagation(),e.redo()):(t.stopPropagation(),e.undo()):(t.stopPropagation(),e._drawCompleteHandler(t))}),E.f.TOOL),this.view.on("key-up",(function(e){e.key===R.Sn.pan&&e.stopPropagation()}),E.f.TOOL)],j)}},{key:"_addUndoRedoHandles",value:function(){var e=this;this._removeUndoRedoHandles(),this.addHandles([this._editGeometryOperations.on("vertex-remove",(function(t){if(e.notifyChange("vertices"),"undo"===t.operation){var n=(0,v.Z)(e._committedVertices);null!=e._stagedVertex&&n.push(e._coordinateHelper.pointToArray(e._stagedVertex)),e.emit("undo",new D(e.view,t.vertices[0].index,n))}})),this._editGeometryOperations.on("vertex-add",(function(t){if(e.notifyChange("vertices"),"apply"===t.operation){var n=e._committedVertices.length-1,i=new I(e.view,n,e.vertices);e.emit("vertex-add",i),i.defaultPrevented&&(e._popVertexOnPointerMove=!0)}else if("redo"===t.operation){var o=(0,v.Z)(e._committedVertices);null!=e._stagedVertex&&o.push(e._coordinateHelper.pointToArray(e._stagedVertex)),e.emit("redo",new I(e.view,t.vertices[0].index,o))}}))],N)}},{key:"_removeViewHandles",value:function(){this.removeHandles(j)}},{key:"_removeUndoRedoHandles",value:function(){this.removeHandles(N)}},{key:"_addVertex",value:function(e){var t=this._coordinateHelper.arrayToVector(e);this._isDuplicateOfLastVertex(t)||this._editGeometryOperations.appendVertex(t)}},{key:"_updateCursor",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._popCursorVertex(),this._cursorScreenPoint){var n=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);null==n||t||this._pushCursorVertex(n.vertex,(function(){return e.emit("cursor-update",new U(e.view,e._activeComponent.vertices.length,e.vertices,null!=e._stagedVertex?new z.Z(e._stagedVertex):null))}))}}},{key:"_completeDrawing",value:function(){if(this._activePointerId=null,this._popCursorVertex(),this._abortSnapping(),null!=this._snappingManager&&this._snappingManager.doneSnapping(),!(this.vertices.length<1)){var e=new L(this.vertices);this.emit("draw-complete",e),e.defaultPrevented||this._removeViewHandles()}}}]),n}(A);F=(0,u._)([(0,p.j)("esri.views.draw.MultipointDrawAction")],F);var W=n(74509),J=n(66038),Y=n(46640),B=n(45900),K=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).defaultZ=0,i.elevationInfo=null,i.hasZ=!0,i.mode=null,i.snapToScene=null,i.type="draw-3d",i}return(0,a.Z)(n,[{key:"initialize",value:function(){var e=this,t=this.view,n=(0,W.mF)(this.hasZ,this.elevationInfo);this.drawOperation=new J.wW({view:t,manipulators:this.manipulators,geometryType:this.geometryType,drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,drawSurface:"3d"===t.type?new Y.iW(t,n):null,elevationDrawSurface:"3d"===t.type?new Y.aL(n,this.defaultZ,t):null,hasM:!1,elevationInfo:n}),this.addHandles([this.drawOperation.on("vertex-add",(function(t){return e.onVertexAdd(t)})),this.drawOperation.on("vertex-remove",(function(t){return e.onVertexRemove(t)})),this.drawOperation.on("vertex-update",(function(t){return e.onVertexUpdate(t)})),this.drawOperation.on("cursor-update",(function(t){return e.onCursorUpdate(t)})),this.drawOperation.on("complete",(function(t){return e.onComplete(t)}))]),this.finishToolCreation()}},{key:"destroy",value:function(){this.drawOperation=(0,m.SC)(this.drawOperation),this._set("view",null)}},{key:"enabled",set:function(e){this.drawOperation.interactive=e,this._set("enabled",e)}},{key:"updating",get:function(){var e,t;return null!==(e=null===(t=this.drawOperation)||void 0===t?void 0:t.updating)&&void 0!==e&&e}},{key:"completeCreateOperation",value:function(){this.drawOperation.complete()}},{key:"onDeactivate",value:function(){this.drawOperation.isCompleted||this.drawOperation.cancel()}},{key:"getVertexCoords",value:function(){return this.drawOperation.geometryIncludingUncommittedVertices}},{key:"onInputEvent",value:function(e){this.drawOperation.onInputEvent(e)}},{key:"canRedo",value:function(){return this.drawOperation.canRedo}},{key:"canUndo",value:function(){return this.drawOperation.canUndo}},{key:"redo",value:function(){this.drawOperation.redo()}},{key:"reset",value:function(){}},{key:"undo",value:function(){this.drawOperation.undo()}},{key:"onComplete",value:function(e){this.emit("complete",e)}},{key:"onCursorUpdate",value:function(e){this.emit("cursor-update",e)}},{key:"onVertexAdd",value:function(e){this.emit("vertex-add",e)}},{key:"onVertexRemove",value:function(e){this.emit("vertex-remove",e)}},{key:"onVertexUpdate",value:function(e){this.emit("vertex-update",e)}}]),n}(f.Z.EventedMixin(B.m));(0,u._)([(0,c.Cb)({constructOnly:!0,nonNullable:!0})],K.prototype,"defaultZ",void 0),(0,u._)([(0,c.Cb)()],K.prototype,"drawOperation",void 0),(0,u._)([(0,c.Cb)({constructOnly:!0})],K.prototype,"elevationInfo",void 0),(0,u._)([(0,c.Cb)({value:!0})],K.prototype,"enabled",null),(0,u._)([(0,c.Cb)({constructOnly:!0})],K.prototype,"geometryType",void 0),(0,u._)([(0,c.Cb)({constructOnly:!0})],K.prototype,"hasZ",void 0),(0,u._)([(0,c.Cb)({constructOnly:!0})],K.prototype,"mode",void 0),(0,u._)([(0,c.Cb)()],K.prototype,"snapToScene",void 0),(0,u._)([(0,c.Cb)({readOnly:!0})],K.prototype,"type",void 0),(0,u._)([(0,c.Cb)({readOnly:!0})],K.prototype,"updating",null),(0,u._)([(0,c.Cb)({constructOnly:!0,nonNullable:!0})],K.prototype,"view",void 0),K=(0,u._)([(0,p.j)("esri.views.draw.DrawTool")],K);var q=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e))._addVertexOnPointerUp=!1,i._drawTool=null,i}return(0,a.Z)(n,[{key:"initialize",value:function(){this._addViewHandles(),"3d"===this.view.type&&this._addDrawTool()}},{key:"destroy",value:function(){this._removeDrawTool(),this.emit("destroy")}},{key:"complete",value:function(){this._completeDrawing()}},{key:"_addViewHandles",value:function(){var e=this;this._addViewHandles2DOnly(),this.addHandles([this.view.on("key-down",(function(t){t.key===R.Sn.complete&&(e._drawTool?e.complete():(e._abortSnapping(),e._vertexAddHandler(t)))}),E.f.TOOL)])}},{key:"_addViewHandles2DOnly",value:function(){var e=this;"2d"===this.view.type&&this.addHandles([this.view.on("pointer-down",(function(t){e._shouldHandlePointerEvent(t)&&(e._abortSnapping(),e._activePointerId=t.pointerId,e._addVertexOnPointerUp=!0,e._cursorScreenPoint=(0,G.vT)(t),"touch"===t.pointerType&&e._updateCursor())}),E.f.TOOL),this.view.on("pointer-move",(function(t){e._abortSnapping(),e._cursorScreenPoint=(0,G.vT)(t),"touch"!==t.pointerType&&e._updateCursor()}),E.f.TOOL),this.view.on("pointer-drag",(function(t){e._shouldHandlePointerEvent(t)&&(e._abortSnapping(),e._addVertexOnPointerUp=!1)}),E.f.TOOL),this.view.on("pointer-up",(function(t){if(e._shouldHandlePointerEvent(t))if(e._abortSnapping(),e._activePointerId=null,e._addVertexOnPointerUp)t.stopPropagation(),e._vertexAddHandler(t);else{var n="touch"===t.pointerType;e._updateCursor(n)}}),E.f.TOOL),this.view.on("drag",["Shift"],(function(e){e.stopPropagation()}),E.f.TOOL)])}},{key:"_addDrawTool",value:function(){var e=this,t=new K({view:this.view,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:"point",mode:"click"});this._drawTool=t,this.view.addAndActivateTool(t),this.addHandles([t.on("cursor-update",(function(n){1===n.vertices.length&&e.emit("cursor-update",new U(e.view,n.vertices[0].vertexIndex,t.getVertexCoords()))})),t.on("complete",(function(n){e.emit("draw-complete",new L(t.getVertexCoords())),e._removeDrawTool(),e.removeAllHandles()}))])}},{key:"_removeDrawTool",value:function(){this._drawTool&&(this.view.tools.remove(this._drawTool),this._drawTool=null)}},{key:"_addVertex",value:function(e){var t=this._coordinateHelper.arrayToVector(e);this._isDuplicateOfLastVertex(t)||(this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometryOperations.appendVertex(t),this.notifyChange("vertices"),this._completeDrawing())}},{key:"_updateCursor",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._popCursorVertex(),this._cursorScreenPoint){var n=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);null==n||t||this._pushCursorVertex(n.vertex,(function(){return e.emit("cursor-update",new U(e.view,e._activeComponent.vertices.length,e.vertices,null!=e._stagedVertex?new z.Z(e._stagedVertex):null))}))}}},{key:"_completeDrawing",value:function(){if(this._drawTool)this._drawTool.completeCreateOperation();else{this._activePointerId=null,this._popCursorVertex(),this._abortSnapping(),null!=this._snappingManager&&this._snappingManager.doneSnapping();var e=new L(this.vertices);this.emit("draw-complete",e),e.defaultPrevented||this.removeAllHandles()}}}]),n}(A);q=(0,u._)([(0,p.j)("esri.views.draw.PointDrawAction")],q);var X=n(78005),Q=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e))._panEnabled=!1,i._popVertexOnPointerMove=!1,i._addVertexOnPointerUp=!1,i._drawTool=null,i.mode=X.n,i}return(0,a.Z)(n,[{key:"initialize",value:function(){this._addViewHandles(),"3d"===this.view.type&&this._addDrawTool()}},{key:"destroy",value:function(){this._removeDrawTool(),this.emit("destroy")}},{key:"_dragEnabled",get:function(){return"freehand"===this.mode||"hybrid"===this.mode}},{key:"_clickEnabled",get:function(){return"click"===this.mode||"hybrid"===this.mode}},{key:"undo",value:function(){this._drawTool?this._drawTool.undo():((0,h.Z)((0,_.Z)(n.prototype),"undo",this).call(this),this.notifyChange("vertices"))}},{key:"redo",value:function(){this._drawTool?this._drawTool.redo():((0,h.Z)((0,_.Z)(n.prototype),"redo",this).call(this),this.notifyChange("vertices"))}},{key:"canUndo",value:function(){var e,t;return null!==(e=null===(t=this._drawTool)||void 0===t?void 0:t.canUndo())&&void 0!==e?e:(0,h.Z)((0,_.Z)(n.prototype),"canUndo",this).call(this)}},{key:"canRedo",value:function(){var e,t;return null!==(e=null===(t=this._drawTool)||void 0===t?void 0:t.canRedo())&&void 0!==e?e:(0,h.Z)((0,_.Z)(n.prototype),"canRedo",this).call(this)}},{key:"complete",value:function(){this._completeDrawing()}},{key:"_getGeometryZValue",value:function(){return this.hasZ&&this.vertices.length>0?this.vertices[0][2]:this.defaultZ}},{key:"_addViewHandles",value:function(){var e=this;this._addViewHandles2DOnly(),this.addHandles(this.view.on("key-down",(function(t){var n=t.key,i=t.repeat;n!==R.Sn.vertexAdd||i?n!==R.Sn.complete||i?n!==R.Sn.undo||e.interactiveUndoDisabled||i?n!==R.Sn.redo||e.interactiveUndoDisabled||i||(t.stopPropagation(),e.redo()):(t.stopPropagation(),e.undo()):(t.stopPropagation(),e._drawCompleteHandler(t)):(t.stopPropagation(),e._handleVertexAddKey(t))}),E.f.TOOL))}},{key:"_addViewHandles2DOnly",value:function(){var e=this;"2d"===this.view.type&&(this.addHandles([this.view.on("click",(function(e){e.stopPropagation()}),E.f.TOOL),this.view.on("pointer-down",(function(t){e._shouldHandlePointerEvent(t)&&(e._abortSnapping(),e._activePointerId=t.pointerId,e._addVertexOnPointerUp=!0,e._cursorScreenPoint=(0,G.vT)(t),"touch"===t.pointerType&&e._updateCursor())}),E.f.TOOL),this.view.on("pointer-move",(function(t){e._abortSnapping(),e._popVertexOnPointerMove&&(e.undo(),e._popVertexOnPointerMove=!1),e._cursorScreenPoint=(0,G.vT)(t),"touch"!==t.pointerType&&e._updateCursor()}),E.f.TOOL),this.view.on("pointer-drag",(function(t){e._shouldHandlePointerEvent(t)&&(e._abortSnapping(),e._cursorScreenPoint=(0,G.vT)(t),e._dragEnabled&&!e._panEnabled?e._vertexAddHandler(t):e._addVertexOnPointerUp=!1)}),E.f.TOOL),this.view.on("pointer-up",(function(t){if(e._shouldHandlePointerEvent(t))if(e._abortSnapping(),e._activePointerId=null,e._addVertexOnPointerUp){if(!e._clickEnabled)return 1===e.vertices.length&&e.vertices.pop(),void e._drawCompleteHandler(t);e._vertexAddHandler(t)}else{var n="touch"===t.pointerType;e._updateCursor(n)}}),E.f.TOOL),this.view.on("drag",(function(t){e._dragEnabled&&null!=e._activePointerId&&!e._panEnabled&&t.stopPropagation()}),E.f.TOOL),this.view.on("drag",["Shift"],(function(e){e.stopPropagation()}),E.f.TOOL),this.view.on("double-click",(function(t){t.stopPropagation(),e._drawCompleteHandler(t)}),E.f.TOOL),this.view.on("double-click",["Control"],(function(t){t.stopPropagation(),e._drawCompleteHandler(t)}),E.f.TOOL),this.view.on("key-down",(function(t){var n=t.key,i=t.repeat;n!==R.Sn.pan||i||(t.stopPropagation(),e._panEnabled=!0)}),E.f.TOOL),this.view.on("key-up",(function(t){t.key===R.Sn.pan&&(t.stopPropagation(),e._panEnabled=!1)}),E.f.TOOL)]),this._addUndoRedoHandles())}},{key:"_handleVertexAddKey",value:function(e){this._drawTool?this._drawTool.drawOperation.commitStagedVertex():this._cursorScreenPoint&&(this._abortSnapping(),this._vertexAddHandler(e))}},{key:"_addUndoRedoHandles",value:function(){var e=this;this.addHandles([this._editGeometryOperations.on("vertex-remove",(function(t){if(e.notifyChange("vertices"),"undo"===t.operation){var n=(0,v.Z)(e._committedVertices);null!=e._stagedVertex&&n.push(e._coordinateHelper.pointToArray(e._stagedVertex)),e.emit("undo",new D(e.view,t.vertices[0].index,n))}})),this._editGeometryOperations.on("vertex-add",(function(t){if(e.notifyChange("vertices"),"apply"===t.operation){var n=e._committedVertices.length-1,i=new I(e.view,n,e.vertices);e.emit("vertex-add",i),i.defaultPrevented&&(e._popVertexOnPointerMove=!0)}else if("redo"===t.operation){var o=(0,v.Z)(e._committedVertices);null!=e._stagedVertex&&o.push(e._coordinateHelper.pointToArray(e._stagedVertex)),e.emit("redo",new I(e.view,t.vertices[0].index,o))}}))])}},{key:"_addDrawTool",value:function(){var e=this,t=new K({view:this.view,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:"polygon",mode:this.mode});this._drawTool=t,this.view.addAndActivateTool(t),t.on("vertex-add",(function(n){if(1===n.vertices.length){var i=e.view,o=n.vertices[0].vertexIndex,r=t.getVertexCoords();e.emit("vertex-add",new I(i,o,r)),"undo"!==n.operation&&"redo"!==n.operation||e.emit(n.operation,new I(i,o,r))}})),t.on("vertex-remove",(function(n){if(1===n.vertices.length){var i=e.view,o=n.vertices[0].vertexIndex,r=t.getVertexCoords();e.emit("vertex-remove",new D(i,o,r)),"undo"!==n.operation&&"redo"!==n.operation||e.emit(n.operation,new D(i,o,r))}})),t.on("cursor-update",(function(n){1===n.vertices.length&&e.emit("cursor-update",new U(e.view,n.vertices[0].vertexIndex,t.getVertexCoords()))})),t.on("complete",(function(n){e.emit("draw-complete",new L(t.getVertexCoords())),e._removeDrawTool(),e.removeAllHandles()}))}},{key:"_removeDrawTool",value:function(){this._drawTool&&(this.view.tools.remove(this._drawTool),this._drawTool=null)}},{key:"_addVertex",value:function(e){var t=this._coordinateHelper.arrayToVector(e);this._isDuplicateOfLastVertex(t)||(this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometryOperations.appendVertex(t))}},{key:"_updateCursor",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._popCursorVertex(),this._cursorScreenPoint){var n=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);null==n||t||this._pushCursorVertex(n.vertex,(function(){return e.emit("cursor-update",new U(e.view,e._activeComponent.vertices.length,e.vertices,null!=e._stagedVertex?new z.Z(e._stagedVertex):null))}))}}},{key:"_completeDrawing",value:function(){if(this._drawTool)this._drawTool.completeCreateOperation();else if(this._activePointerId=null,this._popCursorVertex(),!(this._committedVertices.length<3)){this._abortSnapping(),null!=this._snappingManager&&this._snappingManager.doneSnapping();var e=new L(this.vertices);this.emit("draw-complete",e),e.defaultPrevented||this.removeAllHandles()}}}]),n}(A);(0,u._)([(0,c.Cb)()],Q.prototype,"_dragEnabled",null),(0,u._)([(0,c.Cb)()],Q.prototype,"_clickEnabled",null),(0,u._)([(0,c.Cb)({type:X.A})],Q.prototype,"mode",void 0),Q=(0,u._)([(0,p.j)("esri.views.draw.PolygonDrawAction")],Q);var $=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e))._panEnabled=!1,i._popVertexOnPointerMove=!1,i._addVertexOnPointerUp=!1,i._drawTool=null,i.mode=X.n,i}return(0,a.Z)(n,[{key:"initialize",value:function(){this._addViewHandles(),"3d"===this.view.type&&this._addDrawTool()}},{key:"destroy",value:function(){this._removeDrawTool(),this.emit("destroy")}},{key:"_clickEnabled",get:function(){return"click"===this.mode||"hybrid"===this.mode}},{key:"_dragEnabled",get:function(){return"freehand"===this.mode||"hybrid"===this.mode}},{key:"undo",value:function(){this._drawTool?this._drawTool.undo():((0,h.Z)((0,_.Z)(n.prototype),"undo",this).call(this),this.notifyChange("vertices"))}},{key:"redo",value:function(){this._drawTool?this._drawTool.redo():((0,h.Z)((0,_.Z)(n.prototype),"redo",this).call(this),this.notifyChange("vertices"))}},{key:"canUndo",value:function(){var e,t;return null!==(e=null===(t=this._drawTool)||void 0===t?void 0:t.canUndo())&&void 0!==e?e:(0,h.Z)((0,_.Z)(n.prototype),"canUndo",this).call(this)}},{key:"canRedo",value:function(){var e,t;return null!==(e=null===(t=this._drawTool)||void 0===t?void 0:t.canRedo())&&void 0!==e?e:(0,h.Z)((0,_.Z)(n.prototype),"canRedo",this).call(this)}},{key:"complete",value:function(){this._completeDrawing()}},{key:"_addViewHandles",value:function(){var e=this;this._addViewHandles2DOnly(),this.addHandles([this.view.on("key-down",(function(t){var n=t.key,i=t.repeat;n!==R.Sn.vertexAdd||i?n!==R.Sn.complete||i?n!==R.Sn.undo||e.interactiveUndoDisabled||i?n!==R.Sn.redo||e.interactiveUndoDisabled||i||(t.stopPropagation(),e.redo()):(t.stopPropagation(),e.undo()):(t.stopPropagation(),e._drawCompleteHandler(t)):(t.stopPropagation(),e._handleVertexAddKey(t))}),E.f.TOOL)])}},{key:"_addViewHandles2DOnly",value:function(){var e=this;"2d"===this.view.type&&(this.addHandles([this.view.on("click",(function(e){e.stopPropagation()}),E.f.TOOL),this.view.on("pointer-down",(function(t){e._shouldHandlePointerEvent(t)&&!e._panEnabled&&(e._abortSnapping(),e._activePointerId=t.pointerId,e._addVertexOnPointerUp=!0,e._cursorScreenPoint=(0,G.vT)(t),"touch"===t.pointerType&&e._updateCursor())}),E.f.TOOL),this.view.on("pointer-move",(function(t){e._popVertexOnPointerMove&&(e.undo(),e._popVertexOnPointerMove=!1),e._abortSnapping(),e._cursorScreenPoint=(0,G.vT)(t),"touch"!==t.pointerType&&e._updateCursor()}),E.f.TOOL),this.view.on("pointer-drag",(function(t){e._shouldHandlePointerEvent(t)&&(e._abortSnapping(),e._cursorScreenPoint=(0,G.vT)(t),e._dragEnabled&&!e._panEnabled?e._vertexAddHandler(t):e._addVertexOnPointerUp=!1)}),E.f.TOOL),this.view.on("pointer-up",(function(t){if(e._shouldHandlePointerEvent(t))if(e._abortSnapping(),e._activePointerId=null,e._addVertexOnPointerUp){if(!e._clickEnabled)return 1===e.vertices.length&&e.vertices.pop(),void e._drawCompleteHandler(t);e._vertexAddHandler(t)}else{var n="touch"===t.pointerType;e._updateCursor(n)}}),E.f.TOOL),this.view.on("drag",(function(t){e._dragEnabled&&null!=e._activePointerId&&!e._panEnabled&&t.stopPropagation()}),E.f.TOOL),this.view.on("drag",["Shift"],(function(e){e.stopPropagation()}),E.f.TOOL),this.view.on("double-click",(function(t){t.stopPropagation(),e._drawCompleteHandler(t)}),E.f.TOOL),this.view.on("double-click",["Control"],(function(t){t.stopPropagation(),e._drawCompleteHandler(t)}),E.f.TOOL),this.view.on("key-down",(function(t){var n=t.key,i=t.repeat;n!==R.Sn.pan||i||(t.stopPropagation(),e._panEnabled=!0)}),E.f.TOOL),this.view.on("key-up",(function(t){t.key===R.Sn.pan&&(t.stopPropagation(),e._panEnabled=!1)}),E.f.TOOL)]),this._addUndoRedoHandles())}},{key:"_handleVertexAddKey",value:function(e){this._drawTool?this._drawTool.drawOperation.commitStagedVertex():this._cursorScreenPoint&&(this._abortSnapping(),this._vertexAddHandler(e))}},{key:"_addUndoRedoHandles",value:function(){var e=this;this.addHandles([this._editGeometryOperations.on("vertex-remove",(function(t){if(e.notifyChange("vertices"),"undo"===t.operation){var n=(0,v.Z)(e._committedVertices);null!=e._stagedVertex&&n.push(e._coordinateHelper.pointToArray(e._stagedVertex)),e.emit("undo",new D(e.view,t.vertices[0].index,n))}})),this._editGeometryOperations.on("vertex-add",(function(t){if(e.notifyChange("vertices"),"apply"===t.operation){var n=e._committedVertices.length-1,i=new I(e.view,n,e.vertices);e.emit("vertex-add",i),i.defaultPrevented&&(e._popVertexOnPointerMove=!0)}else if("redo"===t.operation){var o=(0,v.Z)(e._committedVertices);null!=e._stagedVertex&&o.push(e._coordinateHelper.pointToArray(e._stagedVertex)),e.emit("redo",new I(e.view,t.vertices[0].index,o))}}))])}},{key:"_addDrawTool",value:function(){var e=this,t=new K({view:this.view,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:"polyline",mode:this.mode});this._drawTool=t,this.view.addAndActivateTool(t),this.addHandles([t.on("vertex-add",(function(n){if(1===n.vertices.length){var i=e.view,o=n.vertices[0].vertexIndex,r=t.getVertexCoords();e.emit("vertex-add",new I(i,o,r)),"undo"!==n.operation&&"redo"!==n.operation||e.emit(n.operation,new I(i,o,r))}})),t.on("vertex-remove",(function(n){if(1===n.vertices.length){var i=e.view,o=n.vertices[0].vertexIndex,r=t.getVertexCoords();e.emit("vertex-remove",new D(i,o,r)),"undo"!==n.operation&&"redo"!==n.operation||e.emit(n.operation,new D(i,o,r))}})),t.on("cursor-update",(function(n){1===n.vertices.length&&e.emit("cursor-update",new U(e.view,n.vertices[0].vertexIndex,t.getVertexCoords()))})),t.on("complete",(function(n){e.emit("draw-complete",new L(t.getVertexCoords())),e._removeDrawTool(),e.removeAllHandles()}))])}},{key:"_removeDrawTool",value:function(){this._drawTool&&(this.view.tools.remove(this._drawTool),this._drawTool=null)}},{key:"_addVertex",value:function(e){var t=this._coordinateHelper.arrayToVector(e);this._isDuplicateOfLastVertex(t)||(this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometryOperations.appendVertex(t))}},{key:"_updateCursor",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._popCursorVertex(),this._cursorScreenPoint){var n=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);null==n||t||this._pushCursorVertex(n.vertex,(function(){return e.emit("cursor-update",new U(e.view,e._activeComponent.vertices.length,e.vertices,null!=e._stagedVertex?new z.Z(e._stagedVertex):null))}))}}},{key:"_completeDrawing",value:function(){if(this._drawTool)this._drawTool.completeCreateOperation();else if(this._activePointerId=null,this._popCursorVertex(),!(this._committedVertices.length<2)){this._abortSnapping(),null!=this._snappingManager&&this._snappingManager.doneSnapping();var e=new L(this.vertices);this.emit("draw-complete",e),e.defaultPrevented||this.removeAllHandles()}}}]),n}(A);(0,u._)([(0,c.Cb)()],$.prototype,"_clickEnabled",null),(0,u._)([(0,c.Cb)()],$.prototype,"_dragEnabled",null),(0,u._)([(0,c.Cb)({type:X.A})],$.prototype,"mode",void 0),$=(0,u._)([(0,p.j)("esri.views.draw.PolylineDrawAction")],$);var ee=n(3826),te=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e))._isDragging=!1,i._panEnabled=!1,i._addVertexOnPointerUp=!1,i._drawTool=null,i.viewAlignedCoordinateSystem=null,i.mode="freehand",i}return(0,a.Z)(n,[{key:"initialize",value:function(){"2d"===this.view.type?this._addViewHandles():this._addDrawTool()}},{key:"destroy",value:function(){this._removeDrawTool(),this.emit("destroy")}},{key:"complete",value:function(){this._completeDrawing()}},{key:"_getGeometryZValue",value:function(){return this.hasZ&&this.vertices.length>0?this.vertices[0][2]:this.defaultZ}},{key:"_addViewHandles",value:function(){"click"===this.mode?this.addHandles(this._getClickModeViewHandles()):this.addHandles(this._getDragModeViewHandles())}},{key:"_getDragModeViewHandles",value:function(){var e=this;return[this.view.on("immediate-click",(function(t){t.stopPropagation(),t.mapPoint&&!e._panEnabled&&null!=e.getCoordsFromScreenPoint((0,G.vT)(t))&&(e._vertexAddHandler(t),e._drawCompleteHandler(t))}),E.f.TOOL),this.view.on("pointer-down",(function(t){e._shouldHandlePointerEvent(t)&&(e._abortSnapping(),e._panEnabled||(e._resetGeometry(),e._addVertexOnPointerUp=!0,e._cursorScreenPoint=(0,G.vT)(t),e._activePointerId=t.pointerId,e._vertexAddHandler(t),e._isDragging=!1,"touch"===t.pointerType&&e._updateCursor()))}),E.f.TOOL),this.view.on("pointer-move",(function(t){e._abortSnapping(),null==e._activePointerId&&"touch"!==t.pointerType&&(e._cursorScreenPoint=(0,G.vT)(t),e._updateCursor())}),E.f.TOOL),this.view.on("pointer-drag",(function(t){e._shouldHandlePointerEvent(t)&&(e._abortSnapping(),e._isDragging=!0,e._cursorScreenPoint=(0,G.vT)(t),e._updateCursor())}),E.f.TOOL),this.view.on("pointer-up",(function(t){e._shouldHandlePointerEvent(t)&&e._addVertexOnPointerUp&&(e._abortSnapping(),e._activePointerId=null,e._isDragging&&e._vertexAddHandler(t),2===e._committedVertices.length&&e._drawCompleteHandler(t),e._isDragging=!1)}),E.f.TOOL),this.view.on("key-down",(function(t){t.key===R.Sn.complete&&e._cursorScreenPoint?(e._abortSnapping(),e._vertexAddHandler(t),e._drawCompleteHandler(t)):t.key===R.Sn.pan&&(e._panEnabled=!0)}),E.f.TOOL),this.view.on("key-up",(function(t){t.key===R.Sn.pan&&(e._panEnabled=!1)}),E.f.TOOL),this.view.on("drag",(function(t){null!=e._activePointerId&&t.stopPropagation()}),E.f.TOOL),this.view.on("drag",["Shift"],(function(e){e.stopPropagation()}),E.f.TOOL)]}},{key:"_getClickModeViewHandles",value:function(){var e=this;return[this.view.on("pointer-down",(function(t){e._abortSnapping(),e._cursorScreenPoint=(0,G.vT)(t),e._activePointerId=t.pointerId,e._isDragging=!1,"touch"===t.pointerType&&e._updateCursor()}),E.f.TOOL),this.view.on("pointer-move",(function(t){e._abortSnapping(),e._cursorScreenPoint=(0,G.vT)(t),null==e._activePointerId&&"touch"!==t.pointerType&&e._updateCursor()}),E.f.TOOL),this.view.on("pointer-drag",(function(t){e._shouldHandlePointerEvent(t)&&(e._abortSnapping(),e._isDragging=!0)}),E.f.TOOL),this.view.on("pointer-up",(function(t){e._shouldHandlePointerEvent(t)&&(e._abortSnapping(),e._activePointerId=null,t.stopPropagation(),e._isDragging||e._vertexAddHandler(t),2!==e.vertices.length||e._isDragging||e._drawCompleteHandler(t),e._isDragging=!1)}),E.f.TOOL),this.view.on("key-down",(function(t){t.key===R.Sn.vertexAdd&&e._cursorScreenPoint&&(e._vertexAddHandler(t),2===e.vertices.length&&e._drawCompleteHandler(t)),t.key===R.Sn.complete&&e._cursorScreenPoint&&2===e.vertices.length&&(e._vertexAddHandler(t),e._drawCompleteHandler(t))}),E.f.TOOL)]}},{key:"_addDrawTool",value:function(){var e=this,t=new K({view:this.view,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:"segment",mode:this.mode});this._drawTool=t,this.view.addAndActivateTool(t),this.addHandles([t.on("vertex-add",(function(n){1===n.vertices.length&&e.emit("vertex-add",new I(e.view,n.vertices[0].vertexIndex,t.getVertexCoords()))})),t.on("cursor-update",(function(n){1===n.vertices.length&&e.emit("cursor-update",new U(e.view,n.vertices[0].vertexIndex,t.getVertexCoords()))})),t.on("complete",(function(n){e.emit("draw-complete",new L(t.getVertexCoords())),e._removeDrawTool()})),this.view.on("key-down",(function(n){n.key!==R.Sn.vertexAdd||n.repeat||"click"!==e.mode?n.key!==R.Sn.complete||n.repeat||t.completeCreateOperation():t.drawOperation.numCommittedVertices>0?t.completeCreateOperation():t.drawOperation.commitStagedVertex()}),E.f.TOOL)])}},{key:"_removeDrawTool",value:function(){this._drawTool&&(this.view.tools.remove(this._drawTool),this._drawTool=null)}},{key:"_addVertex",value:function(e){var t=this._coordinateHelper.arrayToVector(e);if(!this._isDuplicateOfLastVertex(t)){this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometryOperations.appendVertex(t),1===this._committedVertices.length&&(this.viewAlignedCoordinateSystem=(0,ee.Gn)(this.view,this._committedVertices[0]));var n=this._committedVertices.length-1,i=new I(this.view,n,this.vertices);this.emit("vertex-add",i)}}},{key:"_updateCursor",value:function(){var e=this;if(this._popCursorVertex(),this._cursorScreenPoint){var t=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);null!=t&&this._pushCursorVertex(t.vertex,(function(){return e.emit("cursor-update",new U(e.view,e._activeComponent.vertices.length,e.vertices,null!=e._stagedVertex?new z.Z(e._stagedVertex):null))}))}}},{key:"_completeDrawing",value:function(){if(this._drawTool)return this._drawTool.completeCreateOperation(),void this.removeAllHandles();if(this._activePointerId=null,this._popCursorVertex(),this._cursorScreenPoint=null,this._isDragging=!1,this._abortSnapping(),null!=this._snappingManager&&this._snappingManager.doneSnapping(),!(this.vertices.length<1)){var e=new L(this.vertices);this.emit("draw-complete",e),e.defaultPrevented||this.removeAllHandles()}}},{key:"_resetGeometry",value:function(){this._editGeometryOperations.destroy(),this._editGeometryOperations=new V.c(new T.XE("polygon",this._coordinateHelper),k.JY.Local),this._activeComponent=new T.wA(this._coordinateHelper.spatialReference,k.JY.Local),this._editGeometryOperations.data.components.push(this._activeComponent)}}]),n}(A);(0,u._)([(0,c.Cb)({type:["freehand","click"]})],te.prototype,"mode",void 0),te=(0,u._)([(0,p.j)("esri.views.draw.SegmentDrawAction")],te);var ne=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.apply(this,arguments)).activeAction=null,e.type="draw",e.view=null,e}return(0,a.Z)(n,[{key:"destroy",value:function(){this.activeAction&&(this.activeAction.destroy(),this.activeAction=null)}},{key:"create",value:function(e,t){this.reset();var n=(0,o.Z)({view:this.view},t);switch(e){case"point":n.editGeometryType="point",this.activeAction=new q(n);break;case"polyline":n.editGeometryType="polyline",this.activeAction=new $(n);break;case"multipoint":n.editGeometryType="polygon",this.activeAction=new F(n);break;case"polygon":n.editGeometryType="polygon",this.activeAction=new Q(n);break;case"rectangle":case"circle":case"ellipse":case"triangle":n.editGeometryType="polygon",this.activeAction=new te(n)}return this.activeAction}},{key:"complete",value:function(){this.activeAction&&this.activeAction.complete(),this.activeAction=null}},{key:"reset",value:function(){this.activeAction&&this.activeAction.destroy(),this.activeAction=null}}]),n}(d.default);(0,u._)([(0,c.Cb)()],ne.prototype,"activeAction",void 0),(0,u._)([(0,c.Cb)({readOnly:!0})],ne.prototype,"type",void 0),(0,u._)([(0,c.Cb)()],ne.prototype,"view",void 0);var ie=ne=(0,u._)([(0,p.j)("esri.views.draw.Draw")],ne)},99034:function(e,t,n){var i,o,r;n.d(t,{Q9:function(){return o},bH:function(){return i},jg:function(){return r}}),function(e){e[e.USER=0]="USER",e[e.MANAGER=1]="MANAGER"}(i||(i={})),function(e){e[e.None=0]="None",e[e.Unfocused=1]="Unfocused",e[e.Focused=2]="Focused",e[e.Unselected=4]="Unselected",e[e.Selected=8]="Selected",e[e.All=15]="All"}(o||(o={})),function(e){e[e.None=0]="None",e[e.Custom1=16]="Custom1",e[e.Custom2=32]="Custom2",e[e.Custom3=64]="Custom3",e[e.Custom4=128]="Custom4",e[e.Custom5=256]="Custom5",e[e.Custom6=512]="Custom6",e[e.Custom7=1024]="Custom7",e[e.Custom8=2048]="Custom8",e[e.Custom9=4096]="Custom9",e[e.Custom10=8192]="Custom10",e[e.Custom11=16384]="Custom11",e[e.Custom12=32768]="Custom12",e[e.All=65520]="All"}(r||(r={}))},52349:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(43144),o=n(15671),r=n(60136),a=n(29388),s=n(27366),l=n(7138),u=n(49861),d=(n(93169),n(32718),n(84936),n(69912)),c=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(e){var i;return(0,o.Z)(this,n),(i=t.call(this,e)).enabled=!1,i}return(0,i.Z)(n)}(l.default);(0,s._)([(0,u.Cb)({type:Boolean,nonNullable:!0})],c.prototype,"enabled",void 0);var p=c=(0,s._)([(0,d.j)("esri.views.interactive.sketch.SketchLabelOptions")],c)},44270:function(e,t,n){n.d(t,{u:function(){return h}});var i=n(1413),o=n(42537),r=n(70758),a=n(80987),s=n(94172),l=n(22006),u=n(76014),d=n(98173);var c=n(27357),p=n(38856),v=new Map;function h(e){if(!v.has(e)){var t=function(e,t){var n,o,r=new d.Z({enabled:!0,selfEnabled:!1,featureEnabled:!0,distance:null!==(n=null===t||void 0===t?void 0:t.distance)&&void 0!==n?n:u.c.distance,touchSensitivityMultiplier:null!==(o=null===t||void 0===t?void 0:t.touchSensitivityMultiplier)&&void 0!==o?o:u.c.touchSensitivityMultiplier});return(0,i.Z)((0,i.Z)({},(0,s.watch)((function(){var t,n,i;return null!==(t=null===(n=e.map)||void 0===n||null===(i=n.allLayers)||void 0===i?void 0:i.toArray())&&void 0!==t?t:[]}),(function(e){r.featureSources=new a.Z(e.map((function(e){return new l.Z({layer:e})})))}),s.initial)),{},{options:r})}(e,{distance:10}),n=function(e,t){return new p.N({view:e,options:t,snappingEnginesFactory:function(t,n){return[new c.U({view:e,spatialReference:e.spatialReference,options:n})]}})}(e,t.options);v.set(e,{referenceCount:0,snappingManager:n,remove:function(){t.remove(),n.destroy()}})}var h=v.get(e);h.referenceCount++;var _=(0,o.kB)((function(){return t=e,(n=h).referenceCount--,void(n.referenceCount>0||(0,r.Y)((function(){0===n.referenceCount&&(n.remove(),v.delete(t))})));var t,n}));return(0,i.Z)({snappingManager:h.snappingManager},_)}},32845:function(e,t,n){n.d(t,{V:function(){return v}});var i=n(15671),o=n(43144),r=n(60136),a=n(29388),s=n(27366),l=n(7138),u=n(32718),d=n(94172),c=n(49861),p=(n(93169),n(84936),n(69912)),v=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(e){var o;return(0,i.Z)(this,n),(o=t.call(this,e)).tool=null,o._loggedUnsupportedErrorOnce=!1,null!=(null===e||void 0===e?void 0:e.visible)&&(o.visible=e.visible),o}return(0,o.Z)(n,[{key:"initialize",value:function(){var e=this;this.addHandles((0,d.watch)((function(){return{ready:null!=e.view&&e.view.ready,supported:e.supported}}),(function(t){var n=t.ready,i=t.supported;!n||i||e._loggedUnsupportedErrorOnce||(e.logError(e.unsupportedErrorMessage),e._loggedUnsupportedErrorOnce=!0)}),d.syncAndInitial))}},{key:"destroy",value:function(){this.removeTool(),this.view=null}},{key:"active",get:function(){return null!=this.tool&&this.tool.active}},{key:"disabled",get:function(){return null==this.view||!this.view.ready||!this.supported}},{key:"supported",get:function(){return null==this.view||this.view.type===this.supportedViewType}},{key:"view",get:function(){return this._get("view")},set:function(e){var t=this;if(e!==this.view){this.removeTool(),this._set("view",e);var n="tools";this.removeHandles(n),null!=e&&this.addHandles(e.tools.on("after-remove",(function(e){e.item===t.tool&&t._set("tool",null)})),n)}}},{key:"visible",set:function(e){this._set("visible",e),null!=this.tool&&(this.tool.visible=e)}},{key:"createTool",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{interactive:!1};if(this.removeTool(),null!=this.view&&this.view.ready&&this.supported){var n=this.constructTool();n.created?(this._set("tool",n),this.view.tools.add(n)):t.interactive?(this._set("tool",n),this.view.addAndActivateTool(n),(0,d.when)((function(){return n.created}),(function(){n.active&&null!=e.view&&(e.view.activeTool=null)}),{initial:!0,once:!0})):n.destroy()}}},{key:"removeTool",value:function(){var e,t=this.tool;if(null!=t){var n=null===(e=this.view)||void 0===e?void 0:e.tools;null!=n?n.remove(t):t.destroy(),this._set("tool",null)}}},{key:"logError",value:function(){var e;(e=u.Z.getLogger(this)).error.apply(e,arguments)}}]),n}(l.default);(0,s._)([(0,c.Cb)({constructOnly:!0})],v.prototype,"tool",void 0),(0,s._)([(0,c.Cb)()],v.prototype,"active",null),(0,s._)([(0,c.Cb)()],v.prototype,"disabled",null),(0,s._)([(0,c.Cb)()],v.prototype,"supported",null),(0,s._)([(0,c.Cb)({value:null})],v.prototype,"view",null),(0,s._)([(0,c.Cb)({type:Boolean,value:!0})],v.prototype,"visible",null),v=(0,s._)([(0,p.j)("esri.widgets.support.InteractiveToolViewModel")],v)},15142:function(e,t,n){n.d(t,{s:function(){return f}});var i=n(15671),o=n(43144),r=n(60136),a=n(29388),s=n(27366),l=n(49861),u=(n(93169),n(32718),n(84936),n(69912)),d=n(33565),c=n(8905),p=n(10498),v=(n(80975),n(67005)),h="esri-measurement-widget-content",_={base:h,actions:"".concat(h,"__actions"),error:"".concat(h,"__error"),hint:"".concat(h,"__hint"),hintText:"".concat(h,"__hint-text"),panelError:"".concat(h,"__panel--error"),settings:"".concat(h,"__settings"),measurement:"".concat(h,"__measurement"),measurementItem:"".concat(h,"__measurement-item"),measurementItemDisabled:"".concat(h,"__measurement-item--disabled"),measurementItemTitle:"".concat(h,"__measurement-item__title"),measurementItemValue:"".concat(h,"__measurement-item__value")},f=function(e){(0,r.Z)(s,e);var t=(0,a.Z)(s);function s(e,n){return(0,i.Z)(this,s),t.call(this,e,n)}return(0,o.Z)(s,[{key:"loadDependencies",value:function(){return(0,c.h)({button:function(){return Promise.all([n.e(92358),n.e(46895),n.e(54438),n.e(14105),n.e(32275)]).then(n.bind(n,32275))}})}},{key:"render",value:function(){return(0,v.u)("div",{class:_.base},this._renderContent())}},{key:"_renderContent",value:function(){var e=this.supported,t=this.active;switch(this.state){case"disabled":case"ready":return e?t?this._renderHint():this._renderActions():this._renderUnsupportedMessage();case"measuring":case"measured":return[this._renderSettings(),this._renderMeasurement(),this._renderActions()]}}},{key:"_renderUnsupportedMessage",value:function(){return(0,v.u)("section",{class:_.error,key:"unsupported"},(0,v.u)("p",null,this.messages.unsupported))}},{key:"_renderHint",value:function(){var e=this.messages;return(0,v.u)("section",{class:_.hint,key:"hint"},(0,v.u)("p",{class:_.hintText},e.hint))}},{key:"_renderSettings",value:function(){return(0,v.u)("div",{class:_.settings,key:"settings"},(0,v.u)(p.m,{options:this.unitOptions,selectLabel:this.messages.unit,value:this.unit,onChange:this.onUnitChange}))}},{key:"_renderMeasurement",value:function(){var e=this;return(0,v.u)("section",{class:_.measurement,key:"measurement"},this.measurementItems.map((function(t){return e._renderMeasurementItem(t)})))}},{key:"_renderMeasurementItem",value:function(e){var t=e.key,n=e.title,i=e.value;return(0,v.u)("div",{class:this.classes(_.measurementItem,null==i&&_.measurementItemDisabled),key:t},(0,v.u)("span",{class:_.measurementItemTitle},n),(0,v.u)("span",{"aria-live":"polite",class:_.measurementItemValue},null!==i&&void 0!==i?i:this.messages.notApplicable))}},{key:"_renderActions",value:function(){var e=this.messages;return(0,v.u)("div",{class:_.actions},(0,v.u)("calcite-button",{class:this.newMeasurementButtonClass,disabled:"disabled"===this.state,onclick:this.onNewMeasurementClick},e.newMeasurement))}}]),s}(d.Z);(0,s._)([(0,l.Cb)()],f.prototype,"active",void 0),(0,s._)([(0,l.Cb)()],f.prototype,"measurementItems",void 0),(0,s._)([(0,l.Cb)()],f.prototype,"messages",void 0),(0,s._)([(0,l.Cb)()],f.prototype,"newMeasurementButtonClass",void 0),(0,s._)([(0,l.Cb)()],f.prototype,"onNewMeasurementClick",void 0),(0,s._)([(0,l.Cb)()],f.prototype,"onUnitChange",void 0),(0,s._)([(0,l.Cb)()],f.prototype,"state",void 0),(0,s._)([(0,l.Cb)()],f.prototype,"supported",void 0),(0,s._)([(0,l.Cb)()],f.prototype,"unit",void 0),(0,s._)([(0,l.Cb)()],f.prototype,"unitOptions",void 0),f=(0,s._)([(0,u.j)("esri.widgets.support.MeasurementWidgetContent")],f)}}]);
//# sourceMappingURL=67673.1c3d77e4.chunk.js.map