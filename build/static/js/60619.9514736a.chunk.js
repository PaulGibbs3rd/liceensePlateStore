"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[60619],{63665:function(e,r,t){t.d(r,{Z:function(){return C}});var n=t(15671),a=t(43144),i=t(60136),o=t(29388),l=t(27366),u=t(11582),s=t(49861),c=(t(93169),t(32718),t(84936),t(69912)),d=function(e){(0,i.Z)(t,e);var r=(0,o.Z)(t);function t(e){var a;return(0,n.Z)(this,t),(a=r.call(this,e)).row=0,a.column=0,a.rows=1,a.columns=1,a}return(0,a.Z)(t,[{key:"equals",value:function(e){return null!=e&&this.row===e.row&&this.rows===e.rows&&this.column===e.column&&this.columns===e.columns}}]),t}(u.j);(0,l._)([(0,s.Cb)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],d.prototype,"row",void 0),(0,l._)([(0,s.Cb)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],d.prototype,"column",void 0),(0,l._)([(0,s.Cb)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],d.prototype,"rows",void 0),(0,l._)([(0,s.Cb)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],d.prototype,"columns",void 0);var y=d=(0,l._)([(0,c.j)("esri.CameraLayout")],d),f=t(17768),v=t(46784),p=t(16889),h=t(89125),b=t(38511),m=t(31201),g=t(25243),Z=t(848),w=function(e){(0,i.Z)(t,e);var r=(0,o.Z)(t);function t(){var e;(0,n.Z)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=r.call.apply(r,[this].concat(i))).position=new Z.Z([0,0,0]),e.heading=0,e.tilt=0,e.fov=55,e.layout=new y,e}return(0,a.Z)(t,[{key:"normalizeCtorArgs",value:function(e,r,t,n){if(e&&"object"==typeof e&&("x"in e||Array.isArray(e))){var a={position:e};return null!=r&&(a.heading=r),null!=t&&(a.tilt=t),null!=n&&(a.fov=n),a}return e}},{key:"writePosition",value:function(e,r,t,n){var a=e.clone();a.x=(0,g.q9)(e.x||0),a.y=(0,g.q9)(e.y||0),a.z=e.hasZ?(0,g.q9)(e.z||0):e.z,r[t]=a.write({},n)}},{key:"readPosition",value:function(e,r){var t=new Z.Z;return t.read(e,r),t.x=(0,g.q9)(t.x||0),t.y=(0,g.q9)(t.y||0),t.z=t.hasZ?(0,g.q9)(t.z||0):t.z,t}},{key:"equals",value:function(e){return null!=e&&this.tilt===e.tilt&&this.heading===e.heading&&this.fov===e.fov&&this.position.equals(e.position)&&this.layout.equals(e.layout)}}]),t}((0,u.J)(v.wq));(0,l._)([(0,s.Cb)({type:Z.Z,json:{write:{isRequired:!0}}})],w.prototype,"position",void 0),(0,l._)([(0,m.c)("position")],w.prototype,"writePosition",null),(0,l._)([(0,b.r)("position")],w.prototype,"readPosition",null),(0,l._)([(0,s.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,h.p)((function(e){return f.BV.normalize((0,g.q9)(e))}))],w.prototype,"heading",void 0),(0,l._)([(0,s.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,h.p)((function(e){return(0,p.uZ)((0,g.q9)(e),-180,180)}))],w.prototype,"tilt",void 0),(0,l._)([(0,s.Cb)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],w.prototype,"fov",void 0),(0,l._)([(0,s.Cb)({type:y,nonNullable:!0,json:{read:!1,write:!1}})],w.prototype,"layout",void 0);var C=w=(0,l._)([(0,c.j)("esri.Camera")],w)},62565:function(e,r,t){t.d(r,{Z:function(){return B}});var n,a=t(74165),i=t(15861),o=t(1413),l=t(37762),u=t(15671),s=t(43144),c=t(97326),d=t(88301),y=t(61120),f=t(60136),v=t(29388),p=t(27366),h=t(51995),b=t(80987),m=t(60354),g=t(41644),Z=t(10064),w=t(46784),C=t(84652),L=t(54472),_=t(93002),k=t(32718),S=t(92026),I=t(66978),x=t(49861),j=t(25243),A=t(69912),q=t(31201),T=(t(93169),t(84936),t(27135)),N=n=function(e){(0,f.Z)(t,e);var r=(0,v.Z)(t);function t(e){var n;return(0,u.Z)(this,t),(n=r.call(this,e)).type="none",n}return(0,s.Z)(t,[{key:"clone",value:function(){return new n({type:this.type})}}]),t}(w.wq);(0,p._)([(0,T.J)({none:"none",stayAbove:"stay-above"})],N.prototype,"type",void 0),N=n=(0,p._)([(0,A.j)("esri.ground.NavigationConstraint")],N);var R,F=t(81219),E=R=function(e){(0,f.Z)(n,e);var r=(0,v.Z)(n);function n(e){var t;(0,u.Z)(this,n),(t=r.call(this,e)).opacity=1,t.surfaceColor=null,t.navigationConstraint=null,t.layers=new b.Z;return t.addHandles([t.layers.on("after-add",(function(e){return function(e){e.parent&&e.parent!==(0,c.Z)(t)&&"remove"in e.parent&&e.parent.remove(e),e.parent=(0,c.Z)(t),"elevation"!==e.type&&"base-elevation"!==e.type&&k.Z.getLogger((0,c.Z)(t)).error("Layer '".concat(e.title,", id:").concat(e.id,"' of type '").concat(e.type,"' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported."))}(e.item)})),t.layers.on("after-remove",(function(e){return function(e){e.parent=null}(e.item)}))]),t}return(0,s.Z)(n,[{key:"initialize",value:function(){var e=this;this.when().catch((function(r){(0,I.D_)(r)||k.Z.getLogger(e).error("#load()","Failed to load ground",r)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}},{key:"destroy",value:function(){var e,r=this.layers.removeAll(),t=(0,l.Z)(r);try{for(t.s();!(e=t.n()).done;){var n=e.value;(0,S.SC)(n)}}catch(a){t.e(a)}finally{t.f()}this.layers.destroy()}},{key:"normalizeCtorArgs",value:function(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e=(0,o.Z)({},e)).resourceInfo),e}},{key:"layers",set:function(e){this._set("layers",(0,m.Z)(e,this._get("layers")))}},{key:"writeLayers",value:function(e,r,t,n){var a=[];e?(n=(0,o.Z)((0,o.Z)({},n),{},{layerContainerType:"ground"}),e.forEach((function(e){var r;if("write"in e){var t={};(0,g.sM)(e)().write(t,n)&&a.push(t)}else(null===(r=n)||void 0===r?void 0:r.messages)&&n.messages.push(new Z.Z("layer:unsupported","Layers (".concat(e.title,", ").concat(e.id,") of type '").concat(e.declaredClass,"' cannot be persisted in the ground"),{layer:e}))})),r.layers=a):r.layers=a}},{key:"load",value:function(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}},{key:"loadAll",value:function(){var e=this;return(0,_.G)(this,(function(r){r(e.layers)}))}},{key:"queryElevation",value:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(r,n){var i,o,l,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load({signal:null===n||void 0===n?void 0:n.signal});case 2:return e.next=4,Promise.all([t.e(77043),t.e(87960)]).then(t.bind(t,77043));case 4:return i=e.sent,o=i.ElevationQuery,(0,I.k_)(n),l=new o,u=this.layers.filter(M).toArray(),e.abrupt("return",l.queryAll(u,r,n));case 9:case"end":return e.stop()}}),e,this)})));return function(r,t){return e.apply(this,arguments)}}()},{key:"createElevationSampler",value:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(r,n){var i,o,l,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load({signal:null===n||void 0===n?void 0:n.signal});case 2:return e.next=4,Promise.all([t.e(77043),t.e(87960)]).then(t.bind(t,77043));case 4:return i=e.sent,o=i.ElevationQuery,(0,I.k_)(n),l=new o,u=this.layers.filter(M).toArray(),e.abrupt("return",l.createSamplerAll(u,r,n));case 9:case"end":return e.stop()}}),e,this)})));return function(r,t){return e.apply(this,arguments)}}()},{key:"clone",value:function(){var e={opacity:this.opacity,surfaceColor:(0,C.d9)(this.surfaceColor),navigationConstraint:(0,C.d9)(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new R({resourceInfo:this.resourceInfo}).set(e)}},{key:"read",value:function(e,r){this.resourceInfo||this._set("resourceInfo",{data:e,context:r}),(0,d.Z)((0,y.Z)(n.prototype),"read",this).call(this,e,r)}},{key:"_loadFromSource",value:function(e){var r=this.resourceInfo;return r?this._loadLayersFromJSON(r.data,r.context,e):Promise.resolve()}},{key:"_loadLayersFromJSON",value:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(r,n,i){var o,l,u,s,c,d,y;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(null===n||void 0===n?void 0:n.origin)||"web-scene",l=(null===n||void 0===n?void 0:n.portal)||null,u=(null===n||void 0===n?void 0:n.url)||null,e.next=5,Promise.all([t.e(46727),t.e(43139),t.e(20519)]).then(t.bind(t,20519));case 5:return s=e.sent,c=s.populateOperationalLayers,(0,I.k_)(i),d=[],r.layers&&Array.isArray(r.layers)&&(y={context:{origin:o,url:u,portal:l,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"},d.push(c(this.layers,r.layers,y))),e.next=12,Promise.allSettled(d);case 12:case"end":return e.stop()}}),e,this)})));return function(r,t,n){return e.apply(this,arguments)}}()}]),n}((0,w.eC)(L.Z));function M(e){return"elevation"===e.type||function(e){return e&&"createElevationSampler"in e}(e)}(0,p._)([(0,x.Cb)({json:{read:!1}})],E.prototype,"layers",null),(0,p._)([(0,q.c)("layers")],E.prototype,"writeLayers",null),(0,p._)([(0,x.Cb)({readOnly:!0})],E.prototype,"resourceInfo",void 0),(0,p._)([(0,x.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:j.z8,read:{reader:F.b,source:"transparency"},write:{writer:function(e,r){r.transparency=(0,F.a)(e)},target:"transparency"}}})],E.prototype,"opacity",void 0),(0,p._)([(0,x.Cb)({type:h.Z,json:{type:[j.z8],write:function(e,r){r.surfaceColor=e.toJSON().slice(0,3)}}})],E.prototype,"surfaceColor",void 0),(0,p._)([(0,x.Cb)({type:N,json:{write:!0}})],E.prototype,"navigationConstraint",void 0);var B=E=R=(0,p._)([(0,A.j)("esri.Ground")],E)},60762:function(e,r,t){t.d(r,{Z:function(){return S}});var n=t(15671),a=t(43144),i=t(97326),o=t(60136),l=t(29388),u=t(27366),s=t(54557),c=t(62565),d=t(7138),y=t(77178),f=t(91505),v=t(92026),p=t(49861),h=t(89125),b=(t(84936),t(93169),t(69912)),m=t(69767),g=t(23037),Z=t(30219),w=t(32718),C=t(25243),L={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};var _=t(84938),k=function(e){(0,o.Z)(t,e);var r=(0,l.Z)(t);function t(e){var a;return(0,n.Z)(this,t),(a=r.call(this,e)).allLayers=new y.Z({getCollections:function(){var e,r,t;return[null===(e=a.basemap)||void 0===e?void 0:e.baseLayers,null===(r=a.ground)||void 0===r?void 0:r.layers,a.layers,null===(t=a.basemap)||void 0===t?void 0:t.referenceLayers]},getChildrenFunction:function(e){return"layers"in e?e.layers:null}}),a.allTables=(0,Z.a)((0,i.Z)(a)),a.basemap=null,a.editableLayers=new y.Z({getCollections:function(){return[a.allLayers]},itemFilterFunction:m.K}),a.ground=new c.Z,a._basemapCache=(0,g.Df)(),a}return(0,a.Z)(t,[{key:"destroy",value:function(){(0,g.Bf)(this._basemapCache),this._basemapCache=null,this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=(0,v.SC)(this.basemap),(0,v.SC)(this.ground),this._set("ground",null)}},{key:"castBasemap",value:function(e){return(0,g.se)(e,this._basemapCache)}},{key:"castGround",value:function(e){var r=function(e){var r=null;if("string"==typeof e)if(e in L){var t=L[e];r=new c.Z({resourceInfo:{data:{layers:[t]}}})}else w.Z.getLogger("esri.support.groundUtils").warn("Unable to find ground definition for: ".concat(e,'. Try "world-elevation"'));else r=(0,C.se)(c.Z,e);return r}(e);return null!==r&&void 0!==r?r:this._get("ground")}},{key:"findLayerById",value:function(e){return this.allLayers.find((function(r){return r.id===e}))}},{key:"findTableById",value:function(e){return this.allTables.find((function(r){return r.id===e}))}}]),t}((0,t(16791).Q)((0,_.K)(f.Z.EventedMixin(d.default))));(0,u._)([(0,p.Cb)({readOnly:!0,dependsOn:[]})],k.prototype,"allLayers",void 0),(0,u._)([(0,p.Cb)({readOnly:!0})],k.prototype,"allTables",void 0),(0,u._)([(0,p.Cb)({type:s.default,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],k.prototype,"basemap",void 0),(0,u._)([(0,h.p)("basemap")],k.prototype,"castBasemap",null),(0,u._)([(0,p.Cb)({readOnly:!0})],k.prototype,"editableLayers",void 0),(0,u._)([(0,p.Cb)({type:c.Z,nonNullable:!0})],k.prototype,"ground",void 0),(0,u._)([(0,h.p)("ground")],k.prototype,"castGround",null),(0,u._)([(0,p.Cb)()],k.prototype,"undoRedo",void 0);var S=k=(0,u._)([(0,b.j)("esri.Map")],k)},36721:function(e,r,t){t.d(r,{Z:function(){return b}});var n,a=t(15671),i=t(43144),o=t(60136),l=t(29388),u=t(27366),s=t(63665),c=t(59486),d=t(46784),y=t(49861),f=t(89125),v=(t(84936),t(93169),t(69912)),p=t(77981),h=n=function(e){(0,o.Z)(t,e);var r=(0,l.Z)(t);function t(e){var n;return(0,a.Z)(this,t),(n=r.call(this,e)).rotation=0,n.scale=0,n.targetGeometry=null,n.camera=null,n}return(0,i.Z)(t,[{key:"castRotation",value:function(e){return(e%=360)<0&&(e+=360),e}},{key:"clone",value:function(){return new n({rotation:this.rotation,scale:this.scale,targetGeometry:null!=this.targetGeometry?this.targetGeometry.clone():null,camera:null!=this.camera?this.camera.clone():null})}}]),t}(d.wq);(0,u._)([(0,y.Cb)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:m}}}}})],h.prototype,"rotation",void 0),(0,u._)([(0,f.p)("rotation")],h.prototype,"castRotation",null),(0,u._)([(0,y.Cb)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:m}}}}})],h.prototype,"scale",void 0),(0,u._)([(0,y.Cb)({types:c.qM,json:{read:p.im,write:!0,origins:{"web-scene":{read:p.im,write:{overridePolicy:m}}}}})],h.prototype,"targetGeometry",void 0),(0,u._)([(0,y.Cb)({type:s.Z,json:{write:!0}})],h.prototype,"camera",void 0);var b=h=n=(0,u._)([(0,v.j)("esri.Viewpoint")],h);function m(){return{enabled:!this.camera}}},77178:function(e,r,t){t.d(r,{Z:function(){return v}});var n=t(37762),a=t(15671),i=t(43144),o=t(60136),l=t(29388),u=t(27366),s=t(80987),c=(t(14921),t(10064),t(32718),t(3073),t(27088)),d=t(49861),y=t(69912),f=function(e){(0,o.Z)(t,e);var r=(0,l.Z)(t);function t(e){var n;return(0,a.Z)(this,t),(n=r.call(this,e)).getCollections=null,n}return(0,i.Z)(t,[{key:"initialize",value:function(){var e=this;this.addHandles((0,c.EH)((function(){return e._refresh()})))}},{key:"destroy",value:function(){this.getCollections=null}},{key:"_refresh",value:function(){var e=null!=this.getCollections?this.getCollections():null;if(null!=e){var r,t=0,a=(0,n.Z)(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;null!=i&&(t=this._processCollection(t,i))}}catch(o){a.e(o)}finally{a.f()}this.splice(t,this.length)}else this.removeAll()}},{key:"_createNewInstance",value:function(e){return new s.Z(e)}},{key:"_processCollection",value:function(e,r){var t;if(!r)return e;var a,i=null!==(t=this.itemFilterFunction)&&void 0!==t?t:function(e){return!!e},o=(0,n.Z)(r);try{for(o.s();!(a=o.n()).done;){var l=a.value;if(l){if(i(l)){var u=this.indexOf(l,e);u>=0?u!==e&&this.reorder(l,e):this.add(l,e),++e}if(this.getChildrenFunction){var s=this.getChildrenFunction(l);if(Array.isArray(s)){var c,d=(0,n.Z)(s);try{for(d.s();!(c=d.n()).done;){var y=c.value;e=this._processCollection(e,y)}}catch(f){d.e(f)}finally{d.f()}}else e=this._processCollection(e,s)}}}}catch(f){o.e(f)}finally{o.f()}return e}}]),t}(s.Z);(0,u._)([(0,d.Cb)()],f.prototype,"getCollections",void 0),(0,u._)([(0,d.Cb)()],f.prototype,"getChildrenFunction",void 0),(0,u._)([(0,d.Cb)()],f.prototype,"itemFilterFunction",void 0);var v=f=(0,u._)([(0,y.j)("esri.core.CollectionFlattener")],f)},22751:function(e,r,t){t.d(r,{x:function(){return o}});var n=t(42537),a=t(94172),i=new WeakMap;function o(e){return!e.destroyed&&(i.has(e)||e.addHandles([(0,a.watch)((function(){var r=e.parent;return!(!r||!("type"in r))&&("catalog-dynamic-group"===r.type||o(r))}),(function(r){return i.set(e,r)}),a.syncAndInitial),(0,n.kB)((function(){return i.delete(e)}))]),i.get(e))}},69767:function(e,r,t){t.d(r,{K:function(){return i}});var n=t(22751),a=t(37933);function i(e){var r,t,i;return!("object"!=typeof(i=e)||null==i||!("loaded"in i)||!0!==i.loaded||!("type"in i)||null===(r=(0,a.S1)(e))||void 0===r||null===(t=r.operations)||void 0===t||!t.supportsEditing||"editingEnabled"in e&&!(0,a.ln)(e)||(0,n.x)(e))}},84938:function(e,r,t){t.d(r,{K:function(){return m}});var n=t(37762),a=t(15671),i=t(43144),o=t(97326),l=t(60136),u=t(29388),s=t(27366),c=t(80987),d=t(60354),y=t(32718),f=t(66978),v=t(49861),p=(t(93169),t(84936),t(69912)),h=t(30651);function b(e,r,t){var n,a;if(e)for(var i=0,o=e.length;i<o;i++){var l,u;if((null===(l=n=e.at(i))||void 0===l?void 0:l[r])===t)return n;if("group"===(null===(u=n)||void 0===u?void 0:u.type)&&(a=b(n.layers,r,t)))return a}}var m=function(e){var r=function(e){(0,l.Z)(t,e);var r=(0,u.Z)(t);function t(){var e;(0,a.Z)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];(e=r.call.apply(r,[this].concat(i))).layers=new c.Z;var u=function(e){e.parent&&"remove"in e.parent&&e.parent.remove(e)},s=function(r){r.parent=(0,o.Z)(e),e.layerAdded(r),"elevation"!==r.type&&"base-elevation"!==r.type||y.Z.getLogger((0,o.Z)(e)).error("Layer 'title:".concat(r.title,", id:").concat(r.id,"' of type '").concat(r.type,"' is not supported as an operational layer and will therefore be ignored."))},d=function(r){r.parent=null,e.layerRemoved(r)};return e.addHandles([e.layers.on("before-add",(function(r){if(r.item===(0,o.Z)(e))return r.preventDefault(),void y.Z.getLogger((0,o.Z)(e)).error("#add()","Cannot add layer to itself.");u(r.item)})),e.layers.on("after-add",(function(e){return s(e.item)})),e.layers.on("after-remove",(function(e){return d(e.item)}))]),e}return(0,i.Z)(t,[{key:"destroy",value:function(){var e,r=this.layers.toArray(),t=(0,n.Z)(r);try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(a){t.e(a)}finally{t.f()}this.layers.destroy()}},{key:"layers",set:function(e){this._set("layers",(0,d.Z)(e,this._get("layers")))}},{key:"add",value:function(e,r){var t=this,n=this.layers;if(r=n.getNextIndex(r),e instanceof h.Z){var a=e;a.parent===this?this.reorder(a,r):n.add(a,r)}else(0,f.y8)(e)?e.then((function(e){t.destroyed||t.add(e,r)})):y.Z.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}},{key:"addMany",value:function(e,r){var t=this,n=this.layers,a=n.getNextIndex(r);e.slice().forEach((function(e){e.parent!==t?(n.add(e,a),a+=1):t.reorder(e,a)}))}},{key:"findLayerById",value:function(e){return b(this.layers,"id",e)}},{key:"findLayerByUid",value:function(e){return b(this.layers,"uid",e)}},{key:"remove",value:function(e){return this.layers.remove(e)}},{key:"removeMany",value:function(e){return this.layers.removeMany(e)}},{key:"removeAll",value:function(){return this.layers.removeAll()}},{key:"reorder",value:function(e,r){return this.layers.reorder(e,r)}},{key:"layerAdded",value:function(e){}},{key:"layerRemoved",value:function(e){}}]),t}(e);return(0,s._)([(0,v.Cb)()],r.prototype,"layers",null),r=(0,s._)([(0,p.j)("esri.support.LayersMixin")],r)}},16791:function(e,r,t){t.d(r,{Q:function(){return h}});var n=t(37762),a=t(15671),i=t(43144),o=t(97326),l=t(60136),u=t(29388),s=t(27366),c=t(80987),d=t(60354),y=t(32718),f=t(49861),v=(t(93169),t(84936),t(69912));function p(e,r,t){if(e)for(var n=0,a=e.length;n<a;n++){var i=e.at(n);if(i[r]===t)return i;if("group"===(null===i||void 0===i?void 0:i.type)){var o=p(i.tables,r,t);if(o)return o}}}var h=function(e){var r=function(e){(0,l.Z)(t,e);var r=(0,u.Z)(t);function t(){var e;(0,a.Z)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=r.call.apply(r,[this].concat(i))).tables=new c.Z,e.addHandles([e.tables.on("after-add",(function(r){var t=r.item;t.parent&&t.parent!==(0,o.Z)(e)&&"tables"in t.parent&&t.parent.tables.remove(t),t.parent=(0,o.Z)(e),"feature"!==t.type&&y.Z.getLogger((0,o.Z)(e)).error("Layer 'title:".concat(t.title,", id:").concat(t.id,"' of type '").concat(t.type,"' is not supported as a table and will therefore be ignored."))})),e.tables.on("after-remove",(function(e){e.item.parent=null}))]),e}return(0,i.Z)(t,[{key:"destroy",value:function(){var e,r=this.tables.toArray(),t=(0,n.Z)(r);try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(a){t.e(a)}finally{t.f()}this.tables.destroy()}},{key:"tables",set:function(e){this._set("tables",(0,d.Z)(e,this._get("tables")))}},{key:"findTableById",value:function(e){return p(this.tables,"id",e)}},{key:"findTableByUid",value:function(e){return p(this.tables,"uid",e)}}]),t}(e);return(0,s._)([(0,f.Cb)()],r.prototype,"tables",null),r=(0,s._)([(0,v.j)("esri.support.TablesMixin")],r)}},23037:function(e,r,t){t.d(r,{Bf:function(){return h},Bj:function(){return C},Df:function(){return p},Py:function(){return w},Qs:function(){return G},Us:function(){return S},aL:function(){return k},iG:function(){return m},ql:function(){return Z},se:function(){return b},vZ:function(){return g},zb:function(){return _}});var n,a=t(29439),i=t(54557),o=t(42265),l=t(80987),u=t(32718),s=t(92026),c=t(35995),d=t(25243),y=t(32551),f=t(68954),v=function(){return u.Z.getLogger("esri.support.basemapUtils")};function p(){return{}}function h(e){for(var r in e){var t=e[r];(0,s.SC)(t),delete e[r]}}function b(e,r){var t,n;if("string"==typeof e){var l=e in f.s,u=!l&&e.includes("/");if(!l&&!u){var s=Object.entries(f.s).filter((function(e){var r=(0,a.Z)(e,2),t=(r[0],r[1]);return o.Z.apiKey&&!t.classic||!o.Z.apiKey&&(t.classic||t.is3d)})).map((function(e){var r=(0,a.Z)(e,1)[0];return'"'.concat(r,'"')})).sort().join(", ");return v().warn("Unable to find basemap definition for: ".concat(e,". Try one of these: ").concat(s)),null}r&&(n=r[e]),n||(n=l?i.default.fromId(e):new i.default({style:{id:e}}),r&&(r[e]=n))}else n=(0,d.se)(i.default,e);return null!==(t=n)&&void 0!==t&&t.destroyed&&(v().warn("The provided basemap is already destroyed",{basemap:n}),n=null),n}function m(e){var r;return"Web Scene"===(null===(r=e.portalItem)||void 0===r?void 0:r.type)||e.referenceLayers.some((function(e){return"scene"===e.type}))}function g(e){var r,t;return!(null===e||void 0===e||null===(r=e.portalItem)||void 0===r||null===(t=r.tags)||void 0===t||!t.some((function(e){return"beta"===e.toLowerCase()})))}function Z(e,r){var t,n,a,i;return(null===(t=e.basemap)||void 0===t||null===(n=t.referenceLayers)||void 0===n?void 0:n.some((function(e){return e.uid===r})))||(null===(a=e.basemap)||void 0===a||null===(i=a.baseLayers)||void 0===i?void 0:i.some((function(e){return e.uid===r})))}function w(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=b(e);if(!t)return null;var n=t.clone();return r&&(n.baseLayers=L(n.baseLayers,r.baseLayers),n.referenceLayers=L(n.referenceLayers,r.referenceLayers)),n}function C(e,r){var t,n;return e===r||(null!=(null===e||void 0===e||null===(t=e.portalItem)||void 0===t?void 0:t.id)&&e.portalItem.id===(null===r||void 0===r||null===(n=r.portalItem)||void 0===n?void 0:n.id)||"equal"===F(j(e),j(r),{mustMatchReferences:!0}))}function L(e,r){var t=new l.Z;return e.forEach((function(e){var n=r.find((function(r){return"scene"!==r.type&&M(q(e),q(r))}))||e;t.includes(n)?t.push(e):t.push(n)})),t}function _(e){return!(null===e||void 0===e||!e.baseLayers.concat(e.referenceLayers).some(k))}function k(e){if(x(e.url))return!0;if("vector-tile"===e.type)for(var r in e.sourceNameToSource){var t=e.sourceNameToSource[r];if(x(null===t||void 0===t?void 0:t.sourceUrl))return!0}return!1}function S(e,r){var t,n,a;if(null==r||null==e)return{spatialReference:null,updating:!1};if("not-loaded"===r.loadStatus)return r.load(),{spatialReference:null,updating:!0};if(r.spatialReference)return{spatialReference:r.spatialReference,updating:!1};if(0===r.baseLayers.length)return{spatialReference:null,updating:!1};var i=r.baseLayers.at(0);switch(i.loadStatus){case"not-loaded":i.load();case"loading":return{spatialReference:null,updating:!0};case"failed":return{spatialReference:null,updating:!1}}var o=(("supportedSpatialReferences"in i?i.supportedSpatialReferences:null)||["tileInfo"in i?null===(t=i.tileInfo)||void 0===t?void 0:t.spatialReference:i.spatialReference]).filter(Boolean),l=e.spatialReference;return l?{spatialReference:null!==(n=null!==(a=o.find((function(e){return l.equals(e)})))&&void 0!==a?a:o[0])&&void 0!==n?n:null,updating:!1}:{spatialReference:o[0],updating:!1}}var I=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function x(e){if(!e)return!1;var r=new c.R9((0,c.hF)(e));return!!r.authority&&I.test(r.authority)}function j(e){return e?!e.loaded&&e.resourceInfo?N(e.resourceInfo.data):{baseLayers:A(e.baseLayers),referenceLayers:A(e.referenceLayers)}:null}function A(e){return(l.Z.isCollection(e)?e.toArray():e).map(q)}function q(e){var r,t;return{type:e.type,effect:"effect"in e?e.effect:void 0,url:B("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl||""),minScale:"minScale"in e&&null!=e.minScale?e.minScale:0,maxScale:"maxScale"in e&&null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visible||!!e.visible,sublayers:"map-image"!==e.type&&"wms"!==e.type||null==e.sublayers||null===(r=e.sublayers)||void 0===r?void 0:r.map((function(e){return{id:e.id,visible:e.visible}})),activeLayerId:"wmts"===e.type?null===(t=e.activeLayer)||void 0===t?void 0:t.id:void 0}}function T(e){return e.isReference||"ArcGISSceneServiceLayer"===e.layerType}function N(e){var r,t;return e?{baseLayers:R((null!==(r=e.baseMapLayers)&&void 0!==r?r:[]).filter((function(e){return!T(e)}))),referenceLayers:R((null!==(t=e.baseMapLayers)&&void 0!==t?t:[]).filter((function(e){return T(e)})))}:null}function R(e){return e.map((function(e){return function(e){var r,t,n,a;switch(e.layerType){case"VectorTileLayer":a="vector-tile";break;case"ArcGISTiledMapServiceLayer":a="tile";break;case"ArcGISSceneServiceLayer":a="scene";break;default:a="unknown"}return{type:a,effect:e.effect,url:B(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:null!==(r=e.minScale)&&void 0!==r?r:0,maxScale:null!==(t=e.maxScale)&&void 0!==t?t:0,opacity:null!==(n=e.opacity)&&void 0!==n?n:1,visible:null==e.visibility||!!e.visibility,sublayers:void 0,activeLayerId:void 0}}(e)}))}function F(e,r,t){return null!=e!=(null!=r)?"not-equal":e&&r?E(e.baseLayers,r.baseLayers)?E(e.referenceLayers,r.referenceLayers)?"equal":t.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function E(e,r){if(e.length!==r.length)return!1;for(var t=0;t<e.length;t++)if(!M(e[t],r[t]))return!1;return!0}function M(e,r){if(e.type!==r.type||e.url!==r.url||e.minScale!==r.minScale||e.maxScale!==r.maxScale||e.visible!==r.visible||e.opacity!==r.opacity)return!1;if(!(0,y.yQ)(e.effect,r.effect))return!1;if(null!=e.activeLayerId||null!=r.activeLayerId)return e.activeLayerId===r.activeLayerId;if(null!=e.sublayers||null!=r.sublayers){if(null==e.sublayers||null==r.sublayers||e.sublayers.length!==r.sublayers.length)return!1;for(var t=0;t<e.sublayers.length;t++){var n=e.sublayers.at(t),a=r.sublayers.at(t);if((null===n||void 0===n?void 0:n.id)!==(null===a||void 0===a?void 0:a.id)||(null===n||void 0===n?void 0:n.visible)!==(null===a||void 0===a?void 0:a.visible))return!1}}return!0}function B(e){return e?(0,c.Fv)(e).replace(/^\s*https?:/i,"").toLowerCase():""}function G(e){if(!e)return null;var r=e.thumbnailUrl;if(r)return r;var t=function(e){if(n)return n(e);var r=null,t=j(e),a=!(null!==t&&void 0!==t&&t.baseLayers.length);for(var i in f.s){var o=F(t,N(f.s[i]),{mustMatchReferences:a});if("equal"===o){r=i;break}"base-layers-equal"===o&&(r=i)}return r}(e);return t?f.s[t].thumbnailUrl:(0,s.ei)(e.baseLayers,P)}function P(e){var r;return"portalItem"in e?null===(r=e.portalItem)||void 0===r?void 0:r.thumbnailUrl:void 0}},30219:function(e,r,t){t.d(r,{O:function(){return o},a:function(){return i}});var n=t(37762),a=t(77178);function i(e){return new a.Z({getCollections:function(){return[e.tables,e.layers]},getChildrenFunction:function(e){var r=[];return"tables"in e&&r.push(e.tables),"layers"in e&&r.push(e.layers),r},itemFilterFunction:function(e){var r=e.parent;return!!r&&"tables"in r&&r.tables.includes(e)}})}function o(e){var r,t=(0,n.Z)(e.values());try{for(t.s();!(r=t.n()).done;){var a=r.value;null===a||void 0===a||a.destroy()}}catch(i){t.e(i)}finally{t.f()}e.clear()}}}]);
//# sourceMappingURL=60619.9514736a.chunk.js.map