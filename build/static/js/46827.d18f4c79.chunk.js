"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[46827],{69518:function(e,t,r){r.r(t),r.d(t,{default:function(){return de}});var n=r(93433),o=r(29439),i=r(37762),a=r(74165),s=r(15861),u=r(15671),l=r(43144),d=r(88301),c=r(61120),p=r(60136),v=r(29388),y=r(27366),f=r(52639),m=r(49861),b=(r(93169),r(32718)),h=(r(84936),r(69912)),w=r(64326),g=r(12322),k=r(1413),C=(r(59486),r(76200)),T=r(10064),Z=r(54472),S=r(97642),I=r(66978),_=r(35995),N=r(53866),j=r(77981),x=r(56601),E=r(25899),O=r(43404),U=r(27135),A=r(64267),R=(0,O.w)()({Pending:"job-waiting",InProgress:"job-executing",Completed:"job-succeeded"}),F=function(e){(0,p.Z)(r,e);var t=(0,v.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).statusUrl=null,n.status=null,n.submissionTime=null,n.lastUpdatedTime=null,n._timer=void 0,n}return(0,l.Z)(r,[{key:"destroy",value:function(){clearInterval(this._timer)}},{key:"checkJobStatus",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var r,n,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,k.Z)((0,k.Z)({},t),{},{query:{f:"json"}}),e.next=3,(0,C.Z)(this.statusUrl,r);case 3:return n=e.sent,o=n.data,e.abrupt("return",(this.read(o),this.editsResolver&&this.editsResolver.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:!0,historicMoment:null}),this));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"waitForJobCompletion",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var t,r,n,o,i=this,s=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},r=t.interval,n=void 0===r?1e3:r,o=t.statusCallback,e.abrupt("return",new Promise((function(e,t){i._clearTimer();var r=setInterval((function(){i._timer||t((0,I.zE)()),i.checkJobStatus().then((function(t){var r=t.status;switch(i.status=r,r){case"job-succeeded":i._clearTimer(),e(i);break;case"job-waiting":case"job-executing":o&&o(i)}}),(function(e){i._clearTimer(),t(e)}))}),n);i._timer=r})));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_clearTimer",value:function(){clearInterval(this._timer),this._timer=void 0}}]),r}(A.Z);(0,y._)([(0,m.Cb)()],F.prototype,"editsResolver",void 0),(0,y._)([(0,m.Cb)({type:String,json:{write:!0}})],F.prototype,"statusUrl",void 0),(0,y._)([(0,U.J)(R)],F.prototype,"status",void 0),(0,y._)([(0,m.Cb)({type:Date,json:{type:Number,write:{writer:function(e,t){t.submissionTime=e?e.getTime():null}}}})],F.prototype,"submissionTime",void 0),(0,y._)([(0,m.Cb)({type:Date,json:{type:Number,write:{writer:function(e,t){t.lastUpdatedTime=e?e.getTime():null}}}})],F.prototype,"lastUpdatedTime",void 0);var V=F=(0,y._)([(0,h.j)("esri.networks.support.TopologyValidationJobInfo")],F),G=r(4141),J=r(54789),L=r(78952),P=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(e){var r;return(0,u.Z)(this,n),(r=t.call(this,e)).id=null,r.title=null,r.layerUrl=null,r.dataElement=null,r.fullExtent=null,r.spatialReference=null,r.type=null,r.sourceJSON=null,r.gdbVersion=null,r.historicMoment=null,r._applyEditsHandler=function(e){var t=e.serviceUrl,n=e.gdbVersion,o=e.result,i=t===r.featureServiceUrl,a=(0,x.di)(t,n,r.gdbVersion);i&&a&&o.then((function(e){(0,J.JV)(t,n)&&(r.historicMoment=e.historicMoment)}))},r._updateMomentHandler=function(e){var t=e.serviceUrl,n=e.gdbVersion,o=e.moment,i=t===r.featureServiceUrl,a=(0,x.di)(t,n,r.gdbVersion);i&&a&&(r.historicMoment=o)},r.when().then((function(){r.addHandles([(0,x.qH)(r._applyEditsHandler),(0,x.xl)(r._updateMomentHandler)])}),(function(){})),r}return(0,l.Z)(n,[{key:"initialize",value:function(){var e=this;this.when().catch((function(t){var r,n;(0,I.D_)(t)||b.Z.getLogger(e).error("#load()","Failed to load layer (title: '".concat(null!==(r=e.title)&&void 0!==r?r:"no title","', id: '").concat(null!==(n=e.id)&&void 0!==n?n:"no id","')"),{error:t})}))}},{key:"datasetName",get:function(){var e,t;return null!==(e=null===(t=this.dataElement)||void 0===t?void 0:t.name)&&void 0!==e?e:null}},{key:"owner",get:function(){var e,t;return null!==(e=null===(t=this.dataElement)||void 0===t?void 0:t.userIdentity)&&void 0!==e?e:null}},{key:"schemaGeneration",get:function(){var e,t;return null!==(e=null===(t=this.dataElement)||void 0===t?void 0:t.schemaGeneration)&&void 0!==e?e:null}},{key:"parsedUrl",get:function(){return(0,_.mN)(this.layerUrl)}},{key:"featureServiceUrl",get:function(){return(0,E.Qc)(this.parsedUrl.path).url.path}},{key:"networkServiceUrl",get:function(){return this.featureServiceUrl.replace(/\/FeatureServer/i,"/UtilityNetworkServer")}},{key:"layerId",get:function(){return(0,E.Qc)(this.parsedUrl.path).sublayer}},{key:"networkSystemLayers",get:function(){return null}},{key:"load",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.addResolvingPromise(this._fetchDataElement(this.featureServiceUrl,this.layerId.toString(),t)),this.addResolvingPromise(this._fetchLayerMetaData(this.layerUrl,t)),this));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLayerIdBySourceId",value:function(e){if(this.dataElement){var t,r=this.dataElement.domainNetworks,n=(0,i.Z)(r);try{for(n.s();!(t=n.n()).done;){var o,a,s,u=t.value,l=(0,i.Z)(null!==(o=u.edgeSources)&&void 0!==o?o:[]);try{for(l.s();!(s=l.n()).done;){var d=s.value;if(d.sourceId===e)return d.layerId}}catch(y){l.e(y)}finally{l.f()}var c,p=(0,i.Z)(null!==(a=u.junctionSources)&&void 0!==a?a:[]);try{for(p.s();!(c=p.n()).done;){var v=c.value;if(v.sourceId===e)return v.layerId}}catch(y){p.e(y)}finally{p.f()}}}catch(y){n.e(y)}finally{n.f()}return null}return null}},{key:"queryNamedTraceConfigurations",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t,n){var i,s,u,l,d,c,p;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(59154).then(r.bind(r,59154)),r.e(222).then(r.bind(r,222))]);case 2:return s=e.sent,u=(0,o.Z)(s,2),l=u[0].queryNamedTraceConfigurations,d=u[1].default,c=this.networkServiceUrl,p=d.from(t),e.next=10,l(c,p,(0,k.Z)({},n));case 10:if(e.t1=i=e.sent,e.t0=null===e.t1,e.t0){e.next=14;break}e.t0=void 0===i;case 14:if(!e.t0){e.next=18;break}e.t2=void 0,e.next=19;break;case 18:e.t2=i.namedTraceConfigurations;case 19:return e.abrupt("return",e.t2);case 20:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"validateTopology",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t,n){var s,u,l,d,c,p,v,y,f,m,b,h,w;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.validateArea){e.next=2;break}throw new T.Z("network:undefined-validateArea","the network must have validateArea defined in the validate network topology parameters.");case 2:return e.next=4,Promise.all([r.e(59130).then(r.bind(r,59130)),r.e(29481).then(r.bind(r,11366))]);case 4:if(s=e.sent,u=(0,o.Z)(s,2),l=u[0].validateNetworkTopology,d=u[1].default,c=d.from(t),!(0,J.JV)(this.featureServiceUrl,this.gdbVersion||null)){e.next=15;break}return c.sessionID=J.U8,e.next=13,(0,J.Px)(this.featureServiceUrl,this.gdbVersion,!0);case 13:e.next=16;break;case 15:c.sessionID=null;case 16:return c.gdbVersion=this.gdbVersion,p=this.networkServiceUrl,v=this.featureServiceUrl,y=(0,x.jF)(v,null,this.gdbVersion,!0),e.next=22,l(p,c,(0,k.Z)({},n));case 22:if(null!==(f=e.sent)&&void 0!==f&&f.serviceEdits){m=[],b=(0,i.Z)(f.serviceEdits);try{for(w=function(){var e,t,r,n=h.value,o=n.editedFeatures,i=null!==o&&void 0!==o&&o.spatialReference?new L.Z(o.spatialReference):null;m.push({layerId:n.layerId,editedFeatures:{adds:(null===o||void 0===o||null===(e=o.adds)||void 0===e?void 0:e.map((function(e){return B(e,i)})))||[],updates:(null===o||void 0===o||null===(t=o.updates)||void 0===t?void 0:t.map((function(e){return{original:B(e[0],i),current:B(e[1],i)}})))||[],deletes:(null===o||void 0===o||null===(r=o.deletes)||void 0===r?void 0:r.map((function(e){return B(e,i)})))||[],spatialReference:i}})},b.s();!(h=b.n()).done;)w()}catch(a){b.e(a)}finally{b.f()}y.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],editedFeatures:m,exceededTransferLimit:!1,historicMoment:f.moment})}return e.abrupt("return",f);case 25:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"submitTopologyValidationJob",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t,n){var i,s,u,l,d,c,p,v,y,f;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null,t.validateArea){e.next=3;break}throw new T.Z("network:undefined-validateArea","the network must have validateArea defined in the validate network topology parameters.");case 3:if(this.gdbVersion){e.next=8;break}return s=this.layerUrl.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),e.next=7,(0,C.Z)(s,{responseType:"json",query:{f:"json"}});case 7:i=e.sent.data.defaultVersionName;case 8:return e.next=10,Promise.all([r.e(59130).then(r.bind(r,59130)),r.e(29481).then(r.bind(r,11366))]);case 10:if(u=e.sent,l=(0,o.Z)(u,2),d=l[0].submitValidateNetworkTopologyJob,c=l[1].default,p=c.from(t),!(0,J.JV)(this.featureServiceUrl,this.gdbVersion||null)){e.next=21;break}return p.sessionID=J.U8,e.next=19,(0,J.Px)(this.featureServiceUrl,this.gdbVersion,!0);case 19:e.next=22;break;case 21:p.sessionID=null;case 22:return p.gdbVersion=this.gdbVersion||i,v=this.networkServiceUrl,y=this.featureServiceUrl?(0,x.jF)(this.featureServiceUrl,null,this.gdbVersion,!0):void 0,e.next=27,d(v,p,(0,k.Z)({},n));case 27:return f=e.sent,e.abrupt("return",new V({statusUrl:f,editsResolver:y}));case 29:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_fetchLayerMetaData",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t,r){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,C.Z)(t,(0,k.Z)({responseType:"json",query:{f:"json"}},r));case 2:n=e.sent,this.sourceJSON=n.data,this.read(n.data,{origin:"service"});case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_fetchDataElement",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t,r,n){var o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.dataElement){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,C.Z)("".concat(t,"/queryDataElements"),(0,k.Z)({responseType:"json",query:{layers:JSON.stringify([r]),f:"json"}},n)).then((function(e){var t;return null===(t=e.data.layerDataElements)||void 0===t?void 0:t[0]}));case 4:(o=e.sent)&&this.read(o,{origin:"service"});case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()}],[{key:"fromPortalItem",value:function(e){return(0,G.zu)(e)}}]),n}((0,S.R)(Z.Z));function B(e,t){return new f.Z({attributes:e.attributes,geometry:(0,j.im)((0,k.Z)((0,k.Z)({},e.geometry),{},{spatialReference:t}))})}(0,y._)([(0,m.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:!0}},read:!1}})],P.prototype,"id",void 0),(0,y._)([(0,m.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:{source:"name"}}},read:!1}})],P.prototype,"title",void 0),(0,y._)([(0,m.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"url"},write:{target:"url",isRequired:!0}}},read:!1}})],P.prototype,"layerUrl",void 0),(0,y._)([(0,m.Cb)({type:Object,json:{origins:{service:{read:!0}},read:!1}})],P.prototype,"dataElement",void 0),(0,y._)([(0,m.Cb)({type:N.Z,json:{origins:{service:{read:{source:"extent"}}},read:!1}})],P.prototype,"fullExtent",void 0),(0,y._)([(0,m.Cb)({type:L.Z,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:!1}})],P.prototype,"spatialReference",void 0),(0,y._)([(0,m.Cb)({type:["utility","trace"],readOnly:!0,json:{read:!1,write:!1}})],P.prototype,"type",void 0),(0,y._)([(0,m.Cb)({readOnly:!0})],P.prototype,"datasetName",null),(0,y._)([(0,m.Cb)({readOnly:!0})],P.prototype,"owner",null),(0,y._)([(0,m.Cb)({readOnly:!0})],P.prototype,"schemaGeneration",null),(0,y._)([(0,m.Cb)({readOnly:!0})],P.prototype,"parsedUrl",null),(0,y._)([(0,m.Cb)({readOnly:!0})],P.prototype,"featureServiceUrl",null),(0,y._)([(0,m.Cb)({readOnly:!0})],P.prototype,"networkServiceUrl",null),(0,y._)([(0,m.Cb)({readOnly:!0})],P.prototype,"layerId",null),(0,y._)([(0,m.Cb)()],P.prototype,"sourceJSON",void 0),(0,y._)([(0,m.Cb)({readOnly:!0})],P.prototype,"networkSystemLayers",null),(0,y._)([(0,m.Cb)()],P.prototype,"gdbVersion",void 0),(0,y._)([(0,m.Cb)({type:Date})],P.prototype,"historicMoment",void 0);var q=P=(0,y._)([(0,h.j)("esri.networks.Network")],P),D=r(46784),M=r(18769),z=function(e){(0,p.Z)(r,e);var t=(0,v.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).rulesCategorized={attachment:[],containment:[],connectivity:[]},n.request=C.Z,n}return(0,l.Z)(r,[{key:"initialize",value:function(){}},{key:"load",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var r,n=this;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.layer.load(t).then((function(){return n._initializeRulesTable()})),e.abrupt("return",(this.addResolvingPromise(r),this));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFeatureSQL",value:function(e,t){var r,n,o=e.layerId.toString(),i=null===(r=e.fieldsIndex)||void 0===r?void 0:r.normalizeFieldName("assetGroup"),a=null===(n=e.fieldsIndex)||void 0===n?void 0:n.normalizeFieldName("assetType"),s=i?t.attributes[i]:null,u=a?t.attributes[a]:null,l=this.rulesHash[o];if(l){var d=l.assetGroupHash[s];if(d)return d.assetTypeHash[u]||null}return null}},{key:"_initializeRulesTable",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var t,r,n,o,s,u,l,d,c,p,v,y,f,m,b,h,w,g,k,C,T,Z,S,I,_,N,j,x,E,O,U,A,R,F,V,G,J,L,P,B,q,D,z,H,K,X;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={},function(e){e[e.from=0]="from",e[e.to=1]="to",e[e.via=2]="via"}(r||(r={})),n=[{networkSourceId:"fromNetworkSource",assetGroupId:"fromAssetGroup",assetTypeId:"fromAssetType"},{networkSourceId:"toNetworkSource",assetGroupId:"toAssetGroup",assetTypeId:"toAssetType"},{networkSourceId:"viaNetworkSource",assetGroupId:"viaAssetGroup",assetTypeId:"viaAssetType"}],this.rulesCategorized={attachment:[],containment:[],connectivity:[]},o=(0,i.Z)(this.rules),e.prev=5,o.s();case 7:if((s=o.n()).done){e.next=44;break}if((u=s.value).ruleType!==M.SV.RTAttachment){e.next=12;break}return this.rulesCategorized.attachment.push(u),e.abrupt("continue",42);case 12:if(u.ruleType!==M.SV.RTContainment){e.next=15;break}return this.rulesCategorized.containment.push(u),e.abrupt("continue",42);case 15:if(u.ruleType!==M.SV.RTJunctionJunctionConnectivity){e.next=18;break}return this.rulesCategorized.connectivity.push(u),e.abrupt("continue",42);case 18:this.rulesCategorized.connectivity.push(u),l=[[r.from,r.to],[r.to,r.from]],u.ruleType===M.SV.RTEdgeJunctionEdgeConnectivity&&(l=[[r.from,r.via],[r.via,r.from],[r.to,r.via],[r.via,r.to]]),d=0,c=l;case 22:if(!(d<c.length)){e.next=42;break}N=c[d],j=N.shift(),x=N.shift(),E=!1,e.t0=u.ruleType,e.next=e.t0===M.SV.RTEdgeJunctionEdgeConnectivity?29:e.t0===M.SV.RTJunctionEdgeConnectivity?31:32;break;case 29:return E=j===r.from||j===r.to,e.abrupt("break",32);case 31:E=j===r.to;case 32:if(O=n[j],U=null!==(p=null===(v=u[O.networkSourceId])||void 0===v?void 0:v.layerId.toString())&&void 0!==p?p:"",A=null===(y=u[O.assetGroupId])||void 0===y||null===(f=y.assetGroupCode)||void 0===f?void 0:f.toString(),R=u[O.assetTypeId],F=null===R||void 0===R||null===(m=R.assetTypeCode)||void 0===m?void 0:m.toString(),V=n[x],G=null!==(b=null===(h=u[V.networkSourceId])||void 0===h?void 0:h.layerId.toString())&&void 0!==b?b:"",J=null===(w=u[V.assetGroupId])||void 0===w||null===(g=w.assetGroupCode)||void 0===g?void 0:g.toString(),L=u[V.assetTypeId],P=null===L||void 0===L||null===(k=L.assetTypeCode)||void 0===k?void 0:k.toString(),B=null!==(C=t[U])&&void 0!==C?C:{assetGroupHash:{}},A&&F&&J&&P){e.next=35;break}return e.abrupt("continue",39);case 35:q=null!==(T=B.assetGroupHash[A])&&void 0!==T?T:{assetTypeHash:{}},(D=null!==(Z=q.assetTypeHash[F])&&void 0!==Z?Z:{})[G]=null!==(S=D[G])&&void 0!==S?S:{},E&&(D[U]=null!==(z=D[U])&&void 0!==z?z:{},K="(assetgroup = ".concat(A," AND assettype = ").concat(F,")"),D[U].anyVertex=D[U].anyVertex?"".concat(D[U].anyVertex):"".concat(K),"esriNECPEndVertex"===(null===L||void 0===L?void 0:L.connectivityPolicy)&&(D[U].endVertex=null!==(H=D[U])&&void 0!==H&&H.endVertex?"".concat(D[U].endVertex):"".concat(K))),X="(assetgroup = ".concat(J," AND assettype = ").concat(P,")"),D[G].anyVertex=null!==(I=D[G])&&void 0!==I&&I.anyVertex?"".concat(D[G].anyVertex," OR ").concat(X):"".concat(X),"esriNECPEndVertex"===(null===L||void 0===L?void 0:L.connectivityPolicy)&&(D[G].endVertex=null!==(_=D[G])&&void 0!==_&&_.endVertex?"".concat(D[G].endVertex," OR ").concat(X):"".concat(X)),q.assetTypeHash[F]=D,B.assetGroupHash[A]=q,t[U]=B;case 39:d++,e.next=22;break;case 42:e.next=7;break;case 44:e.next=49;break;case 46:e.prev=46,e.t1=e.catch(5),o.e(e.t1);case 49:return e.prev=49,o.f(),e.finish(49);case 52:this.rulesHash=t;case 53:case"end":return e.stop()}}),e,this,[[5,46,49,52]])})));return function(){return e.apply(this,arguments)}}()}]),r}((0,D.eC)(Z.Z));(0,y._)([(0,m.Cb)({constructOnly:!0})],z.prototype,"layer",void 0),(0,y._)([(0,m.Cb)({constructOnly:!0})],z.prototype,"rules",void 0),(0,y._)([(0,m.Cb)()],z.prototype,"rulesHash",void 0),(0,y._)([(0,m.Cb)()],z.prototype,"rulesCategorized",void 0),(0,y._)([(0,m.Cb)({constructOnly:!0})],z.prototype,"request",void 0);var H=z=(0,y._)([(0,h.j)("esri.networks.RulesTable")],z),K=r(12484),X=function(e){(0,p.Z)(r,e);var t=(0,v.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).rulesTableId=null,n.rulesTableUrl=null,n.subnetworksTableId=null,n.subnetworksTableUrl=null,n.dirtyAreasLayerId=null,n.dirtyAreasLayerUrl=null,n.associationsTableId=null,n.associationsTableUrl=null,n}return(0,l.Z)(r)}(r(7138).default);(0,y._)([(0,m.Cb)({constructOnly:!0})],X.prototype,"rulesTableId",void 0),(0,y._)([(0,m.Cb)({constructOnly:!0})],X.prototype,"rulesTableUrl",void 0),(0,y._)([(0,m.Cb)({constructOnly:!0})],X.prototype,"subnetworksTableId",void 0),(0,y._)([(0,m.Cb)({constructOnly:!0})],X.prototype,"subnetworksTableUrl",void 0),(0,y._)([(0,m.Cb)({constructOnly:!0})],X.prototype,"dirtyAreasLayerId",void 0),(0,y._)([(0,m.Cb)({constructOnly:!0})],X.prototype,"dirtyAreasLayerUrl",void 0),(0,y._)([(0,m.Cb)({constructOnly:!0})],X.prototype,"associationsTableId",void 0),(0,y._)([(0,m.Cb)({constructOnly:!0})],X.prototype,"associationsTableUrl",void 0);var Y=X=(0,y._)([(0,h.j)("esri.networks.support.NetworkSystemLayers")],X),Q=function(e){(0,p.Z)(r,e);var t=(0,v.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).id=null,n.name=null,n}return(0,l.Z)(r)}(D.wq);(0,y._)([(0,m.Cb)({type:Number,json:{read:{source:"terminalId"},write:{target:"terminalId"}}})],Q.prototype,"id",void 0),(0,y._)([(0,m.Cb)({type:String,json:{read:{source:"terminalName"},write:{target:"terminalName"}}})],Q.prototype,"name",void 0),(0,y._)([(0,m.Cb)({type:Boolean,json:{write:!0}})],Q.prototype,"isUpstreamTerminal",void 0);var W=Q=(0,y._)([(0,h.j)("esri.networks.support.Terminal")],Q),$=new O.X({esriUNTMBidirectional:"bidirectional",esriUNTMDirectional:"directional"}),ee=function(e){(0,p.Z)(r,e);var t=(0,v.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).defaultConfiguration=null,n.id=null,n.name=null,n.terminals=[],n.traversabilityModel=null,n}return(0,l.Z)(r)}(D.wq);(0,y._)([(0,m.Cb)({type:String,json:{write:!0}})],ee.prototype,"defaultConfiguration",void 0),(0,y._)([(0,m.Cb)({type:Number,json:{read:{source:"terminalConfigurationId"},write:{target:"terminalConfigurationId"}}})],ee.prototype,"id",void 0),(0,y._)([(0,m.Cb)({type:String,json:{read:{source:"terminalConfigurationName"},write:{target:"terminalConfigurationName"}}})],ee.prototype,"name",void 0),(0,y._)([(0,m.Cb)({type:[W],json:{write:!0}})],ee.prototype,"terminals",void 0),(0,y._)([(0,m.Cb)({type:$.apiValues,json:{type:$.jsonValues,read:$.read,write:$.write}})],ee.prototype,"traversabilityModel",void 0);var te=ee=(0,y._)([(0,h.j)("esri.networks.support.TerminalConfiguration")],ee),re=r(20039),ne=(0,O.w)()({Pending:"job-waiting",InProgress:"job-executing",Completed:"job-succeeded"}),oe=function(e){(0,p.Z)(r,e);var t=(0,v.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).statusUrl=null,n.status=null,n.submissionTime=null,n.lastUpdatedTime=null,n._timer=void 0,n}return(0,l.Z)(r,[{key:"destroy",value:function(){clearInterval(this._timer)}},{key:"checkJobStatus",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var r,n,o,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,k.Z)((0,k.Z)({},t),{},{query:{f:"json"}}),e.next=3,(0,C.Z)(this.statusUrl,r);case 3:return n=e.sent,o=n.data,i=o.traceResults?(0,k.Z)((0,k.Z)({},o.traceResults),o):o,e.abrupt("return",(this.read(i),this));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"waitForJobCompletion",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var t,r,n,o,i=this,s=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},r=t.interval,n=void 0===r?1e3:r,o=t.statusCallback,e.abrupt("return",new Promise((function(e,t){i._clearTimer();var r=setInterval((function(){i._timer||t((0,I.zE)()),i.checkJobStatus().then((function(t){var r=t.status;switch(i.status=r,r){case"job-succeeded":i._clearTimer(),e(i);break;case"job-waiting":case"job-executing":o&&o(i)}}),(function(e){i._clearTimer(),t(e)}))}),n);i._timer=r})));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_clearTimer",value:function(){clearInterval(this._timer),this._timer=void 0}}]),r}(re.Z);(0,y._)([(0,m.Cb)({type:String,json:{write:!0}})],oe.prototype,"statusUrl",void 0),(0,y._)([(0,U.J)(ne)],oe.prototype,"status",void 0),(0,y._)([(0,m.Cb)({type:Date,json:{type:Number,write:{writer:function(e,t){t.submissionTime=e?e.getTime():null}}}})],oe.prototype,"submissionTime",void 0),(0,y._)([(0,m.Cb)({type:Date,json:{type:Number,write:{writer:function(e,t){t.lastUpdatedTime=e?e.getTime():null}}}})],oe.prototype,"lastUpdatedTime",void 0);var ie=oe=(0,y._)([(0,h.j)("esri.networks.support.TraceJobInfo")],oe),ae=r(21149),se=function(e){(0,p.Z)(y,e);var t=(0,v.Z)(y);function y(e){var r;return(0,u.Z)(this,y),(r=t.call(this,e)).sharedNamedTraceConfigurations=[],r.type="utility",r}return(0,l.Z)(y,[{key:"serviceTerritoryFeatureLayerId",get:function(){var e,t;return null!==(e=null===(t=this.dataElement)||void 0===t?void 0:t.serviceTerritoryFeatureLayerId)&&void 0!==e?e:null}},{key:"networkSystemLayers",get:function(){var e,t,r,n,o,i,a,s;return new Y({rulesTableId:null===(e=this.sourceJSON)||void 0===e?void 0:e.systemLayers.rulesTableId,rulesTableUrl:this.sourceJSON?"".concat(this.featureServiceUrl,"/").concat(null===(t=this.sourceJSON)||void 0===t?void 0:t.systemLayers.rulesTableId):null,subnetworksTableId:null===(r=this.sourceJSON)||void 0===r?void 0:r.systemLayers.subnetworksTableId,subnetworksTableUrl:this.sourceJSON?"".concat(this.featureServiceUrl,"/").concat(null===(n=this.sourceJSON)||void 0===n?void 0:n.systemLayers.subnetworksTableId):null,dirtyAreasLayerId:null===(o=this.sourceJSON)||void 0===o?void 0:o.systemLayers.dirtyAreasLayerId,dirtyAreasLayerUrl:this.sourceJSON?"".concat(this.featureServiceUrl,"/").concat(null===(i=this.sourceJSON)||void 0===i?void 0:i.systemLayers.dirtyAreasLayerId):null,associationsTableId:null===(a=this.sourceJSON)||void 0===a?void 0:a.systemLayers.associationsTableId,associationsTableUrl:this.sourceJSON?"".concat(this.featureServiceUrl,"/").concat(null===(s=this.sourceJSON)||void 0===s?void 0:s.systemLayers.associationsTableId):null})}},{key:"terminalConfigurations",get:function(){var e;return(null===(e=this.dataElement)||void 0===e?void 0:e.terminalConfigurations.map((function(e){return te.fromJSON(e)})))||[]}},{key:"domainNetworkNames",get:function(){var e;return(null===(e=this.dataElement)||void 0===e?void 0:e.domainNetworks.map((function(e){return e.domainNetworkName})))||[]}},{key:"_utilityLayerList",get:function(){var e,t,r=new Set;return null!==(e=this.dataElement)&&void 0!==e&&null!==(t=e.domainNetworks)&&void 0!==t&&t.map((function(e){e.edgeSources.map((function(e){r.add(e.layerId)})),e.junctionSources.map((function(e){r.add(e.layerId)}))})),r}},{key:"load",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.addResolvingPromise((0,d.Z)((0,c.Z)(y.prototype),"load",this).call(this,t)),this.addResolvingPromise(this._loadNamedTraceConfigurationsFromNetwork(t)),this));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTerminalConfiguration",value:function(e){var t=null,r=null,n=e.layer,o=null;if("feature"===(null===n||void 0===n?void 0:n.type)){if(null===(o=n.layerId))return null}else{var a,s;if("subtype-sublayer"!==(null===n||void 0===n?void 0:n.type))return null;if(null===(o=null!==(a=null===n||void 0===n||null===(s=n.parent)||void 0===s?void 0:s.layerId)&&void 0!==a?a:null))return null}var u=e.attributes;if(null==u)return null;for(var l=0,d=Object.keys(u);l<d.length;l++){var c=d[l];"ASSETGROUP"===c.toUpperCase()&&(t=e.getAttribute(c)),"ASSETTYPE"===c.toUpperCase()&&(r=e.getAttribute(c))}if(!this.dataElement)return null;var p,v=null,y=this.dataElement.domainNetworks,f=(0,i.Z)(y);try{for(f.s();!(p=f.n()).done;){var m,b=null===(m=p.value.junctionSources)||void 0===m?void 0:m.find((function(e){return e.layerId===o}));if(b){var h,w=null===(h=b.assetGroups)||void 0===h?void 0:h.find((function(e){return e.assetGroupCode===t}));if(w){var g,k=null===(g=w.assetTypes)||void 0===g?void 0:g.find((function(e){return e.assetTypeCode===r}));if(k){v=k.terminalConfigurationId;break}}}}}catch(Z){f.e(Z)}finally{f.f()}if(null!=v){var C=this.dataElement.terminalConfigurations,T=null===C||void 0===C?void 0:C.find((function(e){return e.terminalConfigurationId===v}));return T?te.fromJSON(T):null}return null}},{key:"getTierNames",value:function(e){var t,r=null===(t=this.dataElement)||void 0===t?void 0:t.domainNetworks.find((function(t){return t.domainNetworkName===e}));return(null===r||void 0===r?void 0:r.tiers.map((function(e){return e.name})))||[]}},{key:"getRulesTable",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._sharedRulesTable||(this._sharedRulesTable=this._createRulesTable()),e.next=3,this._sharedRulesTable;case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isUtilityLayer",value:function(e){var t,r;return this._utilityLayerList.has(e.layerId)&&null!==(t=null===(r=e.url)||void 0===r?void 0:r.startsWith(this.featureServiceUrl))&&void 0!==t&&t}},{key:"queryAssociations",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var n,i,s,u,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(60897).then(r.bind(r,60897)),r.e(40365).then(r.bind(r,40365))]);case 2:return n=e.sent,i=(0,o.Z)(n,2),s=i[0].queryAssociations,u=i[1].default,(l=u.from(t)).gdbVersion=this.gdbVersion,l.moment=this.historicMoment,e.next=10,s(this.networkServiceUrl,l);case 10:return e.abrupt("return",e.sent.associations);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"synthesizeAssociationGeometries",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var n,i,s,u,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(17125).then(r.bind(r,17125)),r.e(9704).then(r.bind(r,9704))]);case 2:return n=e.sent,i=(0,o.Z)(n,2),s=i[0].synthesizeAssociationGeometries,u=i[1].default,l=u.from(t),e.abrupt("return",(l.gdbVersion=this.gdbVersion,l.moment=this.historicMoment,s(this.networkServiceUrl,l)));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"trace",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var n,i,s,u,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(14254).then(r.bind(r,14254)),r.e(53226).then(r.bind(r,53226))]);case 2:return n=e.sent,i=(0,o.Z)(n,2),s=i[0].trace,u=i[1].default,l=u.from(t),e.abrupt("return",(l.gdbVersion=this.gdbVersion,l.moment=this.historicMoment,s(this.networkServiceUrl,l)));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"submitTraceJob",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var n,i,s,u,l,d;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(14254).then(r.bind(r,14254)),r.e(53226).then(r.bind(r,53226))]);case 2:return n=e.sent,i=(0,o.Z)(n,2),s=i[0].submitTraceJob,u=i[1].default,(l=u.from(t)).gdbVersion=this.gdbVersion,l.moment=this.historicMoment,e.next=10,s(this.networkServiceUrl,l);case 10:return d=e.sent,e.abrupt("return",new ie({statusUrl:d}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"canAddAssociation",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var r,n,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRulesTable();case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",!1);case 5:return e.next=7,r.load();case 7:if(n=function(e,t){return e?1===e.terminalId?!(null!==t&&void 0!==t&&t.terminalId)||(null===t||void 0===t?void 0:t.terminalId)===e.terminalId:e.terminalId===(null===t||void 0===t?void 0:t.terminalId):!(null!==t&&void 0!==t&&t.terminalId)},o=function(e,t){var r,o,i,a,s,u,l,d,c,p,v,y;return(null===(r=e.fromNetworkSource)||void 0===r?void 0:r.sourceId)===(null===(o=t.fromNetworkElement)||void 0===o?void 0:o.networkSourceId)&&(null===(i=e.toNetworkSource)||void 0===i?void 0:i.sourceId)===(null===(a=t.toNetworkElement)||void 0===a?void 0:a.networkSourceId)&&(null===(s=e.fromAssetGroup)||void 0===s?void 0:s.assetGroupCode)===(null===(u=t.fromNetworkElement)||void 0===u?void 0:u.assetGroupCode)&&(null===(l=e.fromAssetType)||void 0===l?void 0:l.assetTypeCode)===(null===(d=t.fromNetworkElement)||void 0===d?void 0:d.assetTypeCode)&&(null===(c=e.toAssetGroup)||void 0===c?void 0:c.assetGroupCode)===(null===(p=t.toNetworkElement)||void 0===p?void 0:p.assetGroupCode)&&(null===(v=e.toAssetType)||void 0===v?void 0:v.assetTypeCode)===(null===(y=t.toNetworkElement)||void 0===y?void 0:y.assetTypeCode)&&n(e.fromTerminal,t.fromNetworkElement)&&n(e.toTerminal,t.toNetworkElement)},"containment"!==t.associationType){e.next=10;break}return e.abrupt("return",r.rulesCategorized.containment.some((function(e){return o(e,t)})));case 10:if("attachment"!==t.associationType){e.next=12;break}return e.abrupt("return",r.rulesCategorized.attachment.some((function(e){return o(e,t)})));case 12:return e.abrupt("return",r.rulesCategorized.connectivity.some((function(e){var r,i,a,s,u,l,d,c,p,v,y,f,m,b,h,w,g,k,C,T,Z,S,I,_;return e.viaNetworkSource?(null===(r=e.fromNetworkSource)||void 0===r?void 0:r.sourceId)===(null===(i=t.fromNetworkElement)||void 0===i?void 0:i.networkSourceId)&&(null===(a=e.viaNetworkSource)||void 0===a?void 0:a.sourceId)===(null===(s=t.toNetworkElement)||void 0===s?void 0:s.networkSourceId)&&(null===(u=e.fromAssetGroup)||void 0===u?void 0:u.assetGroupCode)===(null===(l=t.fromNetworkElement)||void 0===l?void 0:l.assetGroupCode)&&(null===(d=e.fromAssetType)||void 0===d?void 0:d.assetTypeCode)===(null===(c=t.fromNetworkElement)||void 0===c?void 0:c.assetTypeCode)&&(null===(p=e.viaAssetGroup)||void 0===p?void 0:p.assetGroupCode)===(null===(v=t.toNetworkElement)||void 0===v?void 0:v.assetGroupCode)&&(null===(y=e.viaAssetType)||void 0===y?void 0:y.assetTypeCode)===(null===(f=t.toNetworkElement)||void 0===f?void 0:f.assetTypeCode)&&n(e.fromTerminal,t.fromNetworkElement)&&n(e.viaTerminal,t.toNetworkElement)||(null===(m=e.viaNetworkSource)||void 0===m?void 0:m.sourceId)===(null===(b=t.fromNetworkElement)||void 0===b?void 0:b.networkSourceId)&&(null===(h=e.toNetworkSource)||void 0===h?void 0:h.sourceId)===(null===(w=t.toNetworkElement)||void 0===w?void 0:w.networkSourceId)&&(null===(g=e.viaAssetGroup)||void 0===g?void 0:g.assetGroupCode)===(null===(k=t.fromNetworkElement)||void 0===k?void 0:k.assetGroupCode)&&(null===(C=e.viaAssetType)||void 0===C?void 0:C.assetTypeCode)===(null===(T=t.fromNetworkElement)||void 0===T?void 0:T.assetTypeCode)&&(null===(Z=e.toAssetGroup)||void 0===Z?void 0:Z.assetGroupCode)===(null===(S=t.toNetworkElement)||void 0===S?void 0:S.assetGroupCode)&&(null===(I=e.toAssetType)||void 0===I?void 0:I.assetTypeCode)===(null===(_=t.toNetworkElement)||void 0===_?void 0:_.assetTypeCode)&&n(e.viaTerminal,t.fromNetworkElement)&&n(e.toTerminal,t.toNetworkElement):o(e,t)})));case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"generateAddAssociations",value:function(e){return{addFeatures:e.map((function(e){var t,r,n,o,i,a;return new f.Z({attributes:{fromnetworksourceid:null===(t=e.fromNetworkElement)||void 0===t?void 0:t.networkSourceId,fromglobalid:null===(r=e.fromNetworkElement)||void 0===r?void 0:r.globalId,fromterminalid:null===(n=e.fromNetworkElement)||void 0===n?void 0:n.terminalId,tonetworksourceid:null===(o=e.toNetworkElement)||void 0===o?void 0:o.networkSourceId,toglobalid:null===(i=e.toNetworkElement)||void 0===i?void 0:i.globalId,toterminalid:null===(a=e.toNetworkElement)||void 0===a?void 0:a.terminalId,associationtype:M.Xu[e.associationType],iscontentvisible:e.isContentVisible?1:0,percentalong:e.percentAlong,globalid:e.globalId}})})),id:this.networkSystemLayers.associationsTableId,identifierFields:{globalIdField:"globalid",objectIdField:"objectid"}}}},{key:"generateDeleteAssociations",value:function(e){return{deleteFeatures:e.map((function(e){return{globalId:e.globalId}})),id:this.networkSystemLayers.associationsTableId,identifierFields:{globalIdField:"globalid",objectIdField:"objectid"}}}},{key:"_loadNamedTraceConfigurationsFromNetwork",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var r,n,o,s,u,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(null===(r=this.sharedNamedTraceConfigurations)||void 0===r?void 0:r.length)){e.next=2;break}return e.abrupt("return");case 2:return n=this.sharedNamedTraceConfigurations.map((function(e){return e.globalId})),e.next=5,this.queryNamedTraceConfigurations({globalIds:n},t);case 5:o=e.sent,s=(0,i.Z)(this.sharedNamedTraceConfigurations);try{for(l=function(){var e=u.value,t=null===o||void 0===o?void 0:o.find((function(t){return t.globalId===e.globalId}));if(t){var r=t.write({},{origin:"service"});e.read(r,{origin:"service"})}},s.s();!(u=s.n()).done;)l()}catch(a){s.e(a)}finally{s.f()}case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createRulesTable",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var t,r,o,i,s,u,l=this;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.networkSystemLayers.rulesTableUrl,o=new w.default({url:r}),e.next=3,o.load();case 3:if(i=null===(t=this.dataElement)||void 0===t?void 0:t.domainNetworks){e.next=6;break}return e.abrupt("return",null);case 6:return s=i.flatMap((function(e){return[].concat((0,n.Z)(e.edgeSources||[]),(0,n.Z)(e.junctionSources||[]))})),e.next=9,ue(o);case 9:return u=e.sent.map((function(e){return l._hydrateRuleInfo(o,s,e)})),e.abrupt("return",new H({layer:o,rules:u}));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_hydrateRuleInfo",value:function(e,t,r){var n,o=this,i=e.fieldsIndex,a=i.get("RULETYPE"),s=i.get("CREATIONDATE"),u=i.get("FROMNETWORKSOURCEID"),l=i.get("FROMASSETGROUP"),d=i.get("FROMASSETTYPE"),c=i.get("FROMTERMINALID"),p=i.get("TONETWORKSOURCEID"),v=i.get("TOASSETGROUP"),y=i.get("TOASSETTYPE"),f=i.get("TOTERMINALID"),m=i.get("VIANETWORKSOURCEID"),b=i.get("VIAASSETGROUP"),h=i.get("VIAASSETTYPE"),w=i.get("VIATERMINALID"),g=r.attributes[a.name],k=new Date(r.attributes[s.name]),C=[{networkSourceId:r.attributes[u.name],assetGroupId:r.attributes[l.name],assetTypeId:r.attributes[d.name],terminalId:r.attributes[c.name]},{networkSourceId:r.attributes[p.name],assetGroupId:r.attributes[v.name],assetTypeId:r.attributes[y.name],terminalId:r.attributes[f.name]},{networkSourceId:r.attributes[m.name],assetGroupId:r.attributes[b.name],assetTypeId:r.attributes[h.name],terminalId:r.attributes[w.name]}];!function(e){e[e.from=0]="from",e[e.to=1]="to",e[e.via=2]="via"}(n||(n={}));for(var T={ruleType:g,creationDate:k},Z=function(){var e=I[S];if(g!==M.SV.RTEdgeJunctionEdgeConnectivity&&e===n.via)return"continue";var r=C[e],i=t.find((function(e){return e.sourceId===r.networkSourceId})),a=null===i||void 0===i?void 0:i.assetGroups.find((function(e){return e.assetGroupCode===r.assetGroupId})),s=null===a||void 0===a?void 0:a.assetTypes.find((function(e){return e.assetTypeCode===r.assetTypeId})),u=o._getTerminal(s,r),l="";switch(e){case n.from:l="from";break;case n.to:l="to";break;case n.via:l="via"}T["".concat(l,"NetworkSource")]=i,T["".concat(l,"AssetGroup")]=a,T["".concat(l,"AssetType")]=s,T["".concat(l,"Terminal")]=null===u||void 0===u?void 0:u.toJSON()},S=0,I=[n.from,n.to,n.via];S<I.length;S++)Z();return T}},{key:"_getTerminal",value:function(e,t){var r,n,o,i=null===e||void 0===e?void 0:e.terminalConfigurationId,a=null===(r=this.terminalConfigurations)||void 0===r?void 0:r.find((function(e){return e.id===i}));return null!==(n=null===a||void 0===a||null===(o=a.terminals)||void 0===o?void 0:o.find((function(e){return e.id===t.terminalId})))&&void 0!==n?n:null}}]),y}(q);function ue(e){return le.apply(this,arguments)}function le(){return le=(0,s.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new ae.Z({where:"1=1",outFields:["*"]}),e.next=3,(0,g.UK)(t,r);case 3:return e.abrupt("return",e.sent.features);case 4:case"end":return e.stop()}}),e)}))),le.apply(this,arguments)}(0,y._)([(0,m.Cb)({type:[K.Z],json:{origins:{"web-map":{read:{source:"traceConfigurations"},write:{target:"traceConfigurations"}},service:{read:{source:"traceConfigurations"}}},read:!1}})],se.prototype,"sharedNamedTraceConfigurations",void 0),(0,y._)([(0,m.Cb)({type:["utility"],readOnly:!0,json:{read:!1,write:!1}})],se.prototype,"type",void 0),(0,y._)([(0,m.Cb)({readOnly:!0})],se.prototype,"serviceTerritoryFeatureLayerId",null),(0,y._)([(0,m.Cb)({readOnly:!0})],se.prototype,"networkSystemLayers",null),(0,y._)([(0,m.Cb)({readOnly:!0})],se.prototype,"terminalConfigurations",null),(0,y._)([(0,m.Cb)({readOnly:!0})],se.prototype,"domainNetworkNames",null);var de=se=(0,y._)([(0,h.j)("esri.networks.UtilityNetwork")],se)},12484:function(e,t,r){r.d(t,{Z:function(){return m}});var n=r(15671),o=r(43144),i=r(60136),a=r(29388),s=r(27366),u=r(97642),l=r(49861),d=(r(93169),r(32718),r(84936),r(38511)),c=r(69912),p=r(48153),v=r(18769),y=r(29259),f=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(e){var o;return(0,n.Z)(this,r),(o=t.call(this,e)).globalId=null,o.title=null,o.traceConfiguration=null,o.creationDate=null,o.creator=null,o.description=null,o.minStartingPoints=null,o.resultTypes=[],o.tags=[],o.traceType=null,o}return(0,o.Z)(r,[{key:"readTraceConfiguration",value:function(e,t){return void 0!==e.tierName?y.Z.fromJSON(e):p.Z.fromJSON(e)}}]),r}(u.w);(0,s._)([(0,l.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"id"},write:{target:"id",isRequired:!0}},service:{read:{source:"globalId"},write:{target:"globalId",isRequired:!0}}},read:!1}})],f.prototype,"globalId",void 0),(0,s._)([(0,l.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"title"},write:{target:"title",isRequired:!0}},service:{read:{source:"name"},write:{target:"name",isRequired:!0}}},read:!1}})],f.prototype,"title",void 0),(0,s._)([(0,l.Cb)({type:p.Z,json:{origins:{service:{read:!0,write:!0}},read:!1}})],f.prototype,"traceConfiguration",void 0),(0,s._)([(0,d.r)("service","traceConfiguration")],f.prototype,"readTraceConfiguration",null),(0,s._)([(0,l.Cb)({type:Date,json:{origins:{service:{read:!0,write:!0}},read:!1}})],f.prototype,"creationDate",void 0),(0,s._)([(0,l.Cb)({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],f.prototype,"creator",void 0),(0,s._)([(0,l.Cb)({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],f.prototype,"description",void 0),(0,s._)([(0,l.Cb)({type:["none","one","many"],json:{origins:{service:{read:{source:"minNumStartingPoints"},write:{target:"minNumStartingPoints"}}},read:!1}})],f.prototype,"minStartingPoints",void 0),(0,s._)([(0,l.Cb)({json:{origins:{service:{read:!0,write:!0}},read:!1}})],f.prototype,"resultTypes",void 0),(0,s._)([(0,l.Cb)({type:[String],json:{origins:{service:{read:!0,write:!0}},read:!1}})],f.prototype,"tags",void 0),(0,s._)([(0,l.Cb)({type:v.Fh.apiValues,json:{type:v.Fh.jsonValues,origins:{service:{read:v.Fh.read,write:v.Fh.write}},read:!1}})],f.prototype,"traceType",void 0);var m=f=(0,s._)([(0,c.j)("esri.networks.support.NamedTraceConfiguration")],f)},48153:function(e,t,r){r.d(t,{Z:function(){return p}});var n=r(43144),o=r(15671),i=r(60136),a=r(29388),s=r(27366),u=r(46784),l=r(49861),d=(r(93169),r(32718),r(84936),r(69912)),c=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).conditionBarriers=[],n.outputConditions=[],n.functions=[],n.functionBarriers=[],n.traversabilityScope=null,n.shortestPathNetworkAttributeName=null,n.includeBarriers=null,n.validateConsistency=null,n.ignoreBarriersAtStartingPoints=null,n}return(0,n.Z)(r)}(u.wq);(0,s._)([(0,l.Cb)({type:[Object],json:{write:!0}})],c.prototype,"conditionBarriers",void 0),(0,s._)([(0,l.Cb)({type:[Object],json:{write:!0}})],c.prototype,"outputConditions",void 0),(0,s._)([(0,l.Cb)({type:[Object],json:{write:!0}})],c.prototype,"functions",void 0),(0,s._)([(0,l.Cb)({type:[Object],json:{write:!0}})],c.prototype,"functionBarriers",void 0),(0,s._)([(0,l.Cb)({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],c.prototype,"traversabilityScope",void 0),(0,s._)([(0,l.Cb)({type:String,json:{write:!0}})],c.prototype,"shortestPathNetworkAttributeName",void 0),(0,s._)([(0,l.Cb)({type:Boolean,json:{write:!0}})],c.prototype,"includeBarriers",void 0),(0,s._)([(0,l.Cb)({type:Boolean,json:{write:!0}})],c.prototype,"validateConsistency",void 0),(0,s._)([(0,l.Cb)({type:Boolean,json:{write:!0}})],c.prototype,"ignoreBarriersAtStartingPoints",void 0);var p=c=(0,s._)([(0,d.j)("esri.networks.support.TraceConfiguration")],c)},29259:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r(43144),o=r(15671),i=r(60136),a=r(29388),s=r(27366),u=r(49861),l=(r(93169),r(32718),r(84936),r(69912)),d=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).filterBarriers=[],n.arcadeExpressionBarrier=null,n.domainNetworkName=null,n.filterBitsetNetworkAttributeName=null,n.filterFunctionBarriers=[],n.filterScope=null,n.includeContainers=null,n.includeContent=null,n.includeIsolated=null,n.includeStructures=null,n.allowIndeterminateFlow=null,n.includeUpToFirstSpatialContainer=null,n.nearestNeighbor=null,n.outputFilterCategories=[],n.outputFilters=[],n.propagators=[],n.subnetworkName=null,n.targetTierName=null,n.diagramTemplateName=null,n.tierName=null,n.validateLocatability=null,n}return(0,n.Z)(r)}(r(48153).Z);(0,s._)([(0,u.Cb)({type:[Object],json:{write:!0}})],d.prototype,"filterBarriers",void 0),(0,s._)([(0,u.Cb)({type:String,json:{write:!0}})],d.prototype,"arcadeExpressionBarrier",void 0),(0,s._)([(0,u.Cb)({type:String,json:{write:!0}})],d.prototype,"domainNetworkName",void 0),(0,s._)([(0,u.Cb)({type:String,json:{write:!0}})],d.prototype,"filterBitsetNetworkAttributeName",void 0),(0,s._)([(0,u.Cb)({type:[Object],json:{write:!0}})],d.prototype,"filterFunctionBarriers",void 0),(0,s._)([(0,u.Cb)({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],d.prototype,"filterScope",void 0),(0,s._)([(0,u.Cb)({type:Boolean,json:{write:!0}})],d.prototype,"includeContainers",void 0),(0,s._)([(0,u.Cb)({type:Boolean,json:{write:!0}})],d.prototype,"includeContent",void 0),(0,s._)([(0,u.Cb)({type:Boolean,json:{write:!0}})],d.prototype,"includeIsolated",void 0),(0,s._)([(0,u.Cb)({type:Boolean,json:{write:!0}})],d.prototype,"includeStructures",void 0),(0,s._)([(0,u.Cb)({type:Boolean,json:{write:!0}})],d.prototype,"allowIndeterminateFlow",void 0),(0,s._)([(0,u.Cb)({type:Boolean,json:{write:!0}})],d.prototype,"includeUpToFirstSpatialContainer",void 0),(0,s._)([(0,u.Cb)({type:Object,json:{write:!0}})],d.prototype,"nearestNeighbor",void 0),(0,s._)([(0,u.Cb)({type:[Object],json:{write:!0}})],d.prototype,"outputFilterCategories",void 0),(0,s._)([(0,u.Cb)({type:[Object],json:{write:!0}})],d.prototype,"outputFilters",void 0),(0,s._)([(0,u.Cb)({type:[Object],json:{write:!0}})],d.prototype,"propagators",void 0),(0,s._)([(0,u.Cb)({type:String,json:{write:!0}})],d.prototype,"subnetworkName",void 0),(0,s._)([(0,u.Cb)({type:String,json:{write:!0}})],d.prototype,"targetTierName",void 0),(0,s._)([(0,u.Cb)({type:String,json:{write:!0}})],d.prototype,"diagramTemplateName",void 0),(0,s._)([(0,u.Cb)({type:String,json:{write:!0}})],d.prototype,"tierName",void 0),(0,s._)([(0,u.Cb)({type:Boolean,json:{write:!0}})],d.prototype,"validateLocatability",void 0);var c=d=(0,s._)([(0,l.j)("esri.networks.support.UNTraceConfiguration")],d)},18769:function(e,t,r){r.d(t,{By:function(){return s},Fh:function(){return a},SV:function(){return n},Xu:function(){return u},k3:function(){return l}});var n,o,i=r(43404);(o=n||(n={}))[o.RTJunctionJunctionConnectivity=1]="RTJunctionJunctionConnectivity",o[o.RTAttachment=2]="RTAttachment",o[o.RTContainment=3]="RTContainment",o[o.RTJunctionEdgeConnectivity=4]="RTJunctionEdgeConnectivity",o[o.RTEdgeJunctionEdgeConnectivity=5]="RTEdgeJunctionEdgeConnectivity";var a=new i.X({connected:"connected",upstream:"upstream",downstream:"downstream",shortestPath:"shortest-path",subnetwork:"subnetwork",subnetworkController:"subnetwork-controller",loops:"loops",isolation:"isolation"}),s=new i.X({junctionJunctionConnectivity:"junction-junction-connectivity",connectivity:"connectivity",attachment:"attachment",containment:"containment",junctionEdgeFromConnectivity:"junction-edge-from-connectivity",junctionMidspanConnectivity:"junction-midspan-connectivity",junctionEdgeToConnectivity:"junction-edge-to-connectivity"}),u={connectivity:1,"junction-junction-connectivity":1,attachment:2,containment:3,"junction-edge-from-connectivity":4,"junction-midspan-connectivity":5,"junction-edge-to-connectivity":6},l=new i.X({normal:"normal",rebuild:"rebuild",forceRebuild:"force-rebuild"})},4141:function(e,t,r){r.d(t,{Cf:function(){return p},n7:function(){return v},zu:function(){return b}});var n=r(1413),o=r(74165),i=r(15861),a=r(37762),s=r(76200),u=r(10064),l=r(12322),d=r(98995),c=r(49818);function p(e,t){var r,n=[],o=new Map,i=(0,a.Z)(t);try{for(i.s();!(r=i.n()).done;){var s=r.value,u=e.getLayerIdBySourceId(s.networkSourceId);if(null!=u){var l=o.get(u);void 0===l&&(l=[]),l.push(s.objectId),o.set(u,l)}}}catch(c){i.e(c)}finally{i.f()}var d=e.featureServiceUrl;return o.forEach((function(e,t){return n.push({layerUrl:"".concat(d,"/").concat(t),objectIds:e})})),n}function v(e,t){return y.apply(this,arguments)}function y(){return y=(0,i.Z)((0,o.Z)().mark((function e(t,r){var n,a,s,u;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.layers,a=t.layerInfos,s=t.returnGeometry||!1,u=t.outSpatialReference,e.next=3,Promise.all(n.map(function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.next=5,Promise.all(n.map(function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var n,i,d,p;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a.find((function(e){var r;return e.layerUrl===(null===(r=t.parsedUrl)||void 0===r?void 0:r.path)})),null!==i&&void 0!==i&&null!==(n=i.objectIds)&&void 0!==n&&n.length){e.next=3;break}return e.abrupt("return",{layer:t,featureSet:void 0});case 3:return(d=t.createQuery()).returnGeometry=s,d.outFields=i.outFields||["*"],d.outSpatialReference=u,d.gdbVersion=t.gdbVersion,d.objectIds=i.objectIds,r&&(d.where="1=1"),e.t0=c.Z,e.next=8,(0,l.UK)(t,d);case 8:return e.t1=e.sent,p=e.t0.fromJSON.call(e.t0,e.t1),e.abrupt("return",{layer:t,featureSet:p});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.abrupt("return",e.sent.filter((function(e){return void 0!==e.featureSet})));case 6:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function f(e,t){return m.apply(this,arguments)}function m(){return(m=(0,i.Z)((0,o.Z)().mark((function e(t,n){var i,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Utility Network Layer"!==t){e.next=6;break}return e.next=3,Promise.resolve().then(r.bind(r,69518));case 3:return i=e.sent,a=i.default,e.abrupt("return",new a({layerUrl:n}));case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return h.apply(this,arguments)}function h(){return h=(0,i.Z)((0,o.Z)().mark((function e(t){var r,i,a,l,c,p,v,y;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!(i="portalItem"in t?t:{portalItem:t}).portalItem||i.portalItem instanceof d.default||(i=(0,n.Z)((0,n.Z)({},i),{},{portalItem:new d.default(i.portalItem)})),a=i.portalItem,e.next=5,a.load();case 5:if("Feature Service"===a.type){e.next=7;break}throw new u.Z("portal:unknown-item-type","Unknown item type '${type}'",{type:a.type});case 7:return l=a.url,e.next=10,(0,s.Z)(l,{responseType:"json",query:{f:"json"}});case 10:if(c=e.sent,p="Network Layer",null===(r=c.data.type)||void 0===r||!r.includes(p)){e.next=14;break}return e.abrupt("return",f(c.data.type,l));case 14:if(!c.data.layers){e.next=19;break}if(!(v=c.data.layers.find((function(e){return e.type.includes(p)})))){e.next=19;break}return y="".concat(l,"/").concat(v.id),e.abrupt("return",f(v.type,y));case 19:return e.abrupt("return",null);case 20:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}},50656:function(e,t,r){r.d(t,{Z:function(){return p}});var n=r(43144),o=r(15671),i=r(60136),a=r(29388),s=r(27366),u=r(46784),l=r(49861),d=(r(93169),r(32718),r(84936),r(69912)),c=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).assetGroupCode=null,n.assetTypeCode=null,n.globalId=null,n.networkSourceId=null,n.objectId=null,n.positionFrom=null,n.positionTo=null,n.terminalId=null,n}return(0,n.Z)(r)}(u.wq);(0,s._)([(0,l.Cb)({type:Number,json:{write:!0}})],c.prototype,"assetGroupCode",void 0),(0,s._)([(0,l.Cb)({type:Number,json:{write:!0}})],c.prototype,"assetTypeCode",void 0),(0,s._)([(0,l.Cb)({type:String,json:{write:!0}})],c.prototype,"globalId",void 0),(0,s._)([(0,l.Cb)({type:Number,json:{write:!0}})],c.prototype,"networkSourceId",void 0),(0,s._)([(0,l.Cb)({type:Number,json:{write:!0}})],c.prototype,"objectId",void 0),(0,s._)([(0,l.Cb)({type:Number,json:{write:!0}})],c.prototype,"positionFrom",void 0),(0,s._)([(0,l.Cb)({type:Number,json:{write:!0}})],c.prototype,"positionTo",void 0),(0,s._)([(0,l.Cb)({type:Number,json:{write:!0}})],c.prototype,"terminalId",void 0);var p=c=(0,s._)([(0,d.j)("esri.rest.networks.support.NetworkElement")],c)},20039:function(e,t,r){r.d(t,{Z:function(){return g}});var n=r(43144),o=r(15671),i=r(60136),a=r(29388),s=r(27366),u=r(46784),l=r(49861),d=(r(93169),r(32718),r(84936),r(69912)),c=r(77577),p=r(80885),v=r(29909),y=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).line=null,n.multipoint=null,n.polygon=null,n}return(0,n.Z)(r)}(u.wq);(0,s._)([(0,l.Cb)({type:v.Z,json:{write:!0},readOnly:!0})],y.prototype,"line",void 0),(0,s._)([(0,l.Cb)({type:c.Z,json:{read:{source:"point"},write:{target:"point"}},readOnly:!0})],y.prototype,"multipoint",void 0),(0,s._)([(0,l.Cb)({type:p.Z,json:{write:!0},readOnly:!0})],y.prototype,"polygon",void 0);var f=y=(0,s._)([(0,d.j)("esri.rest.networks.support.AggregatedGeometry")],y),m=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).functionType=null,n.networkAttributeName=null,n.result=null,n}return(0,n.Z)(r)}(u.wq);(0,s._)([(0,l.Cb)({type:["add","subtract","average","count","min","max"],json:{write:!0},readOnly:!0})],m.prototype,"functionType",void 0),(0,s._)([(0,l.Cb)({type:String,json:{write:!0},readOnly:!0})],m.prototype,"networkAttributeName",void 0),(0,s._)([(0,l.Cb)({type:Number,json:{write:!0},readOnly:!0})],m.prototype,"result",void 0);var b=m=(0,s._)([(0,d.j)("esri.rest.networks.support.FunctionResult")],m),h=r(50656),w=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).aggregatedGeometry=null,n.elements=null,n.globalFunctionResults=null,n.kFeaturesForKNNFound=!1,n.startingPointsIgnored=!1,n.warnings=null,n}return(0,n.Z)(r)}(u.wq);(0,s._)([(0,l.Cb)({type:f,json:{write:!0},readOnly:!0})],w.prototype,"aggregatedGeometry",void 0),(0,s._)([(0,l.Cb)({type:[h.Z],json:{write:!0},readOnly:!0})],w.prototype,"elements",void 0),(0,s._)([(0,l.Cb)({type:[b],json:{write:!0},readOnly:!0})],w.prototype,"globalFunctionResults",void 0),(0,s._)([(0,l.Cb)({type:Boolean,json:{write:!0},readOnly:!0})],w.prototype,"kFeaturesForKNNFound",void 0),(0,s._)([(0,l.Cb)({type:Boolean,json:{write:!0},readOnly:!0})],w.prototype,"startingPointsIgnored",void 0),(0,s._)([(0,l.Cb)({type:[String],json:{write:!0},readOnly:!0})],w.prototype,"warnings",void 0);var g=w=(0,s._)([(0,d.j)("esri.rest.networks.support.TraceResult")],w)},64267:function(e,t,r){r.d(t,{Z:function(){return p}});var n=r(43144),o=r(15671),i=r(60136),a=r(29388),s=r(27366),u=r(46784),l=r(49861),d=(r(93169),r(32718),r(84936),r(69912)),c=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).moment=null,n.fullUpdate=!1,n.validateErrorsCreated=!1,n.dirtyAreaCount=null,n.exceededTransferLimit=null,n.serviceEdits=null,n.discoveredSubnetworks=null,n}return(0,n.Z)(r)}(u.wq);(0,s._)([(0,l.Cb)({type:Date,json:{type:Number,write:{writer:function(e,t){t.moment=e?e.getTime():null}}}})],c.prototype,"moment",void 0),(0,s._)([(0,l.Cb)({type:Boolean,json:{write:!0}})],c.prototype,"fullUpdate",void 0),(0,s._)([(0,l.Cb)({type:Boolean,json:{write:!0}})],c.prototype,"validateErrorsCreated",void 0),(0,s._)([(0,l.Cb)({type:Number,json:{write:!0}})],c.prototype,"dirtyAreaCount",void 0),(0,s._)([(0,l.Cb)({type:Boolean,json:{write:!0}})],c.prototype,"exceededTransferLimit",void 0),(0,s._)([(0,l.Cb)({type:[Object],json:{write:!0}})],c.prototype,"serviceEdits",void 0),(0,s._)([(0,l.Cb)({type:[Object],json:{write:!0}})],c.prototype,"discoveredSubnetworks",void 0);var p=c=(0,s._)([(0,d.j)("esri.rest.networks.support.ValidateNetworkTopologyResult")],c)},23084:function(e,t,r){r.d(t,{LP:function(){return p},cv:function(){return c},en:function(){return d},lA:function(){return l}});var n=r(1413),o=r(42265),i=r(19545),a=r(84652),s=r(35995),u=r(66660);function l(e,t){return t?(0,n.Z)((0,n.Z)({},t),{},{query:(0,n.Z)((0,n.Z)({},null!==e&&void 0!==e?e:{}),t.query)}):{query:e}}function d(e){return"string"==typeof e?(0,s.mN)(e):(0,a.d9)(e)}function c(e,t,r){var n={};for(var o in e)if("declaredClass"!==o){var i=e[o];if(null!=i&&"function"!=typeof i)if(Array.isArray(i))n[o]=i.map((function(e){return c(e)}));else if("object"==typeof i)if(i.toJSON){var a=i.toJSON(null===r||void 0===r?void 0:r[o]);n[o]=t?a:JSON.stringify(a)}else n[o]=t?i:JSON.stringify(i);else n[o]=i}return n}function p(e,t){var r;return e?(0,u.r)(e)&&(t||o.Z.apiKey)?t||o.Z.apiKey:null===i.id||void 0===i.id||null===(r=i.id.findCredential(e))||void 0===r?void 0:r.token:null}}}]);
//# sourceMappingURL=46827.d18f4c79.chunk.js.map