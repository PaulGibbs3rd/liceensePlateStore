"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[84494],{63231:function(e,t,n){function r(e){return null!=s(e)||null!=u(e)}function i(e){return o.test(e)}function a(e){var t;return null!==(t=s(e))&&void 0!==t?t:u(e)}function u(e){var t=new Date(e);return function(e,t){if(Number.isNaN(e.getTime()))return!1;var n=!0;if(c&&/\d+\W*$/.test(t)){var r=t.match(/[a-zA-Z]{2,}/);if(r){for(var i=!1,a=0;!i&&a<=r.length;)i=!l.test(r[a]),a++;n=!i}}return n}(t,e)?Number.isNaN(t.getTime())?null:t.getTime()-6e4*t.getTimezoneOffset():null}function s(e){var t,n,r,i,a=o.exec(e);if(null===a||void 0===a||!a.groups)return null;var u=a.groups,s=+u.year,l=+u.month-1,c=+u.day,f=+(null!==(t=u.hours)&&void 0!==t?t:"0"),p=+(null!==(n=u.minutes)&&void 0!==n?n:"0"),d=+(null!==(r=u.seconds)&&void 0!==r?r:"0");if(f>23)return null;if(p>59)return null;if(d>59)return null;var y,v=null!==(i=u.ms)&&void 0!==i?i:"0",h=v?+v.padEnd(3,"0").substring(0,3):0;if(u.isUTC||!u.offsetSign)y=Date.UTC(s,l,c,f,p,d,h);else{var m=+u.offsetHours,g=+u.offsetMinutes;y=6e4*("+"===u.offsetSign?-1:1)*(60*m+g)+Date.UTC(s,l,c,f,p,d,h)}return Number.isNaN(y)?null:y}n.d(t,{mu:function(){return i},of:function(){return r},sG:function(){return a}});var o=(0,n(70804).Z)(/^(?:(\x2D?\d{4,})\x2D(\d{2})\x2D(\d{2}))(?:T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?)?(?:(Z)|(?:(\+|\x2D)(\d{2}):(\d{2})))?$/,{year:1,month:2,day:3,hours:4,minutes:5,seconds:6,ms:7,isUTC:8,offsetSign:9,offsetHours:10,offsetMinutes:11});var l=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,c=!Number.isNaN(new Date("technology 10").getTime())},76432:function(e,t,n){n.d(t,{t:function(){return l}});var r=n(15671),i=n(43144),a=n(84652),u=n(39052),s=n(56885),o=function(){function e(t,n){(0,r.Z)(this,e),this._observable=new s.s,this._value=t,this._equalityFunction=n}return(0,i.Z)(e,[{key:"value",get:function(){return(0,u.it)(this._observable),this._value},set:function(e){this._equalityFunction(e,this._value)||(this._value=e,this._observable.notify())}},{key:"mutate",value:function(e){e(this._value),this._observable.notify()}}]),e}();function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.y7;return new o(e,t)}},34311:function(e,t,n){function r(e,t,n){return{objectId:e,target:t,distance:n,type:"vertex"}}function i(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return{objectId:e,target:t,distance:n,type:"edge",start:r,end:i,draped:a}}n.d(t,{p:function(){return i},u:function(){return r}})},51657:function(e,t,n){n.r(t),n.d(t,{default:function(){return q}});var r=n(1413),i=n(37762),a=n(29439),u=n(74165),s=n(15861),o=n(15671),l=n(43144),c=n(76200),f=n(14921),p=n(10064),d=n(32718),y=n(66978),v=n(77981),h=n(92975),m=n(83406),g=n(68928),b=n(19995),Z=n(75878),x=n(47615),k=n(63543),w=n(68808),_=n(52410),I=n(85249),S=n(37270),F=n(6701),T={hasAttachments:!1,capabilities:"query, editing, create, delete, update",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}},q=function(){function e(){var t=this;(0,o.Z)(this,e),this._queryEngine=null,this._snapshotFeatures=function(){var e=(0,s.Z)((0,u.Z)().mark((function e(n){var r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._fetch(n);case 2:return r=e.sent,e.abrupt("return",t._createFeatures(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}return(0,l.Z)(e,[{key:"destroy",value:function(){var e;null!==(e=this._queryEngine)&&void 0!==e&&e.destroy(),this._queryEngine=this._createDefaultAttributes=null}},{key:"load",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t){var n,s,o,l,c,f,d,y,v,m,b,w,q,E,j,R,L,O,P,C,A,G,D,N,M,U,Q,J,z,H,B,Y,$,W=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=W.length>1&&void 0!==W[1]?W[1]:{},this._loadOptions={url:t.url,customParameters:t.customParameters},s=[],e.next=5,Promise.all([t.url?this._fetch(null===n||void 0===n?void 0:n.signal):null,this._checkProjection(t.spatialReference)]);case 5:o=e.sent,l=(0,a.Z)(o,1),c=l[0],f=(0,x.my)(c,{geometryType:t.geometryType}),d=t.fields||f.fields||[],y=null!=t.hasZ?t.hasZ:f.hasZ,v=f.geometryType,m=t.objectIdField||f.objectIdFieldName||"__OBJECTID",b=t.spatialReference||h.YU,w=t.timeInfo,d===f.fields&&f.unknownFields.length>0&&s.push({name:"geojson-layer:unknown-field-types",message:"Some fields types couldn't be inferred from the features and were dropped",details:{unknownFields:f.unknownFields}}),q=new _.Z(d),(E=q.get(m))?("esriFieldTypeString"!==E.type&&(E.type="esriFieldTypeOID"),E.editable=!1,E.nullable=!1,m=E.name):(E={alias:m,name:m,type:"string"===f.objectIdFieldType?"esriFieldTypeString":"esriFieldTypeOID",editable:!1,nullable:!1},d.unshift(E)),j={},R=(0,i.Z)(d),e.prev=21,R.s();case 23:if((L=R.n()).done){e.next=33;break}if(null==(O=L.value).name&&(O.name=O.alias),null==O.alias&&(O.alias=O.name),O.name){e.next=27;break}throw new p.Z("geojson-layer:invalid-field-name","field name is missing",{field:O});case 27:if(I.v.jsonValues.includes(O.type)){e.next=29;break}throw new p.Z("geojson-layer:invalid-field-type",'invalid type for field "'.concat(O.name,'"'),{field:O});case 29:O.name!==E.name&&void 0!==(P=(0,S.os)(O))&&(j[O.name]=P),null==O.length&&(O.length=(0,S.ZR)(O));case 31:e.next=23;break;case 33:e.next=38;break;case 35:e.prev=35,e.t0=e.catch(21),R.e(e.t0);case 38:return e.prev=38,R.f(),e.finish(38);case 41:return w&&(w.startTimeField&&((C=q.get(w.startTimeField))?(w.startTimeField=C.name,C.type="esriFieldTypeDate"):w.startTimeField=null),w.endTimeField&&((A=q.get(w.endTimeField))?(w.endTimeField=A.name,A.type="esriFieldTypeDate"):w.endTimeField=null),w.trackIdField&&((G=q.get(w.trackIdField))?w.trackIdField=G.name:(w.trackIdField=null,s.push({name:"geojson-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:w}}))),w.startTimeField||w.endTimeField||(s.push({name:"geojson-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing",details:{timeInfo:w}}),w=null)),D=v?(0,k.bU)(v):void 0,N=q.dateFields.length?{timeZoneIANA:F.pt}:null,M={warnings:s,featureErrors:[],layerDefinition:(0,r.Z)((0,r.Z)({},T),{},{drawingInfo:null!==D&&void 0!==D?D:void 0,templates:(0,k.Hq)(j),extent:void 0,geometryType:v,objectIdField:m,fields:d,hasZ:!!y,timeInfo:w,dateFieldsTimeReference:N})},this._queryEngine=new Z.q({fieldsIndex:_.Z.fromLayerJSON({fields:d,timeInfo:w,dateFieldsTimeReference:N}),geometryType:v,hasM:!1,hasZ:y,objectIdField:m,spatialReference:b,timeInfo:w,featureStore:new g.Z({geometryType:v,hasM:!1,hasZ:y}),cacheSpatialQueries:!0}),(U=this._queryEngine.fieldsIndex.requiredFields.indexOf(E))>-1&&this._queryEngine.fieldsIndex.requiredFields.splice(U,1),this._createDefaultAttributes=(0,k.Dm)(j,m),e.next=48,this._createFeatures(c);case 48:return Q=e.sent,this._objectIdGenerator=this._createObjectIdGenerator(this._queryEngine,Q),J=this._normalizeFeatures(Q,M.featureErrors),this._queryEngine.featureStore.addMany(J),e.next=54,this._queryEngine.fetchRecomputedExtents();case 54:return z=e.sent,H=z.fullExtent,B=z.timeExtent,M.layerDefinition.extent=H,B&&(Y=B.start,$=B.end,M.layerDefinition.timeInfo.timeExtent=[Y,$]),e.abrupt("return",M);case 59:case"end":return e.stop()}}),e,this,[[21,35,38,41]])})));return function(t){return e.apply(this,arguments)}}()},{key:"applyEdits",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t){var n,r,i;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._queryEngine,r=n.spatialReference,i=n.geometryType,e.next=3,Promise.all([(0,w.b)(r,i),(0,b._W)(t.adds,r),(0,b._W)(t.updates,r)]);case 3:return e.next=5,this._waitSnapshotComplete();case 5:return e.abrupt("return",this._applyEdits(t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryFeatures",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(){var t,n,r=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQuery(t,n.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryFeatureCount",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(){var t,n,r=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQueryForCount(t,n.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryObjectIds",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(){var t,n,r=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQueryForIds(t,n.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryExtent",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(){var t,n,r=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQueryForExtent(t,n.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"querySnapping",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t){var n,r=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,this._waitSnapshotComplete();case 3:return e.abrupt("return",this._queryEngine.executeQueryForSnapping(t,n.signal));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refresh",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t){var n,r,i,a,s=this;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._loadOptions.customParameters=t,null!==(n=this._snapshotTask)&&void 0!==n&&n.abort(),this._snapshotTask=(0,f.vr)(this._snapshotFeatures),this._snapshotTask.promise.then((function(e){s._queryEngine.featureStore.clear(),s._objectIdGenerator=s._createObjectIdGenerator(s._queryEngine,e);var t=s._normalizeFeatures(e);t&&s._queryEngine.featureStore.addMany(t)}),(function(e){s._queryEngine.featureStore.clear(),(0,y.D_)(e)||d.Z.getLogger("esri.layers.GeoJSONLayer").error(new p.Z("geojson-layer:refresh","An error occurred during refresh",{error:e}))})),e.next=6,this._waitSnapshotComplete();case 6:return e.next=8,this._queryEngine.fetchRecomputedExtents();case 8:return r=e.sent,i=r.fullExtent,a=r.timeExtent,e.abrupt("return",{extent:i,timeExtent:a});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createFeatures",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t){var n,r,a,s,o,l,c,f;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",[]);case 2:if(n=this._queryEngine,r=n.geometryType,a=n.hasZ,s=n.objectIdField,o=(0,x.lG)(t,{geometryType:r,hasZ:a,objectIdField:s}),!(0,h.fS)(this._queryEngine.spatialReference,h.YU)){l=(0,i.Z)(o);try{for(l.s();!(c=l.n()).done;)null!=(f=c.value).geometry&&(f.geometry=(0,m.GH)((0,b.iV)((0,m.di)(f.geometry,this._queryEngine.geometryType,this._queryEngine.hasZ,!1),h.YU,this._queryEngine.spatialReference)))}catch(u){l.e(u)}finally{l.f()}}return e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_waitSnapshotComplete",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._snapshotTask||this._snapshotTask.finished){e.next=9;break}return e.prev=1,e.next=4,this._snapshotTask.promise;case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:return e.abrupt("return",this._waitSnapshotComplete());case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"_fetch",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t){var n,i,a,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._loadOptions,i=n.url,a=n.customParameters,e.next=5,(0,c.Z)(null!==i&&void 0!==i?i:"",{responseType:"json",query:(0,r.Z)({},a),signal:t});case 5:return s=e.sent.data,e.abrupt("return",((0,x.O3)(s),s));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_normalizeFeatures",value:function(e,t){var n,r=this._queryEngine,a=r.objectIdField,u=r.fieldsIndex,s=[],o=(0,i.Z)(e);try{for(o.s();!(n=o.n()).done;){var l=n.value,c=this._createDefaultAttributes(),f=(0,w.O0)(u,c,l.attributes,!0);f?null===t||void 0===t||t.push(f):(this._assignObjectId(c,l.attributes,!0),l.attributes=c,l.objectId=c[a],s.push(l))}}catch(p){o.e(p)}finally{o.f()}return s}},{key:"_applyEdits",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t){var n,r,a,s,o,l,c,f,p,d;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.adds,r=t.updates,a=t.deletes,s={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}},null!==n&&void 0!==n&&n.length&&this._applyAddEdits(s,n),null!==r&&void 0!==r&&r.length&&this._applyUpdateEdits(s,r),null!==a&&void 0!==a&&a.length){o=(0,i.Z)(a);try{for(o.s();!(l=o.n()).done;)c=l.value,s.deleteResults.push((0,w.d1)(c))}catch(u){o.e(u)}finally{o.f()}this._queryEngine.featureStore.removeManyById(a)}return e.next=4,this._queryEngine.fetchRecomputedExtents();case 4:return f=e.sent,p=f.fullExtent,d=f.timeExtent,e.abrupt("return",{extent:p,timeExtent:d,featureEditResults:s});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_applyAddEdits",value:function(e,t){var n,r=e.addResults,a=this._queryEngine,u=a.geometryType,s=a.hasM,o=a.hasZ,l=a.objectIdField,c=a.spatialReference,f=a.featureStore,p=a.fieldsIndex,d=[],y=(0,i.Z)(t);try{for(y.s();!(n=y.n()).done;){var h=n.value;if(h.geometry&&u!==(0,v.Ji)(h.geometry))r.push((0,w.av)("Incorrect geometry type."));else{var g=this._createDefaultAttributes(),Z=(0,w.O0)(p,g,h.attributes);if(Z)r.push(Z);else{if(this._assignObjectId(g,h.attributes),h.attributes=g,null!=h.uid){var x=h.attributes[l];e.uidToObjectId[h.uid]=x}if(null!=h.geometry){var k,_=null!==(k=h.geometry.spatialReference)&&void 0!==k?k:c;h.geometry=(0,b.iV)((0,w.og)(h.geometry,_),_,c)}d.push(h),r.push((0,w.d1)(h.attributes[l]))}}}}catch(I){y.e(I)}finally{y.f()}f.addMany((0,m.Yn)([],d,u,o,s,l))}},{key:"_applyUpdateEdits",value:function(e,t){var n,r=e.updateResults,a=this._queryEngine,u=a.geometryType,s=a.hasM,o=a.hasZ,l=a.objectIdField,c=a.spatialReference,f=a.featureStore,p=a.fieldsIndex,d=(0,i.Z)(t);try{for(d.s();!(n=d.n()).done;){var y=n.value,h=y.attributes,g=y.geometry,Z=null===h||void 0===h?void 0:h[l];if(null!=Z)if(f.has(Z)){var x=(0,m.EI)(f.getFeature(Z),u,o,s);if(null!=g){var k;if(u!==(0,v.Ji)(g)){r.push((0,w.av)("Incorrect geometry type."));continue}var _=null!==(k=g.spatialReference)&&void 0!==k?k:c;x.geometry=(0,b.iV)((0,w.og)(g,_),_,c)}if(h){var I=(0,w.O0)(p,x.attributes,h);if(I){r.push(I);continue}}f.add((0,m.XA)(x,u,o,s,l)),r.push((0,w.d1)(Z))}else r.push((0,w.av)("Feature with object id ".concat(Z," missing")));else r.push((0,w.av)("Identifier field ".concat(l," missing")))}}catch(S){d.e(S)}finally{d.f()}}},{key:"_createObjectIdGenerator",value:function(e,t){var n=e.fieldsIndex.get(e.objectIdField);if("esriFieldTypeString"===n.type)return function(){return n.name+"-"+Date.now().toString(16)};var r,a=Number.NEGATIVE_INFINITY,u=(0,i.Z)(t);try{for(u.s();!(r=u.n()).done;){var s=r.value;s.objectId&&(a=Math.max(a,s.objectId))}}catch(o){u.e(o)}finally{u.f()}return a=Math.max(0,a)+1,function(){return a++}}},{key:"_assignObjectId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this._queryEngine.objectIdField;e[r]=n&&r in t?t[r]:this._objectIdGenerator()}},{key:"_checkProjection",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,b._W)(h.YU,t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),new p.Z("geojson-layer","Projection not supported");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},47615:function(e,t,n){n.d(t,{O3:function(){return E},lG:function(){return R},my:function(){return j},q9:function(){return h}});var r=n(29439),i=n(74165),a=n(37762),u=n(63231),s=n(10064),o=n(92975),l=n(3182),c=n(80457),f=n(37270),p=(0,i.Z)().mark(m),d=(0,i.Z)().mark(g),y=(0,i.Z)().mark(b),v={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function h(e){return v[e]}function m(e){var t,n,r;return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:i.t0=e.type,i.next="Feature"===i.t0?3:"FeatureCollection"===i.t0?6:25;break;case 3:return i.next=5,e;case 5:return i.abrupt("break",25);case 6:t=(0,a.Z)(e.features),i.prev=7,t.s();case 9:if((n=t.n()).done){i.next=17;break}if(r=n.value,i.t1=r,!i.t1){i.next=15;break}return i.next=15,r;case 15:i.next=9;break;case 17:i.next=22;break;case 19:i.prev=19,i.t2=i.catch(7),t.e(i.t2);case 22:return i.prev=22,t.f(),i.finish(22);case 25:case"end":return i.stop()}}),p,null,[[7,19,22,25]])}function g(e){var t,n,r,u,s,o,l,c,f;return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!e){i.next=57;break}i.t0=e.type,i.next="Point"===i.t0?4:"LineString"===i.t0||"MultiPoint"===i.t0?7:"MultiLineString"===i.t0||"Polygon"===i.t0?9:"MultiPolygon"===i.t0?26:57;break;case 4:return i.next=6,e.coordinates;case 6:return i.abrupt("break",57);case 7:return i.delegateYield(e.coordinates,"t1",8);case 8:return i.abrupt("break",57);case 9:t=(0,a.Z)(e.coordinates),i.prev=10,t.s();case 12:if((n=t.n()).done){i.next=17;break}return r=n.value,i.delegateYield(r,"t2",15);case 15:i.next=12;break;case 17:i.next=22;break;case 19:i.prev=19,i.t3=i.catch(10),t.e(i.t3);case 22:return i.prev=22,t.f(),i.finish(22);case 25:return i.abrupt("break",57);case 26:u=(0,a.Z)(e.coordinates),i.prev=27,u.s();case 29:if((s=u.n()).done){i.next=49;break}o=s.value,l=(0,a.Z)(o),i.prev=32,l.s();case 34:if((c=l.n()).done){i.next=39;break}return f=c.value,i.delegateYield(f,"t4",37);case 37:i.next=34;break;case 39:i.next=44;break;case 41:i.prev=41,i.t5=i.catch(32),l.e(i.t5);case 44:return i.prev=44,l.f(),i.finish(44);case 47:i.next=29;break;case 49:i.next=54;break;case 51:i.prev=51,i.t6=i.catch(27),u.e(i.t6);case 54:return i.prev=54,u.f(),i.finish(54);case 57:case"end":return i.stop()}}),d,null,[[10,19,22,25],[27,51,54,57],[32,41,44,47]])}function b(e){var t,n,r,u,s,o,f,p,d,v,m,g,b,Z=arguments;return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=Z.length>1&&void 0!==Z[1]?Z[1]:{},n=t.geometryType,r=t.objectIdField,u=(0,a.Z)(e),i.prev=3,u.s();case 5:if((s=u.n()).done){i.next=18;break}if(f=s.value,p=f.geometry,d=f.properties,v=f.id,!p||h(p.type)===n){i.next=10;break}return i.abrupt("continue",16);case 10:return m=d||{},g=void 0,r&&(g=m[r],null==v||g||(m[r]=g=v)),b=new l.u_(p?w(new c.Z,p,t):null,m,null,null!==(o=g)&&void 0!==o?o:void 0),i.next=16,b;case 16:i.next=5;break;case 18:i.next=23;break;case 20:i.prev=20,i.t0=i.catch(3),u.e(i.t0);case 23:return i.prev=23,u.f(),i.finish(23);case 26:case"end":return i.stop()}}),y,null,[[3,20,23,26]])}function Z(e){var t,n=(0,a.Z)(e);try{for(n.s();!(t=n.n()).done;){if(t.value.length>2)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}function x(e){for(var t=0,n=0;n<e.length;n++){var r=e[n],i=e[(n+1)%e.length];t+=r[0]*i[1]-i[0]*r[1]}return t<=0}function k(e){var t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function w(e,t,n){switch(t.type){case"LineString":case"MultiPoint":return function(e,t,n){return S(e,t.coordinates,n),e}(e,t,n);case"MultiLineString":return function(e,t,n){var r,i=(0,a.Z)(t.coordinates);try{for(i.s();!(r=i.n()).done;){S(e,r.value,n)}}catch(u){i.e(u)}finally{i.f()}return e}(e,t,n);case"MultiPolygon":return function(e,t,n){var r,i=(0,a.Z)(t.coordinates);try{for(i.s();!(r=i.n()).done;){var u=r.value;_(e,u[0],n);for(var s=1;s<u.length;s++)I(e,u[s],n)}}catch(o){i.e(o)}finally{i.f()}return e}(e,t,n);case"Point":return function(e,t,n){return T(e,t.coordinates,n),e}(e,t,n);case"Polygon":return function(e,t,n){var r=t.coordinates;_(e,r[0],n);for(var i=1;i<r.length;i++)I(e,r[i],n);return e}(e,t,n)}}function _(e,t,n){var r=k(t);!function(e){return!x(e)}(r)?S(e,r,n):F(e,r,n)}function I(e,t,n){var r=k(t);!function(e){return x(e)}(r)?S(e,r,n):F(e,r,n)}function S(e,t,n){var r,i=(0,a.Z)(t);try{for(i.s();!(r=i.n()).done;){T(e,r.value,n)}}catch(u){i.e(u)}finally{i.f()}e.lengths.push(t.length)}function F(e,t,n){for(var r=t.length-1;r>=0;r--)T(e,t[r],n);e.lengths.push(t.length)}function T(e,t,n){var i=(0,r.Z)(t,3),a=i[0],u=i[1],s=i[2];e.coords.push(a,u),n.hasZ&&e.coords.push(s||0)}function q(e){switch(typeof e){case"string":return(0,u.mu)(e)?"esriFieldTypeDate":"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4326;if(!e)throw new s.Z("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new s.Z("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});var n=e.crs;if(n){var r="string"==typeof n?n:"name"===n.type?n.properties.name:"EPSG"===n.type?n.properties.code:null,i=(0,o.oR)({wkid:t})?new RegExp(".*(CRS84H?|4326)$","i"):new RegExp(".*(".concat(t,")$"),"i");if(!r||!i.test(r))throw new s.Z("geojson:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:n})}}function j(e){var t,n,r,i,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=[],o=new Set,l=new Set,c=!1,p=null,d=!1,y=u.geometryType,v=void 0===y?null:y,b=!1,x=(0,a.Z)(m(e));try{var k=function(){var e=i.value,t=e.geometry,n=e.properties,a=e.id;if((!t||(v||(v=h(t.type)),h(t.type)===v))&&(c||(c=Z(g(t))),d||(d=null!=a)&&(r=typeof a,n&&(p=Object.keys(n).filter((function(e){return n[e]===a})))),n&&p&&d&&null!=a&&(p.length>1?p=p.filter((function(e){return n[e]===a})):1===p.length&&(p=n[p[0]]===a?p:[])),!b&&n)){var u=!0;for(var y in n)if(!o.has(y)){var m=n[y];if(null!=m){var x=q(m);if("unknown"!==x){l.delete(y),o.add(y);var k=(0,f.q6)(y);k&&s.push({name:k,alias:y,type:x})}else l.add(y)}else u=!1,l.add(y)}b=u}};for(x.s();!(i=x.n()).done;)k()}catch(F){x.e(F)}finally{x.f()}var w=null!==(t=(0,f.q6)(1===(null===(n=p)||void 0===n?void 0:n.length)&&p[0]||null))&&void 0!==t?t:void 0;if(w){var _,I=(0,a.Z)(s);try{for(I.s();!(_=I.n()).done;){var S=_.value;if(S.name===w&&(0,f.H7)(S)){S.type="esriFieldTypeOID";break}}}catch(F){I.e(F)}finally{I.f()}}return{fields:s,geometryType:v,hasZ:c,objectIdFieldName:w,objectIdFieldType:r,unknownFields:Array.from(l)}}function R(e,t){return Array.from(b(m(e),t))}},63543:function(e,t,n){n.d(t,{Dm:function(){return p},Hq:function(){return y},MS:function(){return v},bU:function(){return l}});var r=n(4942),i=n(1413),a=n(93169),u=n(84652),s=n(60480),o=n(76115);function l(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?o.I4:"esriGeometryPolyline"===e?o.ET:o.lF}}}var c=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/,f=1;function p(e,t){if((0,a.Z)("esri-csp-restrictions"))return function(){return(0,i.Z)((0,r.Z)({},t,null),e)};try{var n="this".concat(d(t)," = null;");for(var u in e)n+="this".concat(d(u)," = ").concat(JSON.stringify(e[u]),";");var s=new Function("\n      return class AttributesClass$".concat(f++," {\n        constructor() {\n          ").concat(n,";\n        }\n      }\n    "))();return function(){return new s}}catch(o){return function(){return(0,i.Z)((0,r.Z)({},t,null),e)}}}function d(e){return c.test(e)?".".concat(e):'["'.concat(e,'"]')}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{name:"New Feature",description:"",prototype:{attributes:(0,u.d9)(e)}}]}function v(e,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:s.g,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}},68808:function(e,t,n){n.d(t,{O0:function(){return g},av:function(){return d},b:function(){return w},d1:function(){return v},og:function(){return Z}});var r=n(74165),i=n(15861),a=n(37762),u=n(43144),s=n(15671),o=n(63231),l=n(92975),c=n(37270),f=(0,u.Z)((function e(){(0,s.Z)(this,e),this.code=null,this.description=null})),p=(0,u.Z)((function e(t){(0,s.Z)(this,e),this.error=new f,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=t}));function d(e){return new p(e)}var y=(0,u.Z)((function e(t){(0,s.Z)(this,e),this.globalId=null,this.success=!0,this.objectId=this.uniqueId=t}));function v(e){return new y(e)}var h,m=new Set;function g(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var u in m.clear(),n){var s=e.get(u);if(s){var o=b(s,n[u]);if(m.add(s.name),s&&(i||s.editable)){var l=(0,c.Qc)(s,o);if(l)return d((0,c.vP)(l,s,o));t[s.name]=o}}}var f,p=(0,a.Z)(null!==(r=null===e||void 0===e?void 0:e.requiredFields)&&void 0!==r?r:[]);try{for(p.s();!(f=p.n()).done;){var y=f.value;if(!m.has(y.name))return d('missing required field "'.concat(y.name,'"'))}}catch(v){p.e(v)}finally{p.f()}return null}function b(e,t){var n=t;return(0,c.H7)(e)&&"string"==typeof t?n=parseFloat(t):(0,c.qN)(e)&&null!=t&&"string"!=typeof t?n=String(t):(0,c.y2)(e)&&"string"==typeof t&&(n=(0,o.sG)(t)),(0,c.Pz)(n)}function Z(e,t){if(!e||!(0,l.JY)(t))return e;if("rings"in e||"paths"in e){if(null==h)throw new TypeError("geometry engine not loaded");return h.simplify(t,e)}return e}function x(){return k.apply(this,arguments)}function k(){return(k=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=null==h,!e.t0){e.next=5;break}return e.next=4,Promise.all([n.e(99058),n.e(50309)]).then(n.bind(n,50309));case 4:h=e.sent;case 5:return e.abrupt("return",h);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){return _.apply(this,arguments)}function _(){return(_=(0,i.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!(0,l.JY)(t)||"esriGeometryPolygon"!==n&&"esriGeometryPolyline"!==n,e.t0){e.next=4;break}return e.next=4,x();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},35594:function(e,t,n){n.d(t,{F:function(){return i},o:function(){return a}});var r=n(77981);function i(e){return{geometryType:(0,r.Ji)(e[0]),geometries:e.map((function(e){return e.toJSON()}))}}function a(e,t,n){var i=(0,r.q9)(t);return e.map((function(e){var t=i.fromJSON(e);return t.spatialReference=n,t}))}},23084:function(e,t,n){n.d(t,{LP:function(){return p},cv:function(){return f},en:function(){return c},lA:function(){return l}});var r=n(1413),i=n(42265),a=n(19545),u=n(84652),s=n(35995),o=n(66660);function l(e,t){return t?(0,r.Z)((0,r.Z)({},t),{},{query:(0,r.Z)((0,r.Z)({},null!==e&&void 0!==e?e:{}),t.query)}):{query:e}}function c(e){return"string"==typeof e?(0,s.mN)(e):(0,u.d9)(e)}function f(e,t,n){var r={};for(var i in e)if("declaredClass"!==i){var a=e[i];if(null!=a&&"function"!=typeof a)if(Array.isArray(a))r[i]=a.map((function(e){return f(e)}));else if("object"==typeof a)if(a.toJSON){var u=a.toJSON(null===n||void 0===n?void 0:n[i]);r[i]=t?u:JSON.stringify(u)}else r[i]=t?a:JSON.stringify(a);else r[i]=a}return r}function p(e,t){var n;return e?(0,o.r)(e)&&(t||i.Z.apiKey)?t||i.Z.apiKey:null===a.id||void 0===a.id||null===(n=a.id.findCredential(e))||void 0===n?void 0:n.token:null}},23037:function(e,t,n){n.d(t,{Bf:function(){return h},Bj:function(){return k},Df:function(){return v},Py:function(){return x},Qs:function(){return D},Us:function(){return S},aL:function(){return I},iG:function(){return g},ql:function(){return Z},se:function(){return m},vZ:function(){return b},zb:function(){return _}});var r,i=n(29439),a=n(54557),u=n(42265),s=n(80987),o=n(32718),l=n(92026),c=n(35995),f=n(25243),p=n(32551),d=n(68954),y=function(){return o.Z.getLogger("esri.support.basemapUtils")};function v(){return{}}function h(e){for(var t in e){var n=e[t];(0,l.SC)(n),delete e[t]}}function m(e,t){var n,r;if("string"==typeof e){var s=e in d.s,o=!s&&e.includes("/");if(!s&&!o){var l=Object.entries(d.s).filter((function(e){var t=(0,i.Z)(e,2),n=(t[0],t[1]);return u.Z.apiKey&&!n.classic||!u.Z.apiKey&&(n.classic||n.is3d)})).map((function(e){var t=(0,i.Z)(e,1)[0];return'"'.concat(t,'"')})).sort().join(", ");return y().warn("Unable to find basemap definition for: ".concat(e,". Try one of these: ").concat(l)),null}t&&(r=t[e]),r||(r=s?a.default.fromId(e):new a.default({style:{id:e}}),t&&(t[e]=r))}else r=(0,f.se)(a.default,e);return null!==(n=r)&&void 0!==n&&n.destroyed&&(y().warn("The provided basemap is already destroyed",{basemap:r}),r=null),r}function g(e){var t;return"Web Scene"===(null===(t=e.portalItem)||void 0===t?void 0:t.type)||e.referenceLayers.some((function(e){return"scene"===e.type}))}function b(e){var t,n;return!(null===e||void 0===e||null===(t=e.portalItem)||void 0===t||null===(n=t.tags)||void 0===n||!n.some((function(e){return"beta"===e.toLowerCase()})))}function Z(e,t){var n,r,i,a;return(null===(n=e.basemap)||void 0===n||null===(r=n.referenceLayers)||void 0===r?void 0:r.some((function(e){return e.uid===t})))||(null===(i=e.basemap)||void 0===i||null===(a=i.baseLayers)||void 0===a?void 0:a.some((function(e){return e.uid===t})))}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=m(e);if(!n)return null;var r=n.clone();return t&&(r.baseLayers=w(r.baseLayers,t.baseLayers),r.referenceLayers=w(r.referenceLayers,t.referenceLayers)),r}function k(e,t){var n,r;return e===t||(null!=(null===e||void 0===e||null===(n=e.portalItem)||void 0===n?void 0:n.id)&&e.portalItem.id===(null===t||void 0===t||null===(r=t.portalItem)||void 0===r?void 0:r.id)||"equal"===P(q(e),q(t),{mustMatchReferences:!0}))}function w(e,t){var n=new s.Z;return e.forEach((function(e){var r=t.find((function(t){return"scene"!==t.type&&A(j(e),j(t))}))||e;n.includes(r)?n.push(e):n.push(r)})),n}function _(e){return!(null===e||void 0===e||!e.baseLayers.concat(e.referenceLayers).some(I))}function I(e){if(T(e.url))return!0;if("vector-tile"===e.type)for(var t in e.sourceNameToSource){var n=e.sourceNameToSource[t];if(T(null===n||void 0===n?void 0:n.sourceUrl))return!0}return!1}function S(e,t){var n,r,i;if(null==t||null==e)return{spatialReference:null,updating:!1};if("not-loaded"===t.loadStatus)return t.load(),{spatialReference:null,updating:!0};if(t.spatialReference)return{spatialReference:t.spatialReference,updating:!1};if(0===t.baseLayers.length)return{spatialReference:null,updating:!1};var a=t.baseLayers.at(0);switch(a.loadStatus){case"not-loaded":a.load();case"loading":return{spatialReference:null,updating:!0};case"failed":return{spatialReference:null,updating:!1}}var u=(("supportedSpatialReferences"in a?a.supportedSpatialReferences:null)||["tileInfo"in a?null===(n=a.tileInfo)||void 0===n?void 0:n.spatialReference:a.spatialReference]).filter(Boolean),s=e.spatialReference;return s?{spatialReference:null!==(r=null!==(i=u.find((function(e){return s.equals(e)})))&&void 0!==i?i:u[0])&&void 0!==r?r:null,updating:!1}:{spatialReference:u[0],updating:!1}}var F=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function T(e){if(!e)return!1;var t=new c.R9((0,c.hF)(e));return!!t.authority&&F.test(t.authority)}function q(e){return e?!e.loaded&&e.resourceInfo?L(e.resourceInfo.data):{baseLayers:E(e.baseLayers),referenceLayers:E(e.referenceLayers)}:null}function E(e){return(s.Z.isCollection(e)?e.toArray():e).map(j)}function j(e){var t,n;return{type:e.type,effect:"effect"in e?e.effect:void 0,url:G("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl||""),minScale:"minScale"in e&&null!=e.minScale?e.minScale:0,maxScale:"maxScale"in e&&null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visible||!!e.visible,sublayers:"map-image"!==e.type&&"wms"!==e.type||null==e.sublayers||null===(t=e.sublayers)||void 0===t?void 0:t.map((function(e){return{id:e.id,visible:e.visible}})),activeLayerId:"wmts"===e.type?null===(n=e.activeLayer)||void 0===n?void 0:n.id:void 0}}function R(e){return e.isReference||"ArcGISSceneServiceLayer"===e.layerType}function L(e){var t,n;return e?{baseLayers:O((null!==(t=e.baseMapLayers)&&void 0!==t?t:[]).filter((function(e){return!R(e)}))),referenceLayers:O((null!==(n=e.baseMapLayers)&&void 0!==n?n:[]).filter((function(e){return R(e)})))}:null}function O(e){return e.map((function(e){return function(e){var t,n,r,i;switch(e.layerType){case"VectorTileLayer":i="vector-tile";break;case"ArcGISTiledMapServiceLayer":i="tile";break;case"ArcGISSceneServiceLayer":i="scene";break;default:i="unknown"}return{type:i,effect:e.effect,url:G(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:null!==(t=e.minScale)&&void 0!==t?t:0,maxScale:null!==(n=e.maxScale)&&void 0!==n?n:0,opacity:null!==(r=e.opacity)&&void 0!==r?r:1,visible:null==e.visibility||!!e.visibility,sublayers:void 0,activeLayerId:void 0}}(e)}))}function P(e,t,n){return null!=e!=(null!=t)?"not-equal":e&&t?C(e.baseLayers,t.baseLayers)?C(e.referenceLayers,t.referenceLayers)?"equal":n.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function C(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!A(e[n],t[n]))return!1;return!0}function A(e,t){if(e.type!==t.type||e.url!==t.url||e.minScale!==t.minScale||e.maxScale!==t.maxScale||e.visible!==t.visible||e.opacity!==t.opacity)return!1;if(!(0,p.yQ)(e.effect,t.effect))return!1;if(null!=e.activeLayerId||null!=t.activeLayerId)return e.activeLayerId===t.activeLayerId;if(null!=e.sublayers||null!=t.sublayers){if(null==e.sublayers||null==t.sublayers||e.sublayers.length!==t.sublayers.length)return!1;for(var n=0;n<e.sublayers.length;n++){var r=e.sublayers.at(n),i=t.sublayers.at(n);if((null===r||void 0===r?void 0:r.id)!==(null===i||void 0===i?void 0:i.id)||(null===r||void 0===r?void 0:r.visible)!==(null===i||void 0===i?void 0:i.visible))return!1}}return!0}function G(e){return e?(0,c.Fv)(e).replace(/^\s*https?:/i,"").toLowerCase():""}function D(e){if(!e)return null;var t=e.thumbnailUrl;if(t)return t;var n=function(e){if(r)return r(e);var t=null,n=q(e),i=!(null!==n&&void 0!==n&&n.baseLayers.length);for(var a in d.s){var u=P(n,L(d.s[a]),{mustMatchReferences:i});if("equal"===u){t=a;break}"base-layers-equal"===u&&(t=a)}return t}(e);return n?d.s[n].thumbnailUrl:(0,l.ei)(e.baseLayers,N)}function N(e){var t;return"portalItem"in e?null===(t=e.portalItem)||void 0===t?void 0:t.thumbnailUrl:void 0}}}]);
//# sourceMappingURL=84494.a16be591.chunk.js.map