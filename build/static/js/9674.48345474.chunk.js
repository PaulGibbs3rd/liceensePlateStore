"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[9674],{55364:function(e,t,n){function o(){return[1,0,0,1,0,0]}function r(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}n.d(t,{Ue:function(){return o},Wd:function(){return i},d9:function(){return r}});var i=[1,0,0,1,0,0];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:r,create:o,createView:function(e,t){return new Float64Array(e,t,6)},fromValues:function(e,t,n,o,r,i){return[e,t,n,o,r,i]}},Symbol.toStringTag,{value:"Module"}))},68700:function(e,t,n){n.d(t,{Bh:function(){return c},I6:function(){return S},Jp:function(){return d},Kx:function(){return h},Su:function(){return y},U_:function(){return v},b0:function(){return A},t8:function(){return m},yY:function(){return u}});var o=n(21389),r=n(50894),i=n(12400),a=n(24204),l=n(32035),s=n(19093);function u(e,t,n){n*=.5;var o=Math.sin(n);return e[0]=o*t[0],e[1]=o*t[1],e[2]=o*t[2],e[3]=Math.cos(n),e}function c(e,t){var n=2*Math.acos(t[3]),o=Math.sin(n/2);return o>(0,a.bn)()?(e[0]=t[0]/o,e[1]=t[1]/o,e[2]=t[2]/o):(e[0]=1,e[1]=0,e[2]=0),n}function d(e,t,n){var o=t[0],r=t[1],i=t[2],a=t[3],l=n[0],s=n[1],u=n[2],c=n[3];return e[0]=o*c+a*l+r*u-i*s,e[1]=r*c+a*s+i*l-o*u,e[2]=i*c+a*u+o*s-r*l,e[3]=a*c-o*l-r*s-i*u,e}function p(e,t,n,o){var r,i,l,s,u,c=t[0],d=t[1],p=t[2],v=t[3],h=n[0],f=n[1],y=n[2],g=n[3];return(i=c*h+d*f+p*y+v*g)<0&&(i=-i,h=-h,f=-f,y=-y,g=-g),1-i>(0,a.bn)()?(r=Math.acos(i),l=Math.sin(r),s=Math.sin((1-o)*r)/l,u=Math.sin(o*r)/l):(s=1-o,u=o),e[0]=s*c+u*h,e[1]=s*d+u*f,e[2]=s*p+u*y,e[3]=s*v+u*g,e}function v(e,t){var n=t[0],o=t[1],r=t[2],i=t[3],a=n*n+o*o+r*r+i*i,l=a?1/a:0;return e[0]=-n*l,e[1]=-o*l,e[2]=-r*l,e[3]=i*l,e}function h(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function f(e,t){var n,o=t[0]+t[4]+t[8];if(o>0)n=Math.sqrt(o+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var r=0;t[4]>t[0]&&(r=1),t[8]>t[3*r+r]&&(r=2);var i=(r+1)%3,a=(r+2)%3;n=Math.sqrt(t[3*r+r]-t[3*i+i]-t[3*a+a]+1),e[r]=.5*n,n=.5/n,e[3]=(t[3*i+a]-t[3*a+i])*n,e[i]=(t[3*i+r]+t[3*r+i])*n,e[a]=(t[3*a+r]+t[3*r+a])*n}return e}function y(e,t,n,o){var r=.5*Math.PI/180;t*=r,n*=r,o*=r;var i=Math.sin(t),a=Math.cos(t),l=Math.sin(n),s=Math.cos(n),u=Math.sin(o),c=Math.cos(o);return e[0]=i*s*c-a*l*u,e[1]=a*l*c+i*s*u,e[2]=a*s*u-i*l*c,e[3]=a*s*c+i*l*u,e}var g=s.c,m=s.s,_=s.f,b=d,w=s.b,k=s.g,C=s.l,M=s.i,Z=M,T=s.j,x=T,O=s.n,S=s.a,R=s.e;function A(e,t,n){var o=(0,l.m)(t,n);return o<-.999999?((0,l.b)(I,z,t),(0,l.H)(I)<1e-6&&(0,l.b)(I,U,t),(0,l.n)(I,I),u(e,I,Math.PI),e):o>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):((0,l.b)(I,t,n),e[0]=I[0],e[1]=I[1],e[2]=I[2],e[3]=1+o,O(e,e))}var I=(0,i.Ue)(),z=(0,i.al)(1,0,0),U=(0,i.al)(0,1,0);var H=(0,r.Ue)(),P=(0,r.Ue)();var B=(0,o.Ue)();Object.freeze(Object.defineProperty({__proto__:null,add:_,calculateW:function(e,t){var n=t[0],o=t[1],r=t[2];return e[0]=n,e[1]=o,e[2]=r,e[3]=Math.sqrt(Math.abs(1-n*n-o*o-r*r)),e},conjugate:h,copy:g,dot:k,equals:R,exactEquals:S,fromEuler:y,fromMat3:f,getAxisAngle:c,identity:function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},invert:v,len:Z,length:M,lerp:C,mul:b,multiply:d,normalize:O,random:function(e){var t=a.FD,n=t(),o=t(),r=t(),i=Math.sqrt(1-n),l=Math.sqrt(n);return e[0]=i*Math.sin(2*Math.PI*o),e[1]=i*Math.cos(2*Math.PI*o),e[2]=l*Math.sin(2*Math.PI*r),e[3]=l*Math.cos(2*Math.PI*r),e},rotateX:function(e,t,n){n*=.5;var o=t[0],r=t[1],i=t[2],a=t[3],l=Math.sin(n),s=Math.cos(n);return e[0]=o*s+a*l,e[1]=r*s+i*l,e[2]=i*s-r*l,e[3]=a*s-o*l,e},rotateY:function(e,t,n){n*=.5;var o=t[0],r=t[1],i=t[2],a=t[3],l=Math.sin(n),s=Math.cos(n);return e[0]=o*s-i*l,e[1]=r*s+a*l,e[2]=i*s+o*l,e[3]=a*s-r*l,e},rotateZ:function(e,t,n){n*=.5;var o=t[0],r=t[1],i=t[2],a=t[3],l=Math.sin(n),s=Math.cos(n);return e[0]=o*s+r*l,e[1]=r*s-o*l,e[2]=i*s+a*l,e[3]=a*s-i*l,e},rotationTo:A,scale:w,set:m,setAxes:function(e,t,n,o){var r=B;return r[0]=n[0],r[3]=n[1],r[6]=n[2],r[1]=o[0],r[4]=o[1],r[7]=o[2],r[2]=-t[0],r[5]=-t[1],r[8]=-t[2],O(e,f(e,r))},setAxisAngle:u,slerp:p,sqlerp:function(e,t,n,o,r,i){return p(H,t,r,i),p(P,n,o,i),p(e,H,P,2*i*(1-i)),e},sqrLen:x,squaredLength:T,str:function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}},Symbol.toStringTag,{value:"Module"}))},97942:function(e,t,n){function o(e){var t,n,o=[],i=!1;return function(){for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return i&&t===this&&r(l,o)||(n=e.apply(this,l),t=this,o=l,i=!0),n}}function r(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}n.d(t,{H:function(){return o}})},47898:function(e,t,n){n.d(t,{Fp:function(){return d},GJ:function(){return s},M1:function(){return i},MQ:function(){return f},Ww:function(){return y},bA:function(){return p},hw:function(){return v},mE:function(){return c},ne:function(){return l},nn:function(){return u},qF:function(){return g},yG:function(){return a},yP:function(){return h}});var o=n(1413),r=n(68860);function i(e){return{value:e}}function a(e,t){return{type:(0,r.UF)(t),value:e,unit:t}}function l(e,t){return{type:(0,r.UF)(t),value:e,unit:t}}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"arithmetic";return{type:(0,r.UF)(t),value:e,unit:t,rotationType:n}}function u(e,t){var n=c(e,t);return"angle"===e.type?s(n,t,e.rotationType):function(e,t){return{type:(0,r.UF)(t),value:e,unit:t}}(n,t)}function c(e,t){return(0,r.En)(e.value,e.unit,t)}function d(e,t){return null==e?t:null==t||e.value>(0,r.En)(t.value,t.unit,e.unit)?e:t}function p(e,t){return null==e?null:(0,o.Z)((0,o.Z)({},e),{},{value:e.value*t})}function v(e,t,n){if(t===n)return e;switch(n){case"arithmetic":case"geographic":return 90-e}}var h=a(0,"meters"),f=l(0,"square-meters"),y=(s(0,"radians"),s(0,"degrees")),g=s(0,"degrees","geographic")},46634:function(e,t,n){n.d(t,{R:function(){return h}});var o=n(15671),r=n(43144),i=n(60136),a=n(29388),l=n(27366),s=n(7138),u=n(42537),c=n(94172),d=n(99346),p=n(49861),v=n(69912),h=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;return(0,o.Z)(this,n),(e=t.apply(this,arguments)).updating=!1,e._handleId=0,e._scheduleHandleId=0,e._pendingPromises=new Set,e}return(0,r.Z)(n,[{key:"destroy",value:function(){this.removeAll()}},{key:"add",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._installWatch(e,t,n,c.watch)}},{key:"addWhen",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._installWatch(e,t,n,c.when)}},{key:"addOnCollectionChange",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o.initial,i=void 0!==r&&r,a=o.final,l=void 0!==a&&a,s=++this._handleId;return this.addHandles([(0,c.on)(e,"after-changes",this._createSyncUpdatingCallback(),c.sync),(0,c.on)(e,"change",t,{onListenerAdd:i?function(e){return t({added:e.toArray(),removed:[]})}:void 0,onListenerRemove:l?function(e){return t({added:[],removed:e.toArray()})}:void 0})],s),(0,u.kB)((function(){return n.removeHandles(s)}))}},{key:"addPromise",value:function(e){var t=this;if(null==e)return e;var n=++this._handleId;this.addHandles((0,u.kB)((function(){t._pendingPromises.delete(e)&&(0!==t._pendingPromises.size||t.hasHandles(f)||t._set("updating",!1))})),n),this._pendingPromises.add(e),this._set("updating",!0);var o=function(){return t.removeHandles(n)};return e.then(o,o),e}},{key:"removeAll",value:function(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}},{key:"_installWatch",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=++this._handleId;o.sync||this._installSyncUpdatingWatch(e,i);var a=r(e,t,o);return this.addHandles(a,i),(0,u.kB)((function(){return n.removeHandles(i)}))}},{key:"_installSyncUpdatingWatch",value:function(e,t){var n=this._createSyncUpdatingCallback(),o=(0,c.watch)(e,n,{sync:!0,equals:function(){return!1}});return this.addHandles(o,t),o}},{key:"_createSyncUpdatingCallback",value:function(){var e=this;return function(){e.removeHandles(f),++e._scheduleHandleId;var t=e._scheduleHandleId;e._get("updating")||e._set("updating",!0),e.addHandles((0,d.Os)((function(){t===e._scheduleHandleId&&(e._set("updating",e._pendingPromises.size>0),e.removeHandles(f))})),f)}}}]),n}(s.default);(0,l._)([(0,p.Cb)({readOnly:!0})],h.prototype,"updating",void 0),h=(0,l._)([(0,v.j)("esri.core.support.UpdatingHandles")],h);var f=-42},42137:function(e,t,n){n.d(t,{Z:function(){return C}});var o,r=n(1413),i=n(15671),a=n(43144),l=n(88301),s=n(61120),u=n(60136),c=n(29388),d=n(27366),p=n(68860),v=n(49861),h=(n(93169),n(32718),n(84936),n(69912)),f=n(83448),y=n(848),g=n(80885),m=n(78952),_=n(15559),b=n(81753),w=n(89093),k=o=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).center=null,e.geodesic=!1,e.numberOfPoints=60,e.radius=1e3,e.radiusUnit="meters",e}return(0,a.Z)(n,[{key:"normalizeCtorArgs",value:function(e,t){var o;if(null!==e&&void 0!==e&&e.center)o=e;else{if(null!==e&&void 0!==e&&e.rings)return(0,l.Z)((0,s.Z)(n.prototype),"normalizeCtorArgs",this).call(this,e,t);o={center:e}}return(0,r.Z)((0,r.Z)((0,r.Z)({},(0,l.Z)((0,s.Z)(n.prototype),"normalizeCtorArgs",this).call(this)),o),t)}},{key:"initialize",value:function(){var e,t=this.center,n=this.numberOfPoints;if(this.hasZ=null!==(e=null===t||void 0===t?void 0:t.hasZ)&&void 0!==e&&e,0===this.rings.length&&t){var o,r=(0,p.En)(this.radius,this.radiusUnit,"meters"),i=t.spatialReference,a="geographic";if(i.isWebMercator?a="webMercator":(null!=(i.wkid&&w.Z[i.wkid])||(i.wkt2||i.wkt)&&(0,p.s_)(i.wkt2||i.wkt))&&(a="projected"),this.geodesic){var l;switch(a){case"webMercator":l=(0,b.Sx)(t);break;case"projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");break;case"geographic":l=t}o=this._createGeodesicCircle(l,r,n),"webMercator"===a&&(o=(0,b.$)(o))}else{var s;"webMercator"===a||"projected"===a?s=r/(0,p.Z7)(t.spatialReference):"geographic"===a&&(s=(0,p.ty)(r,"meters",(0,f.Iu)(t.spatialReference).radius)),o=this._createPlanarCircle(t,s,n)}this.spatialReference=o.spatialReference,this.addRing(o.rings[0])}}},{key:"clone",value:function(){var e=this.center,t=this.numberOfPoints,n=this.radius,r=this.radiusUnit,i=this.geodesic;return new o({center:null===e||void 0===e?void 0:e.clone(),numberOfPoints:t,radius:n,radiusUnit:r,geodesic:i})}},{key:"_createGeodesicCircle",value:function(e,t,n){for(var o=0,r=[];o<360;){var i=[0,0],a=[e.x,e.y];(0,_.TB)(i,a,o,t,m.Z.WGS84),this.hasZ&&i.push(e.z),r.push(i),o+=360/n}return r.push(r[0]),new g.Z(r)}},{key:"_createPlanarCircle",value:function(e,t,n){for(var o=[],r=2*Math.PI/n,i=0;i<n;++i){var a=r*i,l=[e.x+Math.cos(-a)*t,e.y+Math.sin(-a)*t];this.hasZ&&l.push(e.z),o.push(l)}return o.push(o[0]),new g.Z({spatialReference:e.spatialReference,rings:[o]})}}]),n}(g.Z);(0,d._)([(0,v.Cb)({type:y.Z})],k.prototype,"center",void 0),(0,d._)([(0,v.Cb)()],k.prototype,"geodesic",void 0),(0,d._)([(0,v.Cb)()],k.prototype,"numberOfPoints",void 0),(0,d._)([(0,v.Cb)()],k.prototype,"radius",void 0),(0,d._)([(0,v.Cb)()],k.prototype,"radiusUnit",void 0);var C=k=o=(0,d._)([(0,h.j)("esri.geometry.Circle")],k)},8623:function(e,t,n){n.d(t,{Z:function(){return h}});var o=n(43144),r=n(15671),i=n(60136),a=n(29388),l=n(27366),s=n(11582),u=n(46784),c=n(49861),d=(n(93169),n(32718),n(84936),n(27135)),p=n(69912),v=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e){var o;return(0,r.Z)(this,n),(o=t.call(this,e)).type="georeferenced",o.origin=null,o}return(0,o.Z)(n)}((0,s.J)(u.wq));(0,l._)([(0,d.J)({georeferenced:"georeferenced"},{readOnly:!0})],v.prototype,"type",void 0),(0,l._)([(0,c.Cb)({type:[Number],nonNullable:!1,json:{write:!0}})],v.prototype,"origin",void 0);var h=v=(0,l._)([(0,p.j)("esri.geometry.support.MeshGeoreferencedVertexSpace")],v)},50250:function(e,t,n){n.d(t,{Z:function(){return f}});var o=n(43144),r=n(15671),i=n(60136),a=n(29388),l=n(27366),s=n(11582),u=n(46784),c=n(49861),d=(n(93169),n(32718),n(84936),n(27135)),p=n(69912),v=n(12400),h=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e){var o;return(0,r.Z)(this,n),(o=t.call(this,e)).type="local",o.origin=(0,v.Ue)(),o}return(0,o.Z)(n)}((0,s.J)(u.wq));(0,l._)([(0,d.J)({local:"local"},{readOnly:!0})],h.prototype,"type",void 0),(0,l._)([(0,c.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],h.prototype,"origin",void 0);var f=h=(0,l._)([(0,p.j)("esri.geometry.support.MeshLocalVertexSpace")],h)},69048:function(e,t,n){n.d(t,{G7:function(){return f},QK:function(){return v},rU:function(){return h},vI:function(){return y},z1:function(){return d},zZ:function(){return p}});var o=n(29439),r=n(44927),i=n(32718),a=n(32035),l=n(848),s=n(8623),u=n(50250);function c(){return i.Z.getLogger("esri.geometry.Mesh")}function d(e){return!p(e)}function p(e){return null!=e.origin}function v(e){return p(e.vertexSpace)}function h(e,t){if(!p(e))return null;var n=(0,o.Z)(e.origin,3),r=n[0],i=n[1],a=n[2];return new l.Z({x:r,y:i,z:a,spatialReference:t})}function f(e,t){var n,o,i=e.x,a=e.y,l=e.z,d=e.spatialReference,p=[i,a,null!==l&&void 0!==l?l:0];return void 0!==(null===t||void 0===t?void 0:t.geographic)&&((0,r.x9)(c(),"option: geographic",{replacement:"Use the `vertexSpace` option instead.",version:"4.29",warnOnce:!0}),t.vertexSpace&&c().warn("Deprecated geographic flag ignored since vertexSpace option is provided.")),"local"===(null!==(n=null!==(o=null===t||void 0===t?void 0:t.vertexSpace)&&void 0!==o?o:function(e){return null==e?void 0:e?"local":"georeferenced"}(null===t||void 0===t?void 0:t.geographic))&&void 0!==n?n:function(e){return e.isGeographic||e.isWebMercator?"local":"georeferenced"}(d))?new u.Z({origin:p}):new s.Z({origin:p})}function y(e,t){return e.type===t.type&&(e.origin===t.origin||null!=e.origin&&null!=t.origin&&(0,a.e)(e.origin,t.origin))}},70178:function(e,t,n){n.d(t,{Fz:function(){return s},fS:function(){return c},kg:function(){return l}});n(93169);var o=n(16889),r=n(92975);function i(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var o=e[n],r=t[n];if(o.length!==r.length)return!1;for(var i=0;i<o.length;i++)if(o[i]!==r[i])return!1}return!0}function a(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!i(e[n],t[n]))return!1;return!0}function l(e,t){return e===t||null!=e&&null!=t&&(0,r.fS)(e.spatialReference,t.spatialReference)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.m===t.m}function s(e,t,n){var i,a,l,s;return e===t||null!=e&&null!=t&&(0,r.fS)(e.spatialReference,t.spatialReference)&&(0,o.W8)(e.x,t.x,n)&&(0,o.W8)(e.y,t.y,n)&&(0,o.W8)(null!==(i=e.z)&&void 0!==i?i:0,null!==(a=t.z)&&void 0!==a?a:0,n)&&(0,o.W8)(null!==(l=e.m)&&void 0!==l?l:0,null!==(s=t.m)&&void 0!==s?s:0,n)}function u(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.type!==t.type)return!1;switch(e.type){case"point":return l(e,t);case"extent":return function(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&!!(0,r.fS)(e.spatialReference,t.spatialReference)&&e.xmin===t.xmin&&e.ymin===t.ymin&&e.zmin===t.zmin&&e.xmax===t.xmax&&e.ymax===t.ymax&&e.zmax===t.zmax}(e,t);case"polyline":return function(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&!!(0,r.fS)(e.spatialReference,t.spatialReference)&&a(e.paths,t.paths)}(e,t);case"polygon":return function(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&!!(0,r.fS)(e.spatialReference,t.spatialReference)&&a(e.rings,t.rings)}(e,t);case"multipoint":return function(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&!!(0,r.fS)(e.spatialReference,t.spatialReference)&&i(e.points,t.points)}(e,t);case"mesh":return!1;default:return}}function c(e,t){return e===t||null!=e&&null!=t&&e.objectId===t.objectId&&!!u(e.geometry,t.geometry)&&!!function(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var r=0,i=n;r<i.length;r++){var a=i[r];if(e[a]!==t[a])return!1}return!0}(e.attributes,t.attributes)}},37818:function(e,t,n){n.d(t,{D:function(){return m},Ou:function(){return c},WG:function(){return g},kB:function(){return v},mW:function(){return p}});var o=n(37762),r=(n(59486),n(52639)),i=(n(93169),n(84652)),a=n(18722),l=n(77981),s=n(55946),u=n(78952);function c(e){return"declaredClass"in e}function d(e){return"declaredClass"in e}function p(e,t){return e?function(e){return"declaredClass"in e}(e)?e:new r.Z({layer:t,sourceLayer:t,visible:e.visible,symbol:(0,i.d9)(e.symbol),attributes:(0,i.d9)(e.attributes),geometry:v(e.geometry)}):null}function v(e){return null==e?null:c(e)?e:(0,l.im)(function(e){var t=e.spatialReference,n=t.wkid,o=t.wkt,r=t.wkt2,i=t.latestWkid,a={wkid:n,wkt:o,wkt2:r,latestWkid:i};switch(e.type){case"point":return{x:e.x,y:e.y,z:e.z,m:e.m,spatialReference:a};case"polygon":var l=e.rings,s=e.hasZ,u=e.hasM;return{rings:h(l),hasZ:s,hasM:u,spatialReference:a};case"polyline":var c=e.paths,d=e.hasZ,p=e.hasM;return{paths:h(c),hasZ:d,hasM:p,spatialReference:a};case"extent":return{xmin:e.xmin,xmax:e.xmax,ymin:e.ymin,ymax:e.ymax,zmin:e.zmin,zmax:e.zmax,mmin:e.mmin,mmax:e.mmax,hasZ:e.hasZ,hasM:e.hasM,spatialReference:a};case"multipoint":var v=e.points,g=e.hasZ,m=e.hasM;return{points:y(v)?f(v):v,hasZ:g,hasM:m,spatialReference:a};default:return}}(e))}function h(e){return function(e){var t,n=(0,o.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(0!==r.length)return y(r)}}catch(i){n.e(i)}finally{n.f()}return!1}(e)?e.map((function(e){return f(e)})):e}function f(e){return e.map((function(e){return Array.from(e)}))}function y(e){return e.length>0&&((0,a.xZ)(e[0])||(0,a.fS)(e[0]))}function g(e,t){if(!e)return null;var n;if(d(e)){if(null==t)return e.clone();if(d(t))return t.copy(e)}return null!=t?((n=t).x=e.x,n.y=e.y,n.spatialReference=e.spatialReference,e.hasZ?(n.z=e.z,n.hasZ=e.hasZ):(n.z=void 0,n.hasZ=!1),e.hasM?(n.m=e.m,n.hasM=!0):(n.m=void 0,n.hasM=!1)):(n=(0,s.T)(e.x,e.y,e.z,e.spatialReference),e.hasM&&(n.m=e.m,n.hasM=!0)),n}function m(e){var t={wkid:e.wkid,wkt:e.wkt,wkt2:e.wkt2,latestWkid:e.latestWkid};return u.Z.fromJSON(t)}},58845:function(e,t,n){n.d(t,{DF:function(){return _},MC:function(){return k},Nv:function(){return m},n_:function(){return S},p:function(){return b},y:function(){return O},yL:function(){return w}});n(59486);var o=n(63780),r=n(84652),i=n(68860),a=n(32035),l=n(12400),s=n(42137),u=n(2170),c=n(69662),d=n(92975),p=n(3826),v=n(848),h=n(77577),f=n(29909),y=n(80885);function g(e,t){var n=new v.Z({x:e[0],y:e[1],spatialReference:t});return e.length>2&&(n.z=e[2]),n}function m(e,t){return new h.Z({points:e,spatialReference:t})}function _(e,t,n){var o=new f.Z({paths:e,spatialReference:t});return n&&(0,c.nc)(o),o}function b(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=(0,r.d9)(e);a.forEach((function(e){var t=e[0],n=e[e.length-1];(0,o.fS)(t,n)&&1!==e.length||e.push(e[0])}));var l=new y.Z({rings:a,spatialReference:t});return l.rings.forEach((function(e){(0,c.bu)(e)||e.reverse()})),n&&(0,c.nc)(l),i&&l.isSelfIntersecting&&(0,d.JY)(t)&&(l=(0,u.simplify)(l)),l}function w(e,t,n){var r=t.mapToLocalMultiple(e),i=[],a={x:r[0].x,y:r[0].y},l=r[1].x,s=r[1].y,u=Math.round(l-a.x),c=Math.round(s-a.y),d=Math.max(Math.abs(u),Math.abs(c));if(n){var v={x:a.x+d,y:a.y+d},h={x:a.x-d,y:a.y-d};i.push((0,p.Q8)(v.x,h.y),(0,p.Q8)(h.x,h.y),(0,p.Q8)(h.x,v.y),(0,p.Q8)(v.x,v.y))}else{var f={x:u>0?a.x+d:a.x-d,y:c>0?a.y+d:a.y-d};i.push((0,p.Q8)(a.x,a.y),(0,p.Q8)(f.x,a.y),(0,p.Q8)(f.x,f.y),(0,p.Q8)(a.x,f.y))}return C(b([i.map((function(e){return t.localToMap(e)})).filter(o.pC)],t.spatialReference,t.doUnnormalization,!0),i,t)}function k(e,t,n){var r=t.mapToLocalMultiple(e);if(1===r.length){var i=48,a=r[0];r=[(0,p.Q8)(a.x-i,a.y+i),(0,p.Q8)(a.x+i,a.y-i),(0,p.Q8)(a.x+i,a.y-i),(0,p.Q8)(a.x-i,a.y+i)]}var l=[],s={x:r[0].x,y:r[0].y},u={x:r[1].x,y:r[1].y};if(n){var c=Math.round(u.x-s.x),d=Math.round(u.y-s.y);l.push((0,p.Q8)(s.x-c,s.y-d),(0,p.Q8)(u.x,s.y-d),(0,p.Q8)(u.x,u.y),(0,p.Q8)(s.x-c,u.y))}else l.push((0,p.Q8)(s.x,s.y),(0,p.Q8)(u.x,s.y),(0,p.Q8)(u.x,u.y),(0,p.Q8)(s.x,u.y));return C(b([l.map((function(e){return t.localToMap(e)})).filter(o.pC)],t.spatialReference,t.doUnnormalization,!0),l,t)}function C(e,t,n){var o=M(t[3],t[2],n),r=M(t[1],t[2],n),i=M(t[0],t[1],n),a=M(t[0],t[3],n);return{geometry:e,midpoints:null!=o&&null!=r&&null!=i&&null!=a?{top:o,right:r,bottom:i,left:a}:null}}function M(e,t,n){T[0]=e.x,T[1]=e.y,T[2]=0,x[0]=t.x,x[1]=t.y,x[2]=0,(0,a.o)(T,T,x,.5),Z.x=T[0],Z.y=x[1],Z.z=x[2];var o=n.localToMap(Z);return null!=o?g(o,n.spatialReference):null}var Z=(0,p.Q8)(0,0,0),T=(0,l.Ue)(),x=(0,l.Ue)();function O(e,t,n,o){var r=t.mapToLocalMultiple(e),a=null,l=null;if(n)a=r[0],l=r[1];else{var v=r[0],h=r[1],f=Math.round(h.x-v.x),y=Math.round(h.y-v.y),m=Math.max(Math.abs(f),Math.abs(y));a=(0,p.Q8)(f>0?v.x+m/2:v.x-m/2,y>0?v.y+m/2:v.y-m/2),l=(0,p.Q8)(Math.abs(f)>Math.abs(y)?a.x-m/2:a.x,Math.abs(f)>Math.abs(y)?a.y:a.y-m/2)}var _=t.localToMap(a),w=t.localToMap(l);if(null==_||null==w)return null;t.doUnnormalization&&(0,c.Sq)([[_,w]],t.spatialReference);var k=g(_,t.spatialReference),C=g(w,t.spatialReference),M=(0,i.c9)(t.spatialReference),Z=0;if((0,d.JY)(t.spatialReference))Z=M*(0,u.distance)(k,C,null);else{var T=a.x-l.x,x=a.y-l.y;Z=M*Math.sqrt(T*T+x*x)*(o||1)}var O=new s.Z({center:k,radius:Z,radiusUnit:"meters",spatialReference:t.spatialReference});return{geometry:b(O.rings,O.spatialReference,!1),center:k,edge:C}}function S(e,t,n){var r=t.mapToLocalMultiple(e),i=r[0],a=r[1],l=Math.round(a.x-i.x),s=Math.round(a.y-i.y),u=(0,p.Q8)(n?i.x:i.x+l/2,n?i.y:i.y+s/2),c=n?l:l/2,d=n?s:s/2,v=[],h=2*Math.PI/60;function f(e){var t=Math.cos(e),n=Math.sin(e);return(0,p.Q8)(c*t+u.x,d*n+u.y)}for(var y=0;y<60;y++)v.push(f(y*h));v.push(v[0]);var m=t.spatialReference,_=t.doUnnormalization,w=b([v.map((function(e){return t.localToMap(e)})).filter(o.pC)],m,_,!1),k=t.localToMap(f(Math.PI/2)),C=t.localToMap(f(0)),M=t.localToMap(f(-Math.PI/2)),Z=t.localToMap(f(Math.PI));return{geometry:w,midpoints:null!=k&&null!=C&&null!=M&&null!=Z?{top:g(k,m),right:g(C,m),bottom:g(M,m),left:g(Z,m)}:null}}},99034:function(e,t,n){var o,r,i;n.d(t,{Q9:function(){return r},bH:function(){return o},jg:function(){return i}}),function(e){e[e.USER=0]="USER",e[e.MANAGER=1]="MANAGER"}(o||(o={})),function(e){e[e.None=0]="None",e[e.Unfocused=1]="Unfocused",e[e.Focused=2]="Focused",e[e.Unselected=4]="Unselected",e[e.Selected=8]="Selected",e[e.All=15]="All"}(r||(r={})),function(e){e[e.None=0]="None",e[e.Custom1=16]="Custom1",e[e.Custom2=32]="Custom2",e[e.Custom3=64]="Custom3",e[e.Custom4=128]="Custom4",e[e.Custom5=256]="Custom5",e[e.Custom6=512]="Custom6",e[e.Custom7=1024]="Custom7",e[e.Custom8=2048]="Custom8",e[e.Custom9=4096]="Custom9",e[e.Custom10=8192]="Custom10",e[e.Custom11=16384]="Custom11",e[e.Custom12=32768]="Custom12",e[e.All=65520]="All"}(i||(i={}))},16068:function(e,t,n){n.r(t),n.d(t,{default:function(){return Je}});var o=n(1413),r=n(4942),i=n(15671),a=n(43144),l=n(97326),s=n(60136),u=n(29388),c=n(27366),d=(n(59166),n(42537)),p=n(92026),v=n(66978),h=n(94172),f=n(49861),y=(n(93169),n(32718)),g=(n(84936),n(69912)),m=n(47863),_=n(33565),b=n(40763),w=n(7138),k=n(48346),C=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var o;return(0,i.Z)(this,n),(o=t.call(this,e)).point=!0,o.polyline=!0,o.polygon=!0,o.rectangle=!0,o.circle=!0,o.multipoint=!0,o.mesh=!0,o}return(0,a.Z)(n)}(w.default);(0,c._)([(0,f.Cb)({type:Boolean,nonNullable:!0})],C.prototype,"point",void 0),(0,c._)([(0,f.Cb)({type:Boolean,nonNullable:!0})],C.prototype,"polyline",void 0),(0,c._)([(0,f.Cb)({type:Boolean,nonNullable:!0})],C.prototype,"polygon",void 0),(0,c._)([(0,f.Cb)({type:Boolean,nonNullable:!0})],C.prototype,"rectangle",void 0),(0,c._)([(0,f.Cb)({type:Boolean,nonNullable:!0})],C.prototype,"circle",void 0),(0,c._)([(0,f.Cb)({type:Boolean,nonNullable:!0})],C.prototype,"multipoint",void 0),(0,c._)([(0,f.Cb)({type:Boolean,nonNullable:!0})],C.prototype,"mesh",void 0),C=(0,c._)([(0,g.j)("esri.widgets.Sketch.VisibleElements.CreateToolVisibilityMap")],C);var M=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var o;return(0,i.Z)(this,n),(o=t.call(this,e))["rectangle-selection"]=!0,o["lasso-selection"]=!0,o["custom-selection"]=!0,o}return(0,a.Z)(n)}(w.default);(0,c._)([(0,f.Cb)({nonNullable:!0})],M.prototype,"rectangle-selection",void 0),(0,c._)([(0,f.Cb)({nonNullable:!0})],M.prototype,"lasso-selection",void 0),(0,c._)([(0,f.Cb)({nonNullable:!0})],M.prototype,"custom-selection",void 0),M=(0,c._)([(0,g.j)("esri.widgets.Sketch.VisibleElements.SelectionToolVisibilityMap")],M);var Z=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var o;return(0,i.Z)(this,n),(o=t.call(this,e)).createTools=new C,o.directionModePicker=!1,o.duplicateButton=!0,o.labelsToggle=!0,o.selectionTools=new M,o.settingsMenu=!0,o.snappingControls=!0,o.snappingControlsElements=new k.Z,o.tooltipsToggle=!0,o.undoRedoMenu=!0,o}return(0,a.Z)(n)}(w.default);(0,c._)([(0,f.Cb)({type:C,nonNullable:!0})],Z.prototype,"createTools",void 0),(0,c._)([(0,f.Cb)({type:Boolean,nonNullable:!0})],Z.prototype,"directionModePicker",void 0),(0,c._)([(0,f.Cb)({type:Boolean,nonNullable:!0})],Z.prototype,"duplicateButton",void 0),(0,c._)([(0,f.Cb)({type:Boolean,nonNullable:!0})],Z.prototype,"labelsToggle",void 0),(0,c._)([(0,f.Cb)({type:M,nonNullable:!0})],Z.prototype,"selectionTools",void 0),(0,c._)([(0,f.Cb)({type:Boolean,nonNullable:!0})],Z.prototype,"settingsMenu",void 0),(0,c._)([(0,f.Cb)({type:Boolean,nonNullable:!0})],Z.prototype,"snappingControls",void 0),(0,c._)([(0,f.Cb)({type:k.Z,nonNullable:!0})],Z.prototype,"snappingControlsElements",void 0),(0,c._)([(0,f.Cb)({type:Boolean,nonNullable:!0})],Z.prototype,"tooltipsToggle",void 0),(0,c._)([(0,f.Cb)({type:Boolean,nonNullable:!0})],Z.prototype,"undoRedoMenu",void 0);var T=Z=(0,c._)([(0,g.j)("esri.widgets.Sketch.VisibleElements")],Z),x=n(8905),O=n(7021),S=n(44927),R=n(89125),A=n(80975),I=n(80532),z=n(67005),U=n(91505),H=n(37933),P=n(83089),B=n(69787),N=n(29439),E=n(74165),G=n(15861),j=(n(59486),n(14921)),D=n(80987),L=n(17842),Q=n(69662),W=n(55364),F=n(66038),V=n(46640),q=n(58845),J=n(3826),X=n(45900),Y=n(37762),K=n(65156),$=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var o;return(0,i.Z)(this,n),(o=t.call(this,e)).coordinates=void 0,o.strokeDash=[],o.strokeWidth=1,o.strokeColor=[0,0,0,1],o.strokeDashColor=[255,255,255,1],o.fillColor=[0,0,0,0],o.visible=!0,o.isDecoration=!0,o}return(0,a.Z)(n,[{key:"_strokeStyle",get:function(){var e=this.strokeColor;return"rgba(".concat(e[0],", ").concat(e[1],", ").concat(e[2],", ").concat(e[3],")")}},{key:"_strokeBackgroundStyle",get:function(){var e=this.strokeDashColor;return"rgba(".concat(e[0],", ").concat(e[1],", ").concat(e[2],", ").concat(e[3],")")}},{key:"_fillStyle",get:function(){var e=this.fillColor;return"rgba(".concat(e[0],", ").concat(e[1],", ").concat(e[2],", ").concat(e[3],")")}},{key:"_renderCoordinates",get:function(){var e=[];if(!this.coordinates)return{coordinates:e,rect:K.G_};var t=(0,K.vk)((0,K.Wi)((0,K.Ue)(K.G_),this.coordinates),2*this.strokeWidth);t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]+.5),t[3]=Math.ceil(t[3]+.5);var n,o=(0,Y.Z)(this.coordinates);try{for(o.s();!(n=o.n()).done;){var r=n.value;e.push([Math.floor(r[0]-t[0])+.5,Math.floor(r[1]-t[1])+.5])}}catch(i){o.e(i)}finally{o.f()}return e.reverse(),{coordinates:e,rect:t}}},{key:"render",value:function(){var e=this._renderCoordinates,t=e.coordinates,n=e.rect,o=(0,K.d_)(n),r=(0,K.Cb)(n);return(0,z.u)("div",{classes:{"esri-outline-overlay-item":!0},styles:{left:n[0]+"px",top:n[1]+"px",width:o+"px",height:r+"px",visibility:this.visible?"visible":"hidden"}},(0,z.u)("svg",{height:r,styles:{display:"block"},width:o},(0,z.u)("polygon",{fill:this._fillStyle,points:t.map((function(e){var t=(0,N.Z)(e,2),n=t[0],o=t[1];return"".concat(n,",").concat(o)})).join(" "),stroke:this._strokeBackgroundStyle,"stroke-width":this.strokeWidth}),(0,z.u)("polygon",{fill:"transparent",points:t.map((function(e){var t=(0,N.Z)(e,2),n=t[0],o=t[1];return"".concat(n,",").concat(o)})).join(" "),stroke:this._strokeStyle,"stroke-dasharray":this.strokeDash.length?this.strokeDash.join(" "):void 0,"stroke-width":this.strokeWidth})))}},{key:"renderCanvas",value:function(){}}]),n}(w.default);(0,c._)([(0,f.Cb)()],$.prototype,"coordinates",void 0),(0,c._)([(0,f.Cb)()],$.prototype,"strokeDash",void 0),(0,c._)([(0,f.Cb)()],$.prototype,"strokeWidth",void 0),(0,c._)([(0,f.Cb)()],$.prototype,"strokeColor",void 0),(0,c._)([(0,f.Cb)()],$.prototype,"strokeDashColor",void 0),(0,c._)([(0,f.Cb)()],$.prototype,"fillColor",void 0),(0,c._)([(0,f.Cb)()],$.prototype,"visible",void 0),(0,c._)([(0,f.Cb)()],$.prototype,"isDecoration",void 0),(0,c._)([(0,f.Cb)({readOnly:!0})],$.prototype,"_strokeStyle",null),(0,c._)([(0,f.Cb)({readOnly:!0})],$.prototype,"_strokeBackgroundStyle",null),(0,c._)([(0,f.Cb)({readOnly:!0})],$.prototype,"_fillStyle",null),(0,c._)([(0,f.Cb)({readOnly:!0})],$.prototype,"_renderCoordinates",null);var ee=$=(0,c._)([(0,g.j)("esri.views.overlay.OutlineOverlayItem")],$),te=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var o;return(0,i.Z)(this,n),(o=t.call(this,e))._overlayItem=void 0,o.geometryType=null,o.mode=null,o.type="draw-screen",o}return(0,a.Z)(n,[{key:"initialize",value:function(){var e=this;this.drawOperation=this._makeDrawOperation();var t=function(t){return e.drawOperation.on(t,(function(n){e._updateVisuals(),e.emit(t,n)}))};this.addHandles([t("vertex-add"),t("vertex-remove"),t("vertex-update"),t("cursor-update"),t("complete")]),this.finishToolCreation()}},{key:"destroy",value:function(){this.drawOperation=(0,p.SC)(this.drawOperation),this._set("view",null)}},{key:"canRedo",get:function(){return this.drawOperation.canRedo}},{key:"canUndo",get:function(){return this.drawOperation.canUndo}},{key:"centeredToggled",set:function(e){this._set("centeredToggled",e),this._updateVisuals()}},{key:"enabled",set:function(e){this.drawOperation.interactive=e,this._set("enabled",e)}},{key:"uniformSizeToggled",set:function(e){this._set("uniformSizeToggled",e),this._updateVisuals()}},{key:"updating",get:function(){var e,t;return null!==(e=null===(t=this.drawOperation)||void 0===t?void 0:t.updating)&&void 0!==e&&e}},{key:"cursor",get:function(){return"point"===this.geometryType?"default":"crosshair"}},{key:"completeCreateOperation",value:function(){this.drawOperation.complete()}},{key:"onInputEvent",value:function(e){this.destroyed||this.drawOperation.onInputEvent(e)}},{key:"redo",value:function(){this.drawOperation.redo()}},{key:"undo",value:function(){this.drawOperation.undo()}},{key:"reset",value:function(){}},{key:"_makeDrawOperation",value:function(){var e=this.view;return new F.wW({view:e,manipulators:this.manipulators,geometryType:ne(this.geometryType),drawingMode:this.mode,hasZ:!1,defaultZ:0,snapToSceneEnabled:!1,drawSurface:new V.$c,hasM:!1,snappingManager:null,snappingVisualizer:null,graphic:null,cursor:this.cursor})}},{key:"coordinates",get:function(){var e=this.drawOperation;if(null===e||void 0===e||!e.geometryIncludingUncommittedVertices.length)return[];var t=e.coordinateHelper,n=e.committableVertex,o=e.committedVertices.slice();null!=n&&o.push(t.pointToArray(n));var r=o.length;switch(this.geometryType){case"circle":case"rectangle":var i=new J.kq(W.Wd,V.$c.spatialReference),a="circle"===this.geometryType?q.y:q.yL,l="circle"===this.geometryType?q.n_:q.MC;if(1===r&&e.isCompleted){var s,u,c=o[0];return null!==(s=null===(u=a([c,i.makeMapPoint(c[0]+oe,c[1])],i,!0))||void 0===u?void 0:u.geometry.rings[0])&&void 0!==s?s:[]}if(2===r){var d,p,v,h="rectangle"!==this.geometryType,f=this.centeredToggled!==h,y="rectangle"!==this.geometryType;return null!==(d=this.uniformSizeToggled!==y?null===(p=a(o,i,f))||void 0===p?void 0:p.geometry.rings[0]:null===(v=l(o,i,f))||void 0===v?void 0:v.geometry.rings[0])&&void 0!==d?d:[]}return[]}return o}},{key:"_updateVisuals",value:function(){var e=this;if(!this._overlayItem){var t,n=new ee({strokeDash:[5],strokeDashColor:[255,255,255,255]});null!==(t=this.view.overlay)&&void 0!==t&&t.addItem(n),this.addHandles((0,d.kB)((function(){var t;null!==(t=e.view.overlay)&&void 0!==t&&t.removeItem(n),null!==n&&void 0!==n&&n.destroy(),e._overlayItem=void 0}))),this._overlayItem=n}this._overlayItem.coordinates=this.coordinates}},{key:"onDeactivate",value:function(){this.drawOperation.isCompleted||this.drawOperation.cancel()}}]),n}(U.Z.EventedMixin(X.m));function ne(e){switch(e){case"polygon":case"point":return e;case"circle":case"rectangle":return"segment"}}(0,c._)([(0,f.Cb)({value:!1})],te.prototype,"centeredToggled",null),(0,c._)([(0,f.Cb)()],te.prototype,"drawOperation",void 0),(0,c._)([(0,f.Cb)({value:!0})],te.prototype,"enabled",null),(0,c._)([(0,f.Cb)({value:!1})],te.prototype,"uniformSizeToggled",null),(0,c._)([(0,f.Cb)({constructOnly:!0})],te.prototype,"geometryType",void 0),(0,c._)([(0,f.Cb)({constructOnly:!0})],te.prototype,"mode",void 0),(0,c._)([(0,f.Cb)({readOnly:!0})],te.prototype,"type",void 0),(0,c._)([(0,f.Cb)({readOnly:!0})],te.prototype,"updating",null),(0,c._)([(0,f.Cb)({constructOnly:!0,nonNullable:!0})],te.prototype,"view",void 0),(0,c._)([(0,f.Cb)()],te.prototype,"cursor",null),te=(0,c._)([(0,g.j)("esri.views.draw.DrawScreenTool")],te);var oe=48,re=n(87888),ie=n(93433),ae=n(37270),le=n(96669),se=n(45008);function ue(){return ce.apply(this,arguments)}function ce(){return(ce=(0,G.Z)((0,E.Z)().mark((function e(){return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.e(63645).then(n.bind(n,50309)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return pe.apply(this,arguments)}function pe(){return(pe=(0,G.Z)((0,E.Z)().mark((function e(){return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ue().then((function(e){return{contains:e.contains,intersects:e.intersects,overlaps:e.overlaps,simplify:e.simplify}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e){return he.apply(this,arguments)}function he(){return he=(0,G.Z)((0,E.Z)().mark((function e(t){var n,o,r,i,a,l,s,u,c,d,p,h,f;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.currentSelection,o=t.selector,r=t.signal,i=t.sources,a=t.view,null!==i&&void 0!==i&&i.length){e.next=3;break}return e.abrupt("return",{added:[],removed:[]});case 3:return l=_e(i),s=l.layers,u=l.layerViews,c=l.graphicsLayers,e.next=9,(0,v.Hl)(Promise.all([ye(o,s,a,r),ge(o,u,a,r),fe(o,c,a)]),r);case 9:if(d=e.sent.flat(),n){e.next=12;break}return e.abrupt("return",{added:d,removed:[]});case 12:return p=n.toArray(),h=d.filter((function(e){return!be(p,e)})),f=p.filter((function(e){return!be(d,e)})),e.abrupt("return",(n.removeMany(f),n.addMany(h),{added:h,removed:f}));case 14:case"end":return e.stop()}}),e)}))),he.apply(this,arguments)}var fe=function(){var e=(0,G.Z)((0,E.Z)().mark((function e(t,n,o){var r;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xe({candidates:null!==(r=n.flatMap((function(e){return e.graphics.toArray()})))&&void 0!==r?r:[],selector:t,view:o}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}(),ye=function(){var e=(0,G.Z)((0,E.Z)().mark((function e(t,n,o,r){var i;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.R8)(Ce({selector:t,signal:r,layers:n,view:o}));case 2:return i=e.sent,e.abrupt("return",i?me(i):[]);case 4:case"end":return e.stop()}}),e)})));return function(t,n,o,r){return e.apply(this,arguments)}}(),ge=function(){var e=(0,G.Z)((0,E.Z)().mark((function e(t,n,o,r){var i;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.R8)(we({selector:t,signal:r,layerViews:n,view:o}));case 2:return i=e.sent,e.abrupt("return",i?me(i):[]);case 4:case"end":return e.stop()}}),e)})));return function(t,n,o,r){return e.apply(this,arguments)}}();function me(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];"fulfilled"===o.status&&t.push.apply(t,(0,ie.Z)(o.value))}return t}function _e(e){var t=[],n=[],o=[];return e.forEach((function(e){var r,i;(0,H.Te)(e)?t.push(e):((0,H.Q2)(e)||(0,H.Ux)(e))&&null!==(r=e.layers)&&void 0!==r&&r.length?t.push.apply(t,(0,ie.Z)(e.layers.toArray())):(0,H.aw)(e)&&null!==(i=e.sublayers)&&void 0!==i&&i.length?o.push.apply(o,(0,ie.Z)(e.sublayers.toArray())):(0,H.ik)(e)?o.push(e):(0,B.Xi)(e)&&n.push(e)})),{layers:t,layerViews:n,graphicsLayers:o}}function be(e,t){if(e.includes(t))return!0;var n=t.getObjectId(),o=null!=n,r=t.layer,i=t.uid;return o?e.some((function(e){if(r===e.layer)return n===e.getObjectId()})):e.some((function(e){if(r===e.layer)return i===e.uid}))}function we(e){return ke.apply(this,arguments)}function ke(){return ke=(0,G.Z)((0,E.Z)().mark((function e(t){var n,o,r,i;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.layerViews,o=t.selector,r=t.signal,i=t.view,e.abrupt("return",(0,v.Hl)(Promise.allSettled(n.map(function(){var e=(0,G.Z)((0,E.Z)().mark((function e(t){var n,a,l;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.createQuery(),a=Ze(o,t.layer,i),l=a.geometry,e.abrupt("return",(n.outFields=["*"],n.geometry=l,n.returnGeometry=!0,n.outSpatialReference=i.spatialReference,t.queryFeatures(n,{signal:r}).then((function(e){return e.features}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),r));case 2:case"end":return e.stop()}}),e)}))),ke.apply(this,arguments)}function Ce(e){return Me.apply(this,arguments)}function Me(){return Me=(0,G.Z)((0,E.Z)().mark((function e(t){var n,o,r,i;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.layers,o=t.selector,r=t.signal,i=t.view,e.abrupt("return",(0,v.Hl)(Promise.allSettled(n.map(function(){var e=(0,G.Z)((0,E.Z)().mark((function e(t){return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.queryFeatures(Te(t.createQuery(),o,t,i),{signal:r}).then((function(e){return e.features})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),r));case 2:case"end":return e.stop()}}),e)}))),Me.apply(this,arguments)}function Ze(e,t,n){var o="displayField"in t?t.displayField:null,r=(0,ae.O5)({displayField:o,fields:t.fields}),i=[t.objectIdField];null!=r&&t.fieldsIndex.has(r)&&i.push(r);var a="renderer"in t?(0,le.k)({renderer:t.renderer}):0;return{geometry:"point"===e.type?(0,se.K)(e,a,n):e,outFields:i}}function Te(e,t,n,o){var r=Ze(t,n,o),i=r.outFields,a=r.geometry;return e.outFields=i,e.geometry=a,e.returnGeometry=!0,e.outSpatialReference=o.spatialReference,e}function xe(e){return Oe.apply(this,arguments)}function Oe(){return Oe=(0,G.Z)((0,E.Z)().mark((function e(t){var n,o,r,i,a,l;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.selector,o=t.candidates,r=t.view,null!==o&&void 0!==o&&o.length&&n){e.next=3;break}return e.abrupt("return",[]);case 3:return i=r.spatialReference,a=n,e.next=7,de();case 7:return l=e.sent,e.abrupt("return",o.filter((function(e){return l.intersects(i,a,e.geometry)})));case 9:case"end":return e.stop()}}),e)}))),Oe.apply(this,arguments)}var Se=n(848),Re=n(80885),Ae=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e))._processTask=null,r.options=null,r.selection=new D.Z,r.sources=null,r._process=(0,v.Ds)(function(){var e=(0,G.Z)((0,E.Z)().mark((function e(t,n){var i,a,s,u;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.callback,a=t.selector,s=t.completed,u=(0,j.vr)(function(){var e=(0,G.Z)((0,E.Z)().mark((function e(t){var n,u,c,d,p,v;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0,l.Z)(r),u=n.sources,c=n.selection,d=n.view,!(null!==u&&void 0!==u&&u.length||null!==d&&void 0!==d&&d.selectionManager.sources.length)||!d){e.next=10;break}if(!a||null==u){e.next=7;break}return e.next=5,ve({currentSelection:c,selector:a,signal:t,sources:u,view:d});case 5:v=e.sent,s&&(null===(p=d.selectionManager)||void 0===p||p.updateSelection((0,o.Z)({current:c.toArray()},v)));case 7:i&&i(),e.next=11;break;case 10:c.removeAll();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",((0,v.fu)(n,(function(){return u.abort()})),r._processTask=u,u.promise));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),100),r}return(0,a.Z)(n,[{key:"initialize",value:function(){this._setup()}},{key:"cancel",value:function(){var e;this.removeAllHandles(),null===(e=this._processTask)||void 0===e||e.abort()}},{key:"_setup",value:function(){var e=(0,G.Z)((0,E.Z)().mark((function e(){var t,n,o,r,i,a,l,s=this;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.view,e.next=3,o.whenReady();case 3:if(!this.destroyed){e.next=5;break}return e.abrupt("return");case 5:r=this.options,i=null!==(t=null===r||void 0===r?void 0:r.createTool)&&void 0!==t?t:"rectangle",a=null!==(n=null===r||void 0===r?void 0:r.mode)&&void 0!==n?n:"polygon"===i?"click":"hybrid",l=Symbol(),this._tool=new te({view:o,mode:a,geometryType:i}),null!==r&&void 0!==r&&r.selectOnComplete||this.addHandles(this._tool.on(["cursor-update","vertex-add","vertex-remove"],(function(){return(0,v.R8)(s._process({selector:s._selectionArea}))})),l),this.addHandles([o.on("key-down",(function(e){if(!e.repeat)switch(e.key){case re.Sn.constraint:s._tool.uniformSizeToggled=!0,e.stopPropagation();break;case re.Sn.center:s._tool.centeredToggled=!0,e.stopPropagation()}})),o.on("key-up",(function(e){switch(e.key){case re.Sn.constraint:s._tool.uniformSizeToggled=!1,e.stopPropagation();break;case re.Sn.center:s._tool.centeredToggled=!1,e.stopPropagation()}})),this._tool.on("complete",function(){var e=(0,G.Z)((0,E.Z)().mark((function e(t){var n;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.removeHandles(l),n=function(){s.removeAllHandles(),s.emit("complete",{aborted:t.aborted,selection:s.selection.toArray()})},!t.aborted){e.next=6;break}s.cancel(),s.selection.removeAll(),n(),e.next=8;break;case 6:return e.next=8,s._process({selector:s._selectionArea,callback:n,completed:!0});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())],l),this.addHandles((0,d.kB)((function(){return o.tools.remove(s._tool)}))),o.addAndActivateTool(this._tool);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_selectionArea",get:function(){var e=this,t=(0,L.vW)(),n=this._tool.coordinates,o=this.view.spatialReference,r=function(n){t.x=n[0],t.y=n[1];var o=e.view.toMap(t),r=o.x,i=o.y;return[r,i]};if(1===n.length){var i=r(n[0]),a=(0,N.Z)(i,2),l=a[0],s=a[1];return new Se.Z({x:l,y:s,spatialReference:o})}var u=this._tool.coordinates.map(r);if(0!==u.length)return(0,Q.bu)(u)||u.reverse(),new Re.Z({spatialReference:o,rings:[u]})}}]),n}(U.Z.EventedAccessor);(0,c._)([(0,f.Cb)()],Ae.prototype,"options",void 0),(0,c._)([(0,f.Cb)({readOnly:!0})],Ae.prototype,"selection",void 0),(0,c._)([(0,f.Cb)()],Ae.prototype,"sources",void 0),(0,c._)([(0,f.Cb)({constructOnly:!0})],Ae.prototype,"view",void 0);var Ie=Ae=(0,c._)([(0,g.j)("esri.widgets.support.Selector2D.SelectionOperation")],Ae),ze=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var o;return(0,i.Z)(this,n),(o=t.call(this,e))._operationHandlesGroup=null,o.activeOperation=null,o.sources=null,o}return(0,a.Z)(n,[{key:"initialize",value:function(){var e=this;this.addHandles([(0,h.watch)((function(){return e._sources}),(function(t){e.activeOperation&&(e.activeOperation.sources=t)}))])}},{key:"destroy",value:function(){this._operationHandlesGroup=(0,p.hw)(this._operationHandlesGroup)}},{key:"_sources",get:function(){var e=this.sources,t=this.view;return t&&null!==e&&void 0!==e&&e.length?e.flatMap((function(e){if((0,B.Xi)(e))return e;if((0,H.Q2)(e)||(0,H.Ux)(e)){var n=e.layers||[],o=n.map((function(e){var n=(0,P.j)(t,e)||void 0;return(0,B.Xi)(n)?n:e}));return o.length?o.toArray():n.length?n.toArray():e}var r=(0,P.j)(t,e)||void 0;return(0,B.Xi)(r)?r:e})):[]}},{key:"layers",get:function(){return(0,S.Mr)(y.Z.getLogger(this),"layers",{replacement:"Use SelectionToolbar.sources instead."}),this.sources},set:function(e){(0,S.Mr)(y.Z.getLogger(this),"layers",{replacement:"Use SelectionToolbar.sources instead."}),this.sources=e}},{key:"state",get:function(){var e=this._sources,t=this.view,n=!(null!==e&&void 0!==e&&e.length)&&!(null!==t&&void 0!==t&&t.selectionManager.sources.length);return this.activeOperation?"active":null!==t&&void 0!==t&&t.ready&&!n?"ready":"disabled"}},{key:"cancel",value:function(){var e;"active"===this.state&&(null!==(e=this.activeOperation)&&void 0!==e&&e.cancel(),this._set("activeOperation",null))}},{key:"activate",value:function(e){var t=this,n=this._sources,o=this.state,r=this.view,i=!(null!==n&&void 0!==n&&n.length)&&!(null!==r&&void 0!==r&&r.selectionManager.sources.length);if("disabled"!==o&&!i&&this.view){"active"===o&&this.cancel();var a=new Ie({view:this.view,sources:n,options:e});return this._operationHandlesGroup=(0,d.AL)([a.selection.on("change",(function(e){return t.emit("selection-change",e)})),a.once("complete",(function(e){return t._onOperationComplete(e)}))]),this._set("activeOperation",a),a}}},{key:"_onOperationComplete",value:function(e){this._operationHandlesGroup=(0,p.hw)(this._operationHandlesGroup),this._set("activeOperation",null),this.emit("complete",e)}}]),n}(U.Z.EventedAccessor);(0,c._)([(0,f.Cb)()],ze.prototype,"_sources",null),(0,c._)([(0,f.Cb)({readOnly:!0})],ze.prototype,"activeOperation",void 0),(0,c._)([(0,f.Cb)()],ze.prototype,"layers",null),(0,c._)([(0,f.Cb)()],ze.prototype,"sources",void 0),(0,c._)([(0,f.Cb)({readOnly:!0})],ze.prototype,"state",null),(0,c._)([(0,f.Cb)()],ze.prototype,"view",void 0);var Ue=ze=(0,c._)([(0,g.j)("esri.widgets.support.SelectionToolbar.SelectionToolbarViewModel")],ze),He={lassoTool:!0,rectangleTool:!0},Pe={createTool:"polygon",mode:"freehand"},Be={createTool:"rectangle"},Ne="esri-selection-toolbar",Ee={base:Ne,container:"".concat(Ne,"__container"),toolButton:"".concat(Ne,"__tool-button")},Ge=function(e){(0,s.Z)(r,e);var t=(0,u.Z)(r);function r(e,n){var a;return(0,i.Z)(this,r),(a=t.call(this,e,n))._viewModelHandlesGroup=null,a.activeToolInfo=null,a.messages=null,a.toolConfigs=[],a.viewModel=new Ue,a.visibleElements=(0,o.Z)({},He),a._viewModelHandlesGroup=(0,d.AL)([a.viewModel.on("complete",(function(e){a._set("activeToolInfo",null),a.emit("complete",e)}))]),a}return(0,a.Z)(r,[{key:"destroy",value:function(){this._viewModelHandlesGroup=(0,p.hw)(this._viewModelHandlesGroup)}},{key:"loadDependencies",value:function(){return(0,x.h)({action:function(){return Promise.all([n.e(92358),n.e(46895),n.e(65138),n.e(91741)]).then(n.bind(n,6814))},icon:function(){return Promise.all([n.e(92358),n.e(87474)]).then(n.bind(n,87474))}})}},{key:"label",get:function(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.widgetLabel)&&void 0!==e?e:""},set:function(e){this._overrideIfSome("label",e)}},{key:"layers",get:function(){return(0,S.Mr)(y.Z.getLogger(this),"layers",{replacement:"Use SelectionToolbar.sources instead."}),this.viewModel.sources},set:function(e){(0,S.Mr)(y.Z.getLogger(this),"layers",{replacement:"Use SelectionToolbar.sources instead."}),this.viewModel.sources=e}},{key:"sources",get:function(){return this.viewModel.sources},set:function(e){this.viewModel.sources=e}},{key:"view",get:function(){return this.viewModel.view},set:function(e){this.viewModel.view=e}},{key:"castVisibleElements",value:function(e){return(0,o.Z)((0,o.Z)({},He),e)}},{key:"visibleToolCount",get:function(){var e,t=this.view,n=this.toolConfigs,o=this.visibleElements;return(null!==(e=null===n||void 0===n?void 0:n.length)&&void 0!==e?e:0)+("2d"===(null===t||void 0===t?void 0:t.type)?(o.lassoTool?1:0)+(o.rectangleTool?1:0):0)}},{key:"activate",value:function(e){if(this.cancel(),"disabled"!==this.viewModel.state)switch(e){case"lasso":this._activateTool("lasso");break;case"rectangle":this._activateTool("rectangle");break;default:this._activateTool(e)}}},{key:"cancel",value:function(){this.viewModel.cancel(),this._set("activeToolInfo",null)}},{key:"render",value:function(){return(0,z.u)("div",{"aria-label":this.label,class:this.classes(Ee.base,O.z.widget)},(0,z.u)("div",{class:Ee.container},this._renderDefaultTools(),this._renderCustomTools()))}},{key:"_renderDefaultTools",value:function(){var e;if("2d"===(null===(e=this.view)||void 0===e?void 0:e.type))return[this._renderRectangleTool(),this._renderLassoTool()]}},{key:"_renderCustomTools",value:function(){var e,t=this;if(null!==(e=this.toolConfigs)&&void 0!==e&&e.length)return this.toolConfigs.map((function(e){var n,o=e.toolName,r=e.icon;return(0,z.u)("calcite-action",{active:(null===(n=t.activeToolInfo)||void 0===n?void 0:n.toolName)===o,bind:t,class:Ee.toolButton,disabled:"disabled"===t.viewModel.state,onclick:function(){return t._onCustomToolClick(o)},scale:"s",text:o,title:o},(0,z.u)("calcite-icon",{icon:r||"selection",scale:"s"}))}))}},{key:"_renderLassoTool",value:function(){var e=this.activeToolInfo,t=this.messages;if(this.visibleElements.lassoTool){var n=t.selectByLasso;return(0,z.u)("calcite-action",{active:"lasso"===(null===e||void 0===e?void 0:e.toolName),bind:this,disabled:"disabled"===this.viewModel.state,onclick:this._onLassoToolClick,scale:"s",text:n,title:n},(0,z.u)("calcite-icon",{icon:"lasso-select",scale:"s"}))}}},{key:"_renderRectangleTool",value:function(){var e=this.activeToolInfo,t=this.messages;if(this.visibleElements.rectangleTool){var n=t.selectByRectangle;return(0,z.u)("calcite-action",{active:"rectangle"===(null===e||void 0===e?void 0:e.toolName),bind:this,disabled:"disabled"===this.viewModel.state,onclick:this._onRectangleToolClick,scale:"s",text:n,title:n},(0,z.u)("calcite-icon",{icon:"cursor-marquee",scale:"s"}))}}},{key:"_onCustomToolClick",value:function(e){this._toggleTool(e)}},{key:"_onLassoToolClick",value:function(){this._toggleTool("lasso")}},{key:"_onRectangleToolClick",value:function(){this._toggleTool("rectangle")}},{key:"_activateTool",value:function(e){var t=this._getToolOptions(e);if(t){var n=this.viewModel.activate(t);n&&this._set("activeToolInfo",{toolName:e,operation:n})}}},{key:"_toggleTool",value:function(e){if(this.activeToolInfo){var t=this.activeToolInfo.toolName;if(this.cancel(),t===e)return}this._activateTool(e)}},{key:"_getToolOptions",value:function(e){return"lasso"===e?Pe:"rectangle"===e?Be:this.toolConfigs.find((function(t){return t.toolName===e}))}}]),r}(_.Z);(0,c._)([(0,f.Cb)({readOnly:!0})],Ge.prototype,"activeToolInfo",void 0),(0,c._)([(0,f.Cb)()],Ge.prototype,"label",null),(0,c._)([(0,f.Cb)()],Ge.prototype,"layers",null),(0,c._)([(0,f.Cb)(),(0,I.H)("esri/widgets/support/SelectionToolbar/t9n/SelectionToolbar")],Ge.prototype,"messages",void 0),(0,c._)([(0,f.Cb)()],Ge.prototype,"sources",null),(0,c._)([(0,f.Cb)()],Ge.prototype,"toolConfigs",void 0),(0,c._)([(0,f.Cb)()],Ge.prototype,"view",null),(0,c._)([(0,f.Cb)()],Ge.prototype,"viewModel",void 0),(0,c._)([(0,f.Cb)()],Ge.prototype,"visibleElements",void 0),(0,c._)([(0,R.p)("visibleElements")],Ge.prototype,"castVisibleElements",null),(0,c._)([(0,f.Cb)()],Ge.prototype,"visibleToolCount",null);var je=Ge=(0,c._)([(0,g.j)("esri.widgets.support.SelectionToolbar")],Ge),De=n(70381),Le=n(29840),Qe=n(28907),We=n(8704),Fe="esri-sketch",Ve={base:Fe,verticalLayout:"".concat(Fe,"--vertical"),horizontalLayout:"".concat(Fe,"--horizontal"),panel:"".concat(Fe,"__panel"),infoPanel:"".concat(Fe,"__info-panel"),section:"".concat(Fe,"__section"),toolSection:"".concat(Fe,"__tool-section"),infoSection:"".concat(Fe,"__info-section"),infoCountSection:"".concat(Fe,"__info-count-section"),menuContainer:"".concat(Fe,"__menu-container"),menuHeader:"".concat(Fe,"__menu-header"),menuTitle:"".concat(Fe,"__menu-title"),featureCountBadge:"".concat(Fe,"__feature-count-badge"),featureCountText:"".concat(Fe,"__feature-count-text"),featureCountNumber:"".concat(Fe,"__feature-count-number"),actionToggle:"".concat(Fe,"__action-toggle"),actionToggleOn:"".concat(Fe,"__action-toggle--on"),actionTitle:"".concat(Fe,"__item-action-title"),actionIcon:"".concat(Fe,"__item-action-icon")},qe=function(e){(0,s.Z)(c,e);var t=(0,u.Z)(c);function c(e,n){var o;return(0,i.Z)(this,c),(o=t.call(this,e,n))._activeCreateOptions=null,o._menuOpen=!1,o._selectionToolbar=null,o._viewModelHandlesGroup=null,o.availableCreateTools=["point","polyline","polygon","rectangle","circle"],o.creationMode="continuous",o.layout="horizontal",o.messages=null,o.messagesCommon=null,o.visibleElements=new T,o._activateCreateTool=o._activateCreateTool.bind((0,l.Z)(o)),o.viewModel=(null===e||void 0===e?void 0:e.viewModel)||new b.Z,o}return(0,a.Z)(c,[{key:"initialize",value:function(){var e=this,t=this.layer,n=this.view,o=new je({view:"2d"===(null===n||void 0===n?void 0:n.type)?n:null,sources:t?[t]:null});this.addHandles([(0,h.watch)((function(){return e.viewModel}),(function(t){e._viewModelHandlesGroup=(0,p.hw)(e._viewModelHandlesGroup),t&&(e._viewModelHandlesGroup=(0,d.AL)([t.on("create",(function(t){e.scheduleRender(),e._onCreateOperation(t)})),t.on("update",(function(){return e.scheduleRender()})),t.on("delete",(function(t){return e.emit("delete",t)})),t.on("undo",(function(){return e.scheduleRender()})),t.on("redo",(function(){return e.scheduleRender()})),(0,h.watch)((function(){return t.layer}),(function(t){e._selectionToolbar&&(e._selectionToolbar.sources=t?[t]:null)})),(0,h.watch)((function(){return t.view}),(function(t){e._selectionToolbar&&(e._selectionToolbar.view="2d"===(null===t||void 0===t?void 0:t.type)?t:null)})),(0,h.watch)((function(){return t.state}),(function(){return e.notifyChange("state")}))]))}),h.syncAndInitial),(0,h.when)((function(){return o.activeToolInfo}),(function(){return e.viewModel.cancel()})),o.on("complete",(function(t){return e._onSelectionOperationComplete(t)})),(0,h.watch)((function(){var t=e.visibleElements.selectionTools;return{lassoTool:!(null===t||void 0===t||!t["lasso-selection"]),rectangleTool:!(null===t||void 0===t||!t["rectangle-selection"])}}),(function(e){Object.assign(o.visibleElements,e)}),h.syncAndInitial)]),this._selectionToolbar=o}},{key:"loadDependencies",value:function(){return(0,x.h)({action:function(){return Promise.all([n.e(92358),n.e(46895),n.e(65138),n.e(91741)]).then(n.bind(n,6814))},icon:function(){return Promise.all([n.e(92358),n.e(87474)]).then(n.bind(n,87474))}})}},{key:"destroy",value:function(){var e;null!==(e=this._selectionToolbar)&&void 0!==e&&e.destroy(),this._viewModelHandlesGroup=(0,p.hw)(this._viewModelHandlesGroup)}},{key:"activeTool",get:function(){var e,t=null===(e=this._selectionToolbar)||void 0===e?void 0:e.activeToolInfo;if(t)switch(t.toolName){case"lasso":return"lasso-selection";case"rectangle":return"rectangle-selection";case"default":return"custom-selection"}return this.viewModel.activeTool}},{key:"createGraphic",get:function(){return this.viewModel.createGraphic}},{key:"defaultCreateOptions",get:function(){return this.viewModel.defaultCreateOptions},set:function(e){this.viewModel.defaultCreateOptions=e}},{key:"defaultUpdateOptions",get:function(){return this.viewModel.defaultUpdateOptions},set:function(e){this.viewModel.defaultUpdateOptions=e}},{key:"icon",get:function(){return"pencil"},set:function(e){this._overrideIfSome("icon",e)}},{key:"label",get:function(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.widgetLabel)&&void 0!==e?e:""},set:function(e){this._overrideIfSome("label",e)}},{key:"labelOptions",get:function(){return this.viewModel.labelOptions},set:function(e){this.viewModel.labelOptions=e}},{key:"layer",get:function(){return this.viewModel.layer},set:function(e){this.viewModel.layer=e}},{key:"snappingOptions",get:function(){return this.viewModel.snappingOptions},set:function(e){this.viewModel.snappingOptions=e}},{key:"state",get:function(){var e;return null!==(e=this._selectionToolbar)&&void 0!==e&&e.activeToolInfo?"active":this.viewModel.state}},{key:"tooltipOptions",get:function(){return this.viewModel.tooltipOptions},set:function(e){this.viewModel.tooltipOptions=e}},{key:"updateGraphics",get:function(){return this.viewModel.updateGraphics}},{key:"valueOptions",get:function(){return this.viewModel.valueOptions},set:function(e){this.viewModel.valueOptions=e}},{key:"view",get:function(){return this.viewModel.view},set:function(e){this.viewModel.view=e}},{key:"viewModel",set:function(e){var t=this._get("viewModel");e!==t&&(t&&(0,p.SC)(t),this._set("viewModel",e))}},{key:"_effectiveAvailableCreateTools",get:function(){var e=this.availableCreateTools,t=this.visibleElements;return null===e||void 0===e?void 0:e.filter((function(e){var n;return!(null===(n=t.createTools)||void 0===n||!n[e])}))}},{key:"create",value:function(e,t){return this._activeCreateOptions=t||null,(0,v.R8)(this.viewModel.create(e,t))}},{key:"update",value:function(e,t){return(0,v.R8)(this.viewModel.update(e,t))}},{key:"complete",value:function(){this.viewModel.complete()}},{key:"cancel",value:function(){var e;null!==(e=this._selectionToolbar)&&void 0!==e&&e.cancel(),this.viewModel.cancel()}},{key:"undo",value:function(){var e;this.viewModel.undo(),null===(e=this.view)||void 0===e||e.focus()}},{key:"redo",value:function(){var e;this.viewModel.redo(),null===(e=this.view)||void 0===e||e.focus()}},{key:"delete",value:function(){this.viewModel.delete()}},{key:"duplicate",value:function(){return this.viewModel.duplicate()}},{key:"render",value:function(){var e,t=this.label,n=this.layout,o=this.viewModel.state;return(0,z.u)("div",{"aria-label":t,class:this.classes(Ve.base,O.z.widget,(e={},(0,r.Z)(e,O.z.disabled,"disabled"===o),(0,r.Z)(e,Ve.verticalLayout,"vertical"===n),(0,r.Z)(e,Ve.horizontalLayout,"horizontal"===n),e))},(0,z.u)("div",{class:Ve.panel,role:"toolbar"},this._renderTopPanelContents()),(0,z.u)("div",{class:this.classes(Ve.panel,Ve.infoPanel)},this._renderInfoPanelContents()))}},{key:"_renderTopPanelContents",value:function(){var e,t=this.classes(Ve.section,Ve.toolSection),n=this._effectiveAvailableCreateTools,o=this.visibleElements;return[this.viewModel.updateOnGraphicClick||null!==(e=this._selectionToolbar)&&void 0!==e&&e.visibleToolCount?(0,z.u)("div",{class:t,key:"selection-button-container",role:"menu"},this._renderDefaultSelectionButton(),this._renderSelectionToolbar()):null,null!==n&&void 0!==n&&n.length?(0,z.u)("div",{class:t,role:"menu"},this._renderDrawActions()):null,o.undoRedoMenu?(0,z.u)("div",{class:t,key:"undo-redo-menu-button-container",role:"menu"},this._renderUndoRedoMenuButtons()):null,o.settingsMenu?(0,z.u)("div",{class:Ve.section,key:"settings-menu-button-container"},this._renderSettingsMenuButton()):null]}},{key:"_renderInfoPanelContents",value:function(){return this._menuOpen?this._renderSettingsMenu():this.updateGraphics.length?[(0,z.u)("div",{class:this.classes(Ve.section,Ve.infoSection,Ve.infoCountSection),key:"feature-count-container"},this._renderFeatureCount()),(0,z.u)("div",{class:this.classes(Ve.section,Ve.infoSection),key:"delete-button-container"},this._renderDuplicateButton(),this._renderDeleteButton())]:void 0}},{key:"_renderSettingsMenu",value:function(){var e=this.messagesCommon,t=this.snappingOptions,n=this.view,o=this.viewModel,r=this.visibleElements,i={directionModePicker:r.directionModePicker,labelsToggle:r.labelsToggle,tooltipsToggle:r.tooltipsToggle};return(0,z.u)("div",{class:Ve.menuContainer,"data-testid":"menu",key:"settings-menu-container",role:"menu"},(0,z.u)("header",{class:Ve.menuHeader,key:"settings-menu-header"},(0,z.u)("span",{class:Ve.menuTitle},e.settings)),(0,A.Mz)(i)?(0,z.u)(De.Z,{sketchOptions:o.sketchOptions,viewType:null===n||void 0===n?void 0:n.type,visibleElements:i}):void 0,r.snappingControls&&n&&t?(0,z.u)(Le.Z,{snappingOptions:t,view:n,visibleElements:r.snappingControlsElements}):void 0)}},{key:"_renderFeatureCount",value:function(){var e=this.layout,t=this.messages,n=this.updateGraphics.length,o=(0,We.n)(t.selectedCount,{count:n});return(0,z.u)("div",{"aria-label":o,class:Ve.featureCountBadge},(0,z.u)("span",{class:Ve.featureCountNumber},"vertical"===e?n:o))}},{key:"_renderDuplicateButton",value:function(){if(this.visibleElements.duplicateButton){var e=this.messages,t=this.updateGraphics.length>1?e.duplicateFeatures:e.duplicateFeature;return(0,z.u)("calcite-action",{bind:this,onclick:this._onDuplicateSelect,scale:"s",text:t,title:t},(0,z.u)("calcite-icon",{icon:"copy",scale:"s"}))}}},{key:"_renderDeleteButton",value:function(){var e=this.messages,t=this.updateGraphics.length>1?e.deleteFeatures:e.deleteFeature;return(0,z.u)("calcite-action",{bind:this,onclick:this.delete,scale:"s",text:t,title:t},(0,z.u)("calcite-icon",{icon:"trash",scale:"s"}))}},{key:"_renderDefaultSelectionButton",value:function(){if(this.viewModel.updateOnGraphicClick){var e=this.messages,t=this.state,n=e.selectFeature;return(0,z.u)("calcite-action",{active:"ready"===t,bind:this,disabled:"disabled"===t,onclick:this._activateDefaultSelectTool,scale:"s",text:n,title:n},(0,z.u)("calcite-icon",{icon:"cursor",scale:"s"}))}}},{key:"_renderSelectionToolbar",value:function(){var e;if("2d"===(null===(e=this.view)||void 0===e?void 0:e.type)&&this._selectionToolbar)return this._selectionToolbar.render()}},{key:"_renderDrawActions",value:function(){var e,t=this,n=this.messages;return null===(e=this._effectiveAvailableCreateTools)||void 0===e?void 0:e.map((function(e){switch(e){case"point":return t._renderAction(e,n.drawPoint,"pin");case"polyline":return t._renderAction(e,n.drawPolyline,"line");case"polygon":return t._renderAction(e,n.drawPolygon,"polygon");case"rectangle":return t._renderAction(e,n.drawRectangle,"rectangle");case"circle":return t._renderAction(e,n.drawCircle,"circle");default:return}}))}},{key:"_renderAction",value:function(e,t,n){var o=this;return(0,z.u)("calcite-action",{active:this.activeTool===e,bind:this,disabled:"disabled"===this.state,onclick:function(){return o._activateCreateTool(e)},scale:"s",text:t,title:t},(0,z.u)("calcite-icon",{icon:n,scale:"s"}))}},{key:"_renderUndoRedoMenuButtons",value:function(){return[this._renderUndoButton(),this._renderRedoButton()]}},{key:"_renderUndoButton",value:function(){var e=this.messages.undo;return(0,z.u)("calcite-action",{bind:this,disabled:!this.viewModel.canUndo()||"disabled"===this.state,onclick:this.undo,scale:"s",text:e,title:e},(0,z.u)("calcite-icon",{icon:(0,A.dZ)(this.container)?"redo":"undo",scale:"s"}))}},{key:"_renderRedoButton",value:function(){var e=this.messages.redo;return(0,z.u)("calcite-action",{bind:this,disabled:!this.viewModel.canRedo()||"disabled"===this.state,onclick:this.redo,scale:"s",text:e,title:e},(0,z.u)("calcite-icon",{icon:(0,A.dZ)(this.container)?"undo":"redo",scale:"s"}))}},{key:"_renderSettingsMenuButton",value:function(){var e=this.messagesCommon.settings;return(0,z.u)("calcite-action",{active:this._menuOpen,bind:this,"data-testid":"settings-menu-action",disabled:"disabled"===this.state,onclick:this._toggleMenu,scale:"s",text:e,title:e},(0,z.u)("calcite-icon",{icon:"gear",scale:"s"}))}},{key:"_activateCreateTool",value:function(e){var t;this.activeTool!==e?(null!==(t=this._selectionToolbar)&&void 0!==t&&t.cancel(),this.create(e)):this.cancel()}},{key:"_onCreateOperation",value:function(e){if("complete"===e.state){var t=this.creationMode;if("create"===e.type){var n=e.tool,o=e.graphic,r=this._activeCreateOptions;this._activeCreateOptions=null,"continuous"===t?this.create(n,r):"update"===t&&this.update([o])}}}},{key:"_toggleMenu",value:function(){this._menuOpen=!this._menuOpen,this.scheduleRender()}},{key:"_onDuplicateSelect",value:function(){var e=this.duplicate(),t=this.viewModel.activeTool;"transform"!==t&&"reshape"!==t||this.update(e,{tool:t})}},{key:"_onSelectionOperationComplete",value:function(e){var t=this.viewModel.defaultUpdateOptions,n=e.selection;if(!e.aborted&&n.length){var r=t.tool,i=n.length>1&&"reshape"===r?"transform":r;this.update(n,(0,o.Z)((0,o.Z)({},t),{},{tool:i}))}this.notifyChange("state")}},{key:"_activateDefaultSelectTool",value:function(){var e;this.cancel(),null===(e=this.view)||void 0===e||e.focus()}}]),c}(_.Z);(0,c._)([(0,f.Cb)()],qe.prototype,"activeTool",null),(0,c._)([(0,f.Cb)({cast:function(e){if(null===e||void 0===e||!e.length)return null;var t=new Set(["point","polyline","polygon","rectangle","circle"]);return e.filter((function(e){return t.has(e)}))}})],qe.prototype,"availableCreateTools",void 0),(0,c._)([(0,f.Cb)({readOnly:!0})],qe.prototype,"createGraphic",null),(0,c._)([(0,f.Cb)()],qe.prototype,"creationMode",void 0),(0,c._)([(0,f.Cb)()],qe.prototype,"defaultCreateOptions",null),(0,c._)([(0,f.Cb)()],qe.prototype,"defaultUpdateOptions",null),(0,c._)([(0,f.Cb)()],qe.prototype,"icon",null),(0,c._)([(0,f.Cb)()],qe.prototype,"label",null),(0,c._)([(0,f.Cb)()],qe.prototype,"labelOptions",null),(0,c._)([(0,f.Cb)()],qe.prototype,"layer",null),(0,c._)([(0,f.Cb)({type:["horizontal","vertical"]})],qe.prototype,"layout",void 0),(0,c._)([(0,f.Cb)(),(0,I.H)("esri/widgets/Sketch/t9n/Sketch")],qe.prototype,"messages",void 0),(0,c._)([(0,f.Cb)(),(0,I.H)("esri/t9n/common")],qe.prototype,"messagesCommon",void 0),(0,c._)([(0,f.Cb)()],qe.prototype,"snappingOptions",null),(0,c._)([(0,f.Cb)()],qe.prototype,"state",null),(0,c._)([(0,f.Cb)()],qe.prototype,"tooltipOptions",null),(0,c._)([(0,f.Cb)({readOnly:!0})],qe.prototype,"updateGraphics",null),(0,c._)([(0,f.Cb)({type:m.Z,nonNullable:!0})],qe.prototype,"valueOptions",null),(0,c._)([(0,f.Cb)()],qe.prototype,"view",null),(0,c._)([(0,f.Cb)(),(0,Qe.s)(["create","update","undo","redo"])],qe.prototype,"viewModel",null),(0,c._)([(0,f.Cb)({type:T,nonNullable:!0})],qe.prototype,"visibleElements",void 0),(0,c._)([(0,f.Cb)()],qe.prototype,"_effectiveAvailableCreateTools",null);var Je=qe=(0,c._)([(0,g.j)("esri.widgets.Sketch")],qe)}}]);
//# sourceMappingURL=9674.48345474.chunk.js.map