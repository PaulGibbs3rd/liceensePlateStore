"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[10039],{72511:function(e,t,i){i.d(t,{S:function(){return F},b:function(){return R}});var n,r,o,a,s,c,l,u,h,d,f=i(30168),v=i(86361),_=i(43505),g=i(37081),p=i(33280),y=i(94951),m=i(15226),b=i(26461),S=i(116),w=i(41012),T=i(49450),E=i(95276),O=i(98634),L=i(64201),A=i(25920),k=i(4760);function R(e){var t=new L.kG,i=e.multipassEnabled&&e.output===g.H_.Color;t.include(y.w,e),t.include(_.A,e),t.include(p.f5,e);var v=t.vertex,R=t.fragment;return R.include(S.Y),(0,w.Sv)(v,e),R.uniforms.add(new E.N("uColor",(function(e){return e.color}))),t.attributes.add(k.T.POSITION,"vec3"),t.varyings.add("vWorldPosition","vec3"),i&&t.varyings.add("depth","float"),e.screenSizeEnabled&&t.attributes.add(k.T.OFFSET,"vec3"),e.shadingEnabled&&((0,w._8)(v),t.attributes.add(k.T.NORMAL,"vec3"),t.varyings.add("vViewNormal","vec3")),v.code.add((0,O.H)(n||(n=(0,f.Z)(["\n    void main(void) {\n      vWorldPosition = ",";\n  "])),e.screenSizeEnabled?"screenSizeScaling(offset, position)":"position")),e.shadingEnabled&&v.code.add((0,O.H)(r||(r=(0,f.Z)(["vec3 worldNormal = normal;\nvViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;"])))),v.code.add((0,O.H)(o||(o=(0,f.Z)(["\n    ","\n    gl_Position = transformPosition(proj, view, vWorldPosition);\n  }\n  "])),i?"depth = (view * vec4(vWorldPosition, 1.0)).z;":"")),i&&t.include(m.l,e),R.code.add((0,O.H)(a||(a=(0,f.Z)(["\n    void main() {\n      discardBySlice(vWorldPosition);\n      ","\n    "])),i?"terrainDepthTest(depth);":"")),e.shadingEnabled?(R.uniforms.add(new T.J("shadingDirection",(function(e){return e.shadingDirection}))),R.uniforms.add(new E.N("shadedColor",(function(e){return j(e.shadingTint,e.color)}))),R.code.add((0,O.H)(s||(s=(0,f.Z)(["vec3 viewNormalNorm = normalize(vViewNormal);\nfloat shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);\nvec4 finalColor = mix(uColor, shadedColor, shadingFactor);"]))))):R.code.add((0,O.H)(c||(c=(0,f.Z)(["vec4 finalColor = uColor;"])))),e.transparencyPassType===A.A.ColorAlpha&&(t.outputs.add("fragColor","vec4",0),t.outputs.add("fragAlpha","float",1)),R.code.add((0,O.H)(l||(l=(0,f.Z)(["\n      ","\n      if (finalColor.a < ",") {\n        discard;\n      }\n\n      ","\n    }\n    "])),e.output===g.H_.ObjectAndLayerIdColor?(0,O.H)(u||(u=(0,f.Z)(["finalColor.a = 1.0;"]))):"",O.H.float(b.b),e.output===g.H_.Color?(0,O.H)(h||(h=(0,f.Z)(["fragColor = highlightSlice(finalColor, vWorldPosition); ",""])),e.transparencyPassType===A.A.ColorAlpha?(0,O.H)(d||(d=(0,f.Z)(["\n                    fragColor = premultiplyAlpha(fragColor);\n                    fragAlpha = fragColor.a;"]))):""):"")),t}function j(e,t){var i=1-e[3],n=e[3]+t[3]*i;return 0===n?(P[3]=n,P):(P[0]=(e[0]*e[3]+t[0]*t[3]*i)/n,P[1]=(e[1]*e[3]+t[1]*t[3]*i)/n,P[2]=(e[2]*e[3]+t[2]*t[3]*i)/n,P[3]=t[3],P)}var P=(0,v.Ue)(),F=Object.freeze(Object.defineProperty({__proto__:null,build:R},Symbol.toStringTag,{value:"Module"}))},35284:function(e,t,i){i.d(t,{Z:function(){return N}});var n=i(37762),r=i(15671),o=i(43144),a=(i(59486),i(41644)),s=i(91505),c=i(42537),l=(i(93169),i(16889)),u=i(92026),h=i(17842),d=i(29303),f=i(21389),v=i(29134),_=i(7025),g=i(13611),p=i(32035),y=i(12400),m=i(83448),b=i(79803),S=i(73680),w=i(96334),T=i(65156),E=i(85981),O=i(55652),L=i(40885),A=i(51378),k=i(37818),R=i(74509),j=i(77648),P=i(81703),F=i(81296),z=i(66327),D=i(78485),C=i(97882),Z=i(99034),M=i(848),N=function(){function e(t){var i;(0,r.Z)(this,e),this.metadata=void 0,this._camera=new F.Z,this._elevation={offset:0,override:null},this.collisionType={type:"point"},this.collisionPriority=0,this._renderObjects=new Array,this.autoScaleRenderObjects=!0,this._available=!0,this._noDisplayCount=0,this._radius=10,this._worldSized=!1,this.focusMultiplier=2,this.touchMultiplier=2.5,this.worldOriented=!1,this._modelTransform=(0,_.Ue)(),this._worldFrame=null,this._renderLocation=(0,y.Ue)(),this._renderLocationDirty=!0,this._location=new M.Z({x:0,y:0,z:0}),this._elevationAlignedLocation=new M.Z,this._elevationAlignedLocationDirty=!0,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.consumesClicks=!0,this.cursor=null,this.grabCursor=null,this._grabbing=!1,this.dragging=!1,this._hovering=!1,this._selected=!1,this._state=Z.jg.None,this._focused=!1,this.events=new s.Z.EventEmitter,this._screenLocation={screenPointArray:(0,h.s1)(),renderScreenPointArray:(0,h.J$)(),pixelSize:0},this._screenLocationDirty=!0,this._engineResourcesAddedToStage=!1,this._attached=!1,this._location.spatialReference=t.view.spatialReference,Object.assign(this,t);var n=null===(i=this.view.state)||void 0===i?void 0:i.camera;n&&this._camera.copyFrom(n)}return(0,o.Z)(e,[{key:"destroy",value:function(){this._applyObjectTransform=ee,this._removeResourcesFromStage(),this._engineResources=null,this.view=null,this._camera=null}},{key:"_stage",get:function(){var e;return null===(e=this.view)||void 0===e?void 0:e._stage}},{key:"elevationInfo",get:function(){return this._elevationInfo},set:function(e){this._elevationInfo=e,this._elevationAlignedLocationDirty=!0,this._renderLocationDirty=!0,this._updateEngineObject()}},{key:"renderObjects",get:function(){return this._renderObjects},set:function(e){this._removeResourcesFromStage(),this._engineResources=null,this._renderObjects=e.slice(),this._updateEngineObject()}},{key:"available",get:function(){return this._available},set:function(e){e!==this._available&&(this._available=e,this._updateEngineObject())}},{key:"disableDisplay",value:function(){var e=this;return this._noDisplayCount++,1===this._noDisplayCount&&this._updateEngineObject(),(0,c.kB)((function(){e._noDisplayCount--,0===e._noDisplayCount&&e._updateEngineObject()}))}},{key:"radius",get:function(){return this._radius},set:function(e){e!==this._radius&&(this._radius=e,this._updateEngineObject())}},{key:"worldSized",get:function(){return this._worldSized},set:function(e){e!==this._worldSized&&(this._worldSized=e,this._updateEngineObject())}},{key:"modelTransform",get:function(){return this._modelTransform},set:function(e){x(e)&&(this._screenLocationDirty=!0),(0,v.JG)(this._modelTransform,e),this._updateEngineObject()}},{key:"renderLocation",get:function(){return this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=(0,_.Ue)()),function(e,t,i){switch(e.viewingMode){case"local":return(0,v.yR)(i),!0;case"global":var n=(0,m.Iu)(e.renderCoordsHelper.spatialReference);(0,w.PR)(t,0,V,0,n.radius),(0,S.y)((0,l.Vl)(V[0]),(0,l.Vl)(V[1]),i)}}(this.view,this._renderLocation,this._worldFrame)):this._worldFrame&&(this._worldFrame=null)),this._renderLocation},set:function(e){this.view.renderCoordsHelper.fromRenderCoords(e,this._location),this.elevationAlignedLocation=this._location}},{key:"location",get:function(){return this._location},set:function(e){(0,k.WG)(e,this._location),this._notifyLocationChanged()}},{key:"_notifyLocationChanged",value:function(){this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!0,this._updateEngineObject(),this.events.emit("location-update",{location:this._location})}},{key:"elevationAlignedLocation",get:function(){return this._elevationAlignedLocationDirty?(this._evaluateElevationAlignment(),this._updateElevationAlignedLocation(),this._elevationAlignedLocation):this._elevationAlignedLocation},set:function(e){(0,k.WG)(e,this._location),this._evaluateElevationAlignment(),this._location.z-=this._elevation.offset,this._updateElevationAlignedLocation(),this._updateEngineObject(),this.events.emit("location-update",{location:this._location})}},{key:"_updateElevationAlignedLocation",value:function(){var e=null!=this._elevation.override?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.x=this.location.x,this._elevationAlignedLocation.y=this.location.y,this._elevationAlignedLocation.z=e+this._elevation.offset,this._elevationAlignedLocation.spatialReference=(0,k.D)(this.location.spatialReference),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!1}},{key:"grabbableForEvent",value:function(){return!0}},{key:"grabbing",get:function(){return this._grabbing},set:function(e){e!==this._grabbing&&(this._grabbing=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}},{key:"hovering",get:function(){return this._hovering},set:function(e){e!==this._hovering&&(this._hovering=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}},{key:"selected",get:function(){return this._selected},set:function(e){e!==this._selected&&(this._selected=e,this._updateEngineObject(),this.events.emit("select-changed",{action:e?"select":"deselect"}))}},{key:"state",get:function(){return this._state},set:function(e){e!==this._state&&(this._state=e,this._updateEngineObject())}},{key:"updateStateEnabled",value:function(e,t){t?this.state|=e:this.state&=~e}},{key:"_setFocused",value:function(e){e!==this._focused&&(this._focused=e,this.events.emit("focus-changed",{action:!0===e?"focus":"unfocus"}))}},{key:"focused",get:function(){return this._focused}},{key:"screenLocation",get:function(){return this._ensureScreenLocation(),this._screenLocation}},{key:"_ensureScreenLocation",value:function(){if(this._screenLocationDirty){var e;if(this._screenLocation.pixelSize=this._camera.computeScreenPixelSizeAt(this.renderLocation),this._screenLocationDirty=!1,x(this._modelTransform)){var t=this._calculateModelTransformOffset($);e=(0,p.g)(t,t,this.renderLocation)}else e=this.renderLocation;this._camera.projectToRenderScreen(e,this._screenLocation.renderScreenPointArray),this._camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}}},{key:"applyObjectTransform",get:function(){return this._applyObjectTransform},set:function(e){this._applyObjectTransform=e,this._screenLocationDirty=!0,this._updateEngineObject()}},{key:"attached",get:function(){return this._attached}},{key:"intersectionDistance",value:function(e,t){if(!this.available)return null;var i=(0,h.md)(e,I),r=this._getCollisionRadius(t),o=-1*this.collisionPriority;switch(this.collisionType.type){case"point":if((0,g.bI)(this.screenLocation.screenPointArray,i)<r*r)return this.screenLocation.renderScreenPointArray[2]+o;break;case"line":var s=this.collisionType.paths,c=this._getWorldToScreenObjectScale(),l=this._calculateObjectTransform(c,G),u=r*this.screenLocation.pixelSize,f=(0,P.u4)(this._camera,i,U);if(null==f)return null;var v,_=(0,n.Z)(s);try{for(_.s();!(v=_.n()).done;){var m=v.value;if(0!==m.length)for(var b=(0,p.h)(V,m[0],l),S=1;S<m.length;S++){var w=(0,p.h)(J,m[S],l),T=(0,E.Gr)((0,E.zk)(b,w,W),f);if(null!=T&&T<u*u){var L=(0,p.g)(A.WM.get(),b,w);(0,p.j)(L,L,.5);var k=(0,h.So)(A.WM.get());return this._camera.projectToRenderScreen(L,k),k[2]+o}(0,p.c)(b,w)}}}catch(ye){_.e(ye)}finally{_.f()}break;case"disc":var R,j=this.collisionType.direction,F=null!==(R=this.collisionType.offset)&&void 0!==R?R:y.AG,z=this._getWorldToScreenObjectScale(),D=this._calculateObjectTransform(z,G),C=r*this.screenLocation.pixelSize,Z=(0,P.u4)(this._camera,i,U);if(null==Z)return null;var M=(0,d.xO)(H,D),N=(0,p.t)(K,j,M),x=(0,p.h)(Y,F,D);(0,O.Yq)(x,N,Q);var B=q;if((0,O.BR)(Q,Z,B)&&(0,p.a)(B,x)<C*C)return this.screenLocation.renderScreenPointArray[2]+o;break;case"ribbon":var $=this.collisionType,X=$.paths,ee=$.direction,te=this._getWorldToScreenObjectScale(),ie=this._calculateObjectTransform(te,G),ne=r*this._camera.computeScreenPixelSizeAt(this.renderLocation),re=(0,P.u4)(this._camera,i,U);if(null==re)return null;var oe=(0,d.xO)(H,ie),ae=(0,p.t)(K,ee,oe),se=this._calculateModelTransformPosition(Y);(0,O.Yq)(se,ae,Q);var ce=q;if(!(0,O.BR)(Q,re,ce))break;var le,ue=(0,n.Z)(X);try{for(ue.s();!(le=ue.n()).done;){var he=le.value;if(0!==he.length)for(var de=(0,p.h)(V,he[0],ie),fe=1;fe<he.length;fe++){var ve=(0,p.h)(J,he[fe],ie),_e=(0,E.Jk)((0,E.zk)(de,ve,W),ce);if(null!=_e&&_e<ne*ne){var ge=(0,p.g)(A.WM.get(),de,ve);(0,p.j)(ge,ge,.5);var pe=(0,h.So)(A.WM.get());return this._camera.projectToRenderScreen(ge,pe),pe[2]+o}(0,p.c)(de,ve)}}}catch(ye){ue.e(ye)}finally{ue.f()}break;default:(0,a.Bg)(this.collisionType)}return null}},{key:"attach",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{manipulator3D:{}},t=this._stage;if(t){var i=e.manipulator3D;null==i.engineLayerId?(this._engineLayer=new C.F(t,{pickable:!1,updatePolicy:D.j.SYNC}),i.engineLayerId=this._engineLayer.id):(null===t||void 0===t?void 0:t.getObject)&&(this._engineLayer=t.getObject(i.engineLayerId)),i.engineLayerReferences=(i.engineLayerReferences||0)+1,this._materialIdReferences=i.materialIdReferences,null==this._materialIdReferences&&(this._materialIdReferences=new Map,i.materialIdReferences=this._materialIdReferences),this._camera.copyFrom(this.view.state.camera),this._attached=!0,this._updateEngineObject(),(0,b.canProjectWithoutEngine)(this._location.spatialReference,this.view.spatialReference)||(this.location=new M.Z({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}}},{key:"detach",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{manipulator3D:{}},t=e.manipulator3D;t.engineLayerReferences--;var i=0===t.engineLayerReferences;this._removeResourcesFromStage(),i&&(t.engineLayerId=null,(0,u.SC)(this._engineLayer)),this._engineResources=null,this._engineLayer=null,this._materialIdReferences=null,this._attached=!1}},{key:"onViewChange",value:function(){this._camera.copyFrom(this.view.state.camera),this._screenLocationDirty=!0,this._updateEngineObject()}},{key:"onElevationChange",value:function(e){(0,b.projectPoint)(this.location,X,e.spatialReference)&&(0,T.Qn)(e.extent,X)&&this._notifyLocationChanged()}},{key:"_evaluateElevationAlignment",value:function(){var e,t,i,n;if(null!=this.elevationInfo){var r=null,o=0,a=(0,R.ap)(this.elevationInfo,null!==(e=this.location.spatialReference)&&void 0!==e?e:this.view.elevationProvider.spatialReference);switch(this.elevationInfo.mode){case"on-the-ground":r=null!==(t=(0,j.KO)(this.view.elevationProvider,this.location,"ground"))&&void 0!==t?t:0;break;case"relative-to-ground":o=(null!==(i=(0,j.KO)(this.view.elevationProvider,this.location,"ground"))&&void 0!==i?i:0)+a;break;case"relative-to-scene":o=(null!==(n=(0,j.KO)(this.view.elevationProvider,this.location,"scene"))&&void 0!==n?n:0)+a;break;case"absolute-height":o=a}return o!==this._elevation.offset||r!==this._elevation.override?(this._elevation.offset=o,void(this._elevation.override=r)):void 0}}},{key:"_updateEngineObject",value:function(){if(this._attached)if(this.available){var e=this._getWorldToScreenObjectScale(),t=G;if(!0===this.autoScaleRenderObjects){var i=this._getFocusedSize(this._radius,this.focused)*e;this._calculateObjectTransform(i,t)}else this._calculateObjectTransform(e,t);var r,o=this._ensureEngineResources().objectsByState,a=(this.focused?Z.Q9.Focused:Z.Q9.Unfocused)|(this.selected?Z.Q9.Selected:Z.Q9.Unselected),s=this._noDisplayCount>0,c=(0,n.Z)(o);try{for(c.s();!(r=c.n()).done;){var l=r.value,u=l.stateMask,h=l.objects;if(s){var d,f=(0,n.Z)(h);try{for(f.s();!(d=f.n()).done;){d.value.visible=!1}}catch(T){f.e(T)}finally{f.f()}}else{var v=(u&Z.Q9.All)!==Z.Q9.None,_=(u&Z.jg.All)!==Z.jg.None,g=!v||(a&u)==(u&Z.Q9.All),p=!_||(this.state&u)==(u&Z.jg.All);if(g&&p){var y,m=(0,n.Z)(h);try{for(m.s();!(y=m.n()).done;){var b=y.value;b.visible=!0,b.transformation=t}}catch(T){m.e(T)}finally{m.f()}}else{var S,w=(0,n.Z)(h);try{for(w.s();!(S=w.n()).done;){S.value.visible=!1}}catch(T){w.e(T)}finally{w.f()}}}}}catch(T){c.e(T)}finally{c.f()}}else this._removeResourcesFromStage()}},{key:"_ensureEngineResources",value:function(){if(null==this._engineResources){var e=this._engineLayer,t=[],i=new Set;this.renderObjects.forEach((function(e){var n=e.geometry.material;i.has(n)||(t.push(n),i.add(n))}));var n=new Map;this._renderObjects.forEach((function(e){var t=new z.T({castShadow:!1,geometries:[e.geometry]}),i=n.get(e.stateMask)||[];i.push(t),n.set(e.stateMask,i)}));var r=[];n.forEach((function(e,t){return r.push({stateMask:t,objects:e})})),this._engineResources={objectsByState:r,layer:e,materials:t}}return this._addResourcesToStage(),this._engineResources}},{key:"_addResourcesToStage",value:function(){var e=this,t=this._stage;if(!this._engineResourcesAddedToStage&&null!=this._engineResources&&t){var i=this._engineResources,n=i.objectsByState,r=i.layer;i.materials.forEach((function(i){var n=e._materialIdReferences,r=n.get(i.id)||0;0===r&&t.add(i),n.set(i.id,r+1)})),n.forEach((function(e){var i=e.objects;r.addMany(i),t.addMany(i)})),this._engineResourcesAddedToStage=!0}}},{key:"_removeResourcesFromStage",value:function(){var e=this,t=this._stage;if(this._engineResourcesAddedToStage&&null!=this._engineResources&&t){var i=this._engineResources,n=i.objectsByState,r=i.layer,o=i.materials;n.forEach((function(e){var i=e.objects;r.removeMany(i),t.removeMany(i)})),o.forEach((function(i){var n=e._materialIdReferences,r=n.get(i.id);1===r?(t.remove(i),n.delete(i.id)):n.set(i.id,r-1)})),this._engineResourcesAddedToStage=!1}}},{key:"_getCollisionRadius",value:function(e){return this._getFocusedSize(this.radius,!0)*("touch"===e?this.touchMultiplier:1)}},{key:"_getFocusedSize",value:function(e,t){return e*(t?this.focusMultiplier:1)}},{key:"_getWorldToScreenObjectScale",value:function(){return this._worldSized?1:this.screenLocation.pixelSize}},{key:"_calculateModelTransformPosition",value:function(e){var t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,B);return(0,p.s)(e,i[12],i[13],i[14])}},{key:"_calculateModelTransformOffset",value:function(e){var t=this._calculateModelTransformPosition(e);return(0,p.f)(e,t,this.renderLocation)}},{key:"_calculateObjectTransform",value:function(e,t){return(0,v.t8)(t,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1),this._worldFrame&&(0,v.Jp)(t,t,this._worldFrame),(0,v.Jp)(t,t,this._modelTransform),t[12]+=this.renderLocation[0],t[13]+=this.renderLocation[1],t[14]+=this.renderLocation[2],t[15]=1,null!=this._applyObjectTransform&&this._applyObjectTransform(t),t}},{key:"test",get:function(){}}]),e}();function x(e){return 0!==e[12]||0!==e[13]||0!==e[14]}var I=(0,h.s1)(),W=(0,E.Ue)(),U=(0,L.Ue)(),H=(0,f.Ue)(),B=(0,_.Ue)(),G=(0,_.Ue)(),Q=(0,O.Ue)(),V=(0,y.Ue)(),J=(0,y.Ue)(),q=(0,y.Ue)(),K=(0,y.Ue)(),Y=(0,y.Ue)(),$=(0,y.Ue)(),X=new M.Z({x:0,y:0,z:0,spatialReference:null}),ee=function(){}},40508:function(e,t,i){i.d(t,{r:function(){return a}});var n=i(43144),r=i(15671),o=i(99034),a=(0,n.Z)((function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Q9.None;(0,r.Z)(this,e),this.geometry=t,this.stateMask=i}))},666:function(e,t,i){function n(e){var t;return null===e||void 0===e||null===(t=e.operations)||void 0===t?void 0:t.data.geometry}i.d(t,{$:function(){return n}})},83639:function(e,t,i){i.d(t,{Aq:function(){return m},EA:function(){return v},Gd:function(){return y},X9:function(){return p},du:function(){return b},gm:function(){return S},qJ:function(){return _},vQ:function(){return g}});var n=i(86950),r=i(29134),o=i(32035),a=i(51378),s=i(37818),c=i(666),l=i(96387),u=i(68401),h=i(56529),d=i(66832),f=i(11606);function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.yD.OccludeAndTransparent,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=(0,n.gp)(e),o=!(e[3]<1);return i?new f.Q({color:r,writeDepth:o,cullFace:u.Vr.Back,renderOccluded:t,isDecoration:!0}):new d.E({color:r,writeDepth:o,cullFace:u.Vr.Back,renderOccluded:t,isDecoration:!0})}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.yD.OccludeAndTransparent,i=(0,n.gp)(e);return new d.E({color:i,writeDepth:!0,cullFace:u.Vr.Front,renderOccluded:t,isDecoration:!0})}var g=Object.freeze({calloutLength:40,calloutWidth:1,discRadius:27,focusMultiplier:1.1}),p=Object.freeze({autoScaleRenderObjects:!1,worldSized:!0});function y(e,t,i,n){var s=(0,o.f)(a.WM.get(),e,i),c=m(s,(0,o.b)(a.WM.get(),n,s),i,a.MP.get());(0,r.U_)(c,c);var l=(0,o.h)(a.WM.get(),t,c);return Math.atan2(l[1],l[0])}function m(e,t,i,n){var r=(0,o.n)(a.WM.get(),e),s=(0,o.n)(a.WM.get(),t),c=(0,o.b)(a.WM.get(),r,s);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=0,n[4]=s[0],n[5]=s[1],n[6]=s[2],n[7]=0,n[8]=c[0],n[9]=c[1],n[10]=c[2],n[11]=0,n[12]=i[0],n[13]=i[1],n[14]=i[2],n[15]=1,n}function b(e,t){var i=e.getViewForGraphic(t);return null!=i&&"computeAttachmentOrigin"in i?i.computeAttachmentOrigin(t,e.spatialReference):null}function S(e,t){var i=t.origin;null==i?function(e,t){if(null==t)return;var i="mesh"===t.type?t.anchor:(0,l.zE)(t);null!=i&&(e.location=(0,s.kB)(i))}(e,(0,c.$)(t)):e.elevationAlignedLocation=i}},52168:function(e,t,i){i.d(t,{_:function(){return f}});var n=i(15671),r=i(43144),o=i(60136),a=i(29388),s=i(29134),c=i(7025),l=i(86244),u=i(66327),h=i(78485),d=i(97882),f=function(e){(0,o.Z)(i,e);var t=(0,a.Z)(i);function i(e){var r;return(0,n.Z)(this,i),(r=t.call(this,e))._resources=null,r._transform=(0,c.Ue)(),r}return(0,r.Z)(i,[{key:"object",get:function(){return null!=this._resources?this._resources.object:null}},{key:"transform",get:function(){return this._transform},set:function(e){(0,s.JG)(this._transform,e),null!=this._resources&&(this._resources.object.transformation=this._transform)}},{key:"recreate",value:function(){this.attached&&this.createResources()}},{key:"recreateGeometry",value:function(){if(null!=this._resources){var e=this._resources.object,t=this.view._stage;t.removeMany(e.geometries),e.removeAllGeometries(),this.createGeometries(e),e.visible=this.visible,t.addMany(e.geometries)}}},{key:"createResources",value:function(){this.destroyResources();var e=this.view._stage;if(e){var t=new d.F(e,{pickable:!1,updatePolicy:h.j.SYNC}),i=new u.T({castShadow:!1});i.transformation=this._transform,this.createExternalResources(),this.createGeometries(i),e.addMany(i.geometries),this.forEachExternalMaterial((function(t){return e.add(t)})),e.add(i),t.add(i),i.visible=this.visible,this._resources={layer:t,object:i}}}},{key:"destroyResources",value:function(){var e=this.view._stage;null!=this._resources&&e&&(e.remove(this._resources.object),this._resources.layer.destroy(),this.forEachExternalMaterial((function(t){e.remove(t)})),e.removeMany(this._resources.object.geometries),this._resources.object.dispose(),this.destroyExternalResources(),this._resources=null)}},{key:"updateVisibility",value:function(e){null!=this._resources&&(this._resources.object.visible=e)}}]),i}(l.l)},43505:function(e,t,i){i.d(t,{A:function(){return c}});var n,r=i(30168),o=i(41012),a=i(58406),s=i(98634);function c(e,t){if(t.screenSizeEnabled){var i=e.vertex;(0,o.hY)(i,t),i.uniforms.add(new a.p("perScreenPixelRatio",(function(e,t){return t.camera.perScreenPixelRatio})),new a.p("screenSizeScale",(function(e){return e.screenSizeScale}))),i.code.add((0,s.H)(n||(n=(0,r.Z)(["float computeRenderPixelSizeAt( vec3 pWorld ){\nvec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);\nfloat viewDirectionDistance = abs(dot(viewForward, pWorld - cameraPosition));\nreturn viewDirectionDistance * perScreenPixelRatio;\n}\nvec3 screenSizeScaling(vec3 position, vec3 anchor){\nreturn position * screenSizeScale * computeRenderPixelSizeAt(anchor) + anchor;\n}"]))))}}},11606:function(e,t,i){i.d(t,{Q:function(){return Z}});var n=i(15671),r=i(43144),o=i(60136),a=i(29388),s=i(32035),c=i(12400),l=i(86361),u=i(41414),h=i(25158),d=i(55158),f=i(37081),v=i(68401),_=i(23620),g=i(56529),p=i(42235),y=i(93822),m=i(97731),b=i(4760),S=i(33236),w=i(27366),T=i(82144),E=i(31132),O=i(33559),L=i(78041),A=i(27627),k=i(25920),R=i(8883),j=i(72511),P=i(8548),F=i(36207),z=function(e){(0,o.Z)(i,e);var t=(0,a.Z)(i);function i(){return(0,n.Z)(this,i),t.apply(this,arguments)}return(0,r.Z)(i,[{key:"initializeProgram",value:function(e){return new A.$(e.rctx,i.shader.get().build(this.configuration),C)}},{key:"_setPipelineState",value:function(e){var t=this.configuration,i=e===k.A.NONE,n=e===k.A.FrontFace;return(0,F.sm)({blending:t.output===f.H_.Color&&t.transparent?i?L.wu:(0,L.j7)(e):null,culling:(0,F.zp)(t.cullFace),depthTest:{func:n?P.wb.LESS:t.shadingEnabled?P.wb.LEQUAL:P.wb.LESS},depthWrite:i?t.writeDepth?F.LZ:null:(0,L.K5)(e),drawBuffers:(0,L.V7)(e),colorWrite:F.BK,polygonOffset:i||n?null:L.E0})}},{key:"initializePipeline",value:function(){return this._setPipelineState(this.configuration.transparencyPassType)}}]),i}(E.A);z.shader=new T.J(j.S,(function(){return i.e(36556).then(i.bind(i,36556))}));var D=function(e){(0,o.Z)(i,e);var t=(0,a.Z)(i);function i(){var e;return(0,n.Z)(this,i),(e=t.apply(this,arguments)).output=f.H_.Color,e.cullFace=v.Vr.None,e.transparencyPassType=k.A.NONE,e.hasSlicePlane=!1,e.transparent=!1,e.writeDepth=!0,e.screenSizeEnabled=!0,e.shadingEnabled=!0,e.multipassEnabled=!1,e.cullAboveGround=!1,e}return(0,r.Z)(i)}(R.W);(0,w._)([(0,O.o)({count:f.H_.COUNT})],D.prototype,"output",void 0),(0,w._)([(0,O.o)({count:v.Vr.COUNT})],D.prototype,"cullFace",void 0),(0,w._)([(0,O.o)({count:k.A.COUNT})],D.prototype,"transparencyPassType",void 0),(0,w._)([(0,O.o)()],D.prototype,"hasSlicePlane",void 0),(0,w._)([(0,O.o)()],D.prototype,"transparent",void 0),(0,w._)([(0,O.o)()],D.prototype,"writeDepth",void 0),(0,w._)([(0,O.o)()],D.prototype,"screenSizeEnabled",void 0),(0,w._)([(0,O.o)()],D.prototype,"shadingEnabled",void 0),(0,w._)([(0,O.o)()],D.prototype,"multipassEnabled",void 0),(0,w._)([(0,O.o)()],D.prototype,"cullAboveGround",void 0),(0,w._)([(0,O.o)({constValue:!1})],D.prototype,"occlusionPass",void 0);var C=new Map([[b.T.POSITION,0],[b.T.NORMAL,1],[b.T.OFFSET,2]]),Z=function(e){(0,o.Z)(i,e);var t=(0,a.Z)(i);function i(e){var r;return(0,n.Z)(this,i),(r=t.call(this,e,new N)).supportsEdges=!0,r.produces=new Map([[y.r.OPAQUE_MATERIAL,function(e){return e===f.H_.Highlight||(0,f.CQ)(e)&&!r._isTransparent}],[y.r.TRANSPARENT_MATERIAL,function(e){return(0,f.CQ)(e)&&r._isTransparent&&r.parameters.writeDepth}],[y.r.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL,function(e){return(0,f.CQ)(e)&&r._isTransparent&&!r.parameters.writeDepth}]]),r._configuration=new D,r._vertexAttributeLocations=C,r}return(0,r.Z)(i,[{key:"getConfiguration",value:function(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this._isTransparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.screenSizeEnabled=this.parameters.screenSizeEnabled,this._configuration.shadingEnabled=this.parameters.shadingEnabled,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.multipassEnabled=t.multipassEnabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration}},{key:"intersect",value:function(e,t,i,n,r,o){var a=this;if(this.parameters.screenSizeEnabled){var c=e.attributes.get(b.T.OFFSET),l={applyToVertex:function(e,t,n,r){var o=(0,s.s)(I,c.data[3*r],c.data[3*r+1],c.data[3*r+2]),l=(0,s.s)(W,e,t,n);return(0,s.j)(o,o,a.parameters.screenSizeScale*i.camera.computeScreenPixelSizeAt(o)),(0,s.g)(l,l,o),[l[0],l[1],l[2]]},applyToAabb:function(e){var t=(0,u.be)(e,I);return(0,u.bA)(e,a.parameters.screenSizeScale*i.camera.computeScreenPixelSizeAt(t))}};(0,p.Bw)(e,i,n,r,l,o)}else(0,p.Bw)(e,i,n,r,void 0,o)}},{key:"createGLMaterial",value:function(e){return new M(e)}},{key:"createBufferWriter",value:function(){return new x(this.parameters.screenSizeEnabled)}},{key:"_isTransparent",get:function(){return this.parameters.color[3]<1||this.parameters.forceTransparentMode}}]),i}(g.F5),M=function(e){(0,o.Z)(i,e);var t=(0,a.Z)(i);function i(){return(0,n.Z)(this,i),t.apply(this,arguments)}return(0,r.Z)(i,[{key:"beginSlot",value:function(e){return this.ensureTechnique(z,e)}}]),i}(_.Z),N=function(e){(0,o.Z)(i,e);var t=(0,a.Z)(i);function i(){var e;return(0,n.Z)(this,i),(e=t.apply(this,arguments)).color=(0,l.al)(1,1,1,1),e.shadingTint=(0,l.al)(0,0,0,.25),e.shadingDirection=(0,s.n)((0,c.Ue)(),[.5,-.5,-.5]),e.screenSizeScale=14,e.forceTransparentMode=!1,e.writeDepth=!0,e.hasSlicePlane=!1,e.cullFace=v.Vr.None,e.screenSizeEnabled=!1,e.shadingEnabled=!0,e}return(0,r.Z)(i)}(g.Mt),x=function(){function e(t){(0,n.Z)(this,e),this.screenSizeEnabled=t;var i=(0,d.U$)().vec3f(b.T.POSITION).vec3f(b.T.NORMAL);this.screenSizeEnabled&&i.vec3f(b.T.OFFSET),this.vertexBufferLayout=i}return(0,r.Z)(e,[{key:"elementCount",value:function(e){return e.attributes.get(b.T.POSITION).indices.length}},{key:"write",value:function(e,t,i,n,r){if((0,S.NK)(i,this.vertexBufferLayout,e,t,n,r),this.screenSizeEnabled){if(!i.attributes.has(b.T.OFFSET))throw new Error("".concat(b.T.OFFSET," vertex attribute required for screenSizeEnabled ShadedColorMaterial"));var o=i.attributes.get(b.T.OFFSET);(0,m.hu)(3===o.size);var a=n.getField(b.T.OFFSET,h.ct);if(!a)throw new Error("unable to acquire view for "+b.T.OFFSET);(0,S.ho)(o,t,a,r)}}}]),e}(),I=(0,c.Ue)(),W=(0,c.Ue)()}}]);
//# sourceMappingURL=10039.687be8c9.chunk.js.map