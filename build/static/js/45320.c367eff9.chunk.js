"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[45320],{42069:function(e,t,i){i.d(t,{A:function(){return m}});var n=i(74165),a=i(15861),r=i(15671),l=i(43144),s=i(88301),o=i(61120),u=i(60136),d=i(29388),v=i(27366),c=i(42537),h=i(66978),p=i(94172),y=i(49861),f=(i(93169),i(32718),i(84936),i(69912)),g=i(5354),m=function(e){var t=function(e){(0,u.Z)(i,e);var t=(0,d.Z)(i);function i(){var e;return(0,r.Z)(this,i),(e=t.apply(this,arguments)).slicePlaneEnabled=!1,e.supportsHeightUnitConversion=!1,e}return(0,l.Z)(i,[{key:"postscript",value:function(){(0,s.Z)((0,o.Z)(i.prototype),"postscript",this).call(this),(0,g.qC)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}},{key:"_validateHeightModelInfo",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,i,a,r=this;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new AbortController,i=t.signal,this.addHandles((0,c.kB)((function(){return t.abort()}))),e.next=4,(0,p.whenOnce)((function(){var e;return null===(e=r.view.defaultsFromMap)||void 0===e?void 0:e.heightModelInfoReady}),i);case 4:if((0,h.k_)(i),!(a=(0,g.Wt)(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion))){e.next=8;break}throw a;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),i}(e);return(0,v._)([(0,y.Cb)()],t.prototype,"view",void 0),(0,v._)([(0,y.Cb)()],t.prototype,"slicePlaneEnabled",void 0),t=(0,v._)([(0,f.j)("esri.views.3d.layers.LayerView3D")],t)}},77385:function(e,t,i){i.d(t,{r:function(){return f}});var n=i(15671),a=i(43144),r=i(60136),l=i(29388),s=i(27366),o=i(10064),u=i(94172),d=i(49861),v=(i(93169),i(32718),i(84936),i(69912)),c=i(20488),h=i(58890),p=i(53379),y=i(69787),f=function(e){var t=function(e){(0,r.Z)(i,e);var t=(0,l.Z)(i);function i(){var e;return(0,n.Z)(this,i),(e=t.apply(this,arguments)).hasMixedImageFormats=!0,e}return(0,a.Z)(i,[{key:"imageFormatIsOpaque",get:function(){return!1}},{key:"fullExtent",get:function(){return this.layer.fullExtent}},{key:"isOpaque",get:function(){return this.fullOpacity>=1&&this.imageFormatIsOpaque}},{key:"visibleAtCurrentScale",get:function(){if(!(0,y.Av)(this.layer.minScale,this.layer.maxScale)||!this.view.terrainScale)return!0;var e=Math.round(this.view.basemapTerrain.tilingScheme.levelAtScale(this.view.terrainScale));return e>=this.displayLevelRange.minLevel&&e<=this.displayLevelRange.maxLevel}},{key:"dataScaleRange",get:function(){var e=this.tileInfo.lods,t=e[0].scale,i=e[e.length-1].scale;if("tilemapCache"in this.layer&&this.layer.tilemapCache){var n=this.layer.tilemapCache,a=n.effectiveMinLOD,r=n.effectiveMaxLOD;t=this.tileInfo.lodAt(a).scale,i=this.tileInfo.lodAt(r).scale}return{minScale:t,maxScale:i}}},{key:"canResume",value:function(){var e,t,i,n=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&(null===(e=this.layer)||void 0===e?void 0:e.loaded)&&!(null!==(t=this.parent)&&void 0!==t&&t.suspended)&&(null===(i=this.view)||void 0===i?void 0:i.ready)&&(0,y.Cy)(n)&&this.visibleAtCurrentTimeExtent||!1}},{key:"dataLevelRange",get:function(){var e=this.dataScaleRange,t=e.minScale,i=e.maxScale;return this.levelRangeFromScaleRange(t,i)}},{key:"displayLevelRange",get:function(){var e=this.layer.minScale||this.dataScaleRange.minScale,t=this.layer.maxScale||this.dataScaleRange.maxScale,i=this.levelRangeFromScaleRange(e,t);return this.layer.maxScale&&i.maxLevel++,i}},{key:"performanceInfo",get:function(){return new c.W(this.view.basemapTerrain.getUsedMemoryForLayerView(this))}},{key:"getTileUrl",value:function(e){return this.layer.getTileUrl(e[0],e[1],e[2])}},{key:"_addTilingSchemeMatchPromise",value:function(){var e=this;if(null==this.fullExtent)return this.addResolvingPromise(Promise.reject(new o.Z("tilingscheme:extent-not-defined","This layer doesn't define a fullExtent.")));var t=this._getTileInfoSupportError(this.tileInfo,this.fullExtent);if(t)return this.addResolvingPromise(Promise.reject(t));this.addResolvingPromise((0,u.whenOnce)((function(){var t,i;return null===(t=e.view)||void 0===t||null===(i=t.basemapTerrain)||void 0===i?void 0:i.tilingSchemeLocked})).then((function(){var t,i=e.view.basemapTerrain.tilingScheme,n="tilemapCache"in e.layer?null===(t=e.layer.tilemapCache)||void 0===t?void 0:t.effectiveMaxLOD:void 0,a=e._getTileInfoCompatibilityError(e.tileInfo,i,n);if(a)throw a})))}},{key:"_getTileInfoSupportError",value:function(e,t){var i,n=(0,p.er)(e,t,this.view.spatialReference,this.view.state.viewingMode,"tilemapCache"in this.layer?null===(i=this.layer.tilemapCache)||void 0===i?void 0:i.effectiveMaxLOD:void 0);if(n){var a={layer:this.layer,error:n};switch(n.name){case"tilingscheme:spatial-reference-mismatch":case"tilingscheme:global-unsupported-spatial-reference":case"tilingscheme:local-unsupported-spatial-reference":return new o.Z("layerview:spatial-reference-incompatible","The spatial reference of this layer does not meet the requirements of the view",a);default:return new o.Z("layerview:tiling-scheme-unsupported","The tiling scheme of this layer is not supported by SceneView",a)}}}},{key:"_getTileInfoCompatibilityError",value:function(e,t,i){return null!=e&&t.compatibleWith(e,i)?null:new o.Z("layerview:tiling-scheme-incompatible","The tiling scheme of this layer is incompatible with the tiling scheme of the surface")}},{key:"levelRangeFromScaleRange",value:function(e,t){var i={minLevel:0,maxLevel:1/0},n=this.view&&this.view.basemapTerrain&&this.view.basemapTerrain.tilingScheme;if(!n)return i;var a=n.levels[0],r=function(e){var t=Math.log(a.scale/e)/Math.LN2;return.5-Math.abs(.5-t%1)<1e-9?Math.round(t):Math.ceil(t)};return null!=e&&e>0&&(i.minLevel=Math.max(0,r(e))),null!=t&&t>0&&(i.maxLevel=Math.max(0,r(t))),i}},{key:"isUpdating",value:function(){return!!(this.view&&this.view.basemapTerrain&&this.view.basemapTerrain.updating)}}]),i}(e);return(0,s._)([(0,d.Cb)({readOnly:!0})],t.prototype,"imageFormatIsOpaque",null),(0,s._)([(0,d.Cb)({readOnly:!0})],t.prototype,"updating",void 0),(0,s._)([(0,d.Cb)(h.q)],t.prototype,"updatingProgress",void 0),(0,s._)([(0,d.Cb)(h.V)],t.prototype,"updatingProgressValue",void 0),(0,s._)([(0,d.Cb)()],t.prototype,"hasMixedImageFormats",void 0),(0,s._)([(0,d.Cb)()],t.prototype,"fullExtent",null),(0,s._)([(0,d.Cb)({readOnly:!0})],t.prototype,"isOpaque",null),(0,s._)([(0,d.Cb)({readOnly:!0})],t.prototype,"visibleAtCurrentScale",null),(0,s._)([(0,d.Cb)()],t.prototype,"dataScaleRange",null),(0,s._)([(0,d.Cb)({readOnly:!0})],t.prototype,"dataLevelRange",null),(0,s._)([(0,d.Cb)({readOnly:!0})],t.prototype,"displayLevelRange",null),(0,s._)([(0,d.Cb)()],t.prototype,"layer",void 0),t=(0,s._)([(0,v.j)("esri.views.3d.layers.TiledLayerView3D")],t)}},67581:function(e,t,i){i.d(t,{Z:function(){return b}});var n=i(15671),a=i(43144),r=i(60136),l=i(29388),s=i(27366),o=i(7138),u=i(91505),d=i(79056),v=i(32718),c=i(92026),h=i(67426),p=i(49861),y=(i(93169),i(84936),i(69912)),f=i(46634),g=i(69787),m=function(e){(0,r.Z)(i,e);var t=(0,l.Z)(i);function i(e){var a;return(0,n.Z)(this,i),(a=t.call(this,e))._updatingHandles=new f.R,a.layer=null,a.parent=null,a}return(0,a.Z)(i,[{key:"initialize",value:function(){var e=this;this.when().catch((function(t){if("layerview:create-error"!==t.name){var i,n=e.layer&&e.layer.id||"no id",a=(null===(i=e.layer)||void 0===i?void 0:i.title)||"no title";v.Z.getLogger(e).error("#resolve()","Failed to resolve layer view (layer title: '".concat(a,"', id: '").concat(n,"')"),t)}}))}},{key:"destroy",value:function(){this._updatingHandles=(0,c.SC)(this._updatingHandles)}},{key:"fullOpacity",get:function(){var e,t,i,n;return(null!==(e=null===(t=this.layer)||void 0===t?void 0:t.opacity)&&void 0!==e?e:1)*(null!==(i=null===(n=this.parent)||void 0===n?void 0:n.fullOpacity)&&void 0!==i?i:1)}},{key:"suspended",get:function(){return this.destroyed||!this.canResume()}},{key:"suspendInfo",get:function(){return this.getSuspendInfo()}},{key:"legendEnabled",get:function(){var e;return!this.suspended&&!0===(null===(e=this.layer)||void 0===e?void 0:e.legendEnabled)}},{key:"updating",get:function(){var e;return!((null===(e=this._updatingHandles)||void 0===e||!e.updating)&&!this.isUpdating())}},{key:"updatingProgress",get:function(){return this.updating?0:1}},{key:"updateSuspended",get:function(){return this.suspended}},{key:"visible",get:function(){var e;return!0===(null===(e=this.layer)||void 0===e?void 0:e.visible)},set:function(e){this._overrideIfSome("visible",e)}},{key:"visibleAtCurrentScale",get:function(){return!0}},{key:"visibleAtCurrentTimeExtent",get:function(){var e,t=this.view.timeExtent,i=null===(e=this.layer)||void 0===e?void 0:e.visibilityTimeExtent;return!t||!i||!t.intersection(i).isEmpty}},{key:"canResume",value:function(){var e,t,i,n=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&(null===(e=this.layer)||void 0===e?void 0:e.loaded)&&!(null!==(t=this.parent)&&void 0!==t&&t.suspended)&&(null===(i=this.view)||void 0===i?void 0:i.ready)&&(0,g.Cy)(n)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}},{key:"getSuspendInfo",value:function(){var e,t,i=null!==(e=this.parent)&&void 0!==e&&e.suspended?this.parent.suspendInfo:{};null!==(t=this.view)&&void 0!==t&&t.ready||(i.viewNotReady=!0),this.layer&&this.layer.loaded||(i.layerNotLoaded=!0);var n=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return(0,g.Cy)(n)&&this.visibleAtCurrentScale||(i.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(i.outsideVisibilityTimeExtent=!0),this.visible||(i.layerInvisible=!0),i}},{key:"isUpdating",value:function(){return!1}}]),i}((0,d.IG)((0,h.v)(u.Z.EventedMixin(o.default))));(0,s._)([(0,p.Cb)()],m.prototype,"view",void 0),(0,s._)([(0,p.Cb)()],m.prototype,"fullOpacity",null),(0,s._)([(0,p.Cb)()],m.prototype,"layer",void 0),(0,s._)([(0,p.Cb)()],m.prototype,"parent",void 0),(0,s._)([(0,p.Cb)({readOnly:!0})],m.prototype,"suspended",null),(0,s._)([(0,p.Cb)({readOnly:!0})],m.prototype,"suspendInfo",null),(0,s._)([(0,p.Cb)({readOnly:!0})],m.prototype,"legendEnabled",null),(0,s._)([(0,p.Cb)({type:Boolean,readOnly:!0})],m.prototype,"updating",null),(0,s._)([(0,p.Cb)({readOnly:!0})],m.prototype,"updatingProgress",null),(0,s._)([(0,p.Cb)()],m.prototype,"updateSuspended",null),(0,s._)([(0,p.Cb)()],m.prototype,"visible",null),(0,s._)([(0,p.Cb)({readOnly:!0})],m.prototype,"visibleAtCurrentScale",null),(0,s._)([(0,p.Cb)({readOnly:!0})],m.prototype,"visibleAtCurrentTimeExtent",null);var b=m=(0,s._)([(0,y.j)("esri.views.layers.LayerView")],m)}}]);
//# sourceMappingURL=45320.c367eff9.chunk.js.map