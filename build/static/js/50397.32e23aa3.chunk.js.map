{"version":3,"file":"static/js/50397.32e23aa3.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/2d/layers/StreamLayerView2D.js","../node_modules/@arcgis/core/views/layers/StreamLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Error.js\";import{handlesGroup as t,makeHandle as s}from\"../../../core/handleUtils.js\";import{watch as n}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../../rest/support/FeatureSet.js\";import c from\"./FeatureLayerView2D.js\";import{handleNoEngineError as l}from\"./support/handleNoEngineError.js\";import h from\"../../layers/StreamLayerView.js\";let p=class extends(h(c)){constructor(){super(...arguments),this.pipelineConnectionStatus=\"disconnected\",this.pipelineErrorString=null}initialize(){this.addHandles([n((()=>this.layer.customParameters),(async e=>{(await this.getWorker()).streamMessenger.updateCustomParameters(e)})),this.layer.on(\"send-message-to-socket\",(async e=>{(await this.getWorker()).streamMessenger.sendMessageToSocket(e)})),this.layer.on(\"send-message-to-client\",(async e=>{(await this.getWorker()).streamMessenger.sendMessageToClient(e),this._isUserPaused&&\"type\"in e&&\"clear\"===e.type&&this.incrementSourceRefreshVersion()})),n((()=>this.layer.purgeOptions),(()=>this._update())),n((()=>this.suspended),this._onSuspendedChange.bind(this))],\"constructor\"),this._doResume()}destroy(){this._doPause()}get connectionError(){return this.pipelineErrorString?new r(\"stream-controller\",this.pipelineErrorString):null}on(e,r){if(Array.isArray(e))return t(e.map((e=>this.on(e,r))));const n=[\"data-received\",\"message-received\"].includes(e);n&&this.getWorker().then((r=>r.streamMessenger.enableEvent(e,!0)));const o=super.on(e,r),i=this;return s((()=>{o.remove(),n&&(i._workerProxy.closed||i.hasEventListener(e)||i.getWorker().then((r=>r.streamMessenger.enableEvent(e,!1))))}))}async queryLatestObservations(e,t){if(!(this.layer.timeInfo?.endField||this.layer.timeInfo?.startField||this.layer.timeInfo?.trackIdField))throw new r(\"streamlayer-no-timeField\",\"queryLatestObservation can only be used with services that define a TrackIdField\");const s=await this.getWorker();return l(s.features.executeQueryForLatestObservations(this._cleanUpQuery(e),t).then((e=>{const r=a.fromJSON(e);return r.features.forEach((e=>{e.layer=this.layer,e.sourceLayer=this.layer})),r})),new a({features:[]}))}detach(){super.detach(),this.pipelineConnectionStatus=\"disconnected\"}get _streamConnectionStatus(){return this.pipelineConnectionStatus}_doPause(){null!=this._refreshInterval&&(clearInterval(this._refreshInterval),this._refreshInterval=null)}_doResume(){this._refreshInterval=setInterval((()=>this.incrementSourceRefreshVersion()),this.layer.updateInterval)}_doDisconnect(){this.getWorker().then((e=>e.streamMessenger.disconnect())),this._doPause()}_doConnect(){this.getWorker().then((e=>e.streamMessenger.connect())),this.resume()}_doClear(){this.getWorker().then((e=>e.streamMessenger.clear())),null==this._refreshInterval&&this.incrementSourceRefreshVersion()}_createClientOptions(){const e=super._createClientOptions(),r=this;return{...e,get container(){return r.featureContainer},setProperty:e=>{this.set(e.propertyName,e.value)}}}};e([o()],p.prototype,\"pipelineConnectionStatus\",void 0),e([o()],p.prototype,\"pipelineErrorString\",void 0),e([o({readOnly:!0})],p.prototype,\"connectionError\",null),e([o({readOnly:!0})],p.prototype,\"_streamConnectionStatus\",null),p=e([i(\"esri.views.2d.layers.StreamLayerView2D\")],p);const u=p;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../../layers/support/FeatureFilter.js\";const r=r=>{let i=class extends r{resume(){this._isUserPaused=!1,this.suspended||this._doResume()}pause(){this._isUserPaused=!0,this.suspended||this._doPause()}disconnect(){this._doDisconnect()}connect(){this._doConnect()}clear(){this._doClear()}constructor(...s){super(...s),this._isUserPaused=!1,this.filter=null}get connectionStatus(){return(this._isUserPaused||this.suspended)&&\"connected\"===this._streamConnectionStatus?\"paused\":this._streamConnectionStatus}_onSuspendedChange(s){s?this._doPause():this._isUserPaused||this._doResume()}};return s([e()],i.prototype,\"_isUserPaused\",void 0),s([e({readOnly:!0})],i.prototype,\"connectionStatus\",null),s([e({type:o})],i.prototype,\"filter\",void 0),i=s([t(\"esri.views.layers.StreamLayerView\")],i),i};export{r as default};\n"],"names":["p","_h","_inherits","_super","_createSuper","_this","_classCallCheck","apply","arguments","pipelineConnectionStatus","pipelineErrorString","_createClass","key","value","_this2","this","addHandles","n","layer","customParameters","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_context","prev","next","getWorker","sent","streamMessenger","updateCustomParameters","stop","_x","on","_ref2","_callee2","_context2","sendMessageToSocket","_x2","_ref3","_callee3","_context3","sendMessageToClient","_isUserPaused","type","incrementSourceRefreshVersion","_x3","purgeOptions","_update","suspended","_onSuspendedChange","bind","_doResume","_doPause","get","r","_this3","Array","isArray","t","map","includes","then","enableEvent","o","_get","_getPrototypeOf","prototype","call","i","s","remove","_workerProxy","closed","hasEventListener","_queryLatestObservations","_callee4","_this$layer$timeInfo","_this$layer$timeInfo2","_this$layer$timeInfo3","_this4","_context4","timeInfo","endField","startField","trackIdField","abrupt","l","features","executeQueryForLatestObservations","_cleanUpQuery","a","forEach","sourceLayer","_x4","_x5","_refreshInterval","clearInterval","_this5","setInterval","updateInterval","disconnect","connect","resume","clear","_this6","_objectSpread","container","featureContainer","setProperty","set","propertyName","h","c","readOnly","u","_r","_len","length","_key","concat","filter","_doDisconnect","_doConnect","_doClear","_streamConnectionStatus"],"sourceRoot":""}