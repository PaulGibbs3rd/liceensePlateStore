"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[33388,20519],{20519:function(e,r,t){t.r(r),t.d(r,{populateGroupLayer:function(){return P},populateOperationalLayers:function(){return b}});var a=t(74165),n=t(37762),u=t(1413),i=t(15861),o=t(80987),l=(t(93169),t(28458)),c=t(19610),s=t(98995);function p(e){return f(e,"notes")}function y(e){return f(e,"markup")}function d(e){return f(e,"route")}function f(e,r){return!(!e.layerType||"ArcGISFeatureLayer"!==e.layerType)&&e.featureCollectionType===r}var v=t(43139),L=t(21371);function b(e,r,t){return h.apply(this,arguments)}function h(){return h=(0,i.Z)((0,a.Z)().mark((function e(r,t,u){var i,o,l,c,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return i=t.map((function(e){return M(e,u)})),e.next=5,Promise.allSettled(i);case 5:o=e.sent,l=(0,n.Z)(o);try{for(l.s();!(c=l.n()).done;)"rejected"===(s=c.value).status||s.value&&r.add(s.value)}catch(a){l.e(a)}finally{l.f()}case 8:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}var S={ArcGISDimensionLayer:"DimensionLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISSceneServiceLayer:"SceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BuildingSceneLayer:"BuildingSceneLayer",CatalogLayer:"CatalogLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoJSON:"GeoJSONLayer",GroupLayer:"GroupLayer",IntegratedMesh3DTilesLayer:"IntegratedMesh3DTilesLayer",IntegratedMeshLayer:"IntegratedMeshLayer",KML:"KMLLayer",LineOfSightLayer:"LineOfSightLayer",MediaLayer:"MediaLayer",OGCFeatureLayer:"OGCFeatureLayer",PointCloudLayer:"PointCloudLayer",RasterDataLayer:"UnsupportedLayer",VectorTileLayer:"VectorTileLayer",Voxel:"VoxelLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},m={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},x={ArcGISFeatureLayer:"FeatureLayer"},I={ArcGISImageServiceLayer:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",ArcGISSceneServiceLayer:"SceneLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",DefaultTileLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WMS:"UnsupportedLayer",WebTiledLayer:"WebTileLayer"},T={ArcGISAnnotationLayer:"UnsupportedLayer",ArcGISDimensionLayer:"UnsupportedLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",CatalogLayer:"CatalogLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoJSON:"GeoJSONLayer",GeoRSS:"GeoRSSLayer",GroupLayer:"GroupLayer",KML:"KMLLayer",KnowledgeGraphLayer:"KnowledgeGraphLayer",MediaLayer:"MediaLayer",OGCFeatureLayer:"OGCFeatureLayer",OrientedImageryLayer:"OrientedImageryLayer",SubtypeGroupLayer:"SubtypeGroupLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},g={ArcGISFeatureLayer:"FeatureLayer",SubtypeGroupTable:"UnsupportedLayer"},k={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",DefaultTileLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},w=(0,u.Z)((0,u.Z)({},T),{},{LinkChartLayer:"LinkChartLayer"}),Z=(0,u.Z)({},g),G=(0,u.Z)({},k);function M(e,r){return A.apply(this,arguments)}function A(){return A=(0,i.Z)((0,a.Z)().mark((function e(r,t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=C,e.next=3,O(r,t);case 3:return e.t1=e.sent,e.t2=r,e.t3=t,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 7:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}function C(e,r,t){return F.apply(this,arguments)}function F(){return F=(0,i.Z)((0,a.Z)().mark((function e(r,t,n){var u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((u=new r).read(t,n.context),e.t0="group"===u.type,!e.t0){e.next=17;break}if("GroupLayer"!==t.layerType){e.next=9;break}return e.next=7,P(u,t,n);case 7:e.next=17;break;case 9:if(!U(t)){e.next=13;break}B(u,t,n.context),e.next=17;break;case 13:if(e.t1=W(t),!e.t1){e.next=17;break}return e.next=17,R(u,t,n.context);case 17:return e.next=19,(0,L.y)(u,n.context);case 19:return e.abrupt("return",u);case 20:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}function O(e,r){return D.apply(this,arguments)}function D(){return D=(0,i.Z)((0,a.Z)().mark((function e(r,t){var n,u,i,o,f,L,b,h,S,m;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.context,o=V(i),!(f=r.layerType||r.type)&&(null===t||void 0===t?void 0:t.defaultLayerType)&&(f=t.defaultLayerType),L=o[f],b=L?c.T[L]:c.T.UnknownLayer,!U(r)){e.next=20;break}if(h=null===i||void 0===i?void 0:i.portal,!r.itemId){e.next=18;break}return S=new s.default({id:r.itemId,portal:h}),e.next=11,S.load();case 11:return e.next=13,(0,v.selectLayerClassPath)(S,new l.L);case 13:if(e.t0=e.sent.className,e.t0){e.next=16;break}e.t0="UnknownLayer";case 16:m=e.t0,b=c.T[m];case 18:e.next=21;break;case 20:"ArcGISFeatureLayer"===f?p(r)||y(r)?b=c.T.MapNotesLayer:d(r)?b=c.T.RouteLayer:W(r)&&(b=c.T.GroupLayer):null!==(n=r.wmtsInfo)&&void 0!==n&&n.url&&r.wmtsInfo.layerIdentifier?b=c.T.WMTSLayer:"WFS"===f&&"2.0.0"!==(null===(u=r.wfsInfo)||void 0===u?void 0:u.version)&&(b=c.T.UnsupportedLayer);case 21:return e.abrupt("return",b());case 22:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}function W(e){var r,t,a;return"ArcGISFeatureLayer"===e.layerType&&!U(e)&&(null!==(r=null===(t=e.featureCollection)||void 0===t||null===(a=t.layers)||void 0===a?void 0:a.length)&&void 0!==r?r:0)>1}function U(e){return"Feature Collection"===e.type}function V(e){var r;switch(e.origin){case"web-scene":switch(e.layerContainerType){case"basemap":r=I;break;case"ground":r=m;break;case"tables":r=x;break;default:r=S}break;case"link-chart":switch(e.layerContainerType){case"basemap":r=G;break;case"tables":r=Z;break;default:r=w}break;default:switch(e.layerContainerType){case"basemap":r=k;break;case"tables":r=g;break;default:r=T}}return r}function P(e,r,t){return E.apply(this,arguments)}function E(){return E=(0,i.Z)((0,a.Z)().mark((function e(r,t,u){var i,l,c,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new o.Z,l=b(i,Array.isArray(t.layers)?t.layers:[],u),e.prev=1,e.prev=2,e.next=5,l;case 5:if("group"!==r.type){e.next=7;break}return e.abrupt("return",(r.layers.addMany(i),r));case 7:e.next=15;break;case 9:e.prev=9,e.t0=e.catch(2),r.destroy(),c=(0,n.Z)(i);try{for(c.s();!(s=c.n()).done;)s.value.destroy()}catch(a){c.e(a)}finally{c.f()}throw e.t0;case 15:e.next=20;break;case 17:throw e.prev=17,e.t1=e.catch(1),e.t1;case 20:case"end":return e.stop()}}),e,null,[[1,17],[2,9]])}))),E.apply(this,arguments)}function B(e,r,t){r.itemId&&(e.portalItem=new s.default({id:r.itemId,portal:null===t||void 0===t?void 0:t.portal}),e.when((function(){var a,n,u=function(a){var n,u,i=a.layerId;J(a,e,r,i,t);var o=null===(n=r.featureCollection)||void 0===n||null===(u=n.layers)||void 0===u?void 0:u[i];o&&a.read(o,t)};null!==(a=e.layers)&&void 0!==a&&a.forEach(u),null===(n=e.tables)||void 0===n||n.forEach(u)})))}function R(e,r,t){return N.apply(this,arguments)}function N(){return N=(0,i.Z)((0,a.Z)().mark((function e(r,t,n){var i,o,l,s,p,y;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.T.FeatureLayer,e.next=3,o();case 3:l=e.sent,s=t.featureCollection,p=null===s||void 0===s?void 0:s.showLegend,y=null===s||void 0===s||null===(i=s.layers)||void 0===i?void 0:i.map((function(e,a){var i=new l;i.read(e,n);var o=(0,u.Z)((0,u.Z)({},n),{},{ignoreDefaults:!0});return J(i,r,t,a,o),null!=p&&i.read({showLegend:p},o),i})),r.layers.addMany(null!==y&&void 0!==y?y:[]);case 8:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function J(e,r,t,a,n){var u,i;e.read({id:"".concat(r.id,"-sublayer-").concat(a),visibility:null===(u=null===(i=t.visibleLayers)||void 0===i?void 0:i.includes(a))||void 0===u||u},n)}},32698:function(e,r,t){t.d(r,{Y:function(){return o},h:function(){return i}});var a=t(1413),n=t(35995),u=t(7575);function i(e,r){return(0,a.Z)((0,a.Z)({},l(e,r)),{},{readResourcePaths:[]})}function o(e,r,t){var u=(0,n.mN)(e.itemUrl);return(0,a.Z)((0,a.Z)({},l(e,r)),{},{messages:[],writtenProperties:[],blockedRelativeUrls:[],verifyItemRelativeUrls:u?{rootPath:u.path,writtenUrls:[]}:null,resources:t?{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}:null})}function l(e,r){return{origin:r,url:(0,n.mN)(e.itemUrl),portal:e.portal||u.Z.getDefault(),portalItem:e}}},33388:function(e,r,t){t.r(r),t.d(r,{load:function(){return m}});var a=t(37762),n=t(93433),u=t(29439),i=t(74165),o=t(15861),l=t(10064),c=t(25899),s=t(74368),p=t(28458),y=t(20519),d=t(19610),f=t(7575),v=t(32698),L=t(97827),b=t(73117),h=t(21371),S=t(41226);function m(e,r){return x.apply(this,arguments)}function x(){return(x=(0,o.Z)((0,i.Z)().mark((function e(r,t){var a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(a=r.instance.portalItem)||void 0===a||!a.id){e.next=7;break}return e.next=4,a.load(t);case 4:return I(r),r.validateItem&&r.validateItem(a),e.abrupt("return",T(r,t));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){var r=e.instance.portalItem;if(null===r||void 0===r||!r.type||!e.supportedTypes.includes(r.type))throw new l.Z("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:null===r||void 0===r?void 0:r.type,expectedType:e.supportedTypes.join(", ")})}function T(e,r){return g.apply(this,arguments)}function g(){return(g=(0,o.Z)((0,i.Z)().mark((function e(r,t){var a,n,u,o,l,c,s,y;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.instance,u=n.portalItem){e.next=3;break}return e.abrupt("return");case 3:if(o=u.url,l=u.title,c=(0,v.h)(u,"portal-item"),"group"!==n.type){e.next=6;break}return e.abrupt("return",k(n,c,r));case 6:return o&&"media"!==n.type&&n.read({url:o},c),s=new p.L,e.next=10,U(r,s,t);case 10:return y=e.sent,e.abrupt("return",(y&&n.read(y,c),n.resourceReferences={portalItem:u,paths:null!==(a=c.readResourcePaths)&&void 0!==a?a:[]},"subtype-group"!==n.type&&n.read({title:l},c),(0,h.y)(n,c)));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,r,t){return w.apply(this,arguments)}function w(){return(w=(0,o.Z)((0,i.Z)().mark((function e(r,t,a){var n,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.portalItem,r.sourceIsPortalItem){e.next=3;break}return e.abrupt("return");case 3:if(u=n.title,"Group Layer"!==n.type){e.next=8;break}if((0,b._$)(n,"Map")){e.next=7;break}throw new l.Z("portal:invalid-layer-item-typekeyword","'Group Layer' item without 'Map' type keyword is not supported");case 7:return e.abrupt("return",Z(r));case 8:return e.abrupt("return",(r.read({title:u},t),M(r,a)));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return G.apply(this,arguments)}function G(){return(G=(0,o.Z)((0,i.Z)().mark((function e(r){var t,a,n,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.portalItem,e.next=3,a.fetchData("json");case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return");case 6:return u=(0,v.h)(a,"web-map"),r.read(n,u),e.next=10,(0,y.populateGroupLayer)(r,n,{context:u});case 10:r.resourceReferences={portalItem:a,paths:null!==(t=u.readResourcePaths)&&void 0!==t?t:[]};case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,r){return A.apply(this,arguments)}function A(){return(A=(0,o.Z)((0,i.Z)().mark((function e(r,t){var a,n,o,c,s,y,d,f,v,b,h,S,m;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.portalItem){e.next=3;break}return e.abrupt("return");case 3:o=n.type,c=t.layerModuleTypeMap,e.t0=o,e.next="Feature Service"===e.t0||"Feature Collection"===e.t0?7:"Stream Service"===e.t0?9:"Scene Service"===e.t0?11:13;break;case 7:return a=c.FeatureLayer,e.abrupt("break",14);case 9:return a=c.StreamLayer,e.abrupt("break",14);case 11:return a=c.SceneLayer,e.abrupt("break",14);case 13:throw new l.Z("portal:unsupported-item-type-as-group","The item type '".concat(o,"' is not supported as a 'IGroupLayer'"));case 14:return s=new p.L,e.next=17,Promise.all([a(),U(t,s)]);case 17:if(y=e.sent,d=(0,u.Z)(y,2),f=d[0],v=d[1],b=function(){return f},"Feature Service"!==o){e.next=44;break}if(S=null===(h=(0,L.uE)(v))||void 0===h?void 0:h.customParameters,!n.url){e.next=30;break}return e.next=27,(0,L.$O)(v,n.url,s);case 27:e.t1=e.sent,e.next=31;break;case 30:e.t1={};case 31:return v=e.t1,e.next=34,K(v,c);case 34:if(e.t2=e.sent,e.t2){e.next=37;break}e.t2=b;case 37:return b=e.t2,e.next=40,N(n.url,{customParameters:S,loadContext:s});case 40:return m=e.sent,e.next=43,O(r,b,v,m);case 43:return e.abrupt("return",e.sent);case 44:if(e.t3="Scene Service"===o&&n.url,!e.t3){e.next=49;break}return e.next=48,(0,L.CD)(n,v,s);case 48:v=e.sent;case 49:if(!((0,L.Q4)(v)>0)){e.next=55;break}return e.next=52,O(r,b,v);case 52:e.t4=e.sent,e.next=58;break;case 55:return e.next=57,C(r,b);case 57:e.t4=e.sent;case 58:return e.abrupt("return",e.t4);case 59:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,r){return F.apply(this,arguments)}function F(){return(F=(0,o.Z)((0,i.Z)().mark((function e(r,t){var a,n,u,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(u=r.portalItem)&&void 0!==u&&u.url){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,S.T)(u.url);case 5:(o=e.sent)&&O(r,t,{layers:null===(a=o.layers)||void 0===a?void 0:a.map(L.bS),tables:null===(n=o.tables)||void 0===n?void 0:n.map(L.bS)});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,r,t,a){return D.apply(this,arguments)}function D(){return(D=(0,o.Z)((0,i.Z)().mark((function e(r,t,a,n){var u,o,l,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a.layers||[],l=a.tables||[],"Feature Collection"===(null===(u=r.portalItem)||void 0===u?void 0:u.type)?(o.forEach((function(e,r){var t;e.id=r,"Table"===(null===e||void 0===e||null===(t=e.layerDefinition)||void 0===t?void 0:t.type)&&l.push(e)})),o=o.filter((function(e){var r;return"Table"!==(null===e||void 0===e||null===(r=e.layerDefinition)||void 0===r?void 0:r.type)}))):(o.reverse(),l.reverse()),o.forEach((function(e){var u=null===n||void 0===n?void 0:n(e);if(u||!n){var i=W(r,t(e),a,e,u);r.add(i)}})),!l.length){e.next=7;break}return e.next=5,d.T.FeatureLayer();case 5:c=e.sent,l.forEach((function(e){var t=null===n||void 0===n?void 0:n(e);if(t||!n){var u=W(r,c,a,e,t);r.tables.add(u)}}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,r,t,a,n){var u=e.portalItem,i={portalItem:u.clone(),layerId:a.id};null!=a.url&&(i.url=a.url);var o=new r(i);if("sourceJSON"in o&&(o.sourceJSON=n),"subtype-group"!==o.type&&"catalog"!==o.type&&(o.sublayerTitleMode="service-name"),"Feature Collection"===u.type){var l={origin:"portal-item",portal:u.portal||f.Z.getDefault()};o.read(a,l);var c=t.showLegend;null!=c&&o.read({showLegend:c},l)}return o}function U(e,r,t){return V.apply(this,arguments)}function V(){return(V=(0,o.Z)((0,i.Z)().mark((function e(r,t,a){var n,u,o,l,c,s,p,y,d,f;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==r.supportsData){e.next=2;break}return e.abrupt("return");case 2:if(n=r.instance,u=n.portalItem){e.next=5;break}return e.abrupt("return");case 5:return o=null,e.prev=6,e.next=9,u.fetchData("json",a);case 9:o=e.sent,e.next=14;break;case 12:e.prev=12,e.t0=e.catch(6);case 14:if(!R(n)){e.next=21;break}return s=null,e.next=18,P(u,o,t);case 18:return p=e.sent,(null!==(l=o)&&void 0!==l&&l.layers||null!==(c=o)&&void 0!==c&&c.tables)&&p>0&&(null==n.layerId&&(d=(0,L.ZC)(n.type),(f=d?(0,L.r9)(o,d)[0]:(0,L.uE)(o))&&(n.layerId=f.id)),s=B(o,n),"OrientedImageryLayer"===(null===(y=s)||void 0===y?void 0:y.layerType)&&"oriented-imagery"===n.type&&n.supportedSourceTypes.add("Feature Layer"),s&&null!=o.showLegend&&(s.showLegend=o.showLegend)),e.abrupt("return",(p>1&&"sublayerTitleMode"in n&&"service-name"!==n.sublayerTitleMode&&(n.sublayerTitleMode="item-title-and-service-name"),s));case 21:return e.abrupt("return",o);case 22:case"end":return e.stop()}}),e,null,[[6,12]])})))).apply(this,arguments)}function P(e,r,t){return E.apply(this,arguments)}function E(){return(E=(0,o.Z)((0,i.Z)().mark((function e(r,t,a){var n,u,o,l,s,p,y,d,f,v,b;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t||void 0===t||!t.layers||null===t||void 0===t||!t.tables){e.next=2;break}return e.abrupt("return",(0,L.Q4)(t));case 2:if(v=(0,c.Qc)(r.url)){e.next=5;break}return e.abrupt("return",1);case 5:return e.next=7,a.fetchServiceMetadata(v.url.path,{customParameters:null===(n=(0,L.uE)(t))||void 0===n?void 0:n.customParameters}).catch((function(){return null}));case 7:return b=e.sent,e.abrupt("return",(null!==(u=null!==(o=null===t||void 0===t||null===(l=t.layers)||void 0===l?void 0:l.length)&&void 0!==o?o:null===b||void 0===b||null===(s=b.layers)||void 0===s?void 0:s.length)&&void 0!==u?u:0)+(null!==(p=null!==(y=null===t||void 0===t||null===(d=t.tables)||void 0===d?void 0:d.length)&&void 0!==y?y:null===b||void 0===b||null===(f=b.tables)||void 0===f?void 0:f.length)&&void 0!==p?p:0));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,r){var t,a,n=r.layerId,u=(null===(t=e.layers)||void 0===t?void 0:t.find((function(e){return e.id===n})))||(null===(a=e.tables)||void 0===a?void 0:a.find((function(e){return e.id===n})));return u&&function(e,r){var t="layerType"in e&&e.layerType,a=r.type;return!("feature"===a&&t&&"ArcGISFeatureLayer"!==e.layerType||"catalog"===a&&!t||"oriented-imagery"===a&&!t||"subtype-group"===a&&!t)}(u,r)?u:null}function R(e){return"stream"!==e.type&&"layerId"in e}function N(e,r){return J.apply(this,arguments)}function J(){return(J=(0,o.Z)((0,i.Z)().mark((function e(r,t){var a,u,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.V)(r,t);case 2:if(a=e.sent,u=a.layersJSON){e.next=6;break}return e.abrupt("return",null);case 6:return o=[].concat((0,n.Z)(u.layers),(0,n.Z)(u.tables)),e.abrupt("return",(function(e){return o.find((function(r){return r.id===e.id}))}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,r){return j.apply(this,arguments)}function j(){return(j=(0,o.Z)((0,i.Z)().mark((function e(r,t){var n,u,o,l,c,s,p,y,d,f;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=r.layers)&&void 0!==n&&n.length){e.next=3;break}return e.abrupt("return");case 3:u=new Set,o=[],l=(0,a.Z)(n),e.prev=5,l.s();case 7:if((c=l.n()).done){e.next=17;break}if(s=c.value.layerType,p=null!==s&&void 0!==s?s:"ArcGISFeatureLayer",!u.has(p)){e.next=12;break}return e.abrupt("continue",15);case 12:u.add(p),y=t[(0,L.qT)(p)],o.push(y());case 15:e.next=7;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),l.e(e.t0);case 22:return e.prev=22,l.f(),e.finish(22);case 25:return e.next=27,Promise.all(o);case 27:return d=e.sent,f=new Map,e.abrupt("return",(Array.from(u).forEach((function(e,r){f.set(e,d[r])})),function(e){var r=e.layerType,t=null!==r&&void 0!==r?r:"ArcGISFeatureLayer";return f.get(t)}));case 30:case"end":return e.stop()}}),e,null,[[5,19,22,25]])})))).apply(this,arguments)}}}]);
//# sourceMappingURL=33388.ef08f60a.chunk.js.map