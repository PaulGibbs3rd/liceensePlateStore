"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[73558],{73558:function(e,t,i){i.r(t),i.d(t,{default:function(){return x}});var n=i(37762),r=i(74165),a=i(15861),s=i(15671),u=i(43144),o=i(60136),l=i(29388),h=i(27366),c=i(52639),d=i(63780),f=i(80987),g=i(42537),v=i(92026),p=i(49861),_=(i(93169),i(32718),i(69912)),y=i(8841),m=i(65457),k=i(75391),b=i(85992),w=i(16547),Z=i(67581),C=function(e){(0,o.Z)(i,e);var t=(0,l.Z)(i);function i(){var e;return(0,s.Z)(this,i),(e=t.apply(this,arguments))._highlightCounter=new w.i,e}return(0,u.Z)(i,[{key:"attach",value:function(){var e=this;this.graphicsView=new b.Z({requestUpdateCallback:function(){return e.requestUpdate()},view:this.view,graphics:this.layer.graphics,container:new k.Z(this.view.featuresTilingScheme),layerId:this.layer.id}),this.container.addChild(this.graphicsView.container),this.addAttachHandles([this.layer.on("graphic-update",this.graphicsView.graphicUpdateHandler),this.watch("layer.visible",(function(t){t&&(e.graphicsView.update({state:e.view.state}),e.graphicsView.pushUpdate())}))]),this._updateHighlight()}},{key:"detach",value:function(){this.container.removeAllChildren(),this.graphicsView=(0,v.SC)(this.graphicsView)}},{key:"hitTest",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var i=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.graphicsView?this.graphicsView.hitTest(t).map((function(e){return{type:"graphic",graphic:e,mapPoint:t,layer:i.layer}})):null);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryGraphics",value:function(){return Promise.resolve(this.graphicsView.graphics)}},{key:"update",value:function(e){this.graphicsView.processUpdate(e)}},{key:"viewChange",value:function(){this.graphicsView.viewChange()}},{key:"moveEnd",value:function(){}},{key:"isUpdating",value:function(){return!this.graphicsView||this.graphicsView.updating}},{key:"highlight",value:function(e){var t,i,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"highlight";"number"==typeof e?i=[e]:e instanceof c.Z?i=[e.uid]:Array.isArray(e)&&e.length>0?i="number"==typeof e[0]?e:e.map((function(e){return e&&e.uid})):f.Z.isCollection(e)&&e.length>0&&(i=e.map((function(e){return e&&e.uid})).toArray());var a=null===(t=i)||void 0===t?void 0:t.filter(d.pC);return null!==a&&void 0!==a&&a.length?(this._addHighlight(a,r),(0,g.kB)((function(){return n._removeHighlight(a,r)}))):(0,g.kB)()}},{key:"_addHighlight",value:function(e,t){this._highlightCounter.addReason(e,t),this._updateHighlight()}},{key:"_removeHighlight",value:function(e,t){this._highlightCounter.deleteReason(e,t),this._updateHighlight()}},{key:"_updateHighlight",value:function(){var e,t,i=[],r=(0,n.Z)(this._highlightCounter.ids());try{for(r.s();!(t=r.n()).done;){var a=t.value,s=this._highlightCounter.getHighlightReason(a),u=(0,y.ck)(s);i.push({objectId:a,highlightFlags:u})}}catch(o){r.e(o)}finally{r.f()}null===(e=this.graphicsView)||void 0===e||e.setHighlight(i)}}]),i}((0,m.y)(Z.Z));(0,h._)([(0,p.Cb)()],C.prototype,"graphicsView",void 0);var x=C=(0,h._)([(0,_.j)("esri.views.2d.layers.GraphicsLayerView2D")],C)},39444:function(e,t,i){i.d(t,{K:function(){return T}});var n=i(37762),r=i(15671),a=i(43144),s=i(88301),u=i(61120),o=i(60136),l=i(29388),h=i(92026),c=i(58880),d=i(80613),f=i(97890),g=i(93560),v=i(66759),p=0;function _(e,t){return new f.G((0,v.W)(p++),e,t)}var y={visualVariableColor:null,visualVariableOpacity:null,visualVariableSizeMinMaxValue:null,visualVariableSizeScaleStops:null,visualVariableSizeStops:null,visualVariableSizeUnitValue:null,visualVariableRotation:null,visualVariableSizeOutlineScaleStops:null},m=function(){function e(){(0,r.Z)(this,e),this.instances={fill:_(g.k2.fill,{uniforms:y,optionalAttributes:{zoomRange:!0}}),marker:_(g.k2.marker,{uniforms:y,optionalAttributes:{zoomRange:!0}}),line:_(g.k2.line,{uniforms:y,optionalAttributes:{zoomRange:!0}}),text:_(g.k2.text,{uniforms:y,optionalAttributes:{zoomRange:!0,referenceSymbol:!1,clipAngle:!1}}),complexFill:_(g.k2.complexFill,{uniforms:y,optionalAttributes:{zoomRange:!0}}),texturedLine:_(g.k2.texturedLine,{uniforms:y,optionalAttributes:{zoomRange:!0}})},this._instancesById=Object.values(this.instances).reduce((function(e,t){return e.set(t.instanceId,t),e}),new Map)}return(0,a.Z)(e,[{key:"getInstance",value:function(e){return this._instancesById.get(e)}}]),e}(),k=i(29303),b=i(8768),w=i(30932),Z=i(93311),C=i(91340),x=i(87422),R=i(84319),V=i(44070),A=i(8548),S=i(45412),M=Math.PI/180,H=function(e){(0,o.Z)(i,e);var t=(0,l.Z)(i);function i(e){var n;return(0,r.Z)(this,i),(n=t.call(this))._program=null,n._vao=null,n._vertexBuffer=null,n._indexBuffer=null,n._dvsMat3=(0,b.Ue)(),n._localOrigin={x:0,y:0},n._getBounds=e,n}return(0,a.Z)(i,[{key:"destroy",value:function(){this._vao&&(this._vao.dispose(),this._vao=null,this._vertexBuffer=null,this._indexBuffer=null),this._program=(0,h.M2)(this._program)}},{key:"doRender",value:function(e){var t=e.context,i=this._getBounds();if(!(i.length<1)){this._createShaderProgram(t),this._updateMatricesAndLocalOrigin(e),this._updateBufferData(t,i),t.setBlendingEnabled(!0),t.setDepthTestEnabled(!1),t.setStencilWriteMask(0),t.setStencilTestEnabled(!1),t.setBlendFunction(A.zi.ONE,A.zi.ONE_MINUS_SRC_ALPHA),t.setColorMask(!0,!0,!0,!0);var n=this._program;t.bindVAO(this._vao),t.useProgram(n),n.setUniformMatrix3fv("u_dvsMat3",this._dvsMat3),t.gl.lineWidth(1),t.drawElements(A.MX.LINES,8*i.length,A.g.UNSIGNED_INT,0),t.bindVAO()}}},{key:"_createTransforms",value:function(){return{displayViewScreenMat3:(0,b.Ue)()}}},{key:"_createShaderProgram",value:function(e){if(!this._program){this._program=e.programCache.acquire("precision highp float;\n        uniform mat3 u_dvsMat3;\n\n        attribute vec2 a_position;\n\n        void main() {\n          mediump vec3 pos = u_dvsMat3 * vec3(a_position, 1.0);\n          gl_Position = vec4(pos.xy, 0.0, 1.0);\n        }","precision mediump float;\n      void main() {\n        gl_FragColor = vec4(0.75, 0.0, 0.0, 0.75);\n      }",B().attributes)}}},{key:"_updateMatricesAndLocalOrigin",value:function(e){var t=e.state,i=t.displayMat3,n=t.size,r=t.resolution,a=t.pixelRatio,s=t.rotation,u=t.viewpoint,o=M*s,l=u.targetGeometry,h=l.x,c=l.y,d=(0,C.or)(h,t.spatialReference);this._localOrigin.x=d,this._localOrigin.y=c;var f=a*n[0],g=a*n[1],v=r*f,p=r*g,_=(0,k.yR)(this._dvsMat3);(0,k.Jp)(_,_,i),(0,k.Iu)(_,_,(0,w.al)(f/2,g/2)),(0,k.bA)(_,_,(0,Z.al)(n[0]/v,-g/p,1)),(0,k.U1)(_,_,-o)}},{key:"_updateBufferData",value:function(e,t){var i,r=this._localOrigin,a=r.x,s=r.y,u=8*t.length,o=new Float32Array(u),l=new Uint32Array(8*t.length),h=0,c=0,d=(0,n.Z)(t);try{for(d.s();!(i=d.n()).done;){var f=i.value;f&&(o[2*h]=f[0]-a,o[2*h+1]=f[1]-s,o[2*h+2]=f[0]-a,o[2*h+3]=f[3]-s,o[2*h+4]=f[2]-a,o[2*h+5]=f[3]-s,o[2*h+6]=f[2]-a,o[2*h+7]=f[1]-s,l[c]=h+0,l[c+1]=h+3,l[c+2]=h+3,l[c+3]=h+2,l[c+4]=h+2,l[c+5]=h+1,l[c+6]=h+1,l[c+7]=h+0,h+=4,c+=8)}}catch(v){d.e(v)}finally{d.f()}if(this._vertexBuffer?this._vertexBuffer.setData(o.buffer):this._vertexBuffer=V.f.createVertex(e,A.l1.DYNAMIC_DRAW,o.buffer),this._indexBuffer?this._indexBuffer.setData(l):this._indexBuffer=V.f.createIndex(e,A.l1.DYNAMIC_DRAW,l),!this._vao){var g=B();this._vao=new S.U(e,g.attributes,g.bufferLayouts,{geometry:this._vertexBuffer},this._indexBuffer)}}}]),i}(x.s),B=function(){return(0,R.cM)("bounds",{geometry:[{location:0,name:"a_position",count:2,type:A.g.FLOAT}]})},T=function(e){(0,o.Z)(i,e);var t=(0,l.Z)(i);function i(e){var n;return(0,r.Z)(this,i),(n=t.call(this,e))._instanceStore=new m,n.checkHighlight=function(){return!0},n}return(0,a.Z)(i,[{key:"destroy",value:function(){(0,s.Z)((0,u.Z)(i.prototype),"destroy",this).call(this),this._boundsRenderer=(0,h.SC)(this._boundsRenderer)}},{key:"instanceStore",get:function(){return this._instanceStore}},{key:"enableRenderingBounds",value:function(e){this._boundsRenderer=new H(e),this.requestRender()}},{key:"hasHighlight",get:function(){return this.checkHighlight()}},{key:"onTileData",value:function(e,t){e.onMessage(t),this.contains(e)||this.addChild(e),this.requestRender()}},{key:"_renderChildren",value:function(e,t){e.selection=t;var i,r=(0,n.Z)(this.children);try{for(r.s();!(i=r.n()).done;){var a=i.value;if(a.visible){var s=a.getDisplayList(this._instanceStore,d.gl.STRICT_ORDER);null===s||void 0===s||s.render(e)}}}catch(u){r.e(u)}finally{r.f()}}}]),i}(c.b)},75391:function(e,t,i){i.d(t,{Z:function(){return f}});var n=i(37762),r=i(15671),a=i(43144),s=i(88301),u=i(61120),o=i(60136),l=i(29388),h=i(80613),c=i(39444),d=i(39594),f=function(e){(0,o.Z)(i,e);var t=(0,l.Z)(i);function i(){return(0,r.Z)(this,i),t.apply(this,arguments)}return(0,a.Z)(i,[{key:"renderChildren",value:function(e){var t,r=(0,n.Z)(this.children);try{for(r.s();!(t=r.n()).done;){t.value.setTransform(e.state)}}catch(a){r.e(a)}finally{r.f()}if((0,s.Z)((0,u.Z)(i.prototype),"renderChildren",this).call(this,e),this.attributeView.update(),this.children.some((function(e){return e.hasData}))){switch(e.drawPhase){case h.jx.MAP:this._renderChildren(e,h.Xq.All);break;case h.jx.HIGHLIGHT:this.hasHighlight&&this._renderHighlight(e)}this._boundsRenderer&&this._boundsRenderer.doRender(e)}}},{key:"_renderHighlight",value:function(e){var t=this;(0,d.P9)(e,!1,(function(e){t._renderChildren(e,h.Xq.Highlight)}))}}]),i}(c.K)},16547:function(e,t,i){i.d(t,{i:function(){return u}});var n=i(37762),r=i(15671),a=i(43144),s=i(8841),u=function(){function e(){(0,r.Z)(this,e),this._idToCounters=new Map}return(0,a.Z)(e,[{key:"empty",get:function(){return 0===this._idToCounters.size}},{key:"addReason",value:function(e,t){var i,r=(0,n.Z)(e);try{for(r.s();!(i=r.n()).done;){var a=i.value,s=this._idToCounters.get(a);s||(s=new Map,this._idToCounters.set(a,s)),s.set(t,(s.get(t)||0)+1)}}catch(u){r.e(u)}finally{r.f()}}},{key:"deleteReason",value:function(e,t){var i,r=(0,n.Z)(e);try{for(r.s();!(i=r.n()).done;){var a=i.value,s=this._idToCounters.get(a);if(s){var u=s.get(t);if(null==u)return;--u>0?s.set(t,u):s.delete(t),0===s.size&&this._idToCounters.delete(a)}}}catch(o){r.e(o)}finally{r.f()}}},{key:"getHighlightReason",value:function(e){var t=this._idToCounters.get(e);if(!t)return null;var i,r=null,a=(0,n.Z)(s.Oo);try{for(a.s();!(i=a.n()).done;){var u=i.value;t.get(u)&&(r=u)}}catch(o){a.e(o)}finally{a.f()}return r||null}},{key:"ids",value:function(){return this._idToCounters.keys()}}]),e}()}}]);
//# sourceMappingURL=73558.7259008b.chunk.js.map