"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[45337],{29616:function(e,t,n){n.d(t,{Qc:function(){return p},WU:function(){return c},lt:function(){return d},ti:function(){return u}});var i=n(1413),r=n(29439),o=n(643),a=n(36257),s={ar:[".",","],bg:[",","\xa0"],bs:[",","."],ca:[",","."],cs:[",","\xa0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\xa0"],fi:[",","\xa0"],fr:[",","\u202f"],"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\xa0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\xa0"],lv:[",","\xa0"],mk:[",","."],nb:[",","\xa0"],nl:[",","."],pl:[",","\xa0"],pt:[",","."],"pt-pt":[",","\xa0"],ro:[",","."],ru:[",","\xa0"],sk:[",","\xa0"],sl:[",","."],sr:[",","."],sv:[",","\xa0"],th:[".",","],tr:[",","."],uk:[",","\xa0"],vi:[",","."],zh:[".",","]};function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.Kd)(),t=(e=e.toLowerCase())in s;if(!t){var n=e.split("-");n.length>1&&n[0]in s&&(e=n[0],t=!0),t||(e="en")}var i=(0,r.Z)(s[e],3),o=i[0],u=i[1],c=i[2],l=void 0===c?"#,##0.###":c;return{decimal:o,group:u,pattern:l}}function c(e,t){var n=u((t=(0,i.Z)({},t)).locale);t.customs=n;var r=t.pattern||n.pattern;return isNaN(e)||Math.abs(e)===1/0?null:function(e,t,n){var i=(n=n||{}).customs.group,r=n.customs.decimal,o=t.split(";"),a=o[0];if((t=o[e<0?1:0]||"-"+a).includes("%"))e*=100;else if(t.includes("\u2030"))e*=1e3;else{if(t.includes("\xa4"))throw new Error("currency notation not supported");if(t.includes("E"))throw new Error("exponential notation not supported")}var s=l,u=a.match(s);if(!u)throw new Error("unable to find a number expression in pattern: "+t);return!1===n.fractional&&(n.places=0),t.replace(s,function(e,t,n){!0===(n=n||{}).places&&(n.places=0),n.places===1/0&&(n.places=6);var i=t.split("."),r="string"==typeof n.places&&n.places.indexOf(","),o=n.places;r?o=n.places.substring(r+1):+o>=0||(o=(i[1]||[]).length),n.round<0||(e=Number(e.toFixed(Number(o))));var a=String(Math.abs(e)).split("."),s=a[1]||"";if(i[1]||n.places){r&&(n.places=n.places.substring(0,r));var u=void 0!==n.places?n.places:i[1]&&i[1].lastIndexOf("0")+1;+u>s.length&&(a[1]=s.padEnd(Number(u),"0")),+o<s.length&&(a[1]=s.substr(0,Number(o)))}else a[1]&&a.pop();var c=i[0].replace(",",""),l=c.indexOf("0");-1!==l&&((l=c.length-l)>a[0].length&&(a[0]=a[0].padStart(l,"0")),c.includes("#")||(a[0]=a[0].substr(a[0].length-l)));var d,p,v=i[0].lastIndexOf(",");if(-1!==v){d=i[0].length-v-1;var h=i[0].substr(0,v);-1!==(v=h.lastIndexOf(","))&&(p=h.length-v-1)}for(var f=[],g=a[0];g;){var m=g.length-d;f.push(m>0?g.substr(m):g),g=m>0?g.slice(0,m):"",p&&(d=p,p=void 0)}return a[0]=f.reverse().join(n.group||","),a.join(n.decimal||".")}(e,u[0],{decimal:r,group:i,places:n.places,round:n.round}))}(e,r,t)}var l=/[#0,]*[#0](?:\.0*#*)?/;function d(e){var t=u((e=e||{}).locale),n=e.pattern||t.pattern,i=t.group,r=t.decimal,a=1;if(n.includes("%"))a/=100;else if(n.includes("\u2030"))a/=1e3;else if(n.includes("\xa4"))throw new Error("currency notation not supported");var s=n.split(";");1===s.length&&s.push("-"+s[0]);var c=h(s,(function(t){return(t="(?:"+(0,o.Qs)(t,".")+")").replace(l,(function(t){var n={signed:!1,separator:e.strict?i:[i,""],fractional:e.fractional,decimal:r,exponent:!1},o=t.split("."),s=e.places;1===o.length&&1!==a&&(o[1]="###"),1===o.length||0===s?n.fractional=!1:(void 0===s&&(s=e.pattern?o[1].lastIndexOf("0")+1:1/0),s&&null==e.fractional&&(n.fractional=!0),!e.places&&+s<o[1].length&&(s+=","+o[1].length),n.places=s);var u=o[0].split(",");return u.length>1&&(n.groupSize=u.pop().length,u.length>1&&(n.groupSize2=u.pop().length)),"("+function(e){"places"in(e=e||{})||(e.places=1/0),"string"!=typeof e.decimal&&(e.decimal="."),"fractional"in e&&!String(e.places).startsWith("0")||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);var t=v(e),n=h(e.fractional,(function(t){var n="";return t&&0!==e.places&&(n="\\"+e.decimal,e.places===1/0?n="(?:"+n+"\\d+)?":n+="\\d{"+e.places+"}"),n}),!0),i=t+n;return n&&(i="(?:(?:"+i+")|(?:"+n+"))"),i+h(e.exponent,(function(t){return t?"([eE]"+v({signed:e.eSigned})+")":""}))}(n)+")"}))}),!0);return{regexp:c.replaceAll(/[\xa0 ]/g,"[\\s\\xa0]"),group:i,decimal:r,factor:a}}function p(e,t){var n=d(t),i=new RegExp("^"+n.regexp+"$").exec(e);if(!i)return NaN;var r=i[1];if(!i[1]){if(!i[2])return NaN;r=i[2],n.factor*=-1}return r=r.replaceAll(new RegExp("["+n.group+"\\s\\xa0]","g"),"").replace(n.decimal,"."),Number(r)*n.factor}function v(e){return"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="",h(e.signed,(function(e){return e?"[-+]":""}),!0)+h(e.separator,(function(t){if(!t)return"(?:\\d+)";" "===(t=(0,o.Qs)(t))?t="\\s":"\xa0"===t&&(t="\\s\\xa0");var n=e.groupSize,i=e.groupSize2;if(i){var r="(?:0|[1-9]\\d{0,"+(i-1)+"}(?:["+t+"]\\d{"+i+"})*["+t+"]\\d{"+n+"})";return n-i>0?"(?:"+r+"|(?:0|[1-9]\\d{0,"+(n-1)+"}))":r}return"(?:0|[1-9]\\d{0,"+(n-1)+"}(?:["+t+"]\\d{"+n+"})*)"}),!0)}var h=function(e,t,n){if(!Array.isArray(e))return t(e);for(var i=[],r=0;r<e.length;r++)i.push(t(e[r]));return f(i.join("|"),Boolean(n))},f=function(e,t){return"("+(t?"?:":"")+e+")"}},87616:function(e,t,n){n.d(t,{$B:function(){return m},$i:function(){return b},BZ:function(){return v},DR:function(){return f},Ow:function(){return g},QU:function(){return l},cZ:function(){return h},kR:function(){return u},on:function(){return _},ul:function(){return p},wS:function(){return d},zD:function(){return c}});var i=n(10064),r=n(15075),o=n(848),a=n(78952),s=n(6291);function u(){return(0,r.i)()}function c(){return(0,r.l)()}function l(e,t){var n=[];e=(e=(e=e.replaceAll(/[\u00B0\u00BA]/g,"^")).replaceAll("\u2032","'")).replaceAll("\u2033",'"');var i=w(t);return r.c.dmsToGeog(i,1,[e],n)?new o.Z(n[0][0],n[0][1],t||a.Z.WGS84):null}function d(e){var t,n,i;return e&&u()&&null!==(t=null!==(n=(0,s.p3)(e))&&void 0!==n?n:null===(i=l("0\xb0 0' 0\" N | ".concat(e)))||void 0===i?void 0:i.longitude)&&void 0!==t?t:null}function p(e){var t,n,i;return e&&u()&&null!==(t=null!==(n=(0,s.p3)(e))&&void 0!==n?n:null===(i=l("".concat(e," | 00\xb0 00' 00\" E")))||void 0===i?void 0:i.latitude)&&void 0!==t?t:null}function v(e,t,n){var i=[],s=y(n);if(-1===s)return console.warn("invalid conversionMode: ".concat(n)),null;var u=w(t);return r.d.mgrsToGeogExtended(u,1,[e],s,i)?new o.Z(i[0][0],i[0][1],t||a.Z.WGS84):null}function h(e,t){var n=[];!t&&/\(.+27/.test(e)&&(t=a.Z.GCS_NAD_1927);var i=w(t);return r.e.usngToGeog(i,1,[e],n)?new o.Z(n[0][0],n[0][1],t||a.Z.WGS84):null}function f(e,t,n){var i=[],s=C(n);if(-1===s)return console.warn("invalid conversionMode: ".concat(n)),null;var u=w(t);return r.f.utmToGeog(u,1,[e],s,i)?new o.Z(i[0][0],i[0][1],t||a.Z.WGS84):null}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=[[e.x,e.y]],o=[],a=w(e.spatialReference),s=0;switch(t){case"dd":s=r.c.geogToDd(a,1,i,n,o);break;case"ddm":s=r.c.geogToDdm(a,1,i,n,o);break;case"dms":s=r.c.geogToDms(a,1,i,n,o);break;default:return console.warn("invalid format: ".concat(t)),null}return s?o[0]:null}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[[e.x,e.y]],a=[],s=w(e.spatialReference),u=y(t);return-1===u?(console.warn("invalid conversionMode: ".concat(t)),null):(i&&(u|=r.d.PE_MGRS_ADD_SPACES),r.d.geogToMgrsExtended(s,1,o,n,!1,u,a)?a[0]:null)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[[e.x,e.y]],o=[],a=w(e.spatialReference);return r.e.geogToUsng(a,1,i,t,!1,n,o)?o[0]:null}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[[e.x,e.y]],o=[],a=w(e.spatialReference),s=C(t);return-1===s?(console.warn("invalid conversionMode: ".concat(t)),null):(n&&(s|=r.f.PE_UTM_OPTS_ADD_SPACES),r.f.geogToUtm(a,1,i,s,o)?o[0]:null)}function w(e){var t=null;if(e||(e=a.Z.WGS84),e.wkid){if(!(t=r.P.geogcs(e.wkid)))throw new i.Z("coordinate-formatter:invalid-spatial-reference","wkid is not valid")}else{if(!e.wkt2&&!e.wkt)throw new i.Z("coordinate-formatter:invalid-spatial-reference","wkid and wkt are missing");if(!(t=r.P.fromString(r.a.PE_TYPE_GEOGCS,e.wkt2||e.wkt)))throw new i.Z("coordinate-formatter:invalid-spatial-reference","wkt is not valid")}return t}function y(e){var t=-1;switch(e){case"automatic":t=r.d.PE_MGRS_STYLE_AUTO;break;case"new-180-in-zone-01":t=r.d.PE_MGRS_STYLE_NEW|r.d.PE_MGRS_180_ZONE_1_PLUS;break;case"new-180-in-zone-60":t=r.d.PE_MGRS_STYLE_NEW;break;case"old-180-in-zone-01":t=r.d.PE_MGRS_STYLE_OLD|r.d.PE_MGRS_180_ZONE_1_PLUS;break;case"old-180-in-zone-60":t=r.d.PE_MGRS_STYLE_OLD}return t}function C(e){var t=-1;switch(e){case"latitude-band-indicators":t=r.f.PE_UTM_OPTS_NONE;break;case"north-south-indicators":t=r.f.PE_UTM_OPTS_NS}return t}},45337:function(e,t,n){n.r(t),n.d(t,{default:function(){return Me}});var i=n(74165),r=n(15861),o=n(4942),a=n(1413),s=n(15671),u=n(43144),c=n(60136),l=n(29388),d=n(27366),p=n(32718),v=n(92026),h=n(49861),f=n(89125),g=(n(84936),n(93169),n(69912)),m=n(33565),_=n(37762),b=n(97326),w=n(65905),y=n(52639),C=(n(59166),n(80987)),k=n(10064),P=n(91505),x=n(94172),S=n(848),Z=n(79803),M=n(91946),T=n(7138),E=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,s.Z)(this,n),(i=t.call(this,e)).format=null,i.position={coordinate:null,location:null},i}return(0,u.Z)(n,[{key:"displayCoordinate",get:function(){var e,t;return null===(e=this.format)||void 0===e?void 0:e.getDisplayCoordinate(null===(t=this.position)||void 0===t?void 0:t.coordinate)}}]),n}(T.default);(0,d._)([(0,h.Cb)({readOnly:!0})],E.prototype,"displayCoordinate",null),(0,d._)([(0,h.Cb)()],E.prototype,"format",void 0),(0,d._)([(0,h.Cb)()],E.prototype,"position",void 0);var I=E=(0,d._)([(0,g.j)("esri.widgets.CoordinateConversion.support.Conversion")],E),D=n(29439),R=(n(59486),n(78952));function F(e){return e>=500?6:e<500&&e>=50?7:e<50&&e>=5?8:9}function L(e,t){var n=e.includes(",")?",":" ",i=e.split(n).map((function(e){var t=e.trim();return t?Number(t):null})),r=(0,D.Z)(i,3),o=r[0],a=r[1],s=r[2];if(!O(o)||!O(a))return null;var u=new S.Z({x:o,y:a,spatialReference:t||R.Z.WGS84});return s&&(u.z=s,u.hasZ=!0),u}function O(e){return"number"==typeof e&&isFinite(e)}function A(e){return!!e&&O(e.x)&&O(e.y)}function B(e,t){if(e.spatialReference.isGeographic&&t){var n=function(e,t){var n=F(t);return[e[0].toFixed(n),e[1].toFixed(n)]}([e.x,e.y],t),i=(0,D.Z)(n,2),r=i[0],o=i[1];return"".concat(r,", ").concat(o)}return"".concat(e.x.toFixed(3),", ").concat(e.y.toFixed(3))}var G=["dd","dms","ddm","mgrs","usng","utm"];var V=n(29616),N=n(36257),z=n(87616),W=n(92975),Y=n(81753),X=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,s.Z)(this,n),(i=t.call(this,e)).conversionInfo=null,i.coordinateSegments=null,i._currentPattern=void 0,i.defaultPattern=null,i.name=null,i.viewModel=null,i}return(0,u.Z)(n,[{key:"currentPattern",get:function(){var e;return null!==(e=this._currentPattern||this.defaultPattern)&&void 0!==e?e:""},set:function(e){this._currentPattern=e}},{key:"label",get:function(){var e;return null!==(e=this.name)&&void 0!==e?e:""},set:function(e){this._overrideIfSome("label",e)}},{key:"hasDisplayProperties",get:function(){return!(!this.defaultPattern||!this.coordinateSegments)}},{key:"spatialReference",get:function(){var e,t;return"basemap"===this.name?this._viewSpatialReference:null!==(e=null===(t=this.conversionInfo)||void 0===t?void 0:t.spatialReference)&&void 0!==e?e:R.Z.WGS84},set:function(e){this._overrideIfSome("spatialReference",e)}},{key:"_viewSpatialReference",get:function(){var e,t,n;return null!==(e=null===(t=this.viewModel)||void 0===t||null===(n=t.view)||void 0===n?void 0:n.spatialReference)&&void 0!==e?e:R.Z.WGS84}},{key:"_additionalCharactersPattern",get:function(){var e=this.coordinateSegments;if(!e)return null;var t=e.map((function(e){return e.alias})),n=this.currentPattern.replaceAll(new RegExp('["nsew'.concat(t.join(),"]"),"gi"),"").replaceAll(" ","");return new RegExp("[".concat(n,"]"),"g")}},{key:"test",get:function(){}},{key:"convert",value:function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t){var n,r,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A(t)){e.next=2;break}throw new k.Z("format:invalid-point","Could not convert invalid point.",{point:t});case 2:if(!(r=null===(n=this.conversionInfo)||void 0===n?void 0:n.convert)){e.next=5;break}return e.abrupt("return",Promise.resolve().then((function(){return r(t)})));case 5:return e.next=7,this._project(t,this.spatialReference);case 7:return o=e.sent,e.t0=o,e.next=11,this._getCoordinate(o);case 11:return e.t1=e.sent,e.abrupt("return",{location:e.t0,coordinate:e.t1});case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConversionStrategy",value:function(){var e,t,n=this._viewSpatialReference;return null!==(e=this.conversionInfo)&&void 0!==e&&e.convert||null!==(t=this.viewModel)&&void 0!==t&&t.formatterAvailable||"xy"===this.name&&(n.isWebMercator||n.isWGS84)||"basemap"===this.name?"client":"server"}},{key:"getDisplayCoordinate",value:function(e){if(!e)return null;if(!this.coordinateSegments||!this.currentPattern)return e;for(var t=this.currentPattern,n=this._getSegmentMatches(e,!1),i=this.coordinateSegments.length-1;i>=0;i--){var r=this.coordinateSegments[i];t=t.replace(r.alias,n[i])}return t}},{key:"_parseUserInput",value:function(e){var t=this.defaultPattern,n=this._additionalCharactersPattern,i=this.coordinateSegments;if(!t||!n)return"";var r=t.replace(n,"");e=e.replace(n,"");var o=this._getSegmentMatches(e,!0);if(i)for(var a=i.length-1;a>=0;a--){var s=i[a];r=r.replace(s.alias,o[a])}return r}},{key:"_getSegmentMatches",value:function(e,t){var n=new Array,i=this.coordinateSegments;if(!i)return n;for(var r=0;r<i.length;r++){var o=i[r],a=e.match(o.searchPattern);if(a){var s=a[0];if(e=e.replace(s,"").trim(),o.substitution){var u=t?o.substitution.input(s):o.substitution.output(s);u&&(s="".concat(u))}n.push(s)}else n.push("")}return n}},{key:"reverseConvert",value:function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t){var n,r,o,a,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this._parseUserInput(t),!(a=null===(n=this.conversionInfo)||void 0===n?void 0:n.reverseConvert)){e.next=5;break}s=a(o),e.next=24;break;case 5:if("xy"!==this.name&&"basemap"!==this.name){e.next=9;break}s=L(o,this.spatialReference),e.next=24;break;case 9:if(null===(r=this.viewModel)||void 0===r||!r.formatterAvailable){e.next=24;break}e.t0=this.name,e.next="dd"===e.t0||"ddm"===e.t0||"dms"===e.t0?13:"mgrs"===e.t0?15:"utm"===e.t0?18:"usng"===e.t0?21:23;break;case 13:return s=(0,z.QU)(o,this.spatialReference),e.abrupt("break",24);case 15:return"automatic",s=(0,z.BZ)(o,this.spatialReference,"automatic"),e.abrupt("break",24);case 18:return"latitude-band-indicators",s=(0,z.DR)(o,this.spatialReference,"latitude-band-indicators"),e.abrupt("break",24);case 21:return s=(0,z.cZ)(o,this.spatialReference),e.abrupt("break",24);case 23:s=null;case 24:if(s){e.next=26;break}throw new k.Z("format:invalid-input","Could not parse input into point.",{userInput:t});case 26:return e.abrupt("return",this._project(s,this._viewSpatialReference));case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getCoordinate",value:function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t){var n,r,o,a,s,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=null!==(n=null===(r=this.viewModel)||void 0===r||null===(o=r.view)||void 0===o?void 0:o.scale)&&void 0!==n?n:0,A(t)){e.next=3;break}throw new k.Z("format:invalid-point","Could not transform invalid point into coordinate.",{point:t});case 3:if(!(null!==(a=this.viewModel)&&void 0!==a&&a.formatterAvailable||"basemap"===this.name||"xy"===this.name)){e.next=13;break}e.t0=this.name,e.next="dd"===e.t0||"ddm"===e.t0||"dms"===e.t0?7:"mgrs"===e.t0?9:"usng"===e.t0?10:"utm"===e.t0?11:12;break;case 7:return u=F(s),e.abrupt("return",(0,z.Ow)(t,this.name,u));case 9:return e.abrupt("return",(0,z.$B)(t,"automatic",5,!1));case 10:return e.abrupt("return",(0,z.on)(t,5,!1));case 11:return e.abrupt("return",(0,z.$i)(t,"latitude-band-indicators",!0));case 12:case 13:return e.abrupt("return",B(t,s));case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_project",value:function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t,n){var r,o,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,W.fS)(t.spatialReference,n)&&n){e.next=2;break}return e.abrupt("return",t);case 2:if(null===(r=this.viewModel)||void 0===r||!r.formatterAvailable||!(0,Z.isLoaded)()){e.next=4;break}return e.abrupt("return",(0,Z.project)(t,n));case 4:if(null!==(o=this.viewModel)&&void 0!==o&&o.formatterAvailable){e.next=8;break}if(null==(a=(0,Y.iV)(t,n))){e.next=8;break}return e.abrupt("return",a);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(T.default);(0,d._)([(0,h.Cb)()],X.prototype,"conversionInfo",void 0),(0,d._)([(0,h.Cb)()],X.prototype,"coordinateSegments",void 0),(0,d._)([(0,h.Cb)()],X.prototype,"currentPattern",null),(0,d._)([(0,h.Cb)()],X.prototype,"_currentPattern",void 0),(0,d._)([(0,h.Cb)()],X.prototype,"label",null),(0,d._)([(0,h.Cb)()],X.prototype,"defaultPattern",void 0),(0,d._)([(0,h.Cb)({readOnly:!0})],X.prototype,"hasDisplayProperties",null),(0,d._)([(0,h.Cb)()],X.prototype,"name",void 0),(0,d._)([(0,h.Cb)({type:R.Z})],X.prototype,"spatialReference",null),(0,d._)([(0,h.Cb)()],X.prototype,"viewModel",void 0),(0,d._)([(0,h.Cb)({readOnly:!0})],X.prototype,"_viewSpatialReference",null),(0,d._)([(0,h.Cb)({readOnly:!0})],X.prototype,"_additionalCharactersPattern",null);var U=X=(0,d._)([(0,g.j)("esri.widgets.CoordinateConversion.support.Format")],X),H=(0,V.ti)().decimal,j={N:"north",S:"south",E:"east",W:"west"},$="\xb0".concat("\u200e"),Q=new RegExp("-?\\d+[\\.|\\".concat(H,"]?\\d*")),J=/^[\\0]+(?=\d)/;function K(e,t){var n,i="ar"===(0,N.Kd)(),r=e.abbreviatedDirections.north,a=e.abbreviatedDirections.south,s=e.abbreviatedDirections.east,u=e.abbreviatedDirections.west,c=(0,V.ti)().decimal,l=(n={},(0,o.Z)(n,r,"N"),(0,o.Z)(n,a,"S"),(0,o.Z)(n,s,"E"),(0,o.Z)(n,u,"W"),n),d=new RegExp("-?\\d+[\\.|\\".concat(c,"]?\\d*")),p=new RegExp("N|S|".concat(r,"|").concat(a),"i"),v=new RegExp("E|W|".concat(s,"|").concat(u),"i"),h={ddm:"Y".concat($," A'").concat(e.abbreviatedDirections.north,", X").concat($," B'").concat(e.abbreviatedDirections.east),dms:"Y".concat($," A' B\"").concat(e.abbreviatedDirections.north,", X").concat($," C' D\"").concat(e.abbreviatedDirections.east),dd:"Y".concat($).concat(e.abbreviatedDirections.north,", X").concat($).concat(e.abbreviatedDirections.east),xy:"X".concat($,", Y").concat($),basemap:"X, Y"},f={ddm:"".concat(e.abbreviatedDirections.north).concat($,"Y 'A ,").concat(e.abbreviatedDirections.east).concat($,"X 'B"),dms:"".concat(e.abbreviatedDirections.north).concat($,"Y 'A \"B ,").concat(e.abbreviatedDirections.east).concat($,"X 'C \"D"),dd:"".concat(e.abbreviatedDirections.north).concat($,"Y ,").concat(e.abbreviatedDirections.east).concat($,"X"),xy:"X".concat($," ,Y").concat($),basemap:"X ,Y"},g=new RegExp("\\d{1,2}[\\.|\\".concat(c,"]?\\d*"),"i"),m=new RegExp("\\d{1,3}[\\.|\\".concat(c,"]?\\d*"),"i");t.forEach((function(t){var n=t.name;if("dd"===n?t.coordinateSegments=[{alias:"Y",description:"degrees latitude",searchPattern:g,substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}},{alias:e.abbreviatedDirections.north,description:"north/south indicator",searchPattern:p,substitution:{input:function(e){return l[e]},output:function(t){return e.abbreviatedDirections[j[t]]}}},{alias:"X",description:"degrees longitude",searchPattern:m,substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}},{alias:e.abbreviatedDirections.east,description:"east/west indicator",searchPattern:v,substitution:{input:function(e){return l[e]},output:function(t){return e.abbreviatedDirections[j[t]]}}}]:"ddm"===n?t.coordinateSegments=[{alias:"Y",description:"degrees latitude",searchPattern:g,substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}},{alias:"A",description:"minutes latitude",searchPattern:g,substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}},{alias:e.abbreviatedDirections.north,description:"north/south indicator",searchPattern:p,substitution:{input:function(e){return l[e]},output:function(t){return e.abbreviatedDirections[j[t]]}}},{alias:"X",description:"degrees longitude",searchPattern:m,substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}},{alias:"B",description:"minutes longitude",searchPattern:g,substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}},{alias:e.abbreviatedDirections.east,description:"east/west indicator",searchPattern:v,substitution:{input:function(e){return l[e]},output:function(t){return e.abbreviatedDirections[j[t]]}}}]:"dms"===n?t.coordinateSegments=[{alias:"Y",description:"degrees latitude",searchPattern:g,substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}},{alias:"A",description:"minutes latitude",searchPattern:g,substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}},{alias:"B",description:"seconds latitude",searchPattern:g,substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}},{alias:e.abbreviatedDirections.north,description:"north/south indicator",searchPattern:p,substitution:{input:function(e){return l[e]},output:function(t){return e.abbreviatedDirections[j[t]]}}},{alias:"X",description:"degrees longitude",searchPattern:m,substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}},{alias:"C",description:"minutes longitude",searchPattern:g,substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}},{alias:"D",description:"seconds longitude",searchPattern:g,substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}},{alias:e.abbreviatedDirections.east,description:"east/west indicator",searchPattern:v,substitution:{input:function(e){return l[e]},output:function(t){return e.abbreviatedDirections[j[t]]}}}]:("xy"===t.name||"basemap"===t.name)&&(t.coordinateSegments=[{alias:"X",description:"easting",searchPattern:d,substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}},{alias:"Y",description:"northing",searchPattern:d,substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}}]),function(e){return null!=e&&Object.keys(h).includes(e)}(n)){var r=i?f[n]:h[n];t.defaultPattern=r,t.currentPattern=r}}))}function q(e){var t=e.match(J),n=t?t[0]:"",i=e.includes(".")?e.split(".")[1].length:0;return n+(0,V.WU)(Number(e),{pattern:"###0.###",places:i,round:-1})}function ee(e){return(0,V.Qc)(e)}var te=n(99505),ne=n(41201),ie="default",re="crosshair",oe=new S.Z([0,0,500]),ae=["mgrs","utm","usng","dd","dms","ddm"],se="esri__coordinateConversionWidgetState",ue="conversions",ce="formats",le="view",de="view-change",pe=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,s.Z)(this,n),(i=t.call(this,e))._conversionPromise=null,i._locationGraphic=null,i._pointerCount=0,i.conversions=new C.Z,i.formats=new C.Z,i.formatterAvailable=!1,i.messages=null,i.filteredFormats=new C.Z,i.locationSymbol=new M.Z({url:(0,w.V)("esri/images/search/search-symbol-32.png"),width:24,height:24}),i.storageEnabled=!0,i.storageType="session",i.view=null,i._saveWidgetState=i._saveWidgetState.bind((0,b.Z)(i)),i._handleFormatChange=i._handleFormatChange.bind((0,b.Z)(i)),i._handleConversionChange=i._handleConversionChange.bind((0,b.Z)(i)),i._handleViewChange=i._handleViewChange.bind((0,b.Z)(i)),i._onClick=i._onClick.bind((0,b.Z)(i)),i._onPointerMove=i._onPointerMove.bind((0,b.Z)(i)),i._onPointerDown=i._onPointerDown.bind((0,b.Z)(i)),i._onPointerUp=i._onPointerUp.bind((0,b.Z)(i)),i}return(0,u.Z)(n,[{key:"initialize",value:function(){var e=this,t=function(){var t=(0,r.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,ne.ME)("esri/widgets/CoordinateConversion/t9n/CoordinateConversion");case 2:return t.abrupt("return",e.messages=t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();this.formats.addMany(function(){var e=new RegExp("N|S","i"),t=new RegExp("E|W","i");return[new U({name:"basemap",coordinateSegments:[{alias:"X",description:"easting",searchPattern:Q,substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}},{alias:"Y",description:"northing",searchPattern:Q,substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}}],defaultPattern:"X, Y",viewModel:null}),new U({name:"dd",coordinateSegments:[{alias:"Y",description:"degrees latitude",searchPattern:new RegExp("\\d{1,2}[\\.|\\".concat(H,"]?\\d*(?=\\D*?[N|S])"),"i"),substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}},{alias:"N",description:"north/south indicator",searchPattern:e},{alias:"X",description:"degrees longitude",searchPattern:new RegExp("\\d{1,3}[\\.|\\".concat(H,"]?\\d*(?=\\D*?[E|W|])"),"i"),substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}},{alias:"E",description:"east/west indicator",searchPattern:t}],defaultPattern:"Y".concat($,"N, X").concat($,"E"),viewModel:null}),new U({name:"ddm",coordinateSegments:[{alias:"Y",description:"degrees latitude",searchPattern:new RegExp("\\d{1,2}(?=.*?\\s+.*?[N|S])","i"),substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}},{alias:"A",description:"minutes latitude",searchPattern:new RegExp("\\d{1,2}[\\.\\".concat(H,"]?\\d*(?=.*?[N|S])"),"i"),substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}},{alias:"N",description:"north/south indicator",searchPattern:e},{alias:"X",description:"degrees longitude",searchPattern:new RegExp("\\d{1,3}(?=\\D*?\\s+.*?[E|W])","i"),substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}},{alias:"B",description:"minutes longitude",searchPattern:new RegExp("\\d{1,2}[\\.|\\|".concat(H,"]?\\d*(?=.*?[E|W])"),"i"),substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}},{alias:"E",description:"east/west indicator",searchPattern:t}],defaultPattern:"Y".concat($," A'N, X").concat($," B'E"),viewModel:null}),new U({name:"dms",coordinateSegments:[{alias:"Y",description:"degrees latitude",searchPattern:new RegExp("\\d{1,2}(?=.*?\\s+.*?[N|S])","i"),substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}},{alias:"A",description:"minutes latitude",searchPattern:new RegExp("\\d{1,2}(?=.*?[N|S])","i"),substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}},{alias:"B",description:"seconds latitude",searchPattern:new RegExp("\\d{1,2}[\\.|\\".concat(H,"]?\\d*(?=.*?[N|S])"),"i"),substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}},{alias:"N",description:"north/south indicator",searchPattern:e},{alias:"X",description:"degrees longitude",searchPattern:new RegExp("\\d{1,3}(?=.*?\\s+.*?[E|W])","i"),substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}},{alias:"C",description:"minutes longitude",searchPattern:new RegExp("\\d{1,2}(?=.*?[E|W])","i"),substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}},{alias:"D",description:"seconds longitude",searchPattern:new RegExp("\\d{1,2}[\\.|\\".concat(H,"]?\\d*(?=.*?[E|W])"),"i"),substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}},{alias:"E",description:"east/west indicator",searchPattern:t}],defaultPattern:"Y".concat($," A' B\"N, X").concat($," C' D\"E"),viewModel:null}),new U({name:"xy",coordinateSegments:[{alias:"X",description:"longitude",searchPattern:Q,substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}},{alias:"Y",description:"latitude",searchPattern:Q,substitution:{input:function(e){return ee(e)},output:function(e){return q(e)}}}],defaultPattern:"X".concat($,", Y").concat($),viewModel:null}),new U({name:"mgrs",coordinateSegments:[{alias:"Z",description:"grid zone",searchPattern:/\d{1,2}\w|[abyz]/i},{alias:"S",description:"grid square",searchPattern:/\w{2}/},{alias:"X",description:"easting",searchPattern:/^\d{5}(?=.?\d{5}$)|^\d{4}(?=.?\d{4}$)|^\d{3}(?=.?\d{3}$)|^\d{2}(?=.?\d{2}$)|^\d(?=.?\d$)/},{alias:"Y",description:"northing",searchPattern:/^\d{1,5}/}],defaultPattern:"Z S X Y",viewModel:null}),new U({name:"usng",coordinateSegments:[{alias:"Z",description:"grid zone",searchPattern:/\d{1,2}\w|[abyz]/i},{alias:"S",description:"grid square",searchPattern:/\w{2}/},{alias:"X",description:"easting",searchPattern:/^\d{5}(?=.?\d{5}$)|^\d{4}(?=.?\d{4}$)|^\d{3}(?=.?\d{3}$)|^\d{2}(?=.?\d{2}$)|^\d(?=.?\d$)/},{alias:"Y",description:"northing",searchPattern:/^\d{1,5}/}],defaultPattern:"Z S X Y",viewModel:null}),new U({name:"utm",coordinateSegments:[{alias:"Z",description:"zone number",searchPattern:/\d{1,2}|[abyz]/i},{alias:"B",description:"latitude band",searchPattern:/^\D/},{alias:"X",description:"easting",searchPattern:/\d{1,7}(?=\s*\d{7}$)/},{alias:"Y",description:"northing",searchPattern:/\d{1,7}/}],defaultPattern:"ZB X Y",viewModel:null})]}()),t().then((function(){if(!e.destroyed&&(K(e.messages,e.formats),e.storageEnabled&&e._loadWidgetState(),e.formats.forEach((function(t){var n;t.viewModel=e,e.addHandles((0,x.watch)((function(){return t.currentPattern}),e._saveWidgetState),null!==(n=t.name)&&void 0!==n?n:"unnamed-format")})),e.addHandles(e.conversions.on("change",e._handleConversionChange),ue),e.addHandles(e.formats.on("change",e._handleFormatChange),ce),e.addHandles((0,N.qe)((function(){t().then((function(){K(e.messages,e.formats)}))}))),(0,Z.load)().then((function(){e.formatterAvailable=!0})).catch((function(t){p.Z.getLogger(e).error(new k.Z("coordinate-conversion:projection-load-failed","Failed to load the projection module.",{error:t})),e.formatterAvailable=!1,e._filterFormatsAndConversions()})).then((function(){return e.addHandles((0,x.watch)((function(){return e.view}),e._handleViewChange,x.initial),de)})),0===e.conversions.length)){var n=e.formats.find((function(e){return"xy"===e.name}))||e.formats.at(0);e.conversions.add(new I({format:n}))}}))}},{key:"destroy",value:function(){this.removeHandles(),this._cleanUpView(this.view),this.view=null}},{key:"castConversions",value:function(e){return this._castToConversions(e)}},{key:"currentLocation",get:function(){return this._get("currentLocation")||null},set:function(e){this._set("currentLocation",e),this._updateConversions()}},{key:"mode",get:function(){return this._get("mode")||"live"},set:function(e){switch(e){case"capture":this.currentLocation=null,this._startCaptureMode(),this._set("mode",e);break;case"live":this._startLiveMode(),this._set("mode",e)}}},{key:"state",get:function(){var e=this.messages,t=this.view,n=null===t||void 0===t?void 0:t.ready;return e?n?"ready":t?"loading":"disabled":"disabled"}},{key:"storage",get:function(){return"session"===this.storageType?sessionStorage:localStorage}},{key:"waitingForConversions",get:function(){return null!=this._conversionPromise}},{key:"setLocation",value:function(e){var t,n;if(this._locationGraphic&&null!==(t=this.view)&&void 0!==t&&t.graphics.remove(this._locationGraphic),e){var i=e.clone();i.hasZ&&(i.z=void 0),this._locationGraphic=new y.Z({geometry:i,symbol:this.locationSymbol}),null===(n=this.view)||void 0===n||n.graphics.add(this._locationGraphic)}}},{key:"convert",value:function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t,n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A(n)){e.next=2;break}throw new k.Z("coordinate-conversion:invalid-point","Invalid point cannot be converted.",{point:n});case 2:return e.abrupt("return",Promise.resolve().then((function(){return t.convert(n)})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"goToLocation",value:function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t){var n,r,o,a,s,u,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this.view){e.next=3;break}throw new k.Z("coordinate-conversion:go-to-failed","no view");case 3:if(a="3d"===o.type?o.clippingArea:null,s=null===(n=o.map)||void 0===n||null===(r=n.basemap)||void 0===r?void 0:r.baseLayers,!(a||(null===s||void 0===s?void 0:s.length)>0)){e.next=8;break}if(null==(c=null!==a&&void 0!==a?a:null===(u=s.at(0))||void 0===u?void 0:u.fullExtent)||c.contains(t)){e.next=8;break}throw new k.Z("coordinate-conversion:go-to-failed","Point outside basemap extent.",{point:t});case 8:return e.abrupt("return",this.callGoTo({target:t}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pause",value:function(){this.currentLocation=null,this.removeHandles(le),this.view&&(this.view.cursor=ie,this._locationGraphic&&this.view.graphics.remove(this._locationGraphic))}},{key:"previewConversion",value:function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t){var n,r=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:this.currentLocation||oe,e.next=3,ve(t,n);case 3:return e.abrupt("return",e.sent.displayCoordinate);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resume",value:function(){"capture"===this.mode?this._startCaptureMode():this._startLiveMode()}},{key:"reverseConvert",value:function(e,t){return t.reverseConvert(e)}},{key:"updateConversions",value:function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t,n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("point"===(null===n||void 0===n?void 0:n.type)){e.next=2;break}throw this._clearConversions(this.conversions),new k.Z("coordinate-conversion:invalid-input-point","Point is invalid, conversions cannot be updated.",{point:n});case 2:return e.abrupt("return",this._convertMany(t,n));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_castToConversions",value:function(e){var t=this,n=new C.Z;return e.forEach((function(e){var i=null;if(e instanceof I)i=e;else if("string"==typeof e){var r=t.formats.find((function(t){return t.name===e}));r&&(i=new I({format:r}))}i&&n.add(i)})),n}},{key:"_cleanUpView",value:function(e){e&&(this._locationGraphic&&e.graphics.remove(this._locationGraphic),this.removeHandles(le),e.cursor=ie)}},{key:"_clearConversions",value:function(e){e.forEach((function(e){e.position={location:null,coordinate:null}}))}},{key:"_convertMany",value:function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t,n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map((function(e){return ve(e,n)}))));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_handleConversionChange",value:function(e){var t,n=this,i=(0,_.Z)(e.added);try{var r=function(){var e=t.value,i=e.format;i&&(i.viewModel=n,n.currentLocation&&(n._set("waitingForConversions",!0),n.convert(i,n.currentLocation).then((function(t){e.position=t,n._set("waitingForConversions",!1)}))))};for(i.s();!(t=i.n()).done;)r()}catch(o){i.e(o)}finally{i.f()}this._saveWidgetState()}},{key:"_handleFormatChange",value:function(e){var t=this;e.added.forEach((function(e){var n;t.addHandles((0,x.watch)((function(){return e.currentPattern}),t._saveWidgetState),null!==(n=e.name)&&void 0!==n?n:"unnamed-format"),e.viewModel=t})),e.removed.forEach((function(e){e.viewModel=null;var n=t.conversions.filter((function(t){return t.format===e}));t.conversions.removeMany(n),e.name&&t.removeHandles(e.name)}))}},{key:"_loadWidgetState",value:function(){try{var e=JSON.parse(this.storage.getItem(se));e&&this._setWidgetState(e)}catch(t){p.Z.getLogger(this).error(new k.Z("coordinate-conversion:invalid-session-storage-json","Could not read from storage.",{error:t}))}}},{key:"_startCaptureMode",value:function(){this.removeHandles(le),this.view&&(this.view.cursor=re,this.currentLocation&&this.setLocation(this.currentLocation),this.addHandles(this.view.on("click",this._onClick),le))}},{key:"_startLiveMode",value:function(){this._pointerCount=0,this.removeHandles(le),this.view&&(this.view.cursor=ie,this._locationGraphic&&this.view.graphics.remove(this._locationGraphic),this.addHandles([this.view.on("pointer-down",this._onPointerDown),this.view.on("pointer-up",this._onPointerUp),this.view.on("pointer-move",this._onPointerMove)],le))}},{key:"_handleViewChange",value:function(e,t){t&&t!==e&&this._cleanUpView(t),e&&("capture"===this.mode?this._startCaptureMode():this._startLiveMode(),t&&this._filterFormatsAndConversions())}},{key:"_onClick",value:function(e){if(0===e.button){var t,n=null===(t=this.view)||void 0===t?void 0:t.toMap(e),i=null===n||void 0===n?void 0:n.normalize();this.setLocation(i),this.currentLocation=i}}},{key:"_onPointerDown",value:function(e){var t=e.pointerType;if(this._pointerCount++,("touch"===t||"pen"===t)&&1===this._pointerCount){var n,i=null===(n=this.view)||void 0===n?void 0:n.toMap(e);this.currentLocation=null===i||void 0===i?void 0:i.normalize()}}},{key:"_onPointerMove",value:function(e){if("mouse"===e.pointerType||1===this._pointerCount){var t,n=null===(t=this.view)||void 0===t?void 0:t.toMap(e);this.currentLocation=null===n||void 0===n?void 0:n.normalize()}}},{key:"_onPointerUp",value:function(){this._pointerCount--}},{key:"_setWidgetState",value:function(e){var t=this;try{e.formats.forEach((function(n){var i=t.formats.find((function(e){return e.name===n.name}));i&&e.locale===(0,N.Kd)()&&n.currentPattern&&(i.currentPattern=n.currentPattern),i&&n.index>=0&&t.conversions.add(new I({format:i}))}))}catch(E){p.Z.getLogger(this).warn(new k.Z("coordinate-conversion:session-storage-read-error","Could not get widget state from stored JSON.",{error:E}))}}},{key:"_saveWidgetState",value:function(){if(this.storageEnabled){var e=this._toJSON();try{this.storage.setItem(se,JSON.stringify({formats:e,locale:(0,N.Kd)()}))}catch(E){p.Z.getLogger(this).error(new k.Z("coordinate-conversion:local-storage-write-error","Could not write to localStorage.",{error:E}))}}}},{key:"_updateConversions",value:function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.updateConversions(this.conversions.toArray(),this.currentLocation);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"_toJSON",value:function(){var e=this;return this.formats.filter((function(e){var t=e.name;return"xy"===t||"basemap"===t||function(e){return G.includes(e)}(t)})).map((function(t){return{name:t.name,currentPattern:t.currentPattern,defaultPattern:t.defaultPattern,index:e.conversions.findIndex((function(e){return e.format===t}))}})).sort((function(e,t){return e.index-t.index})).toArray()}},{key:"_filterFormatsAndConversions",value:function(){var e=this,t=this.formatterAvailable,n=this.conversions,i=this.formats;t||this.addHandles((0,x.when)((function(){var t;return null===(t=e.view)||void 0===t?void 0:t.spatialReference}),(function(t){var r=t.isWebMercator||t.isWGS84,o=i.filter((function(e){var t=e.name;return!!function(e){return ae.includes(e)}(t)||"xy"===t&&!r})),a=e.filteredFormats.filter((function(t){return"xy"===t.name&&r&&!e.formats.includes(t)})),s=n.filter((function(e){return o.includes(e.format)}));i.removeMany(o),n.removeMany(s),e.filteredFormats.addMany(o.filter((function(t){return!e.filteredFormats.includes(t)}))),i.addMany(a)}),{once:!0,initial:!0}),le)}}]),n}((0,te._)(P.Z.EventedAccessor));function ve(e,t){return he.apply(this,arguments)}function he(){return he=(0,r.Z)((0,i.Z)().mark((function e(t,n){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(r=t.format)||void 0===r?void 0:r.convert(n);case 3:t.position=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t.position=null;case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e,null,[[0,6]])}))),he.apply(this,arguments)}(0,d._)([(0,h.Cb)()],pe.prototype,"conversions",void 0),(0,d._)([(0,f.p)("conversions")],pe.prototype,"castConversions",null),(0,d._)([(0,h.Cb)({type:S.Z})],pe.prototype,"currentLocation",null),(0,d._)([(0,h.Cb)()],pe.prototype,"formats",void 0),(0,d._)([(0,h.Cb)()],pe.prototype,"messages",void 0),(0,d._)([(0,h.Cb)()],pe.prototype,"mode",null),(0,d._)([(0,h.Cb)()],pe.prototype,"filteredFormats",void 0),(0,d._)([(0,h.Cb)({readOnly:!0})],pe.prototype,"state",null),(0,d._)([(0,h.Cb)()],pe.prototype,"locationSymbol",void 0),(0,d._)([(0,h.Cb)({readOnly:!0,dependsOn:["storageType"]})],pe.prototype,"storage",null),(0,d._)([(0,h.Cb)()],pe.prototype,"storageEnabled",void 0),(0,d._)([(0,h.Cb)()],pe.prototype,"storageType",void 0),(0,d._)([(0,h.Cb)({readOnly:!0})],pe.prototype,"waitingForConversions",null),(0,d._)([(0,h.Cb)()],pe.prototype,"view",void 0);var fe=pe=(0,d._)([(0,g.j)("esri.widgets.CoordinateConversion.CoordinateConversionViewModel")],pe),ge=n(8905),me=n(7021),_e=n(96919),be=n(33095),we=n(78088),ye=n(80532),Ce=n(67005),ke=n(80975),Pe="esri-coordinate-conversion",xe={base:Pe,captureMode:"".concat(Pe,"--capture-mode"),noBasemap:"".concat(Pe,"--no-basemap"),popup:"".concat(Pe,"__popup"),clipboardPopup:"".concat(Pe,"__clipboard-popup"),conversionList:"".concat(Pe,"__conversion-list"),conversionRow:"".concat(Pe,"__row"),coordDisplay:"".concat(Pe,"__display"),expandButton:"".concat(Pe,"__expand-button"),expanded:"".concat(Pe,"__conversions-view--expanded"),expandDown:"".concat(Pe,"__conversions-view--expand-down"),expandUp:"".concat(Pe,"__conversions-view--expand-up"),conversionsView:"".concat(Pe,"__conversions-view"),rowSelect:"".concat(Pe,"__select-row"),toolDisplay:"".concat(Pe,"__tools"),modeToggle:"".concat(Pe,"__mode-toggle"),rowButton:"".concat(Pe,"__row-button"),coordinateInput:"".concat(Pe,"__input-coordinate"),inputForm:"".concat(Pe,"__input-form"),inputFormGroup:"".concat(Pe,"__input-group"),inputSelect:"".concat(Pe,"__input-select"),sectionHeading:"".concat(Pe,"__heading"),patternInput:"".concat(Pe,"__pattern-input"),settings:"".concat(Pe,"__settings"),settingsFormGroup:"".concat(Pe,"__settings-group"),settingsFormGroupHorizontal:"".concat(Pe,"__settings-group-horizontal"),previewCoordinate:"".concat(Pe,"__preview-coordinate")},Se={settingsButton:!0,inputButton:!0,captureButton:!0,expandButton:!0},Ze=function(e){(0,c.Z)(d,e);var t=(0,l.Z)(d);function d(e,n){var i;return(0,s.Z)(this,d),(i=t.call(this,e,n))._popupMessage=null,i._popupTimeoutId=void 0,i._clipboardPopupTimeoutId=void 0,i._coordinateInput=null,i._badInput=!1,i._goToEnabled=!1,i._conversionFormat=null,i._settingsFormat=null,i._previewConversion=null,i._expanded=!1,i._clipboardPopupVisible=!1,i._popupVisible=!1,i._settingsVisible=!1,i._inputVisible=!1,i.headingLevel=4,i.messages=null,i.messagesCommon=null,i.orientation="auto",i.viewModel=new fe,i.visibleElements=(0,a.Z)({},Se),i}return(0,u.Z)(d,[{key:"loadDependencies",value:function(){return(0,ge.h)({button:function(){return Promise.all([n.e(92358),n.e(46895),n.e(54438),n.e(14105),n.e(32275)]).then(n.bind(n,32275))},checkbox:function(){return Promise.all([n.e(92358),n.e(54438),n.e(12424)]).then(n.bind(n,12424))},input:function(){return Promise.all([n.e(92358),n.e(46895),n.e(54438),n.e(8715),n.e(16746)]).then(n.bind(n,75655))},label:function(){return Promise.all([n.e(92358),n.e(35738)]).then(n.bind(n,35738))},option:function(){return n.e(19790).then(n.bind(n,19790))},select:function(){return Promise.all([n.e(92358),n.e(54438),n.e(26369)]).then(n.bind(n,26369))}})}},{key:"conversions",get:function(){return this.viewModel.conversions},set:function(e){this.viewModel.conversions=e}},{key:"currentLocation",get:function(){return this.viewModel.currentLocation},set:function(e){this.viewModel.currentLocation=e}},{key:"formats",get:function(){return this.viewModel.formats},set:function(e){this.viewModel.formats=e}},{key:"goToOverride",get:function(){return this.viewModel.goToOverride},set:function(e){this.viewModel.goToOverride=e}},{key:"icon",get:function(){return"coordinate-system"},set:function(e){this._overrideIfSome("icon",e)}},{key:"label",get:function(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.widgetLabel)&&void 0!==e?e:""},set:function(e){this._overrideIfSome("label",e)}},{key:"mode",get:function(){return this.viewModel.mode},set:function(e){this.viewModel.mode=e}},{key:"multipleConversions",get:function(){var e=this._get("multipleConversions");return"boolean"!=typeof e||e},set:function(e){!1===e&&(this._expanded=!1,this.conversions.splice(1,this.conversions.length-1)),this._set("multipleConversions",e)}},{key:"locationSymbol",get:function(){return this.viewModel.locationSymbol},set:function(e){this.viewModel.locationSymbol=e}},{key:"storageEnabled",get:function(){return this.viewModel.storageEnabled},set:function(e){this.viewModel.storageEnabled=e}},{key:"storageType",get:function(){return this.viewModel.storageType},set:function(e){this.viewModel.storageType=e}},{key:"view",get:function(){return this.viewModel.view},set:function(e){this.viewModel.view=e}},{key:"castVisibleElements",value:function(e){return(0,a.Z)((0,a.Z)({},Se),e)}},{key:"reverseConvert",value:function(e,t){return this.viewModel.reverseConvert(e,t)}},{key:"render",value:function(){var e,t,n,i=null===(e=this.viewModel)||void 0===e?void 0:e.state,r="disabled"===i?(0,Ce.u)("div",{key:"esri-coordinate__no-basemap"},null===(t=this.messages)||void 0===t?void 0:t.noBasemap):null,a=!r&&this._inputVisible?this._renderInputForm():null,s=!r&&this._settingsVisible?this._renderSettings():null,u=r||a||s?null:this._renderConversionsView(),c=this._popupVisible?this._renderPopup():null,l=(n={},(0,o.Z)(n,xe.captureMode,"capture"===this.mode),(0,o.Z)(n,me.z.disabled,"loading"===i),(0,o.Z)(n,xe.noBasemap,"disabled"===i),n);return(0,Ce.u)("div",{class:this.classes(xe.base,me.z.widget,l)},c,r,u,s,a)}},{key:"_addConversion",value:function(e){var t=e.target,n=t.selectedOption.value,i=Te(t);if(null!=n&&null!=i){var r=new I({format:n});t.value="default",i>=0?(this.conversions.removeAt(i),this.conversions.add(r,i)):this.conversions.add(r)}}},{key:"_findSettingsFormat",value:function(){return this._settingsFormat||this.conversions.reduceRight((function(e,t){var n=t.format;return null!==n&&void 0!==n&&n.hasDisplayProperties?n:e}),null)||this.formats.find((function(e){return e.hasDisplayProperties}))}},{key:"_hidePopup",value:function(){this._popupTimeoutId&&(clearTimeout(this._popupTimeoutId),this._popupTimeoutId=void 0),this._popupVisible=!1,this._popupMessage=null,this.scheduleRender()}},{key:"_hideClipboardPopup",value:function(){this._clipboardPopupTimeoutId&&(clearTimeout(this._clipboardPopupTimeoutId),this._clipboardPopupTimeoutId=void 0),this._clipboardPopupVisible=!1,this.scheduleRender()}},{key:"_onConvertComplete",value:function(){this._inputVisible=!1,this._coordinateInput.value=""}},{key:"_onCopy",value:function(e){var t,n,i=null===(t=function(e){return e["data-conversion"]}(e.currentTarget))||void 0===t?void 0:t.displayCoordinate;null!=i&&(null!==(n=e.clipboardData)&&void 0!==n&&n.setData("text/plain",i),this._showClipboardPopup(),e.preventDefault())}},{key:"_processUserInput",value:function(e){var t=this,n=(0,v.aF)(e,"key"),i=this.viewModel;if("Enter"!==n&&n)this._badInput&&(this._badInput=!1);else{var r=this._conversionFormat||this.conversions.at(0).format;if(!r)return;var o=this._coordinateInput.value;this._reverseConvert(o,r).then((function(e){"capture"===t.mode?i.resume():t.mode="capture",t.currentLocation=e,i.setLocation(e),t._onConvertComplete()})).catch((function(e){var n;p.Z.getLogger(t).error(e),t._showPopup(null===(n=t.messages)||void 0===n?void 0:n.invalidCoordinate),t._badInput=!0}))}}},{key:"_reverseConvert",value:function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t,n){var r,o,a=this;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.viewModel,e.next=3,n.reverseConvert(t);case 3:return o=e.sent,e.abrupt("return",(this._goToEnabled&&o&&r.goToLocation(o).catch((function(e){var t;p.Z.getLogger(a).warn(e),a._showPopup(null===(t=a.messages)||void 0===t?void 0:t.locationOffBasemap)})),o));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_setInputFormat",value:function(e){var t=e.target.selectedOption.value;null!=t&&(this._conversionFormat=t)}},{key:"_setPreviewConversion",value:function(){var e=this._findSettingsFormat(),t=this.viewModel;if(e){var n,i,r=this.conversions.find((function(t){return t.format===e}));this._previewConversion=new I({format:e,position:{location:this.currentLocation,coordinate:null===r||void 0===r||null===(n=r.position)||void 0===n?void 0:n.coordinate}}),(null===(i=this._previewConversion.position)||void 0===i?void 0:i.coordinate)||t.previewConversion(this._previewConversion)}}},{key:"_setSettingsFormat",value:function(e){var t=e.target.selectedOption.value;null!=t&&(this._settingsFormat=t,this._setPreviewConversion())}},{key:"_showClipboardPopup",value:function(){var e=this;this._clipboardPopupVisible?clearTimeout(this._clipboardPopupTimeoutId):this._clipboardPopupVisible=!0,this.scheduleRender(),this._popupTimeoutId=setTimeout((function(){e._popupTimeoutId=void 0,e._hideClipboardPopup()}),750)}},{key:"_showPopup",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2500;this._popupMessage=e,this._popupVisible?clearTimeout(this._popupTimeoutId):this._popupVisible=!0,this.scheduleRender(),this._popupTimeoutId=setTimeout((function(){t._popupTimeoutId=void 0,t._hidePopup()}),n)}},{key:"_toggleGoTo",value:function(){this._goToEnabled=!this._goToEnabled}},{key:"_updateCurrentPattern",value:function(e){e.stopPropagation();var t=e.target,n=this._findSettingsFormat();n&&(n.currentPattern=t.value)}},{key:"_renderConversion",value:function(e,t){var n,i=this.messages;if(!i)return(0,Ce.u)("li",null);var r=e.format,o=null!==(n=null===r||void 0===r?void 0:r.label)&&void 0!==n?n:"",a="".concat(this.id,"__list-item-").concat(t),s="".concat(o," ").concat(i.conversionOutputSuffix),u=0===t,c=u||this._expanded,l=u?this._renderFirstConversion(e):this._renderTools(t,e,a),d=u&&!e.displayCoordinate?i.noLocation:e.displayCoordinate,p=(0,Ce.u)("div",{"aria-label":d,class:xe.coordDisplay,"data-conversion":e,role:"listitem",tabIndex:0,title:null!==d&&void 0!==d?d:""},d),v=this._renderOptions(this.formats.filter((function(e){return e!==r})));return c?(0,Ce.u)("li",{"aria-label":s,class:xe.conversionRow,id:a,key:e,role:"group",tabIndex:0,title:s},(0,Ce.u)("calcite-select",{"aria-controls":a,bind:this,class:xe.rowSelect,"data-index":t,label:i.selectFormat,scale:"s",onCalciteSelectChange:this._addConversion},(0,Ce.u)("calcite-option",{label:o.toUpperCase(),selected:!0},o.toUpperCase()),v),p,l):null}},{key:"_renderCopyButton",value:function(e){var t=this._clipboardPopupVisible&&this._renderClipboardPopup(),n=this.messagesCommon;return n?(0,Ce.u)("li",{"aria-label":n.copy,bind:this,class:this.classes(me.z.widgetButton,xe.rowButton),"data-conversion":e,onclick:this._copyCoordinateOutput,oncopy:this._onCopy,onkeydown:this._copyCoordinateOutput,role:"button",tabIndex:0,title:n.copy},t,(0,Ce.u)("span",{"aria-hidden":"true",class:be.W.duplicate})):(0,Ce.u)("li",null)}},{key:"_renderFirstConversion",value:function(e){var t=this.id,n=this.messages,i=this.messagesCommon,r=this.multipleConversions,o=this.visibleElements;if(!i||!n)return(0,Ce.u)("ul",null);var a="live"===this.mode?n.captureMode:n.liveMode,s=this._expanded?i.collapse:i.expand,u=e.displayCoordinate&&"capture"===this.mode?this._renderCopyButton(e):null,c=r&&o.expandButton&&this._renderIconButton({iconType:this._expanded?"chevron-down":"chevron-up",clickFunction:this._toggleExpand,classes:[xe.expandButton],attributes:{"aria-controls":"".concat(t,"__").concat(xe.conversionList),label:s}}),l=!r&&o.captureButton&&this._renderIconButton({iconType:"live"===this.mode?"pin-tear":"pin-tear-f",clickFunction:this._toggleMode,classes:[xe.modeToggle],attributes:{label:a}});return(0,Ce.u)("ul",{class:xe.toolDisplay},u,c,l)}},{key:"_renderInputForm",value:function(){var e=this._conversionFormat||this.conversions.at(0).format,t=this.formats.findIndex((function(t){return t.name===(null===e||void 0===e?void 0:e.name)})),n=this.id,i="".concat(n,"__").concat(xe.coordinateInput),r="".concat(n,"__").concat(xe.coordinateInput,"__header"),o=this._renderOptions(this.formats,!0,t),a=this.messages,s=this.messagesCommon,u=this.headingLevel;if(!s||!a)return(0,Ce.u)("div",null);var c=this._renderIconButton({iconType:(0,ke.dZ)(this.container)?"arrow-right":"arrow-left",clickFunction:this._toggleInputVisibility,attributes:{label:s.back}});return(0,Ce.u)("div",{"aria-labelledby":r,class:xe.inputForm,key:"esri-coordinate-conversion__input-form",role:"search"},(0,Ce.u)("div",{class:xe.sectionHeading},c,(0,Ce.u)(_e.X,{class:me.z.heading,id:r,level:u},a.inputCoordTitle)),(0,Ce.u)("div",{class:xe.inputFormGroup},(0,Ce.u)("calcite-select",{"aria-controls":i,bind:this,class:xe.inputSelect,label:a.selectFormat,scale:"s",onCalciteSelectChange:this._setInputFormat},o),(0,Ce.u)("calcite-input",{afterCreate:ke.Yo,"aria-labelledby":r,bind:this,class:xe.coordinateInput,"data-format":e,"data-node-ref":"_coordinateInput",id:i,onkeydown:this._processUserInput,placeholder:a.inputCoordTitle,required:!0,scale:"s",spellcheck:!1,status:this._badInput?"invalid":"idle"})),(0,Ce.u)("div",{class:xe.inputFormGroup},(0,Ce.u)("calcite-label",{layout:"inline",scale:"s"},(0,Ce.u)("calcite-checkbox",{bind:this,checked:this._goToEnabled,onCalciteCheckboxChange:this._toggleGoTo}),a.goTo),(0,Ce.u)("calcite-button",{appearance:"outline",bind:this,kind:"neutral",onclick:this._processUserInput,type:"button",width:"auto"},a.convert)))}},{key:"_renderConversionsView",value:function(){var e,t=this,n=this.messages;if(!n)return(0,Ce.u)("div",null);var i="".concat(this.id,"__").concat(xe.conversionList),r=this._renderPrimaryTools(),a=this._renderOptions(this.formats),s=this.conversions.map((function(e,n){return t._renderConversion(e,n)})).toArray(),u=this._expanded?(0,Ce.u)("div",{class:xe.conversionRow},(0,Ce.u)("calcite-select",{"aria-controls":i,bind:this,"data-index":-1,label:n.addConversion,scale:"s",onCalciteSelectChange:this._addConversion},(0,Ce.u)("calcite-option",{disabled:!0,selected:!0,value:"default"},n.addConversion),a),r):null,c=(e={},(0,o.Z)(e,xe.expanded,this._expanded),(0,o.Z)(e,xe.expandUp,"expand-up"===this.orientation),(0,o.Z)(e,xe.expandDown,"expand-down"===this.orientation),e);return(0,Ce.u)("div",{class:this.classes(xe.conversionsView,c),key:"esri-coordinate-conversion__main-view"},(0,Ce.u)("ul",{"aria-expanded":this._expanded?"true":"false",class:xe.conversionList,id:i},s),u)}},{key:"_renderOptions",value:function(e,t,n){var i,r=this,o=this.conversions.at(0),a=null===(i=o.format)||void 0===i?void 0:i.name;return e.map((function(e,i){var s,u=!(t||!o)&&(a===e.name||r.conversions.map((function(e){var t;return null===(t=e.format)||void 0===t?void 0:t.name})).includes(e.name));return(0,Ce.u)("calcite-option",{disabled:u,key:null!==(s=e.name)&&void 0!==s?s:"unnamed-format",label:e.label.toUpperCase(),selected:i===n,value:e},e.label)})).toArray()}},{key:"_renderPopup",value:function(){return(0,Ce.u)("div",{class:xe.popup,role:"alert"},this._popupMessage)}},{key:"_renderClipboardPopup",value:function(){var e=this.messages;return e?(0,Ce.u)("div",{class:this.classes(xe.popup,xe.clipboardPopup),role:"alert"},e.copySuccessMessage):(0,Ce.u)("div",null)}},{key:"_renderPrimaryTools",value:function(){var e=this.messages,t=this.visibleElements;if(!e)return(0,Ce.u)("ul",null);var n="live"===this.mode?e.captureMode:e.liveMode,i=t.inputButton&&this._renderIconButton({iconType:"pencil",clickFunction:this._toggleInputVisibility,attributes:{label:e.inputCoordTitle}}),r=t.captureButton&&this._renderIconButton({iconType:"live"===this.mode?"pin-tear":"pin-tear-f",clickFunction:this._toggleMode,classes:[xe.modeToggle],attributes:{label:n}}),o=t.settingsButton&&this._renderIconButton({iconType:"gear",clickFunction:this._toggleSettingsVisibility,attributes:{label:e.settingsTitle}});return(0,Ce.u)("ul",{class:xe.toolDisplay},i,r,o)}},{key:"_renderSettings",value:function(){var e,t=this.id,n="".concat(t,"__").concat(xe.patternInput),i="".concat(t,"__").concat(xe.patternInput,"__header"),r="".concat(t,"__").concat(xe.previewCoordinate),o=this.formats.filter((function(e){return e.hasDisplayProperties})),a=this._findSettingsFormat(),s=a?o.indexOf(a):-1,u=this._renderOptions(o,!0,s),c=null===a||void 0===a?void 0:a.currentPattern,l=this.messages,d=this.messagesCommon,p=this.headingLevel;if(!d||!l)return(0,Ce.u)("div",null);var v=this._renderIconButton({iconType:(0,ke.dZ)(this.container)?"arrow-right":"arrow-left",clickFunction:this._toggleSettingsVisibility,attributes:{label:d.back}}),h=this._renderIconButton({iconType:"refresh",clickFunction:this._setDefaultPattern,attributes:{label:l.defaultPattern}});return(0,Ce.u)("div",{"aria-labelledby":i,class:xe.settings,key:xe.settings},(0,Ce.u)("div",{class:xe.sectionHeading},v,(0,Ce.u)(_e.X,{class:me.z.heading,id:i,level:p},l.settingsTitle)),(0,Ce.u)("div",{class:xe.settingsFormGroup},(0,Ce.u)("label",{for:n},l.changeCoordinateDisplay),(0,Ce.u)("calcite-select",{bind:this,label:l.selectFormat,width:"full",onCalciteSelectChange:this._setSettingsFormat},u),(0,Ce.u)("div",{class:xe.settingsFormGroupHorizontal},(0,Ce.u)("calcite-input",{"aria-controls":r,bind:this,class:xe.patternInput,id:n,spellcheck:!1,type:"text",value:c,onCalciteInputInput:this._updateCurrentPattern}),h)),(0,Ce.u)("div",{class:xe.settingsFormGroup},(0,Ce.u)("label",null,d.preview,(0,Ce.u)("div",{class:xe.previewCoordinate,id:r,tabIndex:0},null===(e=this._previewConversion)||void 0===e?void 0:e.displayCoordinate))))}},{key:"_renderIconButton",value:function(e){var t=e.iconType,n=e.clickFunction,i=e.classes,r=e.attributes;return(0,Ce.u)("calcite-button",(0,a.Z)({appearance:"transparent",bind:this,class:this.classes(i),iconStart:t,kind:"neutral",onclick:n,onkeydown:n},r))}},{key:"_renderTools",value:function(e,t,n){var i=t.displayCoordinate&&"capture"===this.mode?this._renderCopyButton(t):null,r=this.messages;if(!r)return(0,Ce.u)("ul",null);var o=this._renderIconButton({iconType:"x",clickFunction:this._removeConversion,attributes:{"aria-controls":n,label:r.removeConversion,"data-index":e}});return(0,Ce.u)("ul",{class:xe.toolDisplay,role:"listitem"},i,(0,Ce.u)("li",{class:this.classes(xe.rowButton)},o))}},{key:"_copyCoordinateOutput",value:function(e){var t=e.target;if(!("createTextRange"in document.body)){var n=window.getSelection(),i=document.createRange();i.selectNodeContents(t),null!==n&&void 0!==n&&n.removeAllRanges(),null===n||void 0===n||n.addRange(i)}document.execCommand("copy")}},{key:"_removeConversion",value:function(e){var t=Te(e.currentTarget);null!=t&&this.conversions.removeAt(t)}},{key:"_setDefaultPattern",value:function(e){e.stopPropagation();var t=this._findSettingsFormat();t&&(t.currentPattern=t.defaultPattern)}},{key:"_toggleExpand",value:function(){this._expanded=!this._expanded}},{key:"_toggleInputVisibility",value:function(){this._inputVisible=!this._inputVisible,this._popupVisible&&this._hidePopup(),this._inputVisible?this.viewModel.pause():this.viewModel.resume()}},{key:"_toggleMode",value:function(){this.mode="live"===this.mode?"capture":"live"}},{key:"_toggleSettingsVisibility",value:function(){this._settingsVisible=!this._settingsVisible,this._popupVisible&&this._hidePopup(),this._settingsVisible?(this._setPreviewConversion(),this.viewModel.pause()):this.viewModel.resume()}}]),d}(m.Z);(0,d._)([(0,h.Cb)()],Ze.prototype,"conversions",null),(0,d._)([(0,h.Cb)()],Ze.prototype,"currentLocation",null),(0,d._)([(0,h.Cb)()],Ze.prototype,"formats",null),(0,d._)([(0,h.Cb)()],Ze.prototype,"goToOverride",null),(0,d._)([(0,h.Cb)()],Ze.prototype,"headingLevel",void 0),(0,d._)([(0,h.Cb)()],Ze.prototype,"icon",null),(0,d._)([(0,h.Cb)()],Ze.prototype,"label",null),(0,d._)([(0,h.Cb)(),(0,ye.H)("esri/widgets/CoordinateConversion/t9n/CoordinateConversion")],Ze.prototype,"messages",void 0),(0,d._)([(0,h.Cb)(),(0,ye.H)("esri/t9n/common")],Ze.prototype,"messagesCommon",void 0),(0,d._)([(0,h.Cb)()],Ze.prototype,"mode",null),(0,d._)([(0,h.Cb)()],Ze.prototype,"orientation",void 0),(0,d._)([(0,h.Cb)()],Ze.prototype,"multipleConversions",null),(0,d._)([(0,h.Cb)()],Ze.prototype,"locationSymbol",null),(0,d._)([(0,h.Cb)()],Ze.prototype,"storageEnabled",null),(0,d._)([(0,h.Cb)()],Ze.prototype,"storageType",null),(0,d._)([(0,h.Cb)()],Ze.prototype,"view",null),(0,d._)([(0,h.Cb)({type:fe})],Ze.prototype,"viewModel",void 0),(0,d._)([(0,h.Cb)()],Ze.prototype,"visibleElements",void 0),(0,d._)([(0,f.p)("visibleElements")],Ze.prototype,"castVisibleElements",null),(0,d._)([(0,we.h)()],Ze.prototype,"_copyCoordinateOutput",null),(0,d._)([(0,we.h)()],Ze.prototype,"_removeConversion",null),(0,d._)([(0,we.h)()],Ze.prototype,"_setDefaultPattern",null),(0,d._)([(0,we.h)()],Ze.prototype,"_toggleExpand",null),(0,d._)([(0,we.h)()],Ze.prototype,"_toggleInputVisibility",null),(0,d._)([(0,we.h)()],Ze.prototype,"_toggleMode",null),(0,d._)([(0,we.h)()],Ze.prototype,"_toggleSettingsVisibility",null);var Me=Ze=(0,d._)([(0,g.j)("esri.widgets.CoordinateConversion")],Ze);function Te(e){return e["data-index"]}},99505:function(e,t,n){n.d(t,{_:function(){return d}});var i=n(15671),r=n(43144),o=n(60136),a=n(29388),s=n(27366),u=n(92026),c=n(49861),l=(n(93169),n(32718),n(84936),n(69912)),d=function(e){var t=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).goToOverride=null,e.view=null,e}return(0,r.Z)(n,[{key:"callGoTo",value:function(e){var t=this.view;return(0,u.O3)(t),this.goToOverride?this.goToOverride(t,e):t.goTo(e.target,e.options)}}]),n}(e);return(0,s._)([(0,c.Cb)()],t.prototype,"goToOverride",void 0),(0,s._)([(0,c.Cb)()],t.prototype,"view",void 0),t=(0,s._)([(0,l.j)("esri.widgets.support.GoTo")],t)}},96919:function(e,t,n){n.d(t,{M:function(){return p},X:function(){return l}});var i=n(1413),r=n(44925),o=n(16889),a=n(7021),s=n(80975),u=n(67005),c=["level","class"];function l(e,t){var n=e.level,o=e.class,l=(0,r.Z)(e,c),p=d(n);return(0,u.u)("h".concat(p),(0,i.Z)((0,i.Z)({},l),{},{"aria-level":String(p),class:(0,s.Sh)(a.z.heading,o),role:"heading"}),t)}function d(e){return(0,o.uZ)(Math.ceil(e),1,6)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return d(e+t)}},78088:function(e,t,n){n.d(t,{h:function(){return r}});var i=n(80975);function r(){return function(e,t){if(!e[t])throw new TypeError("Cannot auto bind undefined function '".concat(String(t),"'"));return{value:a(e[t])}}}function o(e){var t=null===e||void 0===e?void 0:e.type;return e instanceof KeyboardEvent||"keyup"===t||"keydown"===t||"keypress"===t}function a(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];o(t)?(0,i.pf)(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call.apply(e,[this,t].concat(r))}}},7021:function(e,t,n){n.d(t,{z:function(){return i}});var i={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"}},33095:function(e,t,n){n.d(t,{W:function(){return i}});var i={checkMark:"esri-icon-check-mark",close:"esri-icon-close",collapse:"esri-icon-collapse",down:"esri-icon-down",downArrow:"esri-icon-down-arrow",dragHorizontal:"esri-icon-drag-horizontal",dragVertical:"esri-icon-drag-vertical",duplicate:"esri-icon-duplicate",expand:"esri-icon-expand",fontFallbackText:"esri-icon-font-fallback-text",forward:"esri-icon-forward",handleVertical:"esri-icon-handle-vertical",icon:"esri-icon",left:"esri-icon-left",loadingIndicator:"esri-icon-loading-indicator",locateCircled:"esri-icon-locate-circled",minus:"esri-icon-minus",noticeTriangle:"esri-icon-notice-triangle",pause:"esri-icon-pause",play:"esri-icon-play",plus:"esri-icon-plus",radioChecked:"esri-icon-radio-checked",radioUnchecked:"esri-icon-radio-unchecked",refresh:"esri-icon-refresh",reverse:"esri-icon-reverse",right:"esri-icon-right",search:"esri-icon-search",swap:"esri-icon-swap",table:"esri-icon-table",trash:"esri-icon-trash",up:"esri-icon-up",upArrow:"esri-icon-up-arrow",upDownArrows:"esri-icon-up-down-arrows",urbanModel:"esri-icon-urban-model",zoomInMagnifyingGlass:"esri-icon-zoom-in-magnifying-glass",zoomToObject:"esri-icon-zoom-to-object"}}}]);
//# sourceMappingURL=45337.8355e5b5.chunk.js.map