"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[718],{718:function(e,t,n){n.r(t),n.d(t,{registerFunctions:function(){return R}});var a=n(74165),r=n(37762),i=n(15861),s=n(51064),u=n(72741),l=n(62357),o=n(22564),c=n(5431),f=n(88504),d=n(97246),p=n(44715),m=n(93249),b=n(12829),h=n(67820),y=n(89066),x=n(45184),v=n(73954),w=n(84272),k=n(82279),g=n(29876),F=n(65247),I=n(93106),Z=n(66978),T=n(54054),D=n(64326),E=n(83040),C=n(7575);function N(e){if(1===e.length){if((0,p.o)(e[0]))return(0,I.t)("distinct",e[0],-1);if((0,p.q)(e[0]))return(0,I.t)("distinct",e[0].toArray(),-1)}return(0,I.t)("distinct",e,-1)}function H(e,t,n){return S.apply(this,arguments)}function S(){return(S=(0,i.Z)((0,a.Z)().mark((function e(t,n,r){var i,s,u,l,o,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((i=t.getVariables()).length>0)){e.next=17;break}s=[],u=0;case 4:if(!(u<i.length)){e.next=14;break}return l={name:i[u]},e.t0=s,e.next=9,n.evaluateIdentifier(r,l);case 9:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 11:u++,e.next=4;break;case 14:for(o={},c=0;c<i.length;c++)o[i[c]]=s[c];return e.abrupt("return",(t.parameters=o,t));case 17:return e.abrupt("return",t);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;for(var a in e)if(a.toLowerCase()===t.toLowerCase())return e[a];return n}function L(e){if(null===e)return null;var t={type:A(e,"type",""),name:A(e,"name","")};if("range"===t.type)t.range=A(e,"range",[]);else{t.codedValues=[];var n,a=(0,r.Z)(A(e,"codedValues",[]));try{for(a.s();!(n=a.n()).done;){var i=n.value;t.codedValues.push({name:A(i,"name",""),code:A(i,"code",null)})}}catch(s){a.e(s)}finally{a.f()}}return t}function P(e){if(null===e)return null;var t={},n=A(e,"wkt");null!==n&&(t.wkt=n);var a=A(e,"wkid");return null!==a&&(t.wkid=a),t}function V(e){if(null===e)return null;var t={hasZ:A(e,"hasz",!1),hasM:A(e,"hasm",!1)},n=A(e,"spatialreference");null!=n&&(t.spatialReference=P(n));var a=A(e,"x",null);if(null!==a)return t.x=a,t.y=A(e,"y",null),t.hasZ&&(t.z=A(e,"z",null)),t.hasM&&(t.m=A(e,"m",null)),t;var r=A(e,"rings",null);if(null!==r)return t.rings=r,t;var i=A(e,"paths",null);if(null!==i)return t.paths=i,t;var s=A(e,"points",null);if(null!==s)return t.points=s,t;for(var u=0,l=["xmin","xmax","ymin","ymax","zmin","zmax","mmin","mmax"];u<l.length;u++){var o=l[u],c=A(e,o,null);null!==c&&(t[o]=c)}return t}function W(e){return!!e.layerDefinition&&!!e.featureSet&&!1!==function(e,t){var n,a=(0,r.Z)(t);try{for(a.s();!(n=a.n()).done;)if(n.value===e)return!0}catch(i){a.e(i)}finally{a.f()}return!1}(e.layerDefinition.geometryType,["",null,"esriGeometryNull","esriGeometryPoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryMultipoint","esriGeometryEnvelope"])&&!1!==(0,p.o)(e.layerDefinition.fields)&&!1!==(0,p.o)(e.featureSet.features)}function U(e){return"utc"===(null===e||void 0===e?void 0:e.toLowerCase())?"UTC":"unknown"===(null===e||void 0===e?void 0:e.toLowerCase())?"Unknown":e}function R(e){"async"===e.mode&&(e.functions.timezone=function(t,n){return e.standardFunctionAsync(t,n,function(){var e=(0,i.Z)((0,a.Z)().mark((function e(r,i,u){var c,f,d,m,b,h,y;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,p.H)(u,1,2,t,n),!(0,p.n)(u[0])){e.next=2;break}return e.abrupt("return","Unknown");case 2:if(!(0,p.m)(u[0])){e.next=4;break}return e.abrupt("return","Unknown");case 4:if(!(0,p.u)(u[0])){e.next=23;break}return e.next=7,u[0].load();case 7:if(1!==u.length&&null!==u[1]){e.next=9;break}return e.abrupt("return",u[0].datesInUnknownTimezone?U("unknown"):U(u[0].dateFieldsTimeZone));case 9:if(u[1]instanceof l.Z&&!1!==u[1].hasField("type")){e.next=11;break}throw new o.aV(t,o.rH.InvalidParameter,n);case 11:if(b=u[1].field("type"),!1!==(0,p.c)(b)){e.next=14;break}throw new o.aV(t,o.rH.InvalidParameter,n);case 14:e.t0=(0,p.j)(b).toLowerCase(),e.next="preferredtimezone"===e.t0?17:"editfieldsinfo"===e.t0?18:"timeinfo"===e.t0?19:"field"===e.t0?20:22;break;case 17:return e.abrupt("return",U(u[0].preferredTimeZone));case 18:return e.abrupt("return",U(null!==(c=null===(f=u[0].editFieldsInfo)||void 0===f?void 0:f.timeZone)&&void 0!==c?c:null));case 19:return e.abrupt("return",U(null!==(d=null===(m=u[0].timeInfo)||void 0===m?void 0:m.timeZone)&&void 0!==d?d:null));case 20:if(!u[1].hasField("fieldname")||!(0,p.c)(u[1].field("fieldname"))){e.next=22;break}return e.abrupt("return",U(u[0].fieldTimeZone((0,p.j)(u[1].field("fieldname")))));case 22:throw new o.aV(t,o.rH.InvalidParameter,n);case 23:if(null!==(h=(0,p.l)(u[0],(0,p.N)(t)))){e.next=26;break}return e.abrupt("return",null);case 26:return y=h.timeZone,e.abrupt("return","system"===y?s.iG.systemTimeZoneCanonicalName:"utc"===y.toLowerCase()?"UTC":"unknown"===y.toLowerCase()?"Unknown":y);case 28:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}())},e.functions.sqltimestamp=function(t,n){return e.standardFunctionAsync(t,n,function(){var e=(0,i.Z)((0,a.Z)().mark((function e(r,i,s){var u,l,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,p.H)(s,1,3,t,n),u=s[0],!(0,p.k)(u)){e.next=8;break}if(1!==s.length){e.next=5;break}return e.abrupt("return",u.toSQLWithKeyword());case 5:if(2!==s.length){e.next=7;break}return e.abrupt("return",u.changeTimeZone((0,p.j)(s[1])).toSQLWithKeyword());case 7:case 22:throw new o.aV(t,o.rH.InvalidParameter,n);case 8:if(!(0,p.m)(u)){e.next=10;break}return e.abrupt("return",u.toSQLWithKeyword());case 10:if(!(0,p.u)(u)){e.next=22;break}if(3===s.length){e.next=13;break}throw new o.aV(t,o.rH.InvalidParameter,n);case 13:return e.next=15,u.load();case 15:if(l=(0,p.j)(s[1]),!(0,p.m)(s[2])){e.next=18;break}return e.abrupt("return",s[2].toSQLWithKeyword());case 18:if(!1!==(0,p.k)(s[2])){e.next=20;break}throw new o.aV(t,o.rH.InvalidParameter,n);case 20:return c=u.fieldTimeZone(l),e.abrupt("return",null===c?s[2].toSQLWithKeyword():s[2].changeTimeZone(c).toSQLWithKeyword());case 23:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}())},e.signatures.push({name:"sqltimestamp",min:2,max:4}),e.functions.featuresetbyid=function(t,n){return e.standardFunctionAsync(t,n,(function(e,a,r){if((0,p.H)(r,2,4,t,n),(0,p.s)(r[0])){var i=(0,p.j)(r[1]),s=(0,p.K)(r[2],null),u=(0,p.h)((0,p.K)(r[3],!0));if(null===s&&(s=["*"]),!1===(0,p.o)(s))throw new o.aV(t,o.rH.InvalidParameter,n);return r[0].featureSetById(i,u,s)}throw new o.aV(t,o.rH.InvalidParameter,n)}))},e.signatures.push({name:"featuresetbyid",min:2,max:4}),e.functions.getfeatureset=function(t,n){return e.standardFunctionAsync(t,n,function(){var e=(0,i.Z)((0,a.Z)().mark((function e(r,i,s){var u,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,p.H)(s,1,2,t,n),!(0,p.r)(s[0])){e.next=3;break}return l=(0,p.K)(s[1],"datasource"),e.abrupt("return",(null===l&&(l="datasource"),l=(0,p.j)(l).toLowerCase(),(0,f.convertToFeatureSet)(s[0].fullSchema(),l,t.lrucache,t.interceptor,null!==(u=t.spatialReference)&&void 0!==u?u:null)));case 3:throw new o.aV(t,o.rH.InvalidParameter,n);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}())},e.signatures.push({name:"getfeatureset",min:1,max:2}),e.functions.featuresetbyportalitem=function(t,n){return e.standardFunctionAsync(t,n,(function(e,a,r){var i,s,l;if((0,p.H)(r,2,5,t,n),null===r[0])throw new o.aV(t,o.rH.PortalRequired,n);if(r[0]instanceof u.Z){var c,d,b,h=(0,p.j)(r[1]),y=(0,p.j)(r[2]),x=(0,p.K)(r[3],null),v=(0,p.h)((0,p.K)(r[4],!0));if(null===x&&(x=["*"]),!1===(0,p.o)(x))throw new o.aV(t,o.rH.InvalidParameter,n);return b=null!==(c=t.services)&&void 0!==c&&c.portal?t.services.portal:C.Z.getDefault(),b=(0,m._)(r[0],b),(0,f.constructFeatureSetFromPortalItem)(h,y,null!==(d=t.spatialReference)&&void 0!==d?d:null,x,v,b,t.lrucache,t.interceptor)}if(!1===(0,p.c)(r[0]))throw new o.aV(t,o.rH.PortalRequired,n);var w=(0,p.j)(r[0]),k=(0,p.j)(r[1]),g=(0,p.K)(r[2],null),F=(0,p.h)((0,p.K)(r[3],!0));if(null===g&&(g=["*"]),!1===(0,p.o)(g))throw new o.aV(t,o.rH.InvalidParameter,n);return(0,f.constructFeatureSetFromPortalItem)(w,k,null!==(i=t.spatialReference)&&void 0!==i?i:null,g,F,null!==(s=null===(l=t.services)||void 0===l?void 0:l.portal)&&void 0!==s?s:C.Z.getDefault(),t.lrucache,t.interceptor)}))},e.signatures.push({name:"featuresetbyportalitem",min:2,max:5}),e.functions.featuresetbyname=function(t,n){return e.standardFunctionAsync(t,n,(function(e,a,r){if((0,p.H)(r,2,4,t,n),(0,p.s)(r[0])){var i=(0,p.j)(r[1]),s=(0,p.K)(r[2],null),u=(0,p.h)((0,p.K)(r[3],!0));if(null===s&&(s=["*"]),!1===(0,p.o)(s))throw new o.aV(t,o.rH.InvalidParameter,n);return r[0].featureSetByName(i,u,s)}throw new o.aV(t,o.rH.InvalidParameter,n)}))},e.signatures.push({name:"featuresetbyname",min:2,max:4}),e.functions.featureset=function(t,n){return e.standardFunction(t,n,(function(e,a,i){(0,p.H)(i,1,1,t,n);var s={layerDefinition:{geometryType:"",objectIdField:"",globalIdField:"",typeIdField:"",hasM:!1,hasZ:!1,fields:[]},featureSet:{geometryType:"",features:[]}};if((0,p.c)(i[0])){var u,c=JSON.parse(i[0]);void 0!==c.layerDefinition?(s.layerDefinition=c.layerDefinition,s.featureSet=c.featureSet,c.layerDefinition.spatialReference&&(s.layerDefinition.spatialReference=c.layerDefinition.spatialReference)):(s.featureSet.features=c.features,s.featureSet.geometryType=c.geometryType,s.layerDefinition.geometryType=s.featureSet.geometryType,s.layerDefinition.objectIdField=null!==(u=c.objectIdFieldName)&&void 0!==u?u:"",s.layerDefinition.typeIdField=c.typeIdFieldName,s.layerDefinition.globalIdField=c.globalIdFieldName,s.layerDefinition.fields=c.fields,c.spatialReference&&(s.layerDefinition.spatialReference=c.spatialReference))}else{if(!(i[0]instanceof l.Z))throw new o.aV(t,o.rH.InvalidParameter,n);var f=JSON.parse(i[0].castToText(!0)),d=A(f,"layerdefinition");if(null!==d){s.layerDefinition.geometryType=A(d,"geometrytype",""),s.featureSet.geometryType=s.layerDefinition.geometryType,s.layerDefinition.globalIdField=A(d,"globalidfield",""),s.layerDefinition.objectIdField=A(d,"objectidfield",""),s.layerDefinition.typeIdField=A(d,"typeidfield",""),s.layerDefinition.hasZ=!0===A(d,"hasz",!1),s.layerDefinition.hasM=!0===A(d,"hasm",!1);var m=A(d,"spatialreference");m&&(s.layerDefinition.spatialReference=P(m));var b,h=[],y=(0,r.Z)(A(d,"fields",[]));try{for(y.s();!(b=y.n()).done;){var x=b.value,v={name:A(x,"name",""),alias:A(x,"alias",""),type:A(x,"type",""),nullable:A(x,"nullable",!0),editable:A(x,"editable",!0),length:A(x,"length",null),domain:L(A(x,"domain"))};h.push(v)}}catch(te){y.e(te)}finally{y.f()}s.layerDefinition.fields=h;var k=A(f,"featureset");if(k){var g,F={},I=(0,r.Z)(h);try{for(I.s();!(g=I.n()).done;){var Z=g.value;F[Z.name.toLowerCase()]=Z.name}}catch(te){I.e(te)}finally{I.f()}var T,D=(0,r.Z)(A(k,"features",[]));try{for(D.s();!(T=D.n()).done;){var E=T.value,C={},N=A(E,"attributes",{});for(var H in N)C[F[H.toLowerCase()]]=N[H];s.featureSet.features.push({attributes:C,geometry:V(A(E,"geometry"))})}}catch(te){D.e(te)}finally{D.f()}}}else{s.layerDefinition.hasZ=!0===A(f,"hasz",!1),s.layerDefinition.hasM=!0===A(f,"hasm",!1),s.layerDefinition.geometryType=A(f,"geometrytype",""),s.featureSet.geometryType=s.layerDefinition.geometryType,s.layerDefinition.objectIdField=A(f,"objectidfieldname",""),s.layerDefinition.typeIdField=A(f,"typeidfieldname","");var S=A(f,"spatialreference");S&&(s.layerDefinition.spatialReference=P(S));var U=[],R=A(f,"fields",null);if(!(0,p.o)(R))throw new o.aV(t,o.rH.InvalidParameter,n);var M,j=(0,r.Z)(R);try{for(j.s();!(M=j.n()).done;){var O=M.value,z={name:A(O,"name",""),alias:A(O,"alias",""),type:A(O,"type",""),nullable:A(O,"nullable",!0),editable:A(O,"editable",!0),length:A(O,"length",null),domain:L(A(O,"domain"))};U.push(z)}}catch(te){j.e(te)}finally{j.f()}s.layerDefinition.fields=U;for(var K={},X=0,_=U;X<_.length;X++){var G=_[X];K[G.name.toLowerCase()]=G.name}var q=A(f,"features",null);if((0,p.o)(q)){var Q,B=(0,r.Z)(q);try{for(B.s();!(Q=B.n()).done;){var J=Q.value,$={},Y=A(J,"attributes",{});for(var ee in Y)$[K[ee.toLowerCase()]]=Y[ee];s.featureSet.features.push({attributes:$,geometry:V(A(J,"geometry",null))})}}catch(te){B.e(te)}finally{B.f()}}else q=null,s.featureSet.features=q}}if(!1===W(s))throw new o.aV(t,o.rH.InvalidParameter,n);return s.layerDefinition.geometryType||(s.layerDefinition.geometryType="esriGeometryNull"),w.Z.create(s,t.spatialReference)}))},e.signatures.push({name:"featureset",min:1,max:1}),e.functions.filter=function(t,n){return e.standardFunctionAsync(t,n,function(){var s=(0,i.Z)((0,a.Z)().mark((function i(s,u,l){var c,f,m,b,y,x,v,w,k,g,F,I,D,E,C;return(0,a.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if((0,p.H)(l,2,2,t,n),!(0,p.o)(l[0])&&!(0,p.q)(l[0])){a.next=34;break}if(c=[],(m=l[0])instanceof d.Z&&(m=m.toArray()),(0,p.i)(l[1])){a.next=5;break}throw new o.aV(t,o.rH.InvalidParameter,n);case 5:f=l[1].createFunction(t),b=(0,r.Z)(m),a.prev=7,b.s();case 9:if((y=b.n()).done){a.next=25;break}if(x=y.value,v=f(x),!(0,Z.y8)(v)){a.next=22;break}return a.t0=!0,a.next=16,v;case 16:if(a.t1=a.sent,a.t2=a.t0===a.t1,!a.t2){a.next=20;break}c.push(x);case 20:a.next=23;break;case 22:!0===v&&c.push(x);case 23:a.next=9;break;case 25:a.next=30;break;case 27:a.prev=27,a.t3=a.catch(7),b.e(a.t3);case 30:return a.prev=30,b.f(),a.finish(30);case 33:return a.abrupt("return",c);case 34:if(!(0,p.u)(l[0])){a.next=57;break}return a.next=37,l[0].load();case 37:if(w=a.sent,k=T.WhereClause.create(l[1],w.getFieldsIndex(),w.dateFieldsTimeZoneDefaultUTC),!((g=k.getVariables()).length>0)){a.next=56;break}F=[],I=0;case 43:if(!(I<g.length)){a.next=53;break}return D={name:g[I]},a.t4=F,a.next=48,e.evaluateIdentifier(t,D);case 48:a.t5=a.sent,a.t4.push.call(a.t4,a.t5);case 50:I++,a.next=43;break;case 53:for(E={},C=0;C<g.length;C++)E[g[C]]=F[C];return a.abrupt("return",(k.parameters=E,new h.Z({parentfeatureset:l[0],whereclause:k})));case 56:return a.abrupt("return",new h.Z({parentfeatureset:l[0],whereclause:k}));case 57:throw new o.aV(t,o.rH.InvalidParameter,n);case 58:case"end":return a.stop()}}),i,null,[[7,27,30,33]])})));return function(e,t,n){return s.apply(this,arguments)}}())},e.signatures.push({name:"filter",min:2,max:2}),e.functions.orderby=function(t,n){return e.standardFunctionAsync(t,n,function(){var e=(0,i.Z)((0,a.Z)().mark((function e(r,i,s){var u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,p.H)(s,2,2,t,n),!(0,p.u)(s[0])){e.next=3;break}return u=new k.Z(s[1]),e.abrupt("return",new y.Z({parentfeatureset:s[0],orderbyclause:u}));case 3:throw new o.aV(t,o.rH.InvalidParameter,n);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}())},e.signatures.push({name:"orderby",min:2,max:2}),e.functions.top=function(t,n){return e.standardFunctionAsync(t,n,function(){var e=(0,i.Z)((0,a.Z)().mark((function e(r,i,s){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,p.H)(s,2,2,t,n),!(0,p.u)(s[0])){e.next=2;break}return e.abrupt("return",new x.Z({parentfeatureset:s[0],topnum:s[1]}));case 2:if(!(0,p.o)(s[0])){e.next=4;break}return e.abrupt("return",(0,p.g)(s[1])>=s[0].length?s[0].slice(0):s[0].slice(0,(0,p.g)(s[1])));case 4:if(!(0,p.q)(s[0])){e.next=6;break}return e.abrupt("return",(0,p.g)(s[1])>=s[0].length()?s[0].slice(0):s[0].slice(0,(0,p.g)(s[1])));case 6:throw new o.aV(t,o.rH.InvalidParameter,n);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}())},e.signatures.push({name:"top",min:2,max:2}),e.functions.first=function(t,n){return e.standardFunctionAsync(t,n,function(){var e=(0,i.Z)((0,a.Z)().mark((function e(r,i,s){var u,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,p.H)(s,1,1,t,n),!(0,p.u)(s[0])){e.next=8;break}return e.next=3,s[0].first(r.abortSignal);case 3:if(null===(u=e.sent)){e.next=7;break}return l=c.Z.createFromGraphicLikeObject(u.geometry,u.attributes,s[0],t.timeZone),e.abrupt("return",(l._underlyingGraphic=u,l));case 7:return e.abrupt("return",u);case 8:return e.abrupt("return",(0,p.o)(s[0])?0===s[0].length?null:s[0][0]:(0,p.q)(s[0])?0===s[0].length()?null:s[0].get(0):null);case 9:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}())},e.signatures.push({name:"first",min:1,max:1}),e.functions.attachments=function(t,n){return e.standardFunctionAsync(t,n,function(){var e=(0,i.Z)((0,a.Z)().mark((function e(r,i,s){var u,c,d;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,p.H)(s,1,2,t,n),u={minsize:-1,maxsize:-1,types:null,returnMetadata:!1},!(s.length>1)){e.next=9;break}if(!(s[1]instanceof l.Z)){e.next=7;break}s[1].hasField("minsize")&&(u.minsize=(0,p.g)(s[1].field("minsize"))),s[1].hasField("metadata")&&(u.returnMetadata=(0,p.h)(s[1].field("metadata"))),s[1].hasField("maxsize")&&(u.maxsize=(0,p.g)(s[1].field("maxsize"))),s[1].hasField("types")&&(c=(0,p.a1)(s[1].field("types"),!1)).length>0&&(u.types=c),e.next=9;break;case 7:if(null===s[1]){e.next=9;break}throw new o.aV(t,o.rH.InvalidParameter,n);case 9:if(!(0,p.r)(s[0])){e.next=25;break}if((d=s[0]._layer)instanceof D.default&&(d=(0,f.constructFeatureSet)(d,t.spatialReference,["*"],!0,t.lrucache,t.interceptor)),null!==d){e.next=16;break}e.t0=[],e.next=24;break;case 16:if(!1!==(0,p.u)(d)){e.next=20;break}e.t1=[],e.next=23;break;case 20:return e.next=22,d.load();case 22:e.t1=d.queryAttachments(s[0].field(d.objectIdField),u.minsize,u.maxsize,u.types,u.returnMetadata);case 23:e.t0=e.t1;case 24:return e.abrupt("return",e.t0);case 25:if(null!==s[0]){e.next=27;break}return e.abrupt("return",[]);case 27:throw new o.aV(t,o.rH.InvalidParameter,n);case 28:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}())},e.signatures.push({name:"attachments",min:1,max:2}),e.functions.featuresetbyrelationshipname=function(t,n){return e.standardFunctionAsync(t,n,function(){var e=(0,i.Z)((0,a.Z)().mark((function e(r,i,s){var u,l,c,d,m,b,h,y,x,w,k,g;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,p.H)(s,2,4,t,n),u=s[0],l=(0,p.j)(s[1]),c=(0,p.K)(s[2],null),d=(0,p.h)((0,p.K)(s[3],!0)),null===c&&(c=["*"]),!1!==(0,p.o)(c)){e.next=6;break}throw new o.aV(t,o.rH.InvalidParameter,n);case 6:if(null!==s[0]){e.next=8;break}return e.abrupt("return",null);case 8:if((0,p.r)(s[0])){e.next=10;break}throw new o.aV(t,o.rH.InvalidParameter,n);case 10:if((m=u._layer)instanceof D.default&&(m=(0,f.constructFeatureSet)(m,t.spatialReference,["*"],!0,t.lrucache,t.interceptor)),null!==m){e.next=13;break}return e.abrupt("return",null);case 13:if(!1!==(0,p.u)(m)){e.next=15;break}return e.abrupt("return",null);case 15:return e.next=17,m.load();case 17:if(m=e.sent,b=m.relationshipMetaData().filter((function(e){return e.name===l})),0!==b.length){e.next=21;break}return e.abrupt("return",null);case 21:if(!(void 0!==b[0].relationshipTableId&&null!==b[0].relationshipTableId&&b[0].relationshipTableId>-1)){e.next=23;break}return e.abrupt("return",(0,f.constructFeatureSetFromRelationship)(m,b[0],u.field(m.objectIdField),m.spatialReference,c,d,t.lrucache,t.interceptor));case 23:if(h=m.serviceUrl()){e.next=26;break}return e.abrupt("return",null);case 26:return h="/"===h.charAt(h.length-1)?h+b[0].relatedTableId.toString():h+"/"+b[0].relatedTableId.toString(),e.next=29,(0,f.constructFeatureSetFromUrl)(h,m.spatialReference,c,d,t.lrucache,t.interceptor);case 29:return y=e.sent,e.next=32,y.load();case 32:if(x=(x=y.relationshipMetaData()).filter((function(e){return e.id===b[0].id})),!1!==u.hasField(b[0].keyField)&&null!==u.field(b[0].keyField)){e.next=41;break}return e.next=36,m.getFeatureByObjectId(u.field(m.objectIdField),[b[0].keyField]);case 36:if(!(w=e.sent)){e.next=40;break}return k=T.WhereClause.create(x[0].keyField+"= @id",y.getFieldsIndex(),y.dateFieldsTimeZoneDefaultUTC),e.abrupt("return",(k.parameters={id:w.attributes[b[0].keyField]},y.filter(k)));case 40:return e.abrupt("return",new v.Z({parentfeatureset:y}));case 41:return g=T.WhereClause.create(x[0].keyField+"= @id",y.getFieldsIndex(),y.dateFieldsTimeZoneDefaultUTC),e.abrupt("return",(g.parameters={id:u.field(b[0].keyField)},y.filter(g)));case 43:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}())},e.signatures.push({name:"featuresetbyrelationshipname",min:2,max:4}),e.functions.featuresetbyassociation=function(t,n){return e.standardFunctionAsync(t,n,function(){var e=(0,i.Z)((0,a.Z)().mark((function e(i,s,u){var l,c,d,m,h,y,x,v,w,k,F,I,Z,C,N,H,S,A,L,P,V,W,U,R,M,j,O,z,K,X,_,G,q,Q,B,J,$,Y,ee,te,ne;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,p.H)(u,2,3,t,n),l=u[0],c=(0,p.j)((0,p.K)(u[1],"")).toLowerCase(),d=(0,p.c)(u[2])?(0,p.j)(u[2]):null,null!==u[0]){e.next=4;break}return e.abrupt("return",null);case 4:if((0,p.r)(u[0])){e.next=6;break}throw new o.aV(t,o.rH.InvalidParameter,n);case 6:if((m=l._layer)instanceof D.default&&(m=(0,f.constructFeatureSet)(m,t.spatialReference,["*"],!0,t.lrucache,t.interceptor)),null!==m){e.next=9;break}return e.abrupt("return",null);case 9:if(!1!==(0,p.u)(m)){e.next=11;break}return e.abrupt("return",null);case 11:return e.next=13,m.load();case 13:return h=m.serviceUrl(),e.next=16,(0,f.constructAssociationMetaDataFeatureSetFromUrl)(h,t.spatialReference);case 16:if(y=e.sent,x=null,v=null,w=!1,null!==d&&""!==d&&void 0!==d){k=(0,r.Z)(y.terminals);try{for(k.s();!(F=k.n()).done;)(I=F.value).terminalName===d&&(v=I.terminalId)}catch(a){k.e(a)}finally{k.f()}null===v&&(w=!0)}Z=y.associations.getFieldsIndex(),C=Z.get("TOGLOBALID").name,N=Z.get("FROMGLOBALID").name,H=Z.get("TOTERMINALID").name,S=Z.get("FROMTERMINALID").name,A=Z.get("FROMNETWORKSOURCEID").name,L=Z.get("TONETWORKSOURCEID").name,P=Z.get("ASSOCIATIONTYPE").name,V=Z.get("ISCONTENTVISIBLE").name,W=Z.get("OBJECTID").name,U=(0,r.Z)(m.fields),e.prev=21,U.s();case 23:if((R=U.n()).done){e.next=30;break}if("global-id"!==(M=R.value).type){e.next=28;break}return x=l.field(M.name),e.abrupt("break",30);case 28:e.next=23;break;case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(21),U.e(e.t0);case 35:return e.prev=35,U.f(),e.finish(35);case 38:for(G in j=null,O=new b.yN(new E.Z({name:"percentalong",alias:"percentalong",type:"double"}),T.WhereClause.create("0",y.associations.getFieldsIndex(),y.associations.dateFieldsTimeZoneDefaultUTC)),z=new b.yN(new E.Z({name:"side",alias:"side",type:"string"}),T.WhereClause.create("''",y.associations.getFieldsIndex(),y.associations.dateFieldsTimeZoneDefaultUTC)),K="globalid",X="globalId",_={},y.lkp)_[G]=y.lkp[G].sourceId;q=new b.TO(new E.Z({name:"classname",alias:"classname",type:"string"}),null,_),Q="",e.t1=c,e.next="midspan"===e.t1?46:"junctionedge"===e.t1?50:"connected"===e.t1?54:"container"===e.t1?59:"content"===e.t1?61:"structure"===e.t1?63:"attached"===e.t1?65:67;break;case 46:return Q="((".concat(C,"='").concat(x,"') OR ( ").concat(N,"='").concat(x,"')) AND (").concat(P," IN (5))"),q.codefield=T.WhereClause.create("CASE WHEN (".concat(C,"='").concat(x,"') THEN ").concat(A," ELSE ").concat(L," END"),y.associations.getFieldsIndex(),y.associations.dateFieldsTimeZoneDefaultUTC),(B=(0,g.JW)(b.Xx.findField(y.associations.fields,N))).name=K,B.alias=K,j=new b.yN(B,T.WhereClause.create("CASE WHEN (".concat(N,"='").concat(x,"') THEN ").concat(C," ELSE ").concat(N," END"),y.associations.getFieldsIndex(),y.associations.dateFieldsTimeZoneDefaultUTC)),O=y.unVersion>=4?new b.$X(b.Xx.findField(y.associations.fields,Z.get("PERCENTALONG").name)):new b.yN(new E.Z({name:"percentalong",alias:"percentalong",type:"double"}),T.WhereClause.create("0",y.associations.getFieldsIndex(),y.associations.dateFieldsTimeZoneDefaultUTC)),e.abrupt("break",68);case 50:return Q="((".concat(C,"='").concat(x,"') OR ( ").concat(N,"='").concat(x,"')) AND (").concat(P," IN (4,6))"),q.codefield=T.WhereClause.create("CASE WHEN (".concat(C,"='").concat(x,"') THEN ").concat(A," ELSE ").concat(L," END"),y.associations.getFieldsIndex(),y.associations.dateFieldsTimeZoneDefaultUTC),(J=(0,g.JW)(b.Xx.findField(y.associations.fields,N))).name=K,J.alias=K,j=new b.yN(J,T.WhereClause.create("CASE WHEN (".concat(N,"='").concat(x,"') THEN ").concat(C," ELSE ").concat(N," END"),y.associations.getFieldsIndex(),y.associations.dateFieldsTimeZoneDefaultUTC)),z=new b.yN(new E.Z({name:"side",alias:"side",type:"string"}),T.WhereClause.create("CASE WHEN (".concat(P,"=4) THEN 'from' ELSE 'to' END"),y.associations.getFieldsIndex(),y.associations.dateFieldsTimeZoneDefaultUTC)),e.abrupt("break",68);case 54:return ee="".concat(C,"='@T'"),te="".concat(N,"='@T'"),null!==v&&(ee+=" AND ".concat(H,"=@A"),te+=" AND ".concat(S,"=@A")),Q="(("+ee+") OR ("+te+"))",Q=(0,p.T)(Q,"@T",null!==($=x)&&void 0!==$?$:""),ee=(0,p.T)(ee,"@T",null!==(Y=x)&&void 0!==Y?Y:""),null!==v&&(ee=(0,p.T)(ee,"@A",v.toString()),Q=(0,p.T)(Q,"@A",v.toString())),q.codefield=T.WhereClause.create("CASE WHEN "+ee+" THEN ".concat(A," ELSE ").concat(L," END"),y.associations.getFieldsIndex(),y.associations.dateFieldsTimeZoneDefaultUTC),(ne=(0,g.JW)(b.Xx.findField(y.associations.fields,N))).name=K,ne.alias=K,j=new b.yN(ne,T.WhereClause.create("CASE WHEN "+ee+" THEN ".concat(N," ELSE ").concat(C," END"),y.associations.getFieldsIndex(),y.associations.dateFieldsTimeZoneDefaultUTC)),e.abrupt("break",68);case 59:return Q="".concat(C,"='").concat(x,"' AND ").concat(P," = 2"),null!==v&&(Q+=" AND ".concat(H," = ")+v.toString()),q.codefield=A,Q="( "+Q+" )",j=new b.QP(b.Xx.findField(y.associations.fields,N),K,K),e.abrupt("break",68);case 61:return Q="(".concat(N,"='").concat(x,"' AND ").concat(P," = 2)"),null!==v&&(Q+=" AND ".concat(S," = ")+v.toString()),q.codefield=L,Q="( "+Q+" )",j=new b.QP(b.Xx.findField(y.associations.fields,C),K,K),e.abrupt("break",68);case 63:return Q="(".concat(C,"='").concat(x,"' AND ").concat(P," = 3)"),null!==v&&(Q+=" AND ".concat(H," = ")+v.toString()),q.codefield=A,Q="( "+Q+" )",j=new b.QP(b.Xx.findField(y.associations.fields,N),K,X),e.abrupt("break",68);case 65:return Q="(".concat(N,"='").concat(x,"' AND ").concat(P," = 3)"),null!==v&&(Q+=" AND ".concat(S," = ")+v.toString()),q.codefield=L,Q="( "+Q+" )",j=new b.QP(b.Xx.findField(y.associations.fields,C),K,X),e.abrupt("break",68);case 67:throw new o.aV(t,o.rH.InvalidParameter,n);case 68:return w&&(Q="1 <> 1"),e.abrupt("return",new b.Xx({parentfeatureset:y.associations,adaptedFields:[new b.$X(b.Xx.findField(y.associations.fields,W)),new b.$X(b.Xx.findField(y.associations.fields,V)),j,z,q,O],extraFilter:Q?T.WhereClause.create(Q,y.associations.getFieldsIndex(),y.associations.dateFieldsTimeZoneDefaultUTC):null}));case 70:case"end":return e.stop()}}),e,null,[[21,32,35,38]])})));return function(t,n,a){return e.apply(this,arguments)}}())},e.signatures.push({name:"featuresetbyassociation",min:2,max:6}),e.functions.groupby=function(t,n){return e.standardFunctionAsync(t,n,function(){var s=(0,i.Z)((0,a.Z)().mark((function i(s,u,c){var f,d,m,b,h,y,x,v,w,k,g,I,Z,D,E,C,N,S,A,L,P,V,W,U,R,M,j,O,z,K,X,_,G,q,Q,B,J,$;return(0,a.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if((0,p.H)(c,3,3,t,n),(0,p.u)(c[0])){a.next=2;break}throw new o.aV(t,o.rH.InvalidParameter,n);case 2:return a.next=4,c[0].load();case 4:if(f=a.sent,d=[],m=[],b=!1,h=[],!(0,p.c)(c[1])){a.next=12;break}h.push(c[1]),a.next=23;break;case 12:if(!(c[1]instanceof l.Z)){a.next=16;break}h.push(c[1]),a.next=23;break;case 16:if(!(0,p.o)(c[1])){a.next=20;break}h=c[1],a.next=23;break;case 20:if((0,p.q)(c[1])){a.next=22;break}throw new o.aV(t,o.rH.InvalidParameter,n);case 22:h=c[1].toArray();case 23:y=(0,r.Z)(h),a.prev=24,y.s();case 26:if((x=y.n()).done){a.next=41;break}if(v=x.value,!(0,p.c)(v)){a.next=33;break}w=T.WhereClause.create((0,p.j)(v),f.getFieldsIndex(),f.dateFieldsTimeZoneDefaultUTC),k=!0===(0,F.y5)(w)?(0,p.j)(v):"%%%%FIELDNAME",d.push({name:k,expression:w}),"%%%%FIELDNAME"===k&&(b=!0),a.next=39;break;case 33:if(v instanceof l.Z){a.next=35;break}throw new o.aV(t,o.rH.InvalidParameter,n);case 35:if(g=v.hasField("name")?v.field("name"):"%%%%FIELDNAME",I=v.hasField("expression")?v.field("expression"):"","%%%%FIELDNAME"===g&&(b=!0),g){a.next=38;break}throw new o.aV(t,o.rH.InvalidParameter,n);case 38:d.push({name:g,expression:T.WhereClause.create(I||g,f.getFieldsIndex(),f.dateFieldsTimeZoneDefaultUTC)});case 39:a.next=26;break;case 41:a.next=46;break;case 43:a.prev=43,a.t0=a.catch(24),y.e(a.t0);case 46:return a.prev=46,y.f(),a.finish(46);case 49:if(h=[],!(0,p.c)(c[2])){a.next=53;break}h.push(c[2]),a.next=64;break;case 53:if(!(0,p.o)(c[2])){a.next=57;break}h=c[2],a.next=64;break;case 57:if(!(0,p.q)(c[2])){a.next=61;break}h=c[2].toArray(),a.next=64;break;case 61:if(c[2]instanceof l.Z){a.next=63;break}throw new o.aV(t,o.rH.InvalidParameter,n);case 63:h.push(c[2]);case 64:Z=(0,r.Z)(h),a.prev=65,Z.s();case 67:if((D=Z.n()).done){a.next=77;break}if((E=D.value)instanceof l.Z){a.next=71;break}throw new o.aV(t,o.rH.InvalidParameter,n);case 71:if(C=E.hasField("name")?E.field("name"):"",N=E.hasField("statistic")?E.field("statistic"):"",S=E.hasField("expression")?E.field("expression"):"",C&&N&&S){a.next=74;break}throw new o.aV(t,o.rH.InvalidParameter,n);case 74:m.push({name:C,statistic:N.toLowerCase(),expression:T.WhereClause.create(S,f.getFieldsIndex(),f.dateFieldsTimeZoneDefaultUTC)});case 75:a.next=67;break;case 77:a.next=82;break;case 79:a.prev=79,a.t1=a.catch(65),Z.e(a.t1);case 82:return a.prev=82,Z.f(),a.finish(82);case 85:if(b){A={},L=(0,r.Z)(f.fields);try{for(L.s();!(P=L.n()).done;)V=P.value,A[V.name.toLowerCase()]=1}catch(i){L.e(i)}finally{L.f()}W=(0,r.Z)(d);try{for(W.s();!(U=W.n()).done;)"%%%%FIELDNAME"!==(R=U.value).name&&(A[R.name.toLowerCase()]=1)}catch(i){W.e(i)}finally{W.f()}M=(0,r.Z)(m);try{for(M.s();!(j=M.n()).done;)"%%%%FIELDNAME"!==(O=j.value).name&&(A[O.name.toLowerCase()]=1)}catch(i){M.e(i)}finally{M.f()}z=0,K=(0,r.Z)(d);try{for(K.s();!(X=K.n()).done;)if("%%%%FIELDNAME"===(_=X.value).name){for(;1===A["field_"+z.toString()];)z++;A["field_"+z.toString()]=1,_.name="FIELD_"+z.toString()}}catch(i){K.e(i)}finally{K.f()}}G=0,q=d;case 87:if(!(G<q.length)){a.next=94;break}return Q=q[G],a.next=91,H(Q.expression,e,t);case 91:G++,a.next=87;break;case 94:B=0,J=m;case 95:if(!(B<J.length)){a.next=102;break}return $=J[B],a.next=99,H($.expression,e,t);case 99:B++,a.next=95;break;case 102:return a.abrupt("return",c[0].groupby(d,m));case 103:case"end":return a.stop()}}),i,null,[[24,43,46,49],[65,79,82,85]])})));return function(e,t,n){return s.apply(this,arguments)}}())},e.signatures.push({name:"groupby",min:3,max:3}),e.functions.distinct=function(t,n){return e.standardFunctionAsync(t,n,function(){var s=(0,i.Z)((0,a.Z)().mark((function i(s,u,c){var f,d,m,b,h,y,x,v,w,k,g,I,Z,D,E,C,S,A,L,P,V,W,U,R,M;return(0,a.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(0,p.u)(c[0])){a.next=59;break}return(0,p.H)(c,2,2,t,n),a.next=4,c[0].load();case 4:if(f=a.sent,d=[],m=[],!(0,p.c)(c[1])){a.next=11;break}m.push(c[1]),a.next=22;break;case 11:if(!(c[1]instanceof l.Z)){a.next=15;break}m.push(c[1]),a.next=22;break;case 15:if(!(0,p.o)(c[1])){a.next=19;break}m=c[1],a.next=22;break;case 19:if((0,p.q)(c[1])){a.next=21;break}throw new o.aV(t,o.rH.InvalidParameter,n);case 21:m=c[1].toArray();case 22:b=!1,h=(0,r.Z)(m),a.prev=24,h.s();case 26:if((y=h.n()).done){a.next=41;break}if(x=y.value,!(0,p.c)(x)){a.next=33;break}v=T.WhereClause.create((0,p.j)(x),f.getFieldsIndex(),f.dateFieldsTimeZoneDefaultUTC),w=!0===(0,F.y5)(v)?(0,p.j)(x):"%%%%FIELDNAME",d.push({name:w,expression:v}),"%%%%FIELDNAME"===w&&(b=!0),a.next=39;break;case 33:if(x instanceof l.Z){a.next=35;break}throw new o.aV(t,o.rH.InvalidParameter,n);case 35:if(k=x.hasField("name")?x.field("name"):"%%%%FIELDNAME",g=x.hasField("expression")?x.field("expression"):"","%%%%FIELDNAME"===k&&(b=!0),k){a.next=38;break}throw new o.aV(t,o.rH.InvalidParameter,n);case 38:d.push({name:k,expression:T.WhereClause.create(g||k,f.getFieldsIndex(),f.dateFieldsTimeZoneDefaultUTC)});case 39:a.next=26;break;case 41:a.next=46;break;case 43:a.prev=43,a.t0=a.catch(24),h.e(a.t0);case 46:return a.prev=46,h.f(),a.finish(46);case 49:if(b){I={},Z=(0,r.Z)(f.fields);try{for(Z.s();!(D=Z.n()).done;)E=D.value,I[E.name.toLowerCase()]=1}catch(i){Z.e(i)}finally{Z.f()}C=(0,r.Z)(d);try{for(C.s();!(S=C.n()).done;)"%%%%FIELDNAME"!==(A=S.value).name&&(I[A.name.toLowerCase()]=1)}catch(i){C.e(i)}finally{C.f()}L=0,P=(0,r.Z)(d);try{for(P.s();!(V=P.n()).done;)if("%%%%FIELDNAME"===(W=V.value).name){for(;1===I["field_"+L.toString()];)L++;I["field_"+L.toString()]=1,W.name="FIELD_"+L.toString()}}catch(i){P.e(i)}finally{P.f()}}U=0,R=d;case 51:if(!(U<R.length)){a.next=58;break}return M=R[U],a.next=55,H(M.expression,e,t);case 55:U++,a.next=51;break;case 58:return a.abrupt("return",c[0].groupby(d,[]));case 59:return a.abrupt("return",N(c));case 60:case"end":return a.stop()}}),i,null,[[24,43,46,49]])})));return function(e,t,n){return s.apply(this,arguments)}}())},e.functions.getfeaturesetinfo=function(t,n){return e.standardFunctionAsync(t,n,function(){var e=(0,i.Z)((0,a.Z)().mark((function e(r,i,s){var u,o,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,p.H)(s,1,1,t,n),(0,p.u)(s[0])){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,s[0].getFeatureSetInfo();case 4:return c=e.sent,e.abrupt("return",c?l.Z.convertObjectToArcadeDictionary({layerId:c.layerId,layerName:c.layerName,itemId:c.itemId,serviceLayerUrl:c.serviceLayerUrl,webMapLayerId:null!==(u=c.webMapLayerId)&&void 0!==u?u:null,webMapLayerTitle:null!==(o=c.webMapLayerTitle)&&void 0!==o?o:null,className:null,objectClassId:null},(0,p.N)(t),!1,!1):null);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}())},e.signatures.push({name:"getfeaturesetinfo",min:1,max:1}),e.functions.filterbysubtypecode=function(t,n){return e.standardFunctionAsync(t,n,function(){var e=(0,i.Z)((0,a.Z)().mark((function e(r,i,s){var u,l,c,f;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,p.H)(s,2,2,t,n),!(0,p.u)(s[0])){e.next=14;break}return e.next=3,s[0].load();case 3:if(u=e.sent,l=s[1],(0,p.O)(l)){e.next=7;break}throw new o.aV(t,o.rH.InvalidParameter,n);case 7:if(!u.subtypeField){e.next=10;break}return c=T.WhereClause.create("".concat(u.subtypeField,"= ").concat(s[1]),u.getFieldsIndex(),u.dateFieldsTimeZoneDefaultUTC),e.abrupt("return",new h.Z({parentfeatureset:s[0],whereclause:c}));case 10:if(null!==u.typeIdField&&""!==u.typeIdField){e.next=12;break}throw new o.aV(t,o.rH.FeatureSetDoesNotHaveSubtypes,n);case 12:return f=T.WhereClause.create("".concat(u.typeIdField,"= ").concat(s[1]),u.getFieldsIndex(),u.dateFieldsTimeZoneDefaultUTC),e.abrupt("return",new h.Z({parentfeatureset:s[0],whereclause:f}));case 14:throw new o.aV(t,o.rH.InvalidParameter,n);case 15:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}())},e.signatures.push({name:"filterbysubtypecode",min:2,max:2}))}},93249:function(e,t,n){n.d(t,{_:function(){return r}});var a=n(7575);function r(e,t){return null===e?t:new a.Z({url:e.field("url")})}}}]);
//# sourceMappingURL=718.331faebb.chunk.js.map