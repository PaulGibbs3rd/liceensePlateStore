"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[48750],{46798:function(e,t,r){r.d(t,{q:function(){return h}});var n=r(37762),i=r(1413),u=r(15671),o=r(43144),a=r(63780),s=r(42537),l=r(32718),c=r(66978),d=r(70431),h=function(){function e(t,r,o,a){var s=this,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};(0,u.Z)(this,e),this._mainMethod=r,this._transferLists=o,this._listeners=[],this._promise=(0,d.bA)(t,(0,i.Z)((0,i.Z)({},c),{},{schedule:a})).then((function(e){if(void 0===s._thread){s._thread=e,s._promise=null,c.hasInitialize&&s.broadcast({},"initialize");var t,r=(0,n.Z)(s._listeners);try{for(r.s();!(t=r.n()).done;){var i=t.value;s._connectListener(i)}}catch(u){r.e(u)}finally{r.f()}}else e.close()})),this._promise.catch((function(e){return l.Z.getLogger("esri.core.workers.WorkerHandle").error("Failed to initialize ".concat(t," worker: ").concat(e))}))}return(0,o.Z)(e,[{key:"on",value:function(e,t){var r=this,n={removed:!1,eventName:e,callback:t,threadHandle:null};return this._listeners.push(n),this._connectListener(n),(0,s.kB)((function(){n.removed=!0,(0,a.Od)(r._listeners,n),r._thread&&null!=n.threadHandle&&n.threadHandle.remove()}))}},{key:"destroy",value:function(){this._thread&&(this._thread.close(),this._thread=null),this._promise=null,this._listeners.length=0,this._transferLists={}}},{key:"invoke",value:function(e,t){return this.invokeMethod(this._mainMethod,e,t)}},{key:"invokeMethod",value:function(e,t,r){var n=this;if(this._thread){var i=this._transferLists[e],u=i?i(t):[];return this._thread.invoke(e,t,{transferList:u,signal:r})}return this._promise?this._promise.then((function(){return(0,c.k_)(r),n.invokeMethod(e,t,r)})):Promise.reject(null)}},{key:"broadcast",value:function(e,t){var r=this;return this._thread?Promise.all(this._thread.broadcast(t,e)).then((function(){})):this._promise?this._promise.then((function(){return r.broadcast(e,t)})):Promise.reject()}},{key:"promise",get:function(){return this._promise}},{key:"_connectListener",value:function(e){this._thread&&this._thread.on(e.eventName,e.callback).then((function(t){e.removed||(e.threadHandle=t)}))}}]),e}()},48750:function(e,t,r){r.d(t,{Z:function(){return $}});var n=r(37762),i=r(74165),u=r(15861),o=r(15671),a=r(43144),s=r(88301),l=r(61120),c=r(60136),d=r(29388),h=r(27366),y=r(10064),p=(r(93169),r(92026)),f=r(94172),v=r(49861),m=(r(32718),r(84936),r(69912)),_=r(65618),g=r(7303),b=r(42069),k=r(37818),F=r(5845),Z=function(e){(0,c.Z)(r,e);var t=(0,d.Z)(r);function r(e,n,i,u,a,s){var l;return(0,o.Z)(this,r),(l=t.call(this,e.usedMemory,e.displayedFeatures,e.totalFeatures,e.maximumFeatures,e.nodes,e.core)).storedFeatures=n,l.totalVertices=i,l.partial=u,l.mode=a,l.symbolComplexity=s,l}return(0,a.Z)(r)}(r(20488).W),w=r(22380),C=r(32080),x=r(1413),M=r(7138),P=r(66978),O=r(92377),q=r(5192),S=r(52639),V=r(18722),R=r(46798),N=r(78952),D=r(83040),T=function(){function e(t){(0,o.Z)(this,e),this._controller=t,this._handle=new A((function(e){return t.schedule(e)}))}return(0,a.Z)(e,[{key:"destroy",value:function(){this._handle.destroy()}},{key:"invoke",value:function(e,t){var r=this;return e.buffer&&0!==e.buffer.byteLength?(e.options.sourceSpatialReference&&e.options.sourceSpatialReference instanceof N.Z&&(e.options=(0,x.Z)((0,x.Z)({},e.options),{},{sourceSpatialReference:e.options.sourceSpatialReference.toJSON()})),this._handle.invoke(e,t).then((function(e){var t=0,n=0,o=N.Z.fromJSON(e.spatialReference);e.spatialReference=o;var a=function(){var s=(0,u.Z)((0,i.Z)().mark((function u(s){var l,c,d,h;return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(l=e.fields)){i.next=7;break}case 2:if(!(t<l.length)){i.next=7;break}if(l[t]=D.Z.fromJSON(l[t]),t++,!s.madeProgress()){i.next=5;break}return i.abrupt("return",r._controller.reschedule((function(e){return a(e)})));case 5:i.next=2;break;case 7:c=e.features;case 8:if(!(n<c.length)){i.next=16;break}if(d=c[n],++n,d.uid=S.Z.generateUID(),null==(h=d.geometry)||(h.spatialReference=o,j(h),!s.madeProgress())){i.next=14;break}return i.abrupt("return",r._controller.reschedule((function(e){return a(e)})));case 14:i.next=8;break;case 16:return i.abrupt("return",e);case 17:case"end":return i.stop()}}),u)})));return function(e){return s.apply(this,arguments)}}();return r._controller.schedule((function(e){return a(e)}))}))):Promise.resolve(null)}}]),e}();function j(e){switch(e.type){case"polyline":e.paths.reduce((function(e,t){return e+t.length}),0)<V.c8&&(e.paths=e.hasZ||e.hasM?e.paths.map((function(e){return e.map((function(e){return[e[0],e[1],e[2]]}))})):e.paths.map((function(e){return e.map((function(e){return[e[0],e[1]]}))})));break;case"polygon":e.rings.reduce((function(e,t){return e+t.length}),0)<V.c8&&(e.rings=e.hasZ||e.hasM?e.rings.map((function(e){return e.map((function(e){return[e[0],e[1],e[2]]}))})):e.rings.map((function(e){return e.map((function(e){return[e[0],e[1]]}))})))}}var A=function(e){(0,c.Z)(r,e);var t=(0,d.Z)(r);function r(e){return(0,o.Z)(this,r),t.call(this,"PBFDecoderWorker","_parseFeatureQuery",{_parseFeatureQuery:function(e){return[e.buffer]}},e)}return(0,a.Z)(r)}(R.q),E=function(e){(0,c.Z)(r,e);var t=(0,d.Z)(r);function r(e){return(0,o.Z)(this,r),t.call(this,e)}return(0,a.Z)(r,[{key:"implicitFields",get:function(){var e;if(!(null===(e=this.layer.outFields)||void 0===e?void 0:e.includes("*")))return new Set;var t=new Set(this.layerView.requiredFields),r=new Set(this.layerView.availableFields);return(0,O.e5)(r,t)}},{key:"queryFeaturesDehydrated",get:function(){var e=this,t=this.layer,r=t.capabilities,n=r&&r.query,i=n&&n.supportsFormatPBF,u=t.parsedUrl;if(i){var o,a;null==this._decoder&&(this._decoder=new T(this.controller));var s={sourceSpatialReference:null!==(o=null===(a=t.spatialReference)||void 0===a?void 0:a.toJSON())&&void 0!==o?o:null,applyTransform:!0,maxStringAttributeFields:this.implicitFields,maxStringAttributeLength:L};return function(t,r){return(0,q.Vn)(u,t,"pbf",e._createRequestOptions(r)).then((function(t){return(0,P.k_)(r),null!=e._decoder?e._decoder.invoke({buffer:t.data,options:s},r.signal):Promise.reject((0,P.zE)())}))}}return function(r,n){return(0,q.JT)(u,r,t.spatialReference,e._createRequestOptions(n)).then((function(t){return(0,_.PA)(t.data,{maxStringAttributeFields:e.implicitFields,maxStringAttributeLength:L})}))}}},{key:"queryFeatureCount",value:function(e,t){return this.layer.queryFeatureCount(e,t)}},{key:"destroy",value:function(){this._decoder=(0,p.SC)(this._decoder)}},{key:"_createRequestOptions",value:function(e){return(0,x.Z)((0,x.Z)({},e),{},{query:(0,x.Z)((0,x.Z)({},this.layer.customParameters),{},{token:this.layer.apiKey},null===e||void 0===e?void 0:e.query)})}}]),r}(M.default);(0,h._)([(0,v.Cb)({constructOnly:!0})],E.prototype,"layer",void 0),(0,h._)([(0,v.Cb)({constructOnly:!0})],E.prototype,"layerView",void 0),(0,h._)([(0,v.Cb)({constructOnly:!0})],E.prototype,"controller",void 0),(0,h._)([(0,v.Cb)({readOnly:!0})],E.prototype,"implicitFields",null),(0,h._)([(0,v.Cb)({readOnly:!0})],E.prototype,"queryFeaturesDehydrated",null),E=(0,h._)([(0,m.j)("esri.views.3d.layers.support.featureTileQuery3D.FeatureTileServiceQuery3D")],E);var Q=function(e){(0,c.Z)(r,e);var t=(0,d.Z)(r);function r(e){return(0,o.Z)(this,r),t.call(this,e)}return(0,a.Z)(r,[{key:"queryFeaturesDehydrated",value:function(e,t){return this.layer.queryFeatures(e,t)}},{key:"queryFeatureCount",value:function(e,t){return this.layer.queryFeatureCount(e,t)}}]),r}(M.default);(0,h._)([(0,v.Cb)({constructOnly:!0})],Q.prototype,"layer",void 0),(0,h._)([(0,v.Cb)({readOnly:!0})],Q.prototype,"queryFeaturesDehydrated",null),Q=(0,h._)([(0,m.j)("esri.views.3d.layers.support.featureTileQuery3D.FeatureTileServiceMeshQuery3D")],Q);var H=function(e){(0,c.Z)(r,e);var t=(0,d.Z)(r);function r(e){return(0,o.Z)(this,r),t.call(this,e)}return(0,a.Z)(r,[{key:"queryFeaturesDehydrated",value:function(e,t){return this.layer.queryFeatures(e,t)}}]),r}(M.default);(0,h._)([(0,v.Cb)({constructOnly:!0})],H.prototype,"layer",void 0),H=(0,h._)([(0,m.j)("esri.views.3d.layers.support.featureTileQuery3D.FeatureTileOGCServiceQuery3D")],H);var I=function(e){(0,c.Z)(r,e);var t=(0,d.Z)(r);function r(e){return(0,o.Z)(this,r),t.call(this,e)}return(0,a.Z)(r,[{key:"queryFeaturesDehydrated",value:function(e,t){var r=this;return this.source.queryFeaturesJSON(e,t).then(_.PA,(function(n){if(n&&"query-features-json:unsupported"===n.name)return r.layer.queryFeatures(e,t);throw n}))}},{key:"queryFeatureCount",value:function(e,t){return this.layer.queryFeatureCount(e,t)}}]),r}(M.default);(0,h._)([(0,v.Cb)({constructOnly:!0})],I.prototype,"layer",void 0),(0,h._)([(0,v.Cb)({constructOnly:!0})],I.prototype,"source",void 0),I=(0,h._)([(0,m.j)("esri.views.3d.layers.support.featureTileQuery3D.FeatureTileClientQuery3D")],I);var L=1024,G=function(){function e(t){(0,o.Z)(this,e),this._memoryCache=null,this._capabilities=null;var r=t.layerView.layer;this._layerView=t.layerView,this.objectIdField=r.objectIdField,this.globalIdField="globalIdField"in r?r.globalIdField:null,this._returnZ=t.returnZ,this._returnM=t.returnM;var n=this._layerView.view.resourceController;this.query=function(e,t){var r=e.layer;return"feature"===r.type&&"feature-layer"===r.source.type||"catalog-footprint"===r.type?"infoFor3D"in r&&null!=r.infoFor3D?new Q({layer:r}):new E({layer:r,layerView:e,controller:t}):"feature"===r.type&&"memory"===r.source.type||"csv"===r.type||"geojson"===r.type||"oriented-imagery"===r.type||"wfs"===r.type?new I({layer:r,source:r.source}):"ogc-feature"===r.type?new H({layer:r}):null}(this._layerView,n.normal),n&&this._memoryCacheEnabled&&(this._memoryCache=n.memoryController.newCache("fl-".concat(r.uid)))}return(0,a.Z)(e,[{key:"_memoryCacheEnabled",get:function(){switch(this._layerView.layer.source.type){case"feature-layer":case"ogc-feature":case"oriented-imagery":return!0;case"csv":case"geojson":case"memory":case"wfs":return!1}}},{key:"destroy",value:function(){this._memoryCache=(0,p.SC)(this._memoryCache),this.query.destroy()}},{key:"createQuery",value:function(){var e=this._layerView.layer.createQuery();return e.outFields=this._layerView.availableFields,e.returnZ=this._returnZ,e.returnM=this._returnM,e.outSpatialReference=this.tilingScheme.spatialReference,e}},{key:"memoryCache",get:function(){return this._memoryCache}},{key:"viewingMode",get:function(){return this._layerView.view.state.viewingMode}},{key:"tilingScheme",get:function(){return this._layerView.view.featureTiles.tilingScheme}},{key:"scheduler",get:function(){var e=this._layerView.view.resourceController;return e?e.scheduler:null}},{key:"geometryType",get:function(){return this._layerView.layer.geometryType}},{key:"fullExtent",get:function(){return this._layerView.layer.fullExtent}},{key:"tileMaxRecordCount",get:function(){return this._layerView.layer.capabilities.query.tileMaxRecordCount}},{key:"maxRecordCount",get:function(){return this._layerView.layer.capabilities.query.maxRecordCount}},{key:"capabilities",get:function(){return null!=this._capabilities||(this._capabilities=(0,C.A)(this._layerView.layer)),this._capabilities}},{key:"logFetchError",value:function(e,t){var r;e.error("#fetchTile()",this._layerView.layer,null!==(r=null===t||void 0===t?void 0:t.message)&&void 0!==r?r:t)}}]),e}(),z=r(5198),B=r(78485),J=function(e){(0,c.Z)(r,e);var t=(0,d.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e))._controllerTotal=0,n._processorTotal=0,n._needsRefresh=!1,n.suspendResumeExtentMode="data",n}return(0,a.Z)(r,[{key:"initialize",value:function(){var e=this;this.addHandles((0,f.watch)((function(){return{controller:e.controller,suspended:e.suspended}}),(function(t){var r=t.controller,n=t.suspended;r&&!n&&e._needsRefresh&&(r.refetch(),e._needsRefresh=!1)})))}},{key:"destroy",value:function(){this._fetcherContext=(0,p.SC)(this._fetcherContext)}},{key:"maximumNumberOfFeatures",get:function(){var e,t;return null!==(e=null===(t=this.controller)||void 0===t?void 0:t.maximumNumberOfFeatures)&&void 0!==e?e:this._get("maximumNumberOfFeatures")},set:function(e){this._set("maximumNumberOfFeatures",e),this.controller&&(this.controller.maximumNumberOfFeatures=e)}},{key:"maximumNumberOfFeaturesExceeded",get:function(){return!!this.controller&&!(this.suspended||!this.controller.maximumNumberOfFeaturesExceeded)}},{key:"updatingProgressValue",get:function(){var e,t,r=0;if(null!==(e=this.controller)&&void 0!==e&&e.updating){var n=this.controller.updatingRemaining,i=Math.max(this.controller.updatingTotal,this._controllerTotal);i>0&&(r=(i-n)/i,this._controllerTotal=i)}var u=0;if(null!==(t=this.processor)&&void 0!==t&&t.updating){var o=this.processor.updatingRemaining,a=Math.max(o,this._processorTotal);a>0&&(u=(a-o)/a,this._processorTotal=a)}return.5*(r+u)}},{key:"updatePolicy",get:function(){if(!this.controller)return B.j.ASYNC;switch(this.controller.mode){case"snapshot":var e=Y.get(this.layer.geometryType);return null==e||this.controller.serviceDataCount>e?B.j.ASYNC:B.j.SYNC;case"tiles":return B.j.ASYNC}}},{key:"usedMemory",get:function(){var e,t,r,n;return(null!==(e=null===(t=this.processor)||void 0===t?void 0:t.usedMemory)&&void 0!==e?e:0)+(null!==(r=null===(n=this.controller)||void 0===n?void 0:n.memoryForUnusedFeatures)&&void 0!==r?r:0)}},{key:"unloadedMemory",get:function(){var e,t,r,n,i,u,o,a,s=null!==(e=null===(t=this.processor)||void 0===t?void 0:t.unprocessedMemoryEstimate)&&void 0!==e?e:0,l=null!==(r=null===(n=this.controller)||void 0===n?void 0:n.expectedFeatureDiff)&&void 0!==r?r:0,c=null!==(i=null===(u=this.processor)||void 0===u?void 0:u.loadedFeatures)&&void 0!==i?i:0,d=c+l>0?c/(c+l):1;return s+l*(null!==(o=null===(a=this.processor)||void 0===a?void 0:a.usedMemoryPerFeature)&&void 0!==o?o:0)*d}},{key:"ignoresMemoryFactor",get:function(){var e;return null===(e=this.controller)||void 0===e?void 0:e.hasMaximumNumberOfFeaturesOverride}},{key:"performanceInfo",get:function(){var e,t,n,i,u,o,a,c,d,h=null===(e=this.controller)||void 0===e?void 0:e.displayFeatureLimit,y=null!=h?h.averageSymbolComplexity:void 0,p=null!=y?"f:".concat(y.verticesPerFeature,",v:").concat(y.verticesPerCoordinate):"n/a";return new Z((0,s.Z)((0,l.Z)(r.prototype),"performanceInfo",this),null!==(t=null===(n=this.controller)||void 0===n||null===(i=n.performanceInfo)||void 0===i?void 0:i.storedFeatures)&&void 0!==t?t:0,null!==(u=null===(o=this.controller)||void 0===o||null===(a=o.performanceInfo)||void 0===a?void 0:a.totalVertices)&&void 0!==u?u:0,this.maximumNumberOfFeaturesExceeded,null!==(c=null===(d=this.controller)||void 0===d?void 0:d.mode)&&void 0!==c?c:"n/a",p)}},{key:"doRefresh",value:function(){var e=(0,u.Z)((0,i.Z)().mark((function e(t){var r,n,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=this.controller,n=this.processor,u=this.suspended,t&&r&&(u?this._needsRefresh=!0:(r.refetch(),this._needsRefresh=!1)),n.refreshFilter();case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setVisibility",value:function(e,t){var r;null===(r=this.processor)||void 0===r||r.setObjectIdVisibility(e,t)}},{key:"getMissingAttributesForFeature",value:function(e){return this.controller.getMissingAttributesForFeature(e)}},{key:"getHydratedGeometry",value:function(e){var t=this.graphics3DProcessor;if(null==t)return null;var r=t.graphics3DGraphicsByObjectID;if(null==r)return null;var n=r.get(e);return null==n?null:(0,k.kB)(n.graphic.geometry)}},{key:"createController",value:function(){var e=this;this._fetcherContext=new G({layerView:this.layerView,returnZ:this.hasZ,returnM:this.hasM});var t=new F.g({layerView:this.layerView,context:this._fetcherContext,graphics:new z.g,extent:this.clippingExtent});return this.updatingHandles.add((function(){return t.serviceDataExtent}),(function(t){e.processor&&(e.processor.dataExtent=t)}),f.initial),this.addHandles((0,f.watch)((function(){return e.suspended&&e.layerView.updateSuspended}),(function(e){e?t.suspend():t.resume()}),f.syncAndInitial)),this.updatingHandles.add((function(){var t;return null===(t=e.processor)||void 0===t?void 0:t.displayFeatureLimit}),(function(e){return t.displayFeatureLimit=e}),f.initial),this.addHandles((0,f.when)((function(){return!e.updating}),(function(){e._controllerTotal=0,e._processorTotal=0}))),t}},{key:"beforeSetController",value:function(e){e.maximumNumberOfFeatures=this.maximumNumberOfFeatures}},{key:"test",get:function(){return{controller:this.controller,graphics3DProcessor:this.graphics3DProcessor,heatmapProcessor:this.heatmapProcessor,loadedGraphics:this.loadedGraphics}}}]),r}(w.Q);(0,h._)([(0,v.Cb)()],J.prototype,"layerView",void 0),(0,h._)([(0,v.Cb)()],J.prototype,"controller",void 0),(0,h._)([(0,v.Cb)()],J.prototype,"_controllerTotal",void 0),(0,h._)([(0,v.Cb)()],J.prototype,"_processorTotal",void 0),(0,h._)([(0,v.Cb)()],J.prototype,"_needsRefresh",void 0),(0,h._)([(0,v.Cb)()],J.prototype,"maximumNumberOfFeatures",null),(0,h._)([(0,v.Cb)()],J.prototype,"maximumNumberOfFeaturesExceeded",null),(0,h._)([(0,v.Cb)()],J.prototype,"updatingProgressValue",null),(0,h._)([(0,v.Cb)()],J.prototype,"updatePolicy",null),(0,h._)([(0,v.Cb)()],J.prototype,"suspendResumeExtentMode",void 0),J=(0,h._)([(0,m.j)("esri.views.3d.layers.graphics.FeatureGraphics3DGraphicsPipeline")],J);var Y=new Map([["point",5e3],["polygon",500],["polyline",1e3]]),U=r(58890),W=r(74937),K=r(67581),X=function(e){(0,c.Z)(r,e);var t=(0,d.Z)(r);function r(e){return(0,o.Z)(this,r),t.call(this,e)}return(0,a.Z)(r,[{key:"initialize",value:function(){var e=this;this.addHandles((0,f.watch)((function(){return e._updatingRequiredFieldsPromise}),(function(t){return e._updatingHandles.addPromise(t)}),f.syncAndInitial))}},{key:"destroy",value:function(){this._updatingHandles.removeAll(),this._fetcherContext=(0,p.SC)(this._fetcherContext)}},{key:"maximumNumberOfFeatures",get:function(){return this.graphicsPipeline.maximumNumberOfFeatures},set:function(e){this.graphicsPipeline.maximumNumberOfFeatures=e}},{key:"maximumNumberOfFeaturesExceeded",get:function(){return null!=this.graphicsPipeline&&!this.suspended&&this.graphicsPipeline.maximumNumberOfFeaturesExceeded}},{key:"updatingProgressValue",get:function(){var e,t;return null!==(e=null===(t=this.graphicsPipeline)||void 0===t?void 0:t.updatingProgressValue)&&void 0!==e?e:0}},{key:"updatePolicy",get:function(){var e,t;return null!==(e=null===(t=this.graphicsPipeline)||void 0===t?void 0:t.updatePolicy)&&void 0!==e?e:B.j.ASYNC}},{key:"hasZ",get:function(){var e=this.layer,t=e.capabilities&&e.capabilities.data;return!(!t||!t.supportsZ)&&("returnZ"in e&&null!=e.returnZ?e.returnZ:t.supportsZ)}},{key:"hasM",get:function(){var e=this.layer,t=e.capabilities&&e.capabilities.data;return!(!t||!t.supportsM)&&"returnM"in e&&null!=e.returnM&&e.returnM}},{key:"setVisibility",value:function(e,t){var r;null===(r=this.graphicsPipeline)||void 0===r||r.setVisibility(e,t)}},{key:"createQuery",value:function(){return(0,s.Z)((0,l.Z)(r.prototype),"createQuery",this).call(this)}},{key:"queryFeatures",value:function(e,t){var n=this,i=function(){return(0,s.Z)((0,l.Z)(r.prototype),"queryFeatures",n).call(n,e,t)};return"mesh"===this.layer.geometryType?this._queryFeaturesMesh(this._ensureQuery(e),i):i()}},{key:"createGraphicsPipeline",value:function(){return new J({layerView:this})}},{key:"doRefresh",value:function(){var e=(0,u.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.graphicsPipeline.doRefresh(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_popupFeatureHasRequiredFields",value:function(e,t){if(!(0,s.Z)((0,l.Z)(r.prototype),"_popupFeatureHasRequiredFields",this).call(this,e,t))return!1;var i=(0,_.MS)(e,this.layer.objectIdField);if(null==i)return!0;var u=this.graphicsPipeline.getMissingAttributesForFeature(i);if(null==u)return!0;var o,a=(0,n.Z)(t);try{for(a.s();!(o=a.n()).done;){var c=o.value;if(u.has(c))return!1}}catch(d){a.e(d)}finally{a.f()}return!0}},{key:"usedMemory",get:function(){var e,t;return null!==(e=null===(t=this.graphicsPipeline)||void 0===t?void 0:t.usedMemory)&&void 0!==e?e:0}},{key:"unloadedMemory",get:function(){var e,t;return null!==(e=null===(t=this.graphicsPipeline)||void 0===t?void 0:t.unloadedMemory)&&void 0!==e?e:0}},{key:"ignoresMemoryFactor",get:function(){var e,t;return null!==(e=null===(t=this.graphicsPipeline)||void 0===t?void 0:t.ignoresMemoryFactor)&&void 0!==e&&e}},{key:"_queryFeaturesMesh",value:function(){var e=(0,u.Z)((0,i.Z)().mark((function e(t,r){var u,o,a,s,l,c,d,h;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._validateQueryFeaturesMesh(t);case 2:return e.next=4,r();case 4:if(u=e.sent,o=this.graphicsPipeline,!(null!==t&&void 0!==t&&t.outStatistics||null==o)){e.next=8;break}return e.abrupt("return",u);case 8:a=this.layer.objectIdField,s=[],l=(0,n.Z)(u.features);try{for(l.s();!(c=l.n()).done;)(d=c.value).geometry?(h=o.getHydratedGeometry(d.attributes[a]))&&(d.geometry=h,s.push(d)):s.push(d)}catch(i){l.e(i)}finally{l.f()}return e.abrupt("return",(u.features=s,u));case 12:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_validateQueryFeaturesMesh",value:function(){var e=(0,u.Z)((0,i.Z)().mark((function e(t){var r,n,u,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:for(r=function(e){throw new y.Z("feature-layer-view:unsupported-query","Queries on Mesh feature collection layers do not support '".concat(e,"'"))},n=0,u=["quantizationParameters","geometryPrecision","maxAllowableOffset"];n<u.length;n++)null!=t[o=u[n]]&&r(o);"returnM"in t&&t.returnM&&r("returnM"),"returnCentroid"in t&&t.returnCentroid&&r("returnCentroid"),null==t.outSpatialReference||t.outSpatialReference.equals(this.view.spatialReference)||r("outSpatialReference");case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"test",get:function(){}}]),r}((0,r(13107).Z)((0,g.R)((0,W.Z)((0,b.A)(K.Z)))));(0,h._)([(0,v.Cb)()],X.prototype,"layer",void 0),(0,h._)([(0,v.Cb)()],X.prototype,"graphicsPipeline",void 0),(0,h._)([(0,v.Cb)()],X.prototype,"maximumNumberOfFeatures",null),(0,h._)([(0,v.Cb)()],X.prototype,"maximumNumberOfFeaturesExceeded",null),(0,h._)([(0,v.Cb)(U.q)],X.prototype,"updatingProgress",void 0),(0,h._)([(0,v.Cb)({readOnly:!0})],X.prototype,"updatingProgressValue",null),(0,h._)([(0,v.Cb)({readOnly:!0})],X.prototype,"updatePolicy",null),(0,h._)([(0,v.Cb)({readOnly:!0})],X.prototype,"hasZ",null),(0,h._)([(0,v.Cb)({readOnly:!0})],X.prototype,"hasM",null);var $=X=(0,h._)([(0,m.j)("esri.views.3d.layers.FeatureLayerViewBase3D")],X)}}]);
//# sourceMappingURL=48750.b883cdac.chunk.js.map