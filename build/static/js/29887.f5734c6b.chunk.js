"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[29887],{91340:function(e,t,r){r.d(t,{it:function(){return X},wK:function(){return U},aX:function(){return M},or:function(){return j},hR:function(){return k}});var n=r(74165),a=r(29439),i=r(15861),u=r(37762),o=r(42265),s=r(10064),l=r(32718),c=r(80885),d=r(29909),p=r(76335),f=r(92975),h=r(81753),y=r(1413),v=(r(59486),r(76200)),m=r(77981),g=r(23084);function b(e,t,r,n){return Z.apply(this,arguments)}function Z(){return Z=(0,i.Z)((0,n.Z)().mark((function e(t,r,a,i){var u,o,s,l,c,d,p,h;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=(0,g.en)(t),o=r[0].spatialReference,s=(0,y.Z)((0,y.Z)({},i),{},{responseType:"json",query:(0,y.Z)((0,y.Z)({},u.query),{},{f:"json",sr:(0,f.B9)(o),target:JSON.stringify({geometryType:(0,m.Ji)(r[0]),geometries:r}),cutter:JSON.stringify(a)})}),e.next=5,(0,v.Z)(u.path+"/cut",s);case 5:return l=e.sent,c=l.data,d=c.cutIndexes,p=c.geometries,h=void 0===p?[]:p,e.abrupt("return",{cutIndexes:d,geometries:h.map((function(e){var t=(0,m.im)(e);return t.spatialReference=o,t}))});case 11:case"end":return e.stop()}}),e)}))),Z.apply(this,arguments)}var w=r(35995),F=r(35594);function x(e,t,r){return A.apply(this,arguments)}function A(){return A=(0,i.Z)((0,n.Z)().mark((function e(t,r,a){var i,u,o,s,l,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="string"==typeof t?(0,w.mN)(t):t,u=r[0].spatialReference,o=(0,m.Ji)(r[0]),s=(0,y.Z)((0,y.Z)({},a),{},{query:(0,y.Z)((0,y.Z)({},i.query),{},{f:"json",sr:(0,f.B9)(u),geometries:JSON.stringify((0,F.F)(r))})}),e.next=6,(0,v.Z)(i.path+"/simplify",s);case 6:return l=e.sent,c=l.data,e.abrupt("return",(0,F.o)(c.geometries,o,u));case 9:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}var I=function(){return l.Z.getLogger("esri.geometry.support.normalizeUtils")};function S(e){for(var t=[],r=0,n=0,a=0;a<e.length;a++){for(var i=e[a],u=null,o=0;o<i.length;o++)u=i[o],t.push(u),0===o?n=r=u[0]:(r=Math.min(r,u[0]),n=Math.max(n,u[0]));u&&t.push([(r+n)/2,0])}return t}function k(e,t){if(!(e instanceof d.Z||e instanceof c.Z)){var r="straightLineDensify: the input geometry is neither polyline nor polygon";throw I().error(r),new s.Z(r)}var n,a=(0,p.x3)(e),i=[],o=(0,u.Z)(a);try{for(o.s();!(n=o.n()).done;){var l=n.value,f=[];i.push(f),f.push([l[0][0],l[0][1]]);for(var h=0;h<l.length-1;h++){var y=l[h][0],v=l[h][1],m=l[h+1][0],g=l[h+1][1],b=Math.sqrt((m-y)*(m-y)+(g-v)*(g-v)),Z=(g-v)/b,w=(m-y)/b,F=b/t;if(F>1){for(var x=1;x<=F-1;x++){var A=x*t,S=w*A+y,k=Z*A+v;f.push([S,k])}var R=(b+Math.floor(F-1)*t)/2,E=w*R+y,O=Z*R+v;f.push([E,O])}f.push([m,g])}}}catch(M){o.e(M)}finally{o.f()}return function(e){return"polygon"===e.type}(e)?new c.Z({rings:i,spatialReference:e.spatialReference}):new d.Z({paths:i,spatialReference:e.spatialReference})}function R(e,t,r){if(t){var n=k(e,1e6);e=(0,h.Sx)(n,!0)}return r&&(e=(0,p.Sy)(e,r)),e}function E(e,t,r){if(Array.isArray(e)){var n=e[0];if(n>t){var a=(0,p.XZ)(n,t);e[0]=n+a*(-2*t)}else if(n<r){var i=(0,p.XZ)(n,r);e[0]=n+i*(-2*r)}}else{var u=e.x;if(u>t){var o=(0,p.XZ)(u,t);e=e.clone().offset(o*(-2*t),0)}else if(u<r){var s=(0,p.XZ)(u,r);e=e.clone().offset(s*(-2*r),0)}}return e}function O(e,t){for(var r=-1,n=function(n){for(var a=t.cutIndexes[n],i=t.geometries[n],o=(0,p.x3)(i),s=function(e){var t=o[e];t.some((function(r){if(r[0]<180)return!0;for(var n=0,a=0;a<t.length;a++){var u=t[a][0];n=u>n?u:n}n=Number(n.toFixed(9));for(var o=-360*(0,p.XZ)(n,180),s=0;s<t.length;s++){var l=i.getPoint(e,s);i.setPoint(e,s,l.clone().offset(o,0))}return!0}))},l=0;l<o.length;l++)s(l);if(a===r){if(function(e){return"polygon"===e[0].type}(e)){var c,d=(0,u.Z)((0,p.x3)(i));try{for(d.s();!(c=d.n()).done;){var f=c.value;e[a]=e[a].addRing(f)}}catch(m){d.e(m)}finally{d.f()}}else if(function(e){return"polyline"===e[0].type}(e)){var h,y=(0,u.Z)((0,p.x3)(i));try{for(y.s();!(h=y.n()).done;){var v=h.value;e[a]=e[a].addPath(v)}}catch(m){y.e(m)}finally{y.f()}}}else r=a,e[a]=i},a=0;a<t.cutIndexes.length;a++)n(a);return e}function M(e,t,r){return L.apply(this,arguments)}function L(){return L=(0,i.Z)((0,n.Z)().mark((function e(t,r,a){var i,s,l,y,v,m,g,Z,w,F,A,S,k,L,U,X,j,N,T,C,J,q,W,G,z,B,D,V,P,_,K,$,Q,H,Y,ee,te,re,ne,ae,ie,ue,oe;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)){e.next=2;break}return e.abrupt("return",M([t],r));case 2:r&&"string"!=typeof r&&I().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead"),s="string"==typeof r?r:null!==(i=null===r||void 0===r?void 0:r.url)&&void 0!==i?i:o.Z.geometryServiceUrl,A=0,S=[],k=[],L=(0,u.Z)(t);try{for(L.s();!(U=L.n()).done;)null!=(X=U.value)?(l||(l=X.spatialReference,y=(0,f.C5)(l),v=l.isWebMercator,Z=v?102100:4326,m=p.UZ[Z].maxX,g=p.UZ[Z].minX,w=p.UZ[Z].plus180Line,F=p.UZ[Z].minus180Line),y?"mesh"===X.type?k.push(X):"point"===X.type?k.push(E(X.clone(),m,g)):"multipoint"===X.type?((j=X.clone()).points=j.points.map((function(e){return E(e,m,g)})),k.push(j)):"extent"===X.type?(N=X.clone()._normalize(!1,!1,y),k.push(N.rings?new c.Z(N):N)):X.extent?(T=X.extent,C=(0,p.XZ)(T.xmin,g)*(2*m),J=0===C?X.clone():(0,p.Sy)(X.clone(),C),T.offset(C,0),q=T.xmin,W=T.xmax,q=Number(q.toFixed(9)),W=Number(W.toFixed(9)),T.intersects(w)&&W!==m?(A=W>A?W:A,J=R(J,v),S.push(J),k.push("cut")):T.intersects(F)&&q!==g?(A=W*(2*m)>A?W*(2*m):A,J=R(J,v,360),S.push(J),k.push("cut")):k.push(J)):k.push(X.clone()):k.push(X)):k.push(X)}catch(n){L.e(n)}finally{L.f()}for(G=(0,p.XZ)(A,m),z=-90,B=G,D=new d.Z;G>0;)V=360*G-180,D.addPath([[V,z],[V,-1*z]]),z*=-1,G--;if(!(S.length>0&&B>0)){e.next=29;break}return e.t0=O,e.t1=S,e.next=16,b(s,S,D,a);case 16:for(e.t2=e.sent,P=(0,e.t0)(e.t1,e.t2),_=[],K=[],$=0;$<k.length;$++)"cut"!==(Q=k[$])?K.push(Q):(H=P.shift(),null!=(Y=t[$])&&"polygon"===Y.type&&Y.rings&&Y.rings.length>1&&H.rings.length>=Y.rings.length?(_.push(H),K.push("simplify")):K.push(v?(0,h.$)(H):H));if(_.length){e.next=23;break}return e.abrupt("return",K);case 23:return e.next=25,x(s,_,a);case 25:for(ee=e.sent,te=[],re=0;re<K.length;re++)"simplify"!==(ne=K[re])?te.push(ne):te.push(v?(0,h.$)(ee.shift()):ee.shift());return e.abrupt("return",te);case 29:for(ae=[],ie=0;ie<k.length;ie++)"cut"!==(ue=k[ie])?ae.push(ue):(oe=S.shift(),ae.push(!0===v?(0,h.$)(oe):oe));return e.abrupt("return",ae);case 32:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function U(e){var t;if(!e)return null;var r=e.extent;if(!r)return null;var n=e.spatialReference&&(0,f.C5)(e.spatialReference);if(!n)return r;var i,u=(0,a.Z)(n.valid,2),o=u[0],s=u[1],l=2*s,c=r.width,d=r.xmin,p=r.xmax;if(d=(t=[p,d])[0],p=t[1],"extent"===e.type||0===c||c<=s||c>l||d<o||p>s)return r;switch(e.type){case"polygon":if(!(e.rings.length>1))return r;i=S(e.rings);break;case"polyline":if(!(e.paths.length>1))return r;i=S(e.paths);break;case"multipoint":i=e.points}for(var h=r.clone(),y=0;y<i.length;y++){var v=i[y][0];v<0?(v+=s,p=Math.max(v,p)):(v-=s,d=Math.min(v,d))}return h.xmin=d,h.xmax=p,h.width<c?(h.xmin-=s,h.xmax-=s,h):r}function X(e,t,r){var n=(0,f.C5)(r);if(null==n)return e;var i=(0,a.Z)(n.valid,2),u=i[0],o=i[1],s=2*o,l=0,c=0;t>o?l=Math.ceil(Math.abs(t-o)/s):t<u&&(l=-Math.ceil(Math.abs(t-u)/s)),e>o?c=Math.ceil(Math.abs(e-o)/s):e<u&&(c=-Math.ceil(Math.abs(e-u)/s));var d=e+(l-c)*s,p=d-t;return p>o?d-=s:p<u&&(d+=s),d}function j(e,t){var r=(0,f.C5)(t);if(r){var n=(0,a.Z)(r.valid,2),i=n[0],u=n[1],o=u-i;if(e<i)for(;e<i;)e+=o;if(e>u)for(;e>u;)e-=o}return e}},76335:function(e,t,r){r.d(t,{Sy:function(){return l},UZ:function(){return o},XZ:function(){return s},x3:function(){return c}});var n=r(37762),a=r(29909),i=r(78952),u=r(77981),o={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new a.Z({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:i.Z.WebMercator}),minus180Line:new a.Z({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:i.Z.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new a.Z({paths:[[[180,-180],[180,180]]],spatialReference:i.Z.WGS84}),minus180Line:new a.Z({paths:[[[-180,-180],[-180,180]]],spatialReference:i.Z.WGS84})}};function s(e,t){return Math.ceil((e-t)/(2*t))}function l(e,t){var r,a=c(e),i=(0,n.Z)(a);try{for(i.s();!(r=i.n()).done;){var u,o=r.value,s=(0,n.Z)(o);try{for(s.s();!(u=s.n()).done;){u.value[0]+=t}}catch(l){s.e(l)}finally{s.f()}}}catch(l){i.e(l)}finally{i.f()}return e}function c(e){return(0,u.oU)(e)?e.rings:e.paths}},29887:function(e,t,r){r.r(t),r.d(t,{applyEdits:function(){return S},checkEditingCapabilities:function(){return z},isFeatureIdentifierArrayWithGlobalId:function(){return I},isFeatureIdentifierArrayWithObjectId:function(){return x},isFeatureIdentifierWithGlobalId:function(){return A},isFeatureIdentifierWithObjectId:function(){return F},normalizeCollections:function(){return W},normalizeEdits:function(){return G},normalizeGeometries:function(){return J},shallowCloneFeature:function(){return B},uploadAssets:function(){return _}});var n=r(1413),a=r(74165),i=r(37762),u=r(15861),o=r(52639),s=r(80987),l=r(10064),c=r(84652),d=r(32718),p=r(66978),f=r(35995),h=r(71907),y=r(91340),v=r(92975),m=r(56601),g=r(37270),b=r(18277),Z=r(37933);function w(e){return null!=(null===e||void 0===e?void 0:e.applyEdits)}function F(e){return"object"==typeof e&&null!=e&&"objectId"in e&&!!e.objectId}function x(e){return e.every(F)}function A(e){return"object"==typeof e&&null!=e&&"globalId"in e&&!!e.globalId}function I(e){return e.every(A)}function S(e,t,r){return k.apply(this,arguments)}function k(){return k=(0,u.Z)((0,a.Z)().mark((function e(t,r,n){var i,u,o,s,l,d,f,h,y,v,g,b,Z=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=Z.length>3&&void 0!==Z[3]?Z[3]:{},s="gdbVersion"in t?t.gdbVersion:null,l=null!==(i=u.gdbVersion)&&void 0!==i?i:s,(0,m.lQ)(t)&&t.url?o=(0,m.jF)(t.url,t.layerId,l,"original-and-current-features"===u.returnServiceEditsOption):((o=(0,p.hh)()).promise.then((function(e){(e.addedFeatures.length||e.updatedFeatures.length||e.deletedFeatures.length||e.addedAttachments.length||e.updatedAttachments.length||e.deletedAttachments.length)&&t.emit("edits",e)})),d={result:o.promise},t.emit("apply-edits",d)),e.prev=3,e.next=6,R(t,r,n,u);case 6:return h=e.sent,y=h.results,v=h.edits,g=function(e){return e.filter((function(e){return!e.error})).map(c.d9)},b={edits:v,addedFeatures:g(y.addFeatureResults),updatedFeatures:g(y.updateFeatureResults),deletedFeatures:g(y.deleteFeatureResults),addedAttachments:g(y.addAttachmentResults),updatedAttachments:g(y.updateAttachmentResults),deletedAttachments:g(y.deleteAttachmentResults),exceededTransferLimit:!1,historicMoment:y.editMoment?new Date(y.editMoment):null,globalIdToObjectId:u.globalIdToObjectId},e.abrupt("return",(null!==(f=y.editedFeatureResults)&&void 0!==f&&f.length&&(b.editedFeatures=y.editedFeatureResults),o.resolve(b),y));case 14:throw e.prev=14,e.t0=e.catch(3),o.reject(e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[3,14]])}))),k.apply(this,arguments)}function R(e,t,r,n){return E.apply(this,arguments)}function E(){return(E=(0,u.Z)((0,a.Z)().mark((function e(t,r,n,i){var u,o,s,c,d,p,f,h,y;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load();case 2:if(w(r)){e.next=4;break}throw new l.Z("".concat(t.type,"-layer:no-editing-support"),"Layer source does not support applyEdits capability",{layer:t});case 4:if((0,Z.ln)(t)){e.next=6;break}throw new l.Z("".concat(t.type,"-layer:editing-disabled"),"Editing is disabled for layer",{layer:t});case 6:return e.next=8,O(t,n,i);case 8:if(f=e.sent,h=f.edits,y=f.options,!(null!==(u=h.addFeatures)&&void 0!==u&&u.length||null!==(o=h.updateFeatures)&&void 0!==o&&o.length||null!==(s=h.deleteFeatures)&&void 0!==s&&s.length||null!==(c=h.addAttachments)&&void 0!==c&&c.length||null!==(d=h.updateAttachments)&&void 0!==d&&d.length||null!==(p=h.deleteAttachments)&&void 0!==p&&p.length)){e.next=19;break}return e.t1=h,e.next=15,r.applyEdits(h,y);case 15:e.t2=e.sent,e.t0={edits:e.t1,results:e.t2},e.next=20;break;case 19:e.t0={edits:h,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}};case 20:return e.abrupt("return",e.t0);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t,r){return M.apply(this,arguments)}function M(){return(M=(0,u.Z)((0,a.Z)().mark((function e(t,r,i){var u,o,s,c,p,f,h,y,v;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=(0,Z.S1)(t),o=r&&(r.addFeatures||r.updateFeatures||r.deleteFeatures),s=r&&(r.addAttachments||r.updateAttachments||r.deleteAttachments),c=null!=t.infoFor3D,z(r,u,i,!!o,!!s,"".concat(t.type,"-layer")),u.data.isVersioned||null===i||void 0===i||!i.gdbVersion){e.next=3;break}throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'");case 3:if(u.editing.supportsRollbackOnFailure||null===i||void 0===i||!i.rollbackOnFailureEnabled){e.next=5;break}throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'");case 5:if(null!=(p=(0,n.Z)({},i)).rollbackOnFailureEnabled||u.editing.supportsRollbackOnFailure||(p.rollbackOnFailureEnabled=!0),p.rollbackOnFailureEnabled||"original-and-current-features"!==p.returnServiceEditsOption||(!1===p.rollbackOnFailureEnabled&&d.Z.getLogger("esri.layers.graphics.editingSupport").warn("".concat(t.type,"-layer:invalid-parameter"),"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true, but 'rollBackOnFailure' was set to false. 'rollBackOnFailure' has been overwritten and set to true."),p.rollbackOnFailureEnabled=!0),u.editing.supportsReturnServiceEditsInSourceSpatialReference||!p.returnServiceEditsInSourceSR){e.next=8;break}throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'");case 8:if(!p.returnServiceEditsInSourceSR||"original-and-current-features"===p.returnServiceEditsOption){e.next=10;break}throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"'returnServiceEditsInSourceSR' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'");case 10:if(f=G(r,u,"".concat(t.type,"-layer")),h=(null===i||void 0===i?void 0:i.globalIdUsed)||c,y=t.fields.filter((function(e){return"big-integer"===e.type||"oid"===e.type&&(e.length||0)>=8})),!h){e.next=16;break}if(null!=(v=t.globalIdField)){e.next=15;break}throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"Layer does not specify a global id field.");case 15:f.addFeatures.forEach((function(e){return C(e,v)}));case 16:if(f.addFeatures.forEach((function(e){return X(e,t,h,y)})),f.updateFeatures.forEach((function(e){return N(e,t,h,y)})),f.deleteFeatures.forEach((function(e){return j(e,t,h,y)})),f.addAttachments.forEach((function(e){return T(e,t)})),f.updateAttachments.forEach((function(e){return T(e,t)})),e.t0=c,!e.t0){e.next=25;break}return e.next=25,D(f,t);case 25:return e.next=27,J(f);case 27:return e.t1=e.sent,e.t2=p,e.abrupt("return",{edits:e.t1,options:e.t2});case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t,r,n){if(r){if("attributes"in e&&!e.attributes[t.globalIdField])throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"Feature should have '".concat(t.globalIdField,"' when 'globalIdUsed' is true"));if(!("attributes"in e)&&!e.globalId)throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"`'globalId' of the feature should be passed when 'globalIdUsed' is true")}if(n.length&&"attributes"in e){var a,u=(0,i.Z)(n);try{for(u.s();!(a=u.n()).done;){var o=a.value,s=e.attributes[o.name];if(void 0!==s&&!(0,g.d2)(o,s))throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"Big-integer field '".concat(o.name,"' of the feature must be less than ").concat(Number.MAX_SAFE_INTEGER),{feature:e})}}catch(p){u.e(p)}finally{u.f()}}if("geometry"in e&&null!=e.geometry){var c,d;if(e.geometry.hasZ&&!1===(null===(c=t.capabilities)||void 0===c?void 0:c.data.supportsZ))throw new l.Z("".concat(t.type,"-layer:z-unsupported"),"Layer does not support z values while feature has z values.");if(e.geometry.hasM&&!1===(null===(d=t.capabilities)||void 0===d?void 0:d.data.supportsM))throw new l.Z("".concat(t.type,"-layer:m-unsupported"),"Layer does not support m values while feature has m values.")}}function U(e,t){var r;if("geometry"in e&&"mesh"===(null===(r=e.geometry)||void 0===r?void 0:r.type)&&null!=t.infoFor3D&&null!=t.spatialReference){var n=e.geometry,a=n.spatialReference,i=n.vertexSpace,u=t.spatialReference,o="local"===i.type,s=(0,v.sT)(u),c=(0,v.fS)(u,a),d=c||(0,v.oR)(u)&&((0,v.oR)(a)||(0,v.sS)(a));if(!(o&&s&&d||!o&&!s&&c))throw new l.Z("".concat(t.type,"-layer:mesh-unsupported"),"Uploading a mesh with a ".concat(i.type," vertex space and a spatial reference wkid:").concat(a.wkid," to a layer with a spatial reference wkid:").concat(u.wkid," is not supported."))}}function X(e,t,r,n){L(e,t,r,n),U(e,t)}function j(e,t,r,n){L(e,t,r,n)}function N(e,t,r,n){L(e,t,r,n),U(e,t);var a=(0,Z.S1)(t);if("geometry"in e&&null!=e.geometry&&(null===a||void 0===a||!a.editing.supportsGeometryUpdate))throw new l.Z("".concat(t.type,"-layer:unsupported-operation"),"Layer does not support geometry updates.")}function T(e,t){var r,n=e.feature,a=e.attachment;if(!n||"attributes"in n&&!n.attributes[t.globalIdField])throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"Attachment should have reference to a feature with 'globalId'");if(!("attributes"in n)&&!n.globalId)throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"Attachment should have reference to 'globalId' of the parent feature");if(!a.globalId)throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"Attachment should have 'globalId'");if(!a.data&&!a.uploadId)throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"Attachment should have 'data' or 'uploadId'");if(!(a.data instanceof File&&a.data.name)&&!a.name)throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"'name' is required when attachment is specified as Base64 encoded string using 'data'");if((null===(r=t.capabilities)||void 0===r||!r.editing.supportsUploadWithItemId)&&a.uploadId)throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'");if("string"==typeof a.data){var i=(0,f.sJ)(a.data);if(i&&!i.isBase64)throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"Attachment 'data' should be a Blob, File or Base64 encoded string")}}function C(e,t){var r=e.attributes;null==r[t]&&(r[t]=(0,h.zS)())}function J(e){return q.apply(this,arguments)}function q(){return(q=(0,u.Z)((0,a.Z)().mark((function e(t){var r,n,i,u,o,s,l,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null!==(r=t.addFeatures)&&void 0!==r?r:[],u=null!==(n=t.updateFeatures)&&void 0!==n?n:[],o=i.concat(u).map((function(e){return e.geometry})),e.next=5,(0,y.aX)(o);case 5:return s=e.sent,l=i.length,c=u.length,e.abrupt("return",(s.slice(0,l).forEach((function(e,t){return i[t].geometry=e})),s.slice(l,l+c).forEach((function(e,t){return u[t].geometry=e})),t));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){var t,r;return{addFeatures:Array.from(null!==(t=null===e||void 0===e?void 0:e.addFeatures)&&void 0!==t?t:[]),updateFeatures:Array.from(null!==(r=null===e||void 0===e?void 0:e.updateFeatures)&&void 0!==r?r:[]),deleteFeatures:e&&s.Z.isCollection(e.deleteFeatures)?e.deleteFeatures.toArray():e.deleteFeatures||[],addAttachments:e.addAttachments||[],updateAttachments:e.updateAttachments||[],deleteAttachments:e.deleteAttachments||[]}}function G(e,t,r){var n,a,i,u=W(e);if(null!==(n=u.addFeatures)&&void 0!==n&&n.length&&!t.operations.supportsAdd)throw new l.Z("".concat(r,":unsupported-operation"),"Layer does not support adding features.");if(null!==(a=u.updateFeatures)&&void 0!==a&&a.length&&!t.operations.supportsUpdate)throw new l.Z("".concat(r,":unsupported-operation"),"Layer does not support updating features.");if(null!==(i=u.deleteFeatures)&&void 0!==i&&i.length&&!t.operations.supportsDelete)throw new l.Z("".concat(r,":unsupported-operation"),"Layer does not support deleting features.");return u.addFeatures=u.addFeatures.map(B),u.updateFeatures=u.updateFeatures.map(B),u.addAssetFeatures=[],u}function z(e,t,r,n,a,i){if(!e||!n&&!a)throw new l.Z("".concat(i,":missing-parameters"),"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required");if(!t.editing.supportsGlobalId&&null!==r&&void 0!==r&&r.globalIdUsed)throw new l.Z("".concat(i,":invalid-parameter"),"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'");if(!t.editing.supportsGlobalId&&a)throw new l.Z("".concat(i,":invalid-parameter"),"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'");if((null===r||void 0===r||!r.globalIdUsed)&&a)throw new l.Z("".concat(i,":invalid-parameter"),"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true")}function B(e){var t=new o.Z;return e.attributes||(e.attributes={}),t.geometry=e.geometry,t.attributes=e.attributes,t}function D(e,t){return V.apply(this,arguments)}function V(){return(V=(0,u.Z)((0,a.Z)().mark((function e(t,r){var n,u,o,s,c,d,p,f,h,y,v,m,g;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=r.infoFor3D){e.next=2;break}return e.abrupt("return");case 2:if(c=r.infoFor3D,(d=null!==(n=(0,b.S0)("model/gltf-binary",c.supportedFormats))&&void 0!==n?n:(0,b.Ow)("glb",c.supportedFormats))&&c.editFormats.includes(d)){e.next=5;break}throw new l.Z("".concat(r.type,"-layer:binary-gltf-asset-not-supported"),"3DObjectFeatureLayer requires binary glTF (.glb) support for updating mesh geometry.");case 5:null!==(u=t.addAssetFeatures)&&void 0!==u||(t.addAssetFeatures=[]),p=t.addAssetFeatures,f=(0,i.Z)(null!==(o=t.addFeatures)&&void 0!==o?o:[]);try{for(f.s();!(h=f.n()).done;)P(y=h.value)&&p.push(y)}catch(a){f.e(a)}finally{f.f()}v=(0,i.Z)(null!==(s=t.updateFeatures)&&void 0!==s?s:[]);try{for(v.s();!(m=v.n()).done;)P(g=m.value)&&p.push(g)}catch(a){v.e(a)}finally{v.f()}case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){var t;return"mesh"===(null===e||void 0===e||null===(t=e.geometry)||void 0===t?void 0:t.type)}function _(e,t,r,n){if(!w(t))throw new l.Z("".concat(e.type,"-layer:no-editing-support"),"Layer source does not support applyEdits capability",{layer:e});if(!t.uploadAssets)throw new l.Z("".concat(e.type,"-layer:no-asset-upload-support"),"Layer source does not support uploadAssets capability",{layer:e});return t.uploadAssets(r,n)}},35594:function(e,t,r){r.d(t,{F:function(){return a},o:function(){return i}});var n=r(77981);function a(e){return{geometryType:(0,n.Ji)(e[0]),geometries:e.map((function(e){return e.toJSON()}))}}function i(e,t,r){var a=(0,n.q9)(t);return e.map((function(e){var t=a.fromJSON(e);return t.spatialReference=r,t}))}},23084:function(e,t,r){r.d(t,{LP:function(){return p},cv:function(){return d},en:function(){return c},lA:function(){return l}});var n=r(1413),a=r(42265),i=r(19545),u=r(84652),o=r(35995),s=r(66660);function l(e,t){return t?(0,n.Z)((0,n.Z)({},t),{},{query:(0,n.Z)((0,n.Z)({},null!==e&&void 0!==e?e:{}),t.query)}):{query:e}}function c(e){return"string"==typeof e?(0,o.mN)(e):(0,u.d9)(e)}function d(e,t,r){var n={};for(var a in e)if("declaredClass"!==a){var i=e[a];if(null!=i&&"function"!=typeof i)if(Array.isArray(i))n[a]=i.map((function(e){return d(e)}));else if("object"==typeof i)if(i.toJSON){var u=i.toJSON(null===r||void 0===r?void 0:r[a]);n[a]=t?u:JSON.stringify(u)}else n[a]=t?i:JSON.stringify(i);else n[a]=i}return n}function p(e,t){var r;return e?(0,s.r)(e)&&(t||a.Z.apiKey)?t||a.Z.apiKey:null===i.id||void 0===i.id||null===(r=i.id.findCredential(e))||void 0===r?void 0:r.token:null}}}]);
//# sourceMappingURL=29887.f5734c6b.chunk.js.map