"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[54054],{45280:function(e,t,r){r.d(t,{EN:function(){return I},H9:function(){return h},eS:function(){return w},f:function(){return i}});var n,a,i,u,o=r(43144),s=r(15671),l=r(97326),c=r(60136),f=r(29388),d=r(28664),v=r(4942),p=r(643);(u=i||(i={})).InvalidFunctionParameters="InvalidFunctionParameters",u.InvalidValueForAggregateFunction="InvalidValueForAggregateFunction",u.UnsupportedSqlFunction="UnsupportedSqlFunction",u.UnsupportedOperator="UnsupportedOperator",u.UnsupportedSyntax="UnsupportedSyntax",u.UnsupportedIsRhs="UnsupportedIsRhs",u.UnsupportedIsLhs="UnsupportedIsLhs",u.InvalidDataType="InvalidDataType",u.CannotCastValue="CannotCastValue",u.FunctionNotRecognized="FunctionNotRecognized",u.InvalidTime="InvalidTime",u.InvalidParameterCount="InvalidParameterCount",u.InvalidTimeStamp="InvalidTimeStamp",u.InvalidDate="InvalidDate",u.InvalidOperator="InvalidOperator",u.IllegalInterval="IllegalInterval",u.YearMonthIntervals="YearMonthIntervals",u.PrimarySecondaryQualifiers="PrimarySecondaryQualifiers",u.MissingStatisticParameters="MissingStatisticParameters";var h,m=(n={},(0,v.Z)(n,i.InvalidValueForAggregateFunction,"Invalid value used in aggregate function"),(0,v.Z)(n,i.MissingStatisticParameters,"Statistic does not have 1 or 0 Parameters"),(0,v.Z)(n,i.InvalidFunctionParameters,"Invalid parameters for call to {function}"),(0,v.Z)(n,i.UnsupportedIsLhs,"Unsupported left hand expression in is statement"),(0,v.Z)(n,i.UnsupportedIsRhs,"Unsupported right hand expression in is statement"),(0,v.Z)(n,i.UnsupportedOperator,"Unsupported operator - {operator}"),(0,v.Z)(n,i.UnsupportedSyntax,"Unsupported syntax - {node}"),(0,v.Z)(n,i.UnsupportedSqlFunction,"Sql function not found = {function}"),(0,v.Z)(n,i.InvalidDataType,"Invalid sql data type"),(0,v.Z)(n,i.InvalidDate,"Invalid date encountered"),(0,v.Z)(n,i.InvalidOperator,"Invalid operator encountered"),(0,v.Z)(n,i.InvalidTime,"Invalid time encountered"),(0,v.Z)(n,i.IllegalInterval,"Illegal interval"),(0,v.Z)(n,i.FunctionNotRecognized,"Function not recognized"),(0,v.Z)(n,i.InvalidTimeStamp,"Invalid timestamp encountered"),(0,v.Z)(n,i.InvalidParameterCount,"Invalid parameter count for call to {name}"),(0,v.Z)(n,i.PrimarySecondaryQualifiers,"Primary and Secondary SqlInterval qualifiers not supported"),(0,v.Z)(n,i.YearMonthIntervals,"Year-Month Intervals not supported"),(0,v.Z)(n,i.CannotCastValue,"Cannot cast value to the required data type"),n),w=function(e){(0,c.Z)(r,e);var t=(0,f.Z)(r);function r(e,n){var a;return(0,s.Z)(this,r),(a=t.call(this,(0,p.gx)(m[e],n))).declaredRootClass="esri.arcade.featureset.support.sqlerror",Error.captureStackTrace&&Error.captureStackTrace((0,l.Z)(a),r),a}return(0,o.Z)(r)}((0,d.Z)(Error));!function(e){e.NeverReach="NeverReach",e.NotImplemented="NotImplemented",e.Cancelled="Cancelled",e.InvalidStatResponse="InvalidStatResponse",e.InvalidRequest="InvalidRequest",e.RequestFailed="RequestFailed",e.MissingFeatures="MissingFeatures",e.AggregationFieldNotFound="AggregationFieldNotFound",e.DataElementsNotFound="DataElementsNotFound"}(h||(h={}));var y=(a={},(0,v.Z)(a,h.Cancelled,"Cancelled"),(0,v.Z)(a,h.InvalidStatResponse,"Invalid statistics response from service"),(0,v.Z)(a,h.InvalidRequest,"Invalid request"),(0,v.Z)(a,h.RequestFailed,"Request failed - {reason}"),(0,v.Z)(a,h.MissingFeatures,"Missing features"),(0,v.Z)(a,h.AggregationFieldNotFound,"Aggregation field not found"),(0,v.Z)(a,h.DataElementsNotFound,"Data elements not found on service"),(0,v.Z)(a,h.NeverReach,"Encountered unreachable logic"),(0,v.Z)(a,h.NotImplemented,"Not implemented"),a),I=function(e){(0,c.Z)(r,e);var t=(0,f.Z)(r);function r(e,n){var a;return(0,s.Z)(this,r),(a=t.call(this,(0,p.gx)(y[e],n))).declaredRootClass="esri.arcade.featureset.support.featureseterror",Error.captureStackTrace&&Error.captureStackTrace((0,l.Z)(a),r),a}return(0,o.Z)(r)}((0,d.Z)(Error))},13169:function(e,t,r){r.d(t,{H:function(){return o}});var n=r(15671),a=r(43144),i=r(99779);function u(e){return Number.isNaN(e)||0===e?e:Math.trunc(e)}var o=function(){function e(t){(0,n.Z)(this,e),this._timeStampOffset=t,this._date=null}return(0,a.Z)(e,[{key:"toDateTime",value:function(){var e;return null!==(e=this._date)&&void 0!==e||(this._date=i.ou.fromISO(this._timeStampOffset,{setZone:!0})),this._date}},{key:"isValid",get:function(){return this.toDateTime().isValid}},{key:"timezoneOffsetHour",get:function(){return u(this.toDateTime().offset/60)}},{key:"timezoneOffsetMinutes",get:function(){return u(this.toDateTime().offset%60)}},{key:"toMilliseconds",value:function(){return this.toDateTime().toMillis()}},{key:"hour",get:function(){return this.toDateTime().hour}},{key:"minute",get:function(){return this.toDateTime().minute}},{key:"second",get:function(){return this.toDateTime().second}},{key:"day",get:function(){return this.toDateTime().day}},{key:"month",get:function(){return this.toDateTime().month}},{key:"year",get:function(){return this.toDateTime().year}},{key:"startOfDay",value:function(){return e.fromDateTime(this.toDateTime().startOf("day"))}},{key:"toStorageFormat",value:function(){return this._timeStampOffset}},{key:"toString",value:function(){return this._timeStampOffset}},{key:"toSQLValue",value:function(){var e=this.toDateTime().toSQL({includeOffset:!0,includeOffsetSpace:!0});return e&&(e=e.replace(".000","")),e}},{key:"toSQLWithKeyword",value:function(){return"timestamp '".concat(this.toSQLValue(),"'")}},{key:"addMilliseconds",value:function(t){var r=this.toDateTime().plus(t);return e.fromDateTime(r)}}],[{key:"fromJSDate",value:function(t){return new e(i.ou.fromJSDate(t).toISO({includeOffset:!0}))}},{key:"fromDateTime",value:function(t){return new e(t.toISO({includeOffset:!0}))}},{key:"fromParts",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,f="".concat(t.toString().padStart(4,"0"),"-").concat(r.toString().padStart(2,"0"),"-").concat(n.toString().padStart(2,"0")),d="";u<10&&(d="0");var v="".concat(a.toString().padStart(2,"0"),":").concat(i.toString().padStart(2,"0"),":").concat(d+u.toString());0!==o&&(v+="."+o.toString().padStart(3,"0"));var p="".concat(s?"-":"+").concat(l.toString().padStart(2,"0"),":").concat(c.toString().padStart(2,"0"));return new e(f+"T"+v+p)}}]),e}()},54054:function(e,t,r){r.r(t),r.d(t,{WhereClause:function(){return de},defaultAttributeAdapter:function(){return Ne}});var n=r(37762),a=r(93433),i=r(15671),u=r(43144),o=r(51064),s=r(45280),l=r(93169),c=r(84726),f=r(13169),d=r(58237),v=r(99779);function p(e,t){var r=m[e.toLowerCase()];if(null==r)throw new s.eS(s.f.FunctionNotRecognized);if(t.length<r.minParams||t.length>r.maxParams)throw new s.eS(s.f.InvalidParameterCount,{name:e.toUpperCase()});return r.evaluate(t)}function h(e,t){var r=m[e.toLowerCase()];return null!=r&&t>=r.minParams&&t<=r.maxParams}var m={min:{minParams:1,maxParams:1,evaluate:function(e){return I(e[0],"min")}},max:{minParams:1,maxParams:1,evaluate:function(e){return I(e[0],"max")}},avg:{minParams:1,maxParams:1,evaluate:function(e){return w(e[0])}},sum:{minParams:1,maxParams:1,evaluate:function(e){return function(e){if(null===e)return null;for(var t=0,r=0;r<e.length;r++){var n=e[r];if(null!==n){if(!y(n))throw new s.eS(s.f.InvalidValueForAggregateFunction);t+=n}}return t}(e[0])}},stddev:{minParams:1,maxParams:1,evaluate:function(e){return function(e){if(null===e)return null;var t=S(e);return null===t?null:Math.sqrt(t)}(e[0])}},count:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:e[0].length}},var:{minParams:1,maxParams:1,evaluate:function(e){return S(e[0])}}};function w(e){if(null===e)return null;for(var t=0,r=0,n=0;n<e.length;n++){var a=e[n];if(null!==a){if(!y(a))throw new s.eS(s.f.InvalidValueForAggregateFunction);r++,t+=a}}return 0===r?null:t/e.length}function y(e){return"number"==typeof e}function I(e,t){if(null===e)return null;var r,a=null,i=null,u=(0,n.Z)(e);try{for(u.s();!(r=u.n()).done;){var o,s=r.value;o=s instanceof c.u||s instanceof d.n?s.toNumber():s instanceof v.ou?s.toMillis():s instanceof f.H?s.toMilliseconds():s,(null===a||"max"===t&&null!==i&&null!==o&&i<=o||"min"===t&&null!==i&&null!==o&&i>=o)&&(a=s,i=o)}}catch(l){u.e(l)}finally{u.f()}return a}function S(e){if(null===e)return null;if(0===(e=e.filter((function(e){return null!==e}))).length)return null;var t=w(e);if(null===t)return null;var r,a=0,i=(0,n.Z)(e);try{for(i.s();!(r=i.n()).done;){var u=r.value;if(!y(u))throw new s.eS(s.f.InvalidValueForAggregateFunction);a+=Math.pow(t-u,2)}}catch(o){i.e(o)}finally{i.f()}return a/(e.length-1)}var g=r(29439),T=function(){function e(){(0,i.Z)(this,e),this.op="+",this.day=0,this.second=0,this.hour=0,this.month=0,this.year=0,this.minute=0,this.millis=0}return(0,u.Z)(e,[{key:"valueInMilliseconds",value:function(){return("-"===this.op?-1:1)*(this.millis+1e3*this.second+60*this.minute*1e3+60*this.hour*60*1e3+24*this.day*60*60*1e3+this.month*(365/12)*24*60*60*1e3+365*this.year*24*60*60*1e3)}}],[{key:"_fixDefaults",value:function(e){if(null!==e.precision||null!==e.secondary)throw new s.eS(s.f.PrimarySecondaryQualifiers)}},{key:"_parseSecondsComponent",value:function(e,t){if(t.includes(".")){var r=t.split(".");e.second=parseFloat(r[0]),e.millis=parseInt(r[1],10)}else e.second=parseFloat(t)}},{key:"createFromMilliseconds",value:function(t){var r=new e;return r.second=t/1e3,r}},{key:"createFromValueAndQualifier",value:function(t,r,n){var a=new e;if(a.op="-"===n?"-":"+","interval-period"===r.type){e._fixDefaults(r);var i=new RegExp("^[0-9]{1,}$");if("year"===r.period||"month"===r.period)throw new s.eS(s.f.YearMonthIntervals);if("second"===r.period){if(!/^[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/.test(t))throw new s.eS(s.f.IllegalInterval);e._parseSecondsComponent(a,t)}else{if(!i.test(t))throw new s.eS(s.f.IllegalInterval);a[r.period]=parseFloat(t)}}else{if(e._fixDefaults(r.start),e._fixDefaults(r.end),"year"===r.start.period||"month"===r.start.period||"year"===r.end.period||"month"===r.end.period)throw new s.eS(s.f.YearMonthIntervals);switch(r.start.period){case"day":switch(r.end.period){case"hour":if(!new RegExp("^[0-9]{1,} [0-9]{1,}$").test(t))throw new s.eS(s.f.IllegalInterval);a[r.start.period]=parseFloat(t.split(" ")[0]),a[r.end.period]=parseFloat(t.split(" ")[1]);break;case"minute":if(!new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$").test(t))throw new s.eS(s.f.IllegalInterval);a[r.start.period]=parseFloat(t.split(" ")[0]);var u=t.split(" ")[1].split(":");a.hour=parseFloat(u[0]),a.minute=parseFloat(u[1]);break;case"second":if(!new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$").test(t))throw new s.eS(s.f.IllegalInterval);a[r.start.period]=parseFloat(t.split(" ")[0]);var o=t.split(" ")[1].split(":");a.hour=parseFloat(o[0]),a.minute=parseFloat(o[1]),e._parseSecondsComponent(a,o[2]);break;default:throw new s.eS(s.f.IllegalInterval)}break;case"hour":switch(r.end.period){case"minute":if(!new RegExp("^[0-9]{1,}:[0-9]{1,}$").test(t))throw new s.eS(s.f.IllegalInterval);a.hour=parseFloat(t.split(":")[0]),a.minute=parseFloat(t.split(":")[1]);break;case"second":if(!new RegExp("^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$").test(t))throw new s.eS(s.f.IllegalInterval);var l=t.split(":");a.hour=parseFloat(l[0]),a.minute=parseFloat(l[1]),e._parseSecondsComponent(a,l[2]);break;default:throw new s.eS(s.f.IllegalInterval)}break;case"minute":if("second"!==r.end.period)throw new s.eS(s.f.IllegalInterval);if(!new RegExp("^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$").test(t))throw new s.eS(s.f.IllegalInterval);var c=t.split(":");a.minute=parseFloat(c[0]),e._parseSecondsComponent(a,c[1]);break;default:throw new s.eS(s.f.IllegalInterval)}}return a}}]),e}(),N=r(59098),O=/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/,C=/^(\d{1,2}):(\d{1,2})$/,b=/^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/,x=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,A=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$/,M=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|-)(\d{1,2}):(\d{1,2})$/,E=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|-)(\d{1,2}):(\d{1,2})$/,F=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/;function Z(e,t){if(t instanceof v.ld)return t===N.yV.instance?v.ou.fromMillis(e.getTime(),{zone:N.yV.instance}):v.ou.fromJSDate(e,{zone:t});switch(t){case"system":case"local":case null:return v.ou.fromJSDate(e);default:return"unknown"===(null===t||void 0===t?void 0:t.toLowerCase())?v.ou.fromMillis(e.getTime(),{zone:N.yV.instance}):v.ou.fromJSDate(e,{zone:t})}}function D(e){return"number"==typeof e}function P(e){return"string"==typeof e||e instanceof String}function _(e){return e instanceof T}function L(e){return e instanceof Date}function k(e){return e instanceof v.ou}function R(e){return e instanceof c.u}function U(e){return e instanceof d.n}function V(e){return e instanceof f.H}function J(e){var t=O.exec(e);if(null!==t){var r=t,n=(0,g.Z)(r,4),a=n[1],i=n[2],u=n[3],o=d.n.fromParts(parseInt(a,10),parseInt(i,10),parseInt(u,10),0);if(null!==o)return o;throw new s.eS(s.f.InvalidTime)}if(null!==(t=C.exec(e))){var l=t,c=(0,g.Z)(l,3),f=c[1],v=c[2],p=d.n.fromParts(parseInt(f,10),parseInt(v,10),0,0);if(null!==p)return p;throw new s.eS(s.f.InvalidTime)}if(null!==(t=b.exec(e))){var h=t,m=(0,g.Z)(h,5),w=m[1],y=m[2],I=m[3],S=m[4],T=d.n.fromParts(parseInt(w,10),parseInt(y,10),parseInt(I,10),parseInt(S,10));if(null!==T)return T;throw new s.eS(s.f.InvalidTime)}throw new s.eS(s.f.InvalidTime)}function H(e,t){var r=A.exec(e);if(null!==r){var n=r,a=(0,g.Z)(n,8),i=a[1],u=a[2],o=a[3],l=a[4],c=a[5],d=a[6],p=a[7],h=v.ou.fromObject({year:parseInt(i,10),month:parseInt(u,10),day:parseInt(o,10),hour:parseInt(l,10),minute:parseInt(c,10),second:parseInt(d,10),millisecond:p?parseInt(p.replace(".",""),10):0},{zone:(0,N.L9)(t)});if(!1===h.isValid)throw new s.eS(s.f.InvalidTimeStamp);return h}if(null!==(r=M.exec(e))){var m=r,w=(0,g.Z)(m,11),y=w[1],I=w[2],S=w[3],T=w[4],O=w[5],C=w[6],b=w[7],Z=w[8],D=w[9],P=w[10],_=f.H.fromParts(parseInt(y,10),parseInt(I,10),parseInt(S,10),parseInt(T,10),parseInt(O,10),parseInt(C,10),b?parseInt(b.replace(".",""),10):0,"-"===Z,parseInt(D,10),parseInt(P,10));if(!1===_.isValid)throw new s.eS(s.f.InvalidTimeStamp);return _}if(null!==(r=E.exec(e))){var L=r,k=(0,g.Z)(L,9),R=k[1],U=k[2],V=k[3],J=k[4],H=k[5],z=k[6],$=k[7],q=k[8],Y=f.H.fromParts(parseInt(R,10),parseInt(U,10),parseInt(V,10),parseInt(J,10),parseInt(H,10),0,0,"-"===z,parseInt($,10),parseInt(q,10));if(!1===Y.isValid)throw new s.eS(s.f.InvalidTimeStamp);return Y}if(null!==(r=F.exec(e))){var B=r,Q=(0,g.Z)(B,6),j=Q[1],G=Q[2],W=Q[3],K=Q[4],X=Q[5],ee=v.ou.fromObject({year:parseInt(j,10),month:parseInt(G,10),day:parseInt(W,10),hour:parseInt(K,10),minute:parseInt(X,10),second:0},{zone:(0,N.L9)(t)});if(!1===ee.isValid)throw new s.eS(s.f.InvalidTimeStamp);return ee}if(null!==(r=x.exec(e))){var te=r,re=(0,g.Z)(te,4),ne=re[1],ae=re[2],ie=re[3],ue=v.ou.fromObject({year:parseInt(ne,10),month:parseInt(ae,10),day:parseInt(ie,10),hour:0,minute:0,second:0},{zone:(0,N.L9)(t)});if(!1===ue.isValid)throw new s.eS(s.f.InvalidTimeStamp);return ue}throw new s.eS(s.f.InvalidTimeStamp)}function z(e,t){var r=x.exec(e);if(null===r)try{return H(e,t)}catch(l){throw new s.eS(s.f.InvalidDate)}var n=(0,g.Z)(r,4),a=n[1],i=n[2],u=n[3],o=c.u.fromParts(parseInt(a,10),parseInt(i,10),parseInt(u,10));if(null===o)throw new s.eS(s.f.InvalidDate);return o}var $=r(643);function q(e){return!!k(e)||!!V(e)}function Y(e){return!!k(e)||!!R(e)||!!V(e)||!!U(e)}function B(e){if(k(e))return e.toMillis();if(R(e))return e.toNumber();if(V(e))return e.toMilliseconds();throw new s.eS(s.f.InvalidDataType)}function Q(e,t,r,n){if(null==e||null==t)return null;if(D(e)){if(D(t))return j(e,t,r);if(P(t))return function(e,t,r){var n=parseFloat(t);if(!isNaN(n))return j(e,n,r);var a=e.toString();switch(r){case"<>":return a!==t;case"=":return a===t;case">":return a>t;case"<":return a<t;case">=":return a>=t;case"<=":return a<=t}}(e,t,r);if(Y(t))throw new s.eS(s.f.InvalidOperator);if(R(t))throw new s.eS(s.f.InvalidOperator)}else if(P(e)){if(D(t))return function(e,t,r){var n=parseFloat(e);if(!isNaN(n))return j(n,t,r);var a=t.toString();switch(r){case"<>":return e!==a;case"=":return e===a;case">":return e>a;case"<":return e<a;case">=":return e>=a;case"<=":return e<=a}}(e,t,r);if(P(t))return function(e,t,r){switch(r){case"<>":return e!==t;case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}}(e,t,r);if(k(t))throw new s.eS(s.f.InvalidOperator);if(R(t))throw new s.eS(s.f.InvalidOperator);if(U(t))throw new s.eS(s.f.InvalidOperator);if(V(t))throw new s.eS(s.f.InvalidOperator)}else if(k(e)){if(q(t)){if(e instanceof v.ou&&(0,N.A4)(e.zone)){if(t instanceof v.ou&&!1===(0,N.A4)(t.zone))return G(e,t,r);if(t instanceof f.H)return G(e,t,r)}else if(t instanceof v.ou&&(0,N.A4)(t.zone)){if(e instanceof v.ou&&!1===(0,N.A4)(e.zone))return G(e,t,r);if(e instanceof f.H)return G(e,t,r)}return j(B(e),B(t),r)}if(P(t))throw new s.eS(s.f.InvalidOperator);if(R(t))return function(e,t,r){var n=t.toDateTimeLuxon(e.zone);return j((e=e.startOf("day")).toMillis(),n.toMillis(),r)}(e,t,r);if(U(t))throw new s.eS(s.f.InvalidOperator);if(D(t))throw new s.eS(s.f.InvalidOperator)}else if(R(e)){if(V(t))return function(e,t,r){var n=e.toDateTimeLuxon(t.toDateTime().zone);return t=t.startOfDay(),j(n.toMillis(),t.toMilliseconds(),r)}(e,t,r);if(k(t))return function(e,t,r){var n=e.toDateTimeLuxon(t.zone);return t=t.startOf("day"),j(n.toMillis(),t.toMillis(),r)}(e,t,r);if(P(t))throw new s.eS(s.f.InvalidOperator);if(R(t))return j(e.toNumber(),t.toNumber(),r);if(U(t))throw new s.eS(s.f.InvalidOperator);if(D(t))throw new s.eS(s.f.InvalidOperator)}else if(U(e)){if(U(t))return j(e.toNumber(),t.toNumber(),r);if(P(t))throw new s.eS(s.f.InvalidOperator);if(D(t))throw new s.eS(s.f.InvalidOperator);if(R(t))throw new s.eS(s.f.InvalidOperator);if(q(t))throw new s.eS(s.f.InvalidOperator)}else if(V(e)){if(q(t))return t instanceof v.ou&&(0,N.A4)(t.zone)?G(e,t,r):j(B(e),B(t),r);if(P(t))throw new s.eS(s.f.InvalidOperator);if(R(t))return function(e,t,r){var n=t.toDateTimeLuxon(e.toDateTime().zone);return j((e=e.startOfDay()).toMilliseconds(),n.toMillis(),r)}(e,t,r);if(U(t))throw new s.eS(s.f.InvalidOperator);if(D(t))throw new s.eS(s.f.InvalidOperator)}switch(r){case"<>":return e!==t;case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}}function j(e,t,r){switch(r){case"<>":return e!==t;case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}}function G(e,t,r){e instanceof f.H&&(e=e.toDateTime()),t instanceof f.H&&(t=t.toDateTime());var n=W(e),a=W(t);switch(r){case"<>":return n!==a;case"=":return n===a;case">":return n>a;case"<":return n<a;case">=":return n>=a;case"<=":return n<=a}}function W(e){return 321408e5*e.year+26784e5*e.month+864e5*e.day+36e5*e.hour+6e4*e.minute+1e3*e.second+e.millisecond}function K(e,t,r){var n=re[e.toLowerCase()];if(null==n)throw new s.eS(s.f.FunctionNotRecognized);if(t.length<n.minParams||t.length>n.maxParams)throw new s.eS(s.f.InvalidParameterCount,{name:e.toUpperCase()});return n.evaluate(t,r)}function X(e){return"string"==typeof e||e instanceof String}function ee(e){return!L(e)&&!R(e)&&!k(e)&&!U(e)&&!V(e)}function te(e){return R(e)||U(e)?e.toString():V(e)?e.toSQLValue():k(e)?0===e.millisecond?e.toFormat("yyyy-LL-dd HH:mm:ss"):e.toSQL({includeOffset:!1}):L(e)?te(v.ou.fromJSDate(e)):e.toString()}var re={extract:{minParams:2,maxParams:2,evaluate:function(e){var t=(0,g.Z)(e,2),r=t[0],n=t[1];if(null==n)return null;if(L(n))switch(r.toUpperCase()){case"SECOND":return n.getSeconds();case"MINUTE":return n.getMinutes();case"HOUR":return n.getHours();case"DAY":return n.getDate();case"MONTH":return n.getMonth()+1;case"YEAR":return n.getFullYear();case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":return 0}else if(k(n))switch(r.toUpperCase()){case"SECOND":return n.second;case"MINUTE":return n.minute;case"HOUR":return n.hour;case"DAY":return n.day;case"MONTH":return n.month;case"YEAR":return n.year;case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":throw new s.eS(s.f.InvalidFunctionParameters,{function:"EXTRACT"})}else if(R(n))switch(r.toUpperCase()){case"DAY":return n.day;case"MONTH":return n.month;case"YEAR":return n.year;case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":throw new s.eS(s.f.InvalidFunctionParameters,{function:"EXTRACT"})}else if(U(n))switch(r.toUpperCase()){case"SECOND":return n.second;case"MINUTE":return n.minute;case"HOUR":return n.hour}else if(V(n))switch(r.toUpperCase()){case"SECOND":return n.second;case"MINUTE":return n.minute;case"HOUR":return n.hour;case"DAY":return n.day;case"MONTH":return n.month;case"YEAR":return n.year;case"TIMEZONE_HOUR":return n.timezoneOffsetHour;case"TIMEZONE_MINUTE":return n.timezoneOffsetMinutes}throw new s.eS(s.f.InvalidFunctionParameters,{function:"EXTRACT"})}},substring:{minParams:2,maxParams:3,evaluate:function(e){if(2===e.length){var t=(0,g.Z)(e,2),r=t[0],n=t[1];return null==r||null==n?null:r.toString().substring(n-1)}if(3===e.length){var a=(0,g.Z)(e,3),i=a[0],u=a[1],o=a[2];return null==i||null==u||null==o?null:o<=0?"":i.toString().substring(u-1,u+o-1)}}},position:{minParams:2,maxParams:2,evaluate:function(e){var t=(0,g.Z)(e,2),r=t[0],n=t[1];return null==r||null==n?null:n.indexOf(r)+1}},trim:{minParams:2,maxParams:3,evaluate:function(e){var t=3===e.length,r=t?e[1]:" ",n=t?e[2]:e[1];if(null==r||null==n)return null;var a="(".concat((0,$.Qs)(r),")");switch(e[0]){case"BOTH":return n.replaceAll(new RegExp("^".concat(a,"*|").concat(a,"*$"),"g"),"");case"LEADING":return n.replaceAll(new RegExp("^".concat(a,"*"),"g"),"");case"TRAILING":return n.replaceAll(new RegExp("".concat(a,"*$"),"g"),"")}throw new s.eS(s.f.InvalidFunctionParameters,{function:"TRIM"})}},abs:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.abs(e[0])}},ceiling:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.ceil(e[0])}},floor:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.floor(e[0])}},log:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.log(e[0])}},log10:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.log(e[0])*Math.LOG10E}},sin:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.sin(e[0])}},cos:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.cos(e[0])}},tan:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.tan(e[0])}},asin:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.asin(e[0])}},acos:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.acos(e[0])}},atan:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.atan(e[0])}},sign:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:e[0]>0?1:e[1]<0?-1:0}},power:{minParams:2,maxParams:2,evaluate:function(e){return null==e[0]||null==e[1]?null:Math.pow(e[0],e[1])}},mod:{minParams:2,maxParams:2,evaluate:function(e){return null==e[0]||null==e[1]?null:e[0]%e[1]}},round:{minParams:1,maxParams:2,evaluate:function(e){var t=e[0],r=2===e.length?Math.pow(10,e[1]):1;return null==t?null:Math.round(t*r)/r}},truncate:{minParams:1,maxParams:2,evaluate:function(e){return null==e[0]?null:1===e.length?parseInt(e[0].toFixed(0),10):parseFloat(e[0].toFixed(e[1]))}},char_length:{minParams:1,maxParams:1,evaluate:function(e){return X(e[0])?e[0].length:0}},concat:{minParams:1,maxParams:1/0,evaluate:function(e){for(var t="",r=0;r<e.length;r++){if(null==e[r])return null;t+=e[r].toString()}return t}},lower:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:e[0].toString().toLowerCase()}},upper:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:e[0].toString().toUpperCase()}},coalesce:{minParams:1,maxParams:1/0,evaluate:function(e){var t,r=(0,n.Z)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(null!==a)return a}}catch(i){r.e(i)}finally{r.f()}return null}},cosh:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.cosh(e[0])}},sinh:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.sinh(e[0])}},tanh:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.tanh(e[0])}},nullif:{minParams:2,maxParams:2,evaluate:function(e,t){return Q(e[0],e[1],"=")?null:e[0]}},cast:{minParams:2,maxParams:2,evaluate:function(e,t){var r=e[0],n=e[1];if(null===r)return null;switch(n.type){case"integer":if(!ee(r))throw new s.eS(s.f.CannotCastValue);var a=parseInt(r,10);if(isNaN(a))throw new s.eS(s.f.CannotCastValue);return a;case"smallint":if(!ee(r))throw new s.eS(s.f.CannotCastValue);var i=parseInt(r,10);if(isNaN(i))throw new s.eS(s.f.CannotCastValue);if(i>32767||i<-32767)throw new s.eS(s.f.CannotCastValue);return i;case"float":case"real":if(!ee(r))throw new s.eS(s.f.CannotCastValue);var u=parseFloat(r);if(isNaN(u))throw new s.eS(s.f.CannotCastValue);return u;case"time":return function(e){if(L(e))return d.n.fromDateJS(e);if(k(e))return d.n.fromDateTime(e);if(R(e))throw new s.eS(s.f.CannotCastValue);if(U(e))return e;if(V(e))return d.n.fromSqlTimeStampOffset(e);if(X(e))return J(e);throw new s.eS(s.f.CannotCastValue)}(r);case"date":return function(e){if(L(e))return c.u.fromDateJS(e);if(k(e))return c.u.fromParts(e.year,e.month,e.day);if(R(e))return e;if(U(e))throw new s.eS(s.f.CannotCastValue);if(V(e)&&null===c.u.fromParts(e.year,e.month,e.day))throw new s.eS(s.f.CannotCastValue);if(X(e)){var t=c.u.fromReader(e);if(null!==t&&t.isValid)return t}throw new s.eS(s.f.CannotCastValue)}(r);case"timestamp":return function(e,t,r){if(L(e))return Z(e,t);if(k(e))return e;if(R(e))return e.toDateTimeLuxon("unknown");if(U(e))throw new s.eS(s.f.CannotCastValue);if(V(e))return e;if(X(e))return H(e,"unknown",r);throw new s.eS(s.f.CannotCastValue)}(r,t,!0===n.withtimezone);case"varchar":var o=te(r);if(o.length>n.size)throw new s.eS(s.f.CannotCastValue);return o;default:throw new s.eS(s.f.InvalidDataType)}}}};function ne(e,t,r,n){if("||"===e)return K("concat",[t,r],n);if(null===t||null===r)return null;if(D(t)){if(D(r))return ae(t,r,e);if(_(r))return function(e,t,r){switch(r){case"+":return T.createFromMilliseconds(e+t.valueInMilliseconds());case"-":return T.createFromMilliseconds(e-t.valueInMilliseconds());case"*":return T.createFromMilliseconds(e*t.valueInMilliseconds());case"/":return T.createFromMilliseconds(e/t.valueInMilliseconds())}throw new s.eS(s.f.InvalidOperator)}(t,r,e);if(U(r))return function(e,t,r){throw new s.eS(s.f.InvalidOperator)}();if(R(r))return function(e,t,r){throw new s.eS(s.f.InvalidOperator)}();if(V(r))return function(e,t,r){throw new s.eS(s.f.InvalidOperator)}();if(k(r))return function(e,t,r){throw new s.eS(s.f.InvalidOperator)}();if(P(r))return function(e,t,r){var n=parseFloat(t);if(isNaN(n))throw new s.eS(s.f.InvalidOperator);return ae(e,n,r)}(t,r,e);throw new s.eS(s.f.InvalidOperator)}if(R(t)){if(D(r))return function(e,t,r){var n=1e3*t*24*60*60;switch(r){case"+":return e.plus("milliseconds",n);case"-":return e.plus("milliseconds",-1*n)}throw new s.eS(s.f.InvalidOperator)}(t,r,e);if(_(r))return function(e,t,r){switch(r){case"+":return e.plus("milliseconds",t.valueInMilliseconds());case"-":return e.plus("milliseconds",-1*t.valueInMilliseconds())}throw new s.eS(s.f.InvalidOperator)}(t,r,e);if(U(r))return function(e,t,r){throw new s.eS(s.f.InvalidOperator)}();if(R(r))return function(e,t,r){if("-"===r)return e.toDateTimeLuxon("UTC").diff(t.toDateTimeLuxon("UTC")).as("days");throw new s.eS(s.f.InvalidOperator)}(t,r,e);if(V(r))return function(e,t,r){if("-"===r)return e.toDateTimeLuxon(t.toDateTime().zone).diff(t.toDateTime()).as("days");throw new s.eS(s.f.InvalidOperator)}(t,r,e);if(k(r))return function(e,t,r){if("-"===r)return e.toDateTimeLuxon(t.zone).diff(t).as("days");throw new s.eS(s.f.InvalidOperator)}(t,r,e);if(P(r))return function(e,t,r){throw new s.eS(s.f.InvalidOperator)}();throw new s.eS(s.f.InvalidOperator)}if(U(t)){if(D(r))return function(e,t,r){var n=1e3*t*24*60*60;switch(r){case"+":return e.plus("milliseconds",n);case"-":return e.plus("milliseconds",-1*n)}throw new s.eS(s.f.InvalidOperator)}(t,r,e);if(_(r))return function(e,t,r){switch(r){case"+":return e.plus("milliseconds",t.valueInMilliseconds());case"-":return e.plus("milliseconds",-1*t.valueInMilliseconds())}throw new s.eS(s.f.InvalidOperator)}(t,r,e);if(U(r))return function(e,t,r){throw new s.eS(s.f.InvalidOperator)}();if(R(r))return function(e,t,r){throw new s.eS(s.f.InvalidOperator)}();if(V(r))return function(e,t,r){throw new s.eS(s.f.InvalidOperator)}();if(k(r))return function(e,t,r){throw new s.eS(s.f.InvalidOperator)}();if(P(r))return function(e,t,r){throw new s.eS(s.f.InvalidOperator)}();throw new s.eS(s.f.InvalidOperator)}if(_(t)){if(D(r))return function(e,t,r){switch(r){case"+":return T.createFromMilliseconds(e.valueInMilliseconds()+t);case"-":return T.createFromMilliseconds(e.valueInMilliseconds()-t);case"*":return T.createFromMilliseconds(e.valueInMilliseconds()*t);case"/":return T.createFromMilliseconds(e.valueInMilliseconds()/t)}throw new s.eS(s.f.InvalidOperator)}(t,r,e);if(_(r))return function(e,t,r){switch(r){case"+":return T.createFromMilliseconds(e.valueInMilliseconds()+t.valueInMilliseconds());case"-":return T.createFromMilliseconds(e.valueInMilliseconds()-t.valueInMilliseconds());case"*":return T.createFromMilliseconds(e.valueInMilliseconds()*t.valueInMilliseconds());case"/":return T.createFromMilliseconds(e.valueInMilliseconds()/t.valueInMilliseconds())}throw new s.eS(s.f.InvalidOperator)}(t,r,e);if(U(r))return function(e,t,r){if("+"===r)return t.plus("milliseconds",e.valueInMilliseconds());throw new s.eS(s.f.InvalidOperator)}(t,r,e);if(R(r))return function(e,t,r){if("+"===r)return t.plus("milliseconds",e.valueInMilliseconds());throw new s.eS(s.f.InvalidOperator)}(t,r,e);if(V(r))return function(e,t,r){if("+"===r)return t.addMilliseconds(e.valueInMilliseconds());throw new s.eS(s.f.InvalidOperator)}(t,r,e);if(k(r))return function(e,t,r){switch(r){case"+":return t.plus({milliseconds:e.valueInMilliseconds()});case"-":return e.valueInMilliseconds()-t.toMillis()}throw new s.eS(s.f.InvalidOperator)}(t,r,e);if(P(r))return function(e,t,r){throw new s.eS(s.f.InvalidOperator)}();throw new s.eS(s.f.InvalidOperator)}if(k(t)){if(D(r))return function(e,t,r){var n=1e3*t*24*60*60;switch(r){case"+":return e.plus({milliseconds:n});case"-":return e.minus({milliseconds:n})}throw new s.eS(s.f.InvalidOperator)}(t,r,e);if(_(r))return function(e,t,r){switch(r){case"+":return e.plus({milliseconds:t.valueInMilliseconds()});case"-":return e.minus({milliseconds:t.valueInMilliseconds()})}throw new s.eS(s.f.InvalidOperator)}(t,r,e);if(U(r))return function(e,t,r){throw new s.eS(s.f.InvalidOperator)}();if(R(r))return function(e,t,r){if("-"===r)return e.diff(t.toDateTimeLuxon(e.zone)).as("days");throw new s.eS(s.f.InvalidOperator)}(t,r,e);if(V(r))return function(e,t,r){if("-"===r)return e.diff(t.toDateTime()).as("days");throw new s.eS(s.f.InvalidOperator)}(t,r,e);if(k(r))return function(e,t,r){if("-"===r)return e.diff(t).as("days");throw new s.eS(s.f.InvalidOperator)}(t,r,e);if(P(r))return function(e,t,r){throw new s.eS(s.f.InvalidOperator)}();throw new s.eS(s.f.InvalidOperator)}if(V(t)){if(D(r))return function(e,t,r){var n=1e3*t*24*60*60;switch(r){case"+":return e.addMilliseconds(n);case"-":return e.addMilliseconds(-1*n)}throw new s.eS(s.f.InvalidOperator)}(t,r,e);if(_(r))return function(e,t,r){switch(r){case"+":return e.addMilliseconds(t.valueInMilliseconds());case"-":return e.addMilliseconds(-1*t.valueInMilliseconds())}throw new s.eS(s.f.InvalidOperator)}(t,r,e);if(U(r))return function(e,t,r){throw new s.eS(s.f.InvalidOperator)}();if(R(r))return function(e,t,r){if("-"===r)return e.toDateTime().diff(t.toDateTimeLuxon(e.toDateTime().zone)).as("days");throw new s.eS(s.f.InvalidOperator)}(t,r,e);if(V(r))return function(e,t,r){if("-"===r)return e.toDateTime().diff(t.toDateTime()).as("days");throw new s.eS(s.f.InvalidOperator)}(t,r,e);if(k(r))return function(e,t,r){if("-"===r)return e.toDateTime().diff(t).as("days");throw new s.eS(s.f.InvalidOperator)}(t,r,e);if(P(r))return function(e,t,r){throw new s.eS(s.f.InvalidOperator)}();throw new s.eS(s.f.InvalidOperator)}if(P(t)){if(D(r))return function(e,t,r){var n=parseFloat(e);if(isNaN(n))throw new s.eS(s.f.InvalidOperator);return ae(n,t,r)}(t,r,e);if(_(r))return function(e,t,r){throw new s.eS(s.f.InvalidOperator)}();if(U(r))return function(e,t,r){throw new s.eS(s.f.InvalidOperator)}();if(R(r))return function(e,t,r){throw new s.eS(s.f.InvalidOperator)}();if(V(r))return function(e,t,r){throw new s.eS(s.f.InvalidOperator)}();if(k(r))return function(e,t,r){throw new s.eS(s.f.InvalidOperator)}();if(P(r))return function(e,t,r){if("+"===r)return e+t;throw new s.eS(s.f.InvalidOperator)}(t,r,e);throw new s.eS(s.f.InvalidOperator)}throw new s.eS(s.f.InvalidOperator)}function ae(e,t,r){switch(r){case"+":return e+t;case"-":return e-t;case"*":return e*t;case"/":return e/t}throw new s.eS(s.f.InvalidOperator)}r(84397);var ie,ue,oe={exports:{}};ue=function(){function e(t,r,n,a){var i=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(i,e.prototype),i.expected=r,i.found=n,i.location=a,i.name="SyntaxError",i}function t(e,t,r){return r=r||" ",e.length>t?e:(t-=e.length,e+(r+=r.repeat(t)).slice(0,t))}return function(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}(e,Error),e.prototype.format=function(e){var r="Error: "+this.message;if(this.location){var n,a=null;for(n=0;n<e.length;n++)if(e[n].source===this.location.source){a=e[n].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,u=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(i):i,o=this.location.source+":"+u.line+":"+u.column;if(a){var s=this.location.end,l=t("",u.line.toString().length," "),c=a[i.line-1],f=(i.line===s.line?s.column:c.length+1)-i.column||1;r+="\n --\x3e "+o+"\n"+l+" |\n"+u.line+" | "+c+"\n"+l+" | "+t("",i.column-1," ")+t("",f,"^")}else r+="\n at "+o}return r},e.buildMessage=function(e,t){var r={literal:function(e){return'"'+a(e.text)+'"'},class:function(e){var t=e.parts.map((function(e){return Array.isArray(e)?i(e[0])+"-"+i(e[1]):i(e)}));return"["+(e.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function a(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function u(e){return r[e.type](e)}return"Expected "+function(e){var t,r,n=e.map(u);if(n.sort(),n.length>0){for(t=1,r=1;t<n.length;t++)n[t-1]!==n[t]&&(n[r]=n[t],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(e)+" but "+function(e){return e?'"'+a(e)+'"':"end of input"}(t)+" found."},{SyntaxError:e,parse:function(t,r){var n,a={},i=(r=void 0!==r?r:{}).grammarSource,u={start:it},o=it,s="''",l=/^[A-Za-z_\x80-\uFFFF]/,c=/^[A-Za-z0-9_]/,f=/^[A-Za-z0-9_.\x80-\uFFFF]/,d=/^["]/,v=/^[^']/,p=/^[0-9]/,h=/^[eE]/,m=/^[+\-]/,w=/^[ \t\n\r]/,y=/^[^`]/,I=Xe("!",!1),S=Xe("=",!1),g=Xe(">=",!1),T=Xe(">",!1),N=Xe("<=",!1),O=Xe("<>",!1),C=Xe("<",!1),b=Xe("!=",!1),x=Xe("+",!1),A=Xe("-",!1),M=Xe("||",!1),E=Xe("*",!1),F=Xe("/",!1),Z=et([["A","Z"],["a","z"],"_",["\x80","\uffff"]],!1,!1),D=et([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),P=et([["A","Z"],["a","z"],["0","9"],"_",".",["\x80","\uffff"]],!1,!1),_=et(['"'],!1,!1),L=Xe("@",!1),k=Xe("'",!1),R=Xe("N'",!1),U=Xe("''",!1),V=et(["'"],!0,!1),J=Xe(".",!1),H=et([["0","9"]],!1,!1),z=et(["e","E"],!1,!1),$=et(["+","-"],!1,!1),q=Xe("NULL",!0),Y=Xe("TRUE",!0),B=Xe("FALSE",!0),Q=Xe("IN",!0),j=Xe("IS",!0),G=Xe("LIKE",!0),W=Xe("ESCAPE",!0),K=Xe("NOT",!0),X=Xe("AND",!0),ee=Xe("OR",!0),te=Xe("BETWEEN",!0),re=Xe("FROM",!0),ne=Xe("FOR",!0),ae=Xe("SUBSTRING",!0),ie=Xe("EXTRACT",!0),ue=Xe("TRIM",!0),oe=Xe("POSITION",!0),se=Xe("TIMESTAMP",!0),le=Xe("DATE",!0),ce=Xe("TIME",!0),fe=Xe("LEADING",!0),de=Xe("TRAILING",!0),ve=Xe("BOTH",!0),pe=Xe("CAST",!0),he=Xe("AS",!0),me=Xe("INTEGER",!0),we=Xe("SMALLINT",!0),ye=Xe("FLOAT",!0),Ie=Xe("REAL",!0),Se=Xe("VARCHAR",!0),ge=Xe("TO",!0),Te=Xe("INTERVAL",!0),Ne=Xe("YEAR",!0),Oe=Xe("TIMEZONE_HOUR",!0),Ce=Xe("TIMEZONE_MINUTE",!0),be=Xe("MONTH",!0),xe=Xe("DAY",!0),Ae=Xe("HOUR",!0),Me=Xe("MINUTE",!0),Ee=Xe("SECOND",!0),Fe=Xe("CASE",!0),Ze=Xe("END",!0),De=Xe("WHEN",!0),Pe=Xe("THEN",!0),_e=Xe("ELSE",!0),Le=Xe(",",!1),ke=Xe("(",!1),Re=Xe(")",!1),Ue=et([" ","\t","\n","\r"],!1,!1),Ve=Xe("`",!1),Je=et(["`"],!0,!1),He=function(e,t){var r={type:"expression-list"},n=function(e,t,r){return function(e,t){for(var r=[e],n=0;n<t.length;n++)r.push(t[n][3]);return r}(e,t)}(e,t);return r.value=n,r},ze=function(e){return"string"===e.type&&function(e){!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(e)&&Ke("Timestamp literal is invalid")}(e.value),{type:"timestamp",value:e.value}},$e=function(e){return"string"===e.type&&function(e){!0!==/^(\d{1,2}):(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/.test(e)&&Ke("Time literal is invalid")}(e.value),{type:"time",value:e.value}},qe=function(e){return"string"===e.type&&function(e){!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(e)&&Ke("Date literal is invalid")}(e.value),{type:"date",value:e.value}},Ye=0,Be=0,Qe=[{line:1,column:1}],je=0,Ge=[],We=0;if("startRule"in r){if(!(r.startRule in u))throw new Error("Can't start parsing from rule \""+r.startRule+'".');o=u[r.startRule]}function Ke(e,t){throw at(e,t=void 0!==t?t:rt(Be,Ye))}function Xe(e,t){return{type:"literal",text:e,ignoreCase:t}}function et(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function tt(e){var r,n=Qe[e];if(n)return n;for(r=e-1;!Qe[r];)r--;for(n={line:(n=Qe[r]).line,column:n.column};r<e;)10===t.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return Qe[e]=n,n}function rt(e,t,r){var n=tt(e),a=tt(t);return{source:i,start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:a.line,column:a.column}}}function nt(e){Ye<je||(Ye>je&&(je=Ye,Ge=[]),Ge.push(e))}function at(t,r){return new e(t,null,null,r)}function it(){var e,t;return e=Ye,kr(),(t=ot())!==a?(kr(),Be=e,e=t):(Ye=e,e=a),e}function ut(){var e,t,r,n,i,u,o,s;if(e=Ye,(t=ot())!==a){for(r=[],n=Ye,i=kr(),(u=Pr())!==a?(o=kr(),(s=ot())!==a?n=i=[i,u,o,s]:(Ye=n,n=a)):(Ye=n,n=a);n!==a;)r.push(n),n=Ye,i=kr(),(u=Pr())!==a?(o=kr(),(s=ot())!==a?n=i=[i,u,o,s]:(Ye=n,n=a)):(Ye=n,n=a);Be=e,e=He(t,r)}else Ye=e,e=a;return e}function ot(){var e,t,r,n,i,u,o,s;if(e=Ye,(t=st())!==a){for(r=[],n=Ye,i=kr(),(u=Kt())!==a?(o=kr(),(s=st())!==a?n=i=[i,u,o,s]:(Ye=n,n=a)):(Ye=n,n=a);n!==a;)r.push(n),n=Ye,i=kr(),(u=Kt())!==a?(o=kr(),(s=st())!==a?n=i=[i,u,o,s]:(Ye=n,n=a)):(Ye=n,n=a);Be=e,e=function(e,t){return Jr(e,t)}(t,r)}else Ye=e,e=a;return e}function st(){var e,t,r,n,i,u,o,s;if(e=Ye,(t=lt())!==a){for(r=[],n=Ye,i=kr(),(u=Wt())!==a?(o=kr(),(s=lt())!==a?n=i=[i,u,o,s]:(Ye=n,n=a)):(Ye=n,n=a);n!==a;)r.push(n),n=Ye,i=kr(),(u=Wt())!==a?(o=kr(),(s=lt())!==a?n=i=[i,u,o,s]:(Ye=n,n=a)):(Ye=n,n=a);Be=e,e=function(e,t){return Jr(e,t)}(t,r)}else Ye=e,e=a;return e}function lt(){var e,r,n,i,u;return e=Ye,(r=Gt())===a&&(r=Ye,33===t.charCodeAt(Ye)?(n="!",Ye++):(n=a,0===We&&nt(I)),n!==a?(i=Ye,We++,61===t.charCodeAt(Ye)?(u="=",Ye++):(u=a,0===We&&nt(S)),We--,u===a?i=void 0:(Ye=i,i=a),i!==a?r=n=[n,i]:(Ye=r,r=a)):(Ye=r,r=a)),r!==a?(n=kr(),(i=lt())!==a?(Be=e,e=function(e){return function(e,t){return{type:"unary-expression",operator:"NOT",expr:t}}(0,e)}(i)):(Ye=e,e=a)):(Ye=e,e=a),e===a&&(e=function(){var e,t,r;return e=Ye,(t=vt())!==a?(kr(),(r=function(){var e;return(e=function(){var e,t,r,n,i,u,o;if(e=Ye,t=[],r=Ye,n=kr(),(i=ct())!==a?(u=kr(),(o=vt())!==a?r=n=[n,i,u,o]:(Ye=r,r=a)):(Ye=r,r=a),r!==a)for(;r!==a;)t.push(r),r=Ye,n=kr(),(i=ct())!==a?(u=kr(),(o=vt())!==a?r=n=[n,i,u,o]:(Ye=r,r=a)):(Ye=r,r=a);else t=a;return t!==a&&(Be=e,t=function(e){return{type:"arithmetic",tail:e}}(t)),t}())===a&&(e=function(){var e,t,r,n;return e=Ye,(t=dt())!==a?(kr(),(r=_r())!==a?(kr(),(n=ut())!==a?(kr(),Lr()!==a?(Be=e,e=function(e,t){return{op:e,right:t}}(t,n)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a),e===a&&(e=Ye,(t=dt())!==a?(kr(),(r=_r())!==a?(kr(),(n=Lr())!==a?(Be=e,e=function(e){return{op:e,right:{type:"expression-list",value:[]}}}(t)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a),e===a&&(e=Ye,(t=dt())!==a?(kr(),(r=Ct())!==a?(Be=e,e=function(e,t){return{op:e,right:t}}(t,r)):(Ye=e,e=a)):(Ye=e,e=a))),e}())===a&&(e=function(){var e,t,r,n,i,u;return e=Ye,(t=Gt())!==a?(kr(),(r=Xt())!==a?(kr(),(n=vt())!==a?(kr(),(i=Wt())!==a?(kr(),(u=vt())!==a?(Be=e,e=function(e,t,r){return{op:"NOT"+e,right:{type:"expression-list",value:[t,r]}}}(r,n,u)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a),e===a&&(e=Ye,(t=Xt())!==a?(kr(),(r=vt())!==a?(kr(),(n=Wt())!==a?(kr(),(i=vt())!==a?(Be=e,e=function(e,t,r){return{op:e,right:{type:"expression-list",value:[t,r]}}}(t,r,i)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)),e}())===a&&(e=function(){var e,t,r,n;return e=Ye,(t=Bt())!==a?(kr(),(r=Gt())!==a?(kr(),(n=vt())!==a?(Be=e,e=function(e,t){return{op:e+"NOT",right:t}}(t,n)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a),e===a&&(e=Ye,(t=Bt())!==a?(kr(),(r=vt())!==a?(Be=e,e=function(e,t){return{op:e,right:t}}(t,r)):(Ye=e,e=a)):(Ye=e,e=a)),e}())===a&&(e=function(){var e,t,r,n;return e=Ye,(t=ft())!==a?(kr(),(r=Zt())!==a?(kr(),jt()!==a?(kr(),(n=Dt())!==a?(Be=e,e=function(e,t,r){return{op:e,right:t,escape:r.value}}(t,r,n)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a),e===a&&(e=Ye,(t=ft())!==a?(kr(),(r=Zt())!==a?(Be=e,e=function(e,t){return{op:e,right:t,escape:""}}(t,r)):(Ye=e,e=a)):(Ye=e,e=a)),e}()),e}())===a&&(r=null),Be=e,e=function(e,t){return""==t||null==t||null==t?e:"arithmetic"==t.type?Jr(e,t.tail):Vr(t.op,e,t.right,t.escape)}(t,r)):(Ye=e,e=a),e}()),e}function ct(){var e;return">="===t.substr(Ye,2)?(e=">=",Ye+=2):(e=a,0===We&&nt(g)),e===a&&(62===t.charCodeAt(Ye)?(e=">",Ye++):(e=a,0===We&&nt(T)),e===a&&("<="===t.substr(Ye,2)?(e="<=",Ye+=2):(e=a,0===We&&nt(N)),e===a&&("<>"===t.substr(Ye,2)?(e="<>",Ye+=2):(e=a,0===We&&nt(O)),e===a&&(60===t.charCodeAt(Ye)?(e="<",Ye++):(e=a,0===We&&nt(C)),e===a&&(61===t.charCodeAt(Ye)?(e="=",Ye++):(e=a,0===We&&nt(S)),e===a&&("!="===t.substr(Ye,2)?(e="!=",Ye+=2):(e=a,0===We&&nt(b)))))))),e}function ft(){var e,t,r,n,i;return e=Ye,t=Ye,(r=Gt())!==a?(n=kr(),(i=Qt())!==a?t=r=[r,n,i]:(Ye=t,t=a)):(Ye=t,t=a),t!==a&&(Be=e,t=function(e){return e[0]+" "+e[2]}(t)),(e=t)===a&&(e=Qt()),e}function dt(){var e,t,r,n,i;return e=Ye,t=Ye,(r=Gt())!==a?(n=kr(),(i=Yt())!==a?t=r=[r,n,i]:(Ye=t,t=a)):(Ye=t,t=a),t!==a&&(Be=e,t=function(e){return e[0]+" "+e[2]}(t)),(e=t)===a&&(e=Yt()),e}function vt(){var e,t,r,n,i,u,o,s;if(e=Ye,(t=ht())!==a){for(r=[],n=Ye,i=kr(),(u=pt())!==a?(o=kr(),(s=ht())!==a?n=i=[i,u,o,s]:(Ye=n,n=a)):(Ye=n,n=a);n!==a;)r.push(n),n=Ye,i=kr(),(u=pt())!==a?(o=kr(),(s=ht())!==a?n=i=[i,u,o,s]:(Ye=n,n=a)):(Ye=n,n=a);Be=e,e=function(e,t){return Jr(e,t)}(t,r)}else Ye=e,e=a;return e}function pt(){var e;return 43===t.charCodeAt(Ye)?(e="+",Ye++):(e=a,0===We&&nt(x)),e===a&&(45===t.charCodeAt(Ye)?(e="-",Ye++):(e=a,0===We&&nt(A)),e===a&&("||"===t.substr(Ye,2)?(e="||",Ye+=2):(e=a,0===We&&nt(M)))),e}function ht(){var e,t,r,n,i,u,o,s;if(e=Ye,(t=wt())!==a){for(r=[],n=Ye,i=kr(),(u=mt())!==a?(o=kr(),(s=wt())!==a?n=i=[i,u,o,s]:(Ye=n,n=a)):(Ye=n,n=a);n!==a;)r.push(n),n=Ye,i=kr(),(u=mt())!==a?(o=kr(),(s=wt())!==a?n=i=[i,u,o,s]:(Ye=n,n=a)):(Ye=n,n=a);Be=e,e=function(e,t){return Jr(e,t)}(t,r)}else Ye=e,e=a;return e}function mt(){var e;return 42===t.charCodeAt(Ye)?(e="*",Ye++):(e=a,0===We&&nt(E)),e===a&&(47===t.charCodeAt(Ye)?(e="/",Ye++):(e=a,0===We&&nt(F))),e}function wt(){var e,t;return(e=function(){var e;return(e=Dt())===a&&(e=function(){var e,t,r,n;return e=Ye,(t=function(){var e,t,r,n;return e=Ye,(t=kt())!==a&&(r=Rt())!==a&&(n=Ut())!==a?(Be=e,e=function(e,t,r){return parseFloat(e+t+r)}(t,r,n)):(Ye=e,e=a),e===a&&(e=Ye,(t=kt())!==a&&(r=Rt())!==a?(Be=e,e=function(e,t){return parseFloat(e+t)}(t,r)):(Ye=e,e=a),e===a&&(e=Ye,(t=kt())!==a&&(r=Ut())!==a?(Be=e,e=function(e,t){return parseFloat(e+t)}(t,r)):(Ye=e,e=a),e===a&&(e=Ye,(t=kt())!==a&&(Be=e,t=function(e){return parseFloat(e)}(t)),e=t))),e}())!==a?(r=Ye,We++,n=It(),We--,n===a?r=void 0:(Ye=r,r=a),r!==a?(Be=e,e=function(e){return{type:"number",value:e}}(t)):(Ye=e,e=a)):(Ye=e,e=a),e}())===a&&(e=function(){var e,t;return e=Ye,(t=$t())!==a&&(Be=e,t={type:"boolean",value:!0}),(e=t)===a&&(e=Ye,(t=qt())!==a&&(Be=e,t={type:"boolean",value:!1}),e=t),e}())===a&&(e=function(){var e,t;return e=Ye,(t=zt())!==a&&(Be=e,t={type:"null",value:null}),t}())===a&&(e=function(){var e,t;return e=Ye,or()!==a?(kr(),(t=Zt())!==a?(Be=e,e=qe(t)):(Ye=e,e=a)):(Ye=e,e=a),e}())===a&&(e=function(){var e,t;return e=Ye,ur()!==a?(kr(),(t=Zt())!==a?(Be=e,e=ze(t)):(Ye=e,e=a)):(Ye=e,e=a),e}())===a&&(e=xt())===a&&(e=function(){var e,t;return e=Ye,sr()!==a?(kr(),(t=Zt())!==a?(Be=e,e=$e(t)):(Ye=e,e=a)):(Ye=e,e=a),e}()),e}())===a&&(e=function(){var e,t,r;return e=Ye,nr()!==a?(kr(),_r()!==a?(kr(),(t=function(){var e;return(e=gr())===a&&(e=Or())===a&&(e=Cr())===a&&(e=br())===a&&(e=xr())===a&&(e=Ar())===a&&(e=Tr())===a&&(e=Nr()),e}())!==a?(kr(),er()!==a?(kr(),(r=ot())!==a?(kr(),Lr()!==a?(Be=e,e=function(e,t){return{type:"function",name:"extract",args:{type:"expression-list",value:[{type:"string",value:e},t]}}}(t,r)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a),e}())===a&&(e=function(){var e,t,r,n,i,u,o;return e=Ye,rr()!==a?(kr(),_r()!==a?(kr(),(t=ot())!==a?(kr(),er()!==a?(kr(),(r=ot())!==a?(kr(),n=Ye,(i=tr())!==a?(u=kr(),(o=ot())!==a?n=i=[i,u,o,kr()]:(Ye=n,n=a)):(Ye=n,n=a),n===a&&(n=null),(i=Lr())!==a?(Be=e,e=function(e,t,r){return{type:"function",name:"substring",args:{type:"expression-list",value:r?[e,t,r[2]]:[e,t]}}}(t,r,n)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a),e}())===a&&(e=function(){var e,t,r,n;return e=Ye,ar()!==a?(kr(),_r()!==a?(kr(),(t=bt())===a&&(t=null),kr(),(r=ot())!==a?(kr(),er()!==a?(kr(),(n=ot())!==a?(kr(),Lr()!==a?(Be=e,e=function(e,t,r){return{type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:null!==e&&void 0!==e?e:"BOTH"},t,r]}}}(t,r,n)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a),e===a&&(e=Ye,ar()!==a?(kr(),_r()!==a?(kr(),(t=bt())===a&&(t=null),kr(),(r=ot())!==a?(kr(),Lr()!==a?(Be=e,e=function(e,t){return{type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:null!==e&&void 0!==e?e:"BOTH"},t]}}}(t,r)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)),e}())===a&&(e=function(){var e,t,r;return e=Ye,ir()!==a?(kr(),_r()!==a?(kr(),(t=ot())!==a?(kr(),Yt()!==a?(kr(),(r=ot())!==a?(kr(),Lr()!==a?(Be=e,e=function(e,t){return{type:"function",name:"position",args:{type:"expression-list",value:[e,t]}}}(t,r)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a),e}())===a&&(e=function(){var e,t,r;return e=Ye,dr()!==a?(kr(),_r()!==a?(kr(),(t=ot())!==a?(kr(),vr()!==a?(kr(),(r=function(){var e,t,r;return e=Ye,(t=pr())!==a&&(Be=e,t={type:"data-type",value:{type:"integer"}}),(e=t)===a&&(e=Ye,(t=hr())!==a&&(Be=e,t={type:"data-type",value:{type:"smallint"}}),(e=t)===a&&(e=Ye,(t=mr())!==a&&(Be=e,t={type:"data-type",value:{type:"float"}}),(e=t)===a&&(e=Ye,(t=wr())!==a&&(Be=e,t={type:"data-type",value:{type:"real"}}),(e=t)===a&&(e=Ye,(t=or())!==a&&(Be=e,t={type:"data-type",value:{type:"date"}}),(e=t)===a&&(e=Ye,(t=ur())!==a&&(Be=e,t={type:"data-type",value:{type:"timestamp"}}),(e=t)===a&&(e=Ye,(t=sr())!==a&&(Be=e,t={type:"data-type",value:{type:"time"}}),(e=t)===a&&(e=Ye,(t=yr())!==a?(kr(),_r()!==a?(kr(),(r=Vt())!==a?(kr(),Lr()!==a?(Be=e,e=function(e){return{type:"data-type",value:{type:"varchar",size:parseInt(e)}}}(r)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)))))))),e}())!==a?(kr(),Lr()!==a?(Be=e,e=function(e,t){return{type:"function",name:"cast",args:{type:"expression-list",value:[e,t]}}}(t,r)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a),e}())===a&&(e=function(){var e,t,r;return e=Ye,(t=Ur())!==a?(kr(),_r()!==a?(kr(),(r=ut())===a&&(r=null),kr(),Lr()!==a?(Be=e,e=function(e,t){return{type:"function",name:e,args:t||{type:"expression-list",value:[]}}}(t,r)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a),e}())===a&&(e=function(){var e;return(e=function(){var e,t,r,n,i;if(e=Ye,Mr()!==a)if(kr(),(t=ot())!==a){for(kr(),r=[],n=_t();n!==a;)r.push(n),n=_t();n=kr(),(i=Er())!==a?(Be=e,e=function(e,t){return{type:"case-expression",format:"simple",operand:e,clauses:t,else:null}}(t,r)):(Ye=e,e=a)}else Ye=e,e=a;else Ye=e,e=a;if(e===a)if(e=Ye,Mr()!==a)if(kr(),(t=ot())!==a){for(kr(),r=[],n=_t();n!==a;)r.push(n),n=_t();n=kr(),(i=Lt())!==a?(kr(),Er()!==a?(Be=e,e=function(e,t,r){return{type:"case-expression",format:"simple",operand:e,clauses:t,else:r.value}}(t,r,i)):(Ye=e,e=a)):(Ye=e,e=a)}else Ye=e,e=a;else Ye=e,e=a;return e}())===a&&(e=function(){var e,t,r,n;if(e=Ye,Mr()!==a){for(kr(),t=[],r=Pt();r!==a;)t.push(r),r=Pt();r=kr(),(n=Er())!==a?(Be=e,e=function(e){return{type:"case-expression",format:"searched",clauses:e,else:null}}(t)):(Ye=e,e=a)}else Ye=e,e=a;if(e===a)if(e=Ye,Mr()!==a){for(kr(),t=[],r=Pt();r!==a;)t.push(r),r=Pt();r=kr(),(n=Lt())!==a?(kr(),Er()!==a?(Be=e,e=function(e,t){return{type:"case-expression",format:"searched",clauses:e,else:t.value}}(t,n)):(Ye=e,e=a)):(Ye=e,e=a)}else Ye=e,e=a;return e}()),e}())===a&&(e=function(){var e,t;return e=Ye,(t=function(){var e,t;return e=Ye,(t=function(){var e,t,r,n;if(e=Ye,(t=It())!==a){for(r=[],n=gt();n!==a;)r.push(n),n=gt();Be=e,e=function(e,t){return e+t.join("")}(t,r)}else Ye=e,e=a;return e}())!==a&&(Be=e),t}())!==a&&(Be=e,t=function(e){return/^CURRENT_DATE$/i.test(e)?{type:"current-time",mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(e)?{type:"current-time",mode:"timestamp"}:{type:"column-reference",table:"",column:e}}(t)),(e=t)===a&&(e=Ye,(t=function(){var e,t;return e=Ye,Ot()!==a?(t=function(){var e,t,r;for(e=Ye,t=[],r=Tt();r!==a;)t.push(r),r=Tt();return Be=e,function(e){return e.join("")}(t)}(),Ot()!==a?(Be=e,e=t):(Ye=e,e=a)):(Ye=e,e=a),e}())!==a&&(Be=e,t=function(e){return{type:"column-reference",table:"",column:e,delimited:!0}}(t)),e=t),e}())===a&&(e=Ct())===a&&(e=Ye,_r()!==a?(kr(),(t=ot())!==a?(kr(),Lr()!==a?(Be=e,e=function(e){return e.paren=!0,e}(t)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)),e}function yt(){var e,t,r,n;if(e=Ye,(t=It())!==a){for(r=[],n=St();n!==a;)r.push(n),n=St();Be=e,e=function(e,t){return e+t.join("")}(t,r)}else Ye=e,e=a;return e}function It(){var e;return l.test(t.charAt(Ye))?(e=t.charAt(Ye),Ye++):(e=a,0===We&&nt(Z)),e}function St(){var e;return c.test(t.charAt(Ye))?(e=t.charAt(Ye),Ye++):(e=a,0===We&&nt(D)),e}function gt(){var e;return f.test(t.charAt(Ye))?(e=t.charAt(Ye),Ye++):(e=a,0===We&&nt(P)),e}function Tt(){var e;return(e=Nt())===a&&(e=function(){var e;return e=Ye,Ot()!==a&&Ot()!==a?(Be=e,e='"'):(Ye=e,e=a),e}()),e}function Nt(){var e;return f.test(t.charAt(Ye))?(e=t.charAt(Ye),Ye++):(e=a,0===We&&nt(P)),e}function Ot(){var e;return d.test(t.charAt(Ye))?(e=t.charAt(Ye),Ye++):(e=a,0===We&&nt(_)),e}function Ct(){var e,r,n,i;return e=Ye,r=Ye,64===t.charCodeAt(Ye)?(n="@",Ye++):(n=a,0===We&&nt(L)),n!==a&&(i=yt())!==a?r=n=[n,i]:(Ye=r,r=a),r!==a&&(Be=e,r=function(e){return{type:"parameter",value:e[1]}}(r)),r}function bt(){var e;return(e=lr())===a&&(e=cr())===a&&(e=fr()),e}function xt(){var e,r,n,i;return e=Ye,Sr()!==a?(kr(),45===t.charCodeAt(Ye)?(r="-",Ye++):(r=a,0===We&&nt(A)),r===a&&(43===t.charCodeAt(Ye)?(r="+",Ye++):(r=a,0===We&&nt(x))),r!==a?(kr(),(n=Zt())!==a?(kr(),(i=At())!==a?(Be=e,e=function(e,t,r){return{type:"interval",value:t,qualifier:r,op:e}}(r,n,i)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a),e===a&&(e=Ye,Sr()!==a?(kr(),(r=Zt())!==a?(kr(),(n=At())!==a?(Be=e,e=function(e,t){return{type:"interval",value:e,qualifier:t,op:""}}(r,n)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)),e}function At(){var e,t,r;return e=Ye,(t=function(){var e,t,r;return e=Ye,(t=Mt())!==a?(kr(),_r()!==a?(kr(),(r=Ft())!==a?(kr(),Lr()!==a?(Be=e,e=function(e,t){return{type:"interval-period",period:e.value,precision:t,secondary:null}}(t,r)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a),e===a&&(e=Ye,(t=Mt())!==a&&(Be=e,t=function(e){return{type:"interval-period",period:e.value,precision:null,secondary:null}}(t)),e=t),e}())!==a?(kr(),Ir()!==a?(kr(),(r=function(){var e,t,r,n;return e=Ye,(t=Mt())!==a&&(Be=e,t=function(e){return{type:"interval-period",period:e.value,precision:null,secondary:null}}(t)),(e=t)===a&&(e=Ye,(t=Ar())!==a?(kr(),_r()!==a?(kr(),(r=Ft())!==a?(kr(),Pr()!==a?(kr(),(n=Et())!==a?(kr(),Lr()!==a?(Be=e,e=function(e,t){return{type:"interval-period",period:"second",precision:e,secondary:t}}(r,n)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a),e===a&&(e=Ye,(t=Ar())!==a?(kr(),_r()!==a?(kr(),(r=Ft())!==a?(kr(),Lr()!==a?(Be=e,e=function(e){return{type:"interval-period",period:"second",precision:e,secondary:null}}(r)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a),e===a&&(e=Ye,(t=Ar())!==a&&(Be=e,t={type:"interval-period",period:"second",precision:null,secondary:null}),e=t))),e}())!==a?(Be=e,e=function(e,t){return{type:"interval-qualifier",start:e,end:t}}(t,r)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a),e===a&&(e=function(){var e,t,r,n;return e=Ye,(t=Mt())!==a?(kr(),_r()!==a?(kr(),(r=Et())!==a?(kr(),Lr()!==a?(Be=e,e=function(e,t){return{type:"interval-period",period:e.value,precision:t,secondary:null}}(t,r)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a),e===a&&(e=Ye,(t=Mt())!==a&&(Be=e,t=function(e){return{type:"interval-period",period:e.value,precision:null,secondary:null}}(t)),(e=t)===a&&(e=Ye,(t=Ar())!==a?(kr(),_r()!==a?(kr(),(r=Ft())!==a?(kr(),Pr()!==a?(kr(),(n=Et())!==a?(kr(),Lr()!==a?(Be=e,e=function(e,t){return{type:"interval-period",period:"second",precision:e,secondary:t}}(r,n)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a),e===a&&(e=Ye,(t=Ar())!==a?(kr(),_r()!==a?(kr(),(r=Et())!==a?(kr(),Lr()!==a?(Be=e,e=function(e){return{type:"interval-period",period:"second",precision:e,secondary:null}}(r)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a),e===a&&(e=Ye,(t=Ar())!==a&&(Be=e,t={type:"interval-period",period:"second",precision:null,secondary:null}),e=t)))),e}()),e}function Mt(){var e,t;return e=Ye,(t=Cr())!==a&&(Be=e,t={type:"string",value:"day"}),(e=t)===a&&(e=Ye,(t=br())!==a&&(Be=e,t={type:"string",value:"hour"}),(e=t)===a&&(e=Ye,(t=xr())!==a&&(Be=e,t={type:"string",value:"minute"}),(e=t)===a&&(e=Ye,(t=Or())!==a&&(Be=e,t={type:"string",value:"month"}),(e=t)===a&&(e=Ye,(t=gr())!==a&&(Be=e,t={type:"string",value:"year"}),e=t)))),e}function Et(){var e,t;return e=Ye,(t=Vt())!==a&&(Be=e,t=function(e){return parseFloat(e)}(t)),t}function Ft(){var e,t;return e=Ye,(t=Vt())!==a&&(Be=e,t=function(e){return parseFloat(e)}(t)),t}function Zt(){var e;return(e=Dt())===a&&(e=Ct()),e}function Dt(){var e,r,n,i,u;if(e=Ye,39===t.charCodeAt(Ye)?(r="'",Ye++):(r=a,0===We&&nt(k)),r===a&&("N'"===t.substr(Ye,2)?(r="N'",Ye+=2):(r=a,0===We&&nt(R))),r!==a){for(n=[],i=Ye,t.substr(Ye,2)===s?(u=s,Ye+=2):(u=a,0===We&&nt(U)),u!==a&&(Be=i,u="'"),(i=u)===a&&(v.test(t.charAt(Ye))?(i=t.charAt(Ye),Ye++):(i=a,0===We&&nt(V)));i!==a;)n.push(i),i=Ye,t.substr(Ye,2)===s?(u=s,Ye+=2):(u=a,0===We&&nt(U)),u!==a&&(Be=i,u="'"),(i=u)===a&&(v.test(t.charAt(Ye))?(i=t.charAt(Ye),Ye++):(i=a,0===We&&nt(V)));39===t.charCodeAt(Ye)?(i="'",Ye++):(i=a,0===We&&nt(k)),i!==a?(Be=e,e=function(e){return{type:"string",value:e.join("")}}(n)):(Ye=e,e=a)}else Ye=e,e=a;return e}function Pt(){var e,t,r;return e=Ye,Fr()!==a?(kr(),(t=ot())!==a?(kr(),Zr()!==a?(kr(),(r=ot())!==a?(Be=e,e=function(e,t){return{type:"when-clause",operand:e,value:t}}(t,r)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a),e}function _t(){var e,t,r;return e=Ye,Fr()!==a?(kr(),(t=ot())!==a?(kr(),Zr()!==a?(kr(),(r=ot())!==a?(Be=e,e=function(e,t){return{type:"when-clause",operand:e,value:t}}(t,r)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a)):(Ye=e,e=a),e}function Lt(){var e,t;return e=Ye,Dr()!==a?(kr(),(t=ot())!==a?(Be=e,e=function(e){return{type:"else-clause",value:e}}(t)):(Ye=e,e=a)):(Ye=e,e=a),e}function kt(){var e,r,n;return(e=Vt())===a&&(e=Ye,45===t.charCodeAt(Ye)?(r="-",Ye++):(r=a,0===We&&nt(A)),r===a&&(43===t.charCodeAt(Ye)?(r="+",Ye++):(r=a,0===We&&nt(x))),r!==a&&(n=Vt())!==a?(Be=e,e=function(e,t){return e[0]+t}(r,n)):(Ye=e,e=a)),e}function Rt(){var e,r,n;return e=Ye,46===t.charCodeAt(Ye)?(r=".",Ye++):(r=a,0===We&&nt(J)),r!==a?((n=Vt())===a&&(n=null),Be=e,e=function(e){return"."+(null!=e?e:"")}(n)):(Ye=e,e=a),e}function Ut(){var e,t,r;return e=Ye,(t=Ht())!==a&&(r=Vt())!==a?(Be=e,e=function(e,t){return e+t}(t,r)):(Ye=e,e=a),e}function Vt(){var e,t,r;if(e=Ye,t=[],(r=Jt())!==a)for(;r!==a;)t.push(r),r=Jt();else t=a;return t!==a&&(Be=e,t=function(e){return e.join("")}(t)),t}function Jt(){var e;return p.test(t.charAt(Ye))?(e=t.charAt(Ye),Ye++):(e=a,0===We&&nt(H)),e}function Ht(){var e,r,n;return e=Ye,h.test(t.charAt(Ye))?(r=t.charAt(Ye),Ye++):(r=a,0===We&&nt(z)),r!==a?(m.test(t.charAt(Ye))?(n=t.charAt(Ye),Ye++):(n=a,0===We&&nt($)),n===a&&(n=null),Be=e,e=function(e,t){return"e"+(null===t?"":t)}(0,n)):(Ye=e,e=a),e}function zt(){var e,r,n,i;return e=Ye,"null"===t.substr(Ye,4).toLowerCase()?(r=t.substr(Ye,4),Ye+=4):(r=a,0===We&&nt(q)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?e=r=[r,n]:(Ye=e,e=a)):(Ye=e,e=a),e}function $t(){var e,r,n,i;return e=Ye,"true"===t.substr(Ye,4).toLowerCase()?(r=t.substr(Ye,4),Ye+=4):(r=a,0===We&&nt(Y)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?e=r=[r,n]:(Ye=e,e=a)):(Ye=e,e=a),e}function qt(){var e,r,n,i;return e=Ye,"false"===t.substr(Ye,5).toLowerCase()?(r=t.substr(Ye,5),Ye+=5):(r=a,0===We&&nt(B)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?e=r=[r,n]:(Ye=e,e=a)):(Ye=e,e=a),e}function Yt(){var e,r,n,i;return e=Ye,"in"===t.substr(Ye,2).toLowerCase()?(r=t.substr(Ye,2),Ye+=2):(r=a,0===We&&nt(Q)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="IN"):(Ye=e,e=a)):(Ye=e,e=a),e}function Bt(){var e,r,n,i;return e=Ye,"is"===t.substr(Ye,2).toLowerCase()?(r=t.substr(Ye,2),Ye+=2):(r=a,0===We&&nt(j)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="IS"):(Ye=e,e=a)):(Ye=e,e=a),e}function Qt(){var e,r,n,i;return e=Ye,"like"===t.substr(Ye,4).toLowerCase()?(r=t.substr(Ye,4),Ye+=4):(r=a,0===We&&nt(G)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="LIKE"):(Ye=e,e=a)):(Ye=e,e=a),e}function jt(){var e,r,n,i;return e=Ye,"escape"===t.substr(Ye,6).toLowerCase()?(r=t.substr(Ye,6),Ye+=6):(r=a,0===We&&nt(W)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="ESCAPE"):(Ye=e,e=a)):(Ye=e,e=a),e}function Gt(){var e,r,n,i;return e=Ye,"not"===t.substr(Ye,3).toLowerCase()?(r=t.substr(Ye,3),Ye+=3):(r=a,0===We&&nt(K)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="NOT"):(Ye=e,e=a)):(Ye=e,e=a),e}function Wt(){var e,r,n,i;return e=Ye,"and"===t.substr(Ye,3).toLowerCase()?(r=t.substr(Ye,3),Ye+=3):(r=a,0===We&&nt(X)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="AND"):(Ye=e,e=a)):(Ye=e,e=a),e}function Kt(){var e,r,n,i;return e=Ye,"or"===t.substr(Ye,2).toLowerCase()?(r=t.substr(Ye,2),Ye+=2):(r=a,0===We&&nt(ee)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="OR"):(Ye=e,e=a)):(Ye=e,e=a),e}function Xt(){var e,r,n,i;return e=Ye,"between"===t.substr(Ye,7).toLowerCase()?(r=t.substr(Ye,7),Ye+=7):(r=a,0===We&&nt(te)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="BETWEEN"):(Ye=e,e=a)):(Ye=e,e=a),e}function er(){var e,r,n,i;return e=Ye,"from"===t.substr(Ye,4).toLowerCase()?(r=t.substr(Ye,4),Ye+=4):(r=a,0===We&&nt(re)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="FROM"):(Ye=e,e=a)):(Ye=e,e=a),e}function tr(){var e,r,n,i;return e=Ye,"for"===t.substr(Ye,3).toLowerCase()?(r=t.substr(Ye,3),Ye+=3):(r=a,0===We&&nt(ne)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="FOR"):(Ye=e,e=a)):(Ye=e,e=a),e}function rr(){var e,r,n,i;return e=Ye,"substring"===t.substr(Ye,9).toLowerCase()?(r=t.substr(Ye,9),Ye+=9):(r=a,0===We&&nt(ae)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="SUBSTRING"):(Ye=e,e=a)):(Ye=e,e=a),e}function nr(){var e,r,n,i;return e=Ye,"extract"===t.substr(Ye,7).toLowerCase()?(r=t.substr(Ye,7),Ye+=7):(r=a,0===We&&nt(ie)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="EXTRACT"):(Ye=e,e=a)):(Ye=e,e=a),e}function ar(){var e,r,n,i;return e=Ye,"trim"===t.substr(Ye,4).toLowerCase()?(r=t.substr(Ye,4),Ye+=4):(r=a,0===We&&nt(ue)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="TRIM"):(Ye=e,e=a)):(Ye=e,e=a),e}function ir(){var e,r,n,i;return e=Ye,"position"===t.substr(Ye,8).toLowerCase()?(r=t.substr(Ye,8),Ye+=8):(r=a,0===We&&nt(oe)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="POSITION"):(Ye=e,e=a)):(Ye=e,e=a),e}function ur(){var e,r,n,i;return e=Ye,"timestamp"===t.substr(Ye,9).toLowerCase()?(r=t.substr(Ye,9),Ye+=9):(r=a,0===We&&nt(se)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="TIMESTAMP"):(Ye=e,e=a)):(Ye=e,e=a),e}function or(){var e,r,n,i;return e=Ye,"date"===t.substr(Ye,4).toLowerCase()?(r=t.substr(Ye,4),Ye+=4):(r=a,0===We&&nt(le)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="DATE"):(Ye=e,e=a)):(Ye=e,e=a),e}function sr(){var e,r,n,i;return e=Ye,"time"===t.substr(Ye,4).toLowerCase()?(r=t.substr(Ye,4),Ye+=4):(r=a,0===We&&nt(ce)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="TIME"):(Ye=e,e=a)):(Ye=e,e=a),e}function lr(){var e,r,n,i;return e=Ye,"leading"===t.substr(Ye,7).toLowerCase()?(r=t.substr(Ye,7),Ye+=7):(r=a,0===We&&nt(fe)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="LEADING"):(Ye=e,e=a)):(Ye=e,e=a),e}function cr(){var e,r,n,i;return e=Ye,"trailing"===t.substr(Ye,8).toLowerCase()?(r=t.substr(Ye,8),Ye+=8):(r=a,0===We&&nt(de)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="TRAILING"):(Ye=e,e=a)):(Ye=e,e=a),e}function fr(){var e,r,n,i;return e=Ye,"both"===t.substr(Ye,4).toLowerCase()?(r=t.substr(Ye,4),Ye+=4):(r=a,0===We&&nt(ve)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="BOTH"):(Ye=e,e=a)):(Ye=e,e=a),e}function dr(){var e,r,n,i;return e=Ye,"cast"===t.substr(Ye,4).toLowerCase()?(r=t.substr(Ye,4),Ye+=4):(r=a,0===We&&nt(pe)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="CAST"):(Ye=e,e=a)):(Ye=e,e=a),e}function vr(){var e,r,n,i;return e=Ye,"as"===t.substr(Ye,2).toLowerCase()?(r=t.substr(Ye,2),Ye+=2):(r=a,0===We&&nt(he)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="AS"):(Ye=e,e=a)):(Ye=e,e=a),e}function pr(){var e,r,n,i;return e=Ye,"integer"===t.substr(Ye,7).toLowerCase()?(r=t.substr(Ye,7),Ye+=7):(r=a,0===We&&nt(me)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="INTEGER"):(Ye=e,e=a)):(Ye=e,e=a),e}function hr(){var e,r,n,i;return e=Ye,"smallint"===t.substr(Ye,8).toLowerCase()?(r=t.substr(Ye,8),Ye+=8):(r=a,0===We&&nt(we)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="SMALLINT"):(Ye=e,e=a)):(Ye=e,e=a),e}function mr(){var e,r,n,i;return e=Ye,"float"===t.substr(Ye,5).toLowerCase()?(r=t.substr(Ye,5),Ye+=5):(r=a,0===We&&nt(ye)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="FLOAT"):(Ye=e,e=a)):(Ye=e,e=a),e}function wr(){var e,r,n,i;return e=Ye,"real"===t.substr(Ye,4).toLowerCase()?(r=t.substr(Ye,4),Ye+=4):(r=a,0===We&&nt(Ie)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="REAL"):(Ye=e,e=a)):(Ye=e,e=a),e}function yr(){var e,r,n,i;return e=Ye,"varchar"===t.substr(Ye,7).toLowerCase()?(r=t.substr(Ye,7),Ye+=7):(r=a,0===We&&nt(Se)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="VARCHAR"):(Ye=e,e=a)):(Ye=e,e=a),e}function Ir(){var e,r,n,i;return e=Ye,"to"===t.substr(Ye,2).toLowerCase()?(r=t.substr(Ye,2),Ye+=2):(r=a,0===We&&nt(ge)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="TO"):(Ye=e,e=a)):(Ye=e,e=a),e}function Sr(){var e,r,n,i;return e=Ye,"interval"===t.substr(Ye,8).toLowerCase()?(r=t.substr(Ye,8),Ye+=8):(r=a,0===We&&nt(Te)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="INTERVAL"):(Ye=e,e=a)):(Ye=e,e=a),e}function gr(){var e,r,n,i;return e=Ye,"year"===t.substr(Ye,4).toLowerCase()?(r=t.substr(Ye,4),Ye+=4):(r=a,0===We&&nt(Ne)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="YEAR"):(Ye=e,e=a)):(Ye=e,e=a),e}function Tr(){var e,r,n,i;return e=Ye,"timezone_hour"===t.substr(Ye,13).toLowerCase()?(r=t.substr(Ye,13),Ye+=13):(r=a,0===We&&nt(Oe)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="TIMEZONE_HOUR"):(Ye=e,e=a)):(Ye=e,e=a),e}function Nr(){var e,r,n,i;return e=Ye,"timezone_minute"===t.substr(Ye,15).toLowerCase()?(r=t.substr(Ye,15),Ye+=15):(r=a,0===We&&nt(Ce)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="TIMEZONE_MINUTE"):(Ye=e,e=a)):(Ye=e,e=a),e}function Or(){var e,r,n,i;return e=Ye,"month"===t.substr(Ye,5).toLowerCase()?(r=t.substr(Ye,5),Ye+=5):(r=a,0===We&&nt(be)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="MONTH"):(Ye=e,e=a)):(Ye=e,e=a),e}function Cr(){var e,r,n,i;return e=Ye,"day"===t.substr(Ye,3).toLowerCase()?(r=t.substr(Ye,3),Ye+=3):(r=a,0===We&&nt(xe)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="DAY"):(Ye=e,e=a)):(Ye=e,e=a),e}function br(){var e,r,n,i;return e=Ye,"hour"===t.substr(Ye,4).toLowerCase()?(r=t.substr(Ye,4),Ye+=4):(r=a,0===We&&nt(Ae)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="HOUR"):(Ye=e,e=a)):(Ye=e,e=a),e}function xr(){var e,r,n,i;return e=Ye,"minute"===t.substr(Ye,6).toLowerCase()?(r=t.substr(Ye,6),Ye+=6):(r=a,0===We&&nt(Me)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="MINUTE"):(Ye=e,e=a)):(Ye=e,e=a),e}function Ar(){var e,r,n,i;return e=Ye,"second"===t.substr(Ye,6).toLowerCase()?(r=t.substr(Ye,6),Ye+=6):(r=a,0===We&&nt(Ee)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="SECOND"):(Ye=e,e=a)):(Ye=e,e=a),e}function Mr(){var e,r,n,i;return e=Ye,"case"===t.substr(Ye,4).toLowerCase()?(r=t.substr(Ye,4),Ye+=4):(r=a,0===We&&nt(Fe)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="CASE"):(Ye=e,e=a)):(Ye=e,e=a),e}function Er(){var e,r,n,i;return e=Ye,"end"===t.substr(Ye,3).toLowerCase()?(r=t.substr(Ye,3),Ye+=3):(r=a,0===We&&nt(Ze)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="END"):(Ye=e,e=a)):(Ye=e,e=a),e}function Fr(){var e,r,n,i;return e=Ye,"when"===t.substr(Ye,4).toLowerCase()?(r=t.substr(Ye,4),Ye+=4):(r=a,0===We&&nt(De)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="WHEN"):(Ye=e,e=a)):(Ye=e,e=a),e}function Zr(){var e,r,n,i;return e=Ye,"then"===t.substr(Ye,4).toLowerCase()?(r=t.substr(Ye,4),Ye+=4):(r=a,0===We&&nt(Pe)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="THEN"):(Ye=e,e=a)):(Ye=e,e=a),e}function Dr(){var e,r,n,i;return e=Ye,"else"===t.substr(Ye,4).toLowerCase()?(r=t.substr(Ye,4),Ye+=4):(r=a,0===We&&nt(_e)),r!==a?(n=Ye,We++,i=St(),We--,i===a?n=void 0:(Ye=n,n=a),n!==a?(Be=e,e="ELSE"):(Ye=e,e=a)):(Ye=e,e=a),e}function Pr(){var e;return 44===t.charCodeAt(Ye)?(e=",",Ye++):(e=a,0===We&&nt(Le)),e}function _r(){var e;return 40===t.charCodeAt(Ye)?(e="(",Ye++):(e=a,0===We&&nt(ke)),e}function Lr(){var e;return 41===t.charCodeAt(Ye)?(e=")",Ye++):(e=a,0===We&&nt(Re)),e}function kr(){var e,t;for(e=[],t=Rr();t!==a;)e.push(t),t=Rr();return e}function Rr(){var e;return w.test(t.charAt(Ye))?(e=t.charAt(Ye),Ye++):(e=a,0===We&&nt(Ue)),e}function Ur(){var e,r,n,i;if(e=Ye,(r=yt())!==a&&(Be=e),(e=r)===a)if(e=Ye,96===t.charCodeAt(Ye)?(r="`",Ye++):(r=a,0===We&&nt(Ve)),r!==a){if(n=[],y.test(t.charAt(Ye))?(i=t.charAt(Ye),Ye++):(i=a,0===We&&nt(Je)),i!==a)for(;i!==a;)n.push(i),y.test(t.charAt(Ye))?(i=t.charAt(Ye),Ye++):(i=a,0===We&&nt(Je));else n=a;n!==a?(96===t.charCodeAt(Ye)?(i="`",Ye++):(i=a,0===We&&nt(Ve)),i!==a?(Be=e,e=function(e){return e.join("")}(n)):(Ye=e,e=a)):(Ye=e,e=a)}else Ye=e,e=a;return e}function Vr(e,t,r,n){var a={type:"binary-expression",operator:e,left:t,right:r};return void 0!==n&&(a.escape=n),a}function Jr(e,t){for(var r=e,n=0;n<t.length;n++)r=Vr(t[n][1],r,t[n][3]);return r}if((n=o())!==a&&Ye===t.length)return n;throw n!==a&&Ye<t.length&&nt({type:"end"}),function(t,r,n){return new e(e.buildMessage(t,r),t,r,n)}(Ge,je<t.length?t.charAt(je):null,je<t.length?rt(je,je+1):rt(je,je))}}},(ie=oe).exports&&(ie.exports=ue());var se=oe.exports,le=function(){function e(){(0,i.Z)(this,e)}return(0,u.Z)(e,null,[{key:"parse",value:function(e){return se.parse(e)}}]),e}(),ce=new Set(["current_timestamp","current_date","current_time"]),fe=function(){function e(){(0,i.Z)(this,e)}return(0,u.Z)(e,null,[{key:"makeBool",value:function(e){return ve(e)}},{key:"featureValue",value:function(e,t,r,n){return Te(e,t,r,n)}},{key:"equalsNull",value:function(e){return null===e}},{key:"applyLike",value:function(e,t,r){return ge(e,t,r)}},{key:"ensureArray",value:function(e){return pe(e)}},{key:"applyIn",value:function(e,t,r){return ye(e,t)}},{key:"currentDate",value:function(e){return c.u.fromNow(e)}},{key:"makeSqlInterval",value:function(e,t,r){return T.createFromValueAndQualifier(e,t,r)}},{key:"convertInterval",value:function(e){return e instanceof T?e.valueInMilliseconds():e}},{key:"currentTimestamp",value:function(e){return Z(new Date,e)}},{key:"compare",value:function(e,t,r,n){return Q(t,r,e)}},{key:"calculate",value:function(e,t,r,n){return ne(e,t,r,n)}},{key:"evaluateTime",value:function(e){return J(e)}},{key:"evaluateTimestamp",value:function(e,t,r){return H(e,t,r)}},{key:"evaluateDate",value:function(e,t){return z(e,t)}},{key:"evaluateFunction",value:function(e,t,r){return K(e,t,r)}},{key:"lookup",value:function(e,t){var r=t[e];return void 0===r?null:r}},{key:"between",value:function(e,t,r){return null==e||null==t[0]||null==t[1]?null:Q(e,t[0],">=")&&Q(e,t[1],"<=")}},{key:"notbetween",value:function(e,t,r){return null==e||null==t[0]||null==t[1]?null:Q(e,t[0],"<")||Q(e,t[1],">")}},{key:"ternaryNot",value:function(e){return he(e)}},{key:"ternaryAnd",value:function(e,t){return me(e,t)}},{key:"ternaryOr",value:function(e,t){return we(e,t)}}]),e}(),de=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"UTC";(0,i.Z)(this,e),this.fieldsIndex=r,this.timeZone=n,this.parameters={},this._hasDateFunctions=void 0,this.parseTree=le.parse(t);var a=this._extractExpressionInfo(r),u=a.isStandardized,o=a.isAggregate,s=a.referencedFieldNames;this._referencedFieldNames=s,this.isStandardized=u,this.isAggregate=o}return(0,u.Z)(e,[{key:"fieldNames",get:function(){return this._referencedFieldNames}},{key:"testSet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne;return!!this._evaluateNode(this.parseTree,null,t,e)}},{key:"calculateValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne,r=this._evaluateNode(this.parseTree,e,t,null);return r instanceof T?r.valueInMilliseconds()/864e5:r}},{key:"calculateValueCompiled",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne;return null!=this.parseTree._compiledVersion?this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone):(0,l.Z)("esri-csp-restrictions")?this.calculateValue(e,t):(this._compileMe(),this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone))}},{key:"testFeature",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne;return!!this._evaluateNode(this.parseTree,e,t,null)}},{key:"testFeatureCompiled",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne;return null!=this.parseTree._compiledVersion?!!this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone):(0,l.Z)("esri-csp-restrictions")?this.testFeature(e,t):(this._compileMe(),!!this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone))}},{key:"hasDateFunctions",get:function(){var e=this;return null!=this._hasDateFunctions||(this._hasDateFunctions=!1,this._visitAll(this.parseTree,(function(t){"current-time"===t.type?e._hasDateFunctions=!0:"function"===t.type&&(e._hasDateFunctions=e._hasDateFunctions||ce.has(t.name.toLowerCase()))}))),this._hasDateFunctions}},{key:"getFunctions",value:function(){var e=new Set;return this._visitAll(this.parseTree,(function(t){"function"===t.type&&e.add(t.name.toLowerCase())})),Array.from(e)}},{key:"getExpressions",value:function(){var e=new Map;return this._visitAll(this.parseTree,(function(t){if("function"===t.type){var r=t.name.toLowerCase(),n=t.args.value[0];if("column-reference"===n.type){var a=n.column,i="".concat(r,"-").concat(a);e.has(i)||e.set(i,{aggregateType:r,field:a})}}})),(0,a.Z)(e.values())}},{key:"getVariables",value:function(){var e=new Set;return this._visitAll(this.parseTree,(function(t){"parameter"===t.type&&e.add(t.value.toLowerCase())})),Array.from(e)}},{key:"_compileMe",value:function(){var e="return this.convertInterval("+this.evaluateNodeToJavaScript(this.parseTree)+")";this.parseTree._compiledVersion=new Function("feature","lookups","attributeAdapter","fieldsIndex","timeZone",e).bind(fe)}},{key:"_extractExpressionInfo",value:function(e){var t=[],r=new Set,n=!0,a=!1;return this._visitAll(this.parseTree,(function(i){switch(i.type){case"column-reference":var u,o,s,l=null===e||void 0===e?void 0:e.get(i.column);l?o=s=null!==(u=l.name)&&void 0!==u?u:"":o=(s=i.column).toLowerCase(),r.has(o)||(r.add(o),t.push(s)),i.column=s;break;case"function":var c=i.name,f=i.args.value.length;n&&(n=function(e,t){var r=re[e.toLowerCase()];return null!=r&&t>=r.minParams&&t<=r.maxParams}(c,f)),!1===a&&(a=h(c,f))}})),{referencedFieldNames:Array.from(t),isStandardized:n,isAggregate:a}}},{key:"_visitAll",value:function(e,t){if(null!=e)switch(t(e),e.type){case"when-clause":this._visitAll(e.operand,t),this._visitAll(e.value,t);break;case"case-expression":var r,a=(0,n.Z)(e.clauses);try{for(a.s();!(r=a.n()).done;){var i=r.value;this._visitAll(i,t)}}catch(l){a.e(l)}finally{a.f()}"simple"===e.format&&this._visitAll(e.operand,t),null!==e.else&&this._visitAll(e.else,t);break;case"expression-list":var u,o=(0,n.Z)(e.value);try{for(o.s();!(u=o.n()).done;){var s=u.value;this._visitAll(s,t)}}catch(l){o.e(l)}finally{o.f()}break;case"unary-expression":this._visitAll(e.expr,t);break;case"binary-expression":this._visitAll(e.left,t),this._visitAll(e.right,t);break;case"function":this._visitAll(e.args,t)}}},{key:"evaluateNodeToJavaScript",value:function(e){switch(e.type){case"interval":return"this.makeSqlInterval("+this.evaluateNodeToJavaScript(e.value)+", "+JSON.stringify(e.qualifier)+","+JSON.stringify(e.op)+")";case"case-expression":var t="";if("simple"===e.format){var r=this.evaluateNodeToJavaScript(e.operand);t="( ";for(var a=0;a<e.clauses.length;a++)t+=" (this.compare('=',"+r+","+this.evaluateNodeToJavaScript(e.clauses[a].operand)+") ? ("+this.evaluateNodeToJavaScript(e.clauses[a].value)+") : ";null!==e.else?t+=this.evaluateNodeToJavaScript(e.else):t+="null",t+=" )"}else{t="( ";for(var i=0;i<e.clauses.length;i++)t+=" this.makeBool("+this.evaluateNodeToJavaScript(e.clauses[i].operand)+")===true ? ("+this.evaluateNodeToJavaScript(e.clauses[i].value)+") : ";null!==e.else?t+=this.evaluateNodeToJavaScript(e.else):t+="null",t+=" )"}return t;case"parameter":return"this.lookup("+JSON.stringify(e.value.toLowerCase())+",lookups)";case"expression-list":var u,o="[",l=(0,n.Z)(e.value);try{for(l.s();!(u=l.n()).done;){var c=u.value;"["!==o&&(o+=","),o+=this.evaluateNodeToJavaScript(c)}}catch(f){l.e(f)}finally{l.f()}return o+="]";case"unary-expression":return"this.ternaryNot("+this.evaluateNodeToJavaScript(e.expr)+")";case"binary-expression":switch(e.operator){case"AND":return"this.ternaryAnd("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+" )";case"OR":return"this.ternaryOr("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+" )";case"IS":if("null"!==e.right.type)throw new s.eS(s.f.UnsupportedIsRhs);return"this.equalsNull("+this.evaluateNodeToJavaScript(e.left)+")";case"ISNOT":if("null"!==e.right.type)throw new s.eS(s.f.UnsupportedIsRhs);return"(!(this.equalsNull("+this.evaluateNodeToJavaScript(e.left)+")))";case"IN":return"this.applyIn("+this.evaluateNodeToJavaScript(e.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(e.right)+"), timeZone)";case"NOT IN":return"this.ternaryNot(this.applyIn("+this.evaluateNodeToJavaScript(e.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(e.right)+"), timeZone))";case"BETWEEN":return"this.between("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)";case"NOTBETWEEN":return"this.notbetween("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)";case"LIKE":return"this.applyLike("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+","+JSON.stringify(e.escape)+")";case"NOT LIKE":return"this.ternaryNot(this.applyLike("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+","+JSON.stringify(e.escape)+"))";case"<>":case"<":case">":case">=":case"<=":case"=":return"this.compare("+JSON.stringify(e.operator)+","+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)";case"*":case"-":case"+":case"/":case"||":return"this.calculate("+JSON.stringify(e.operator)+","+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)"}throw new s.eS(s.f.UnsupportedOperator,{operator:e.operator});case"null":case"boolean":case"string":case"number":return JSON.stringify(e.value);case"time":return"this.evaluateTime("+JSON.stringify(e.value)+")";case"date":return"this.evaluateDate("+JSON.stringify(e.value)+", 'unknown')";case"timestamp":return"this.evaluateTimestamp("+JSON.stringify(e.value)+", 'unknown')";case"current-time":return"date"===e.mode?"this.currentDate(timeZone)":"this.currentTimestamp(timeZone)";case"column-reference":return"this.featureValue(feature,"+JSON.stringify(e.column)+",fieldsIndex,attributeAdapter)";case"function":return"this.evaluateFunction("+JSON.stringify(e.name)+","+this.evaluateNodeToJavaScript(e.args)+", timeZone)"}throw new s.eS(s.f.UnsupportedSyntax,{node:e.type})}},{key:"_evaluateNode",value:function(e,t,r,a){var i,u,l;switch(e.type){case"interval":var f=this._evaluateNode(e.value,t,r,a);return T.createFromValueAndQualifier(f,e.qualifier,e.op);case"case-expression":if("simple"===e.format){for(var d=this._evaluateNode(e.operand,t,r,a),m=0;m<e.clauses.length;m++)if(Q(d,this._evaluateNode(e.clauses[m].operand,t,r,a),"=",this.timeZone))return this._evaluateNode(e.clauses[m].value,t,r,a);if(null!==e.else)return this._evaluateNode(e.else,t,r,a)}else{for(var w=0;w<e.clauses.length;w++)if(ve(this._evaluateNode(e.clauses[w].operand,t,r,a)))return this._evaluateNode(e.clauses[w].value,t,r,a);if(null!==e.else)return this._evaluateNode(e.else,t,r,a)}return null;case"parameter":return L(l=this.parameters[e.value.toLowerCase()])?v.ou.fromJSDate(l):l instanceof o.iG?l.toDateTime():l;case"expression-list":var y,I=[],S=(0,n.Z)(e.value);try{for(S.s();!(y=S.n()).done;){var g=y.value;I.push(this._evaluateNode(g,t,r,a))}}catch($){S.e($)}finally{S.f()}return I;case"unary-expression":return he(this._evaluateNode(e.expr,t,r,a));case"binary-expression":switch(e.operator){case"AND":return me(this._evaluateNode(e.left,t,r,a),this._evaluateNode(e.right,t,r,a));case"OR":return we(this._evaluateNode(e.left,t,r,a),this._evaluateNode(e.right,t,r,a));case"IS":if("null"!==e.right.type)throw new s.eS(s.f.UnsupportedIsRhs);return null===this._evaluateNode(e.left,t,r,a);case"ISNOT":if("null"!==e.right.type)throw new s.eS(s.f.UnsupportedIsRhs);return null!==this._evaluateNode(e.left,t,r,a);case"IN":var N=pe(this._evaluateNode(e.right,t,r,a));return ye(this._evaluateNode(e.left,t,r,a),N,this.timeZone);case"NOT IN":var O=pe(this._evaluateNode(e.right,t,r,a));return he(ye(this._evaluateNode(e.left,t,r,a),O,this.timeZone));case"BETWEEN":var C=this._evaluateNode(e.left,t,r,a),b=this._evaluateNode(e.right,t,r,a);return null==C||null==b[0]||null==b[1]?null:Q(C,b[0],">=",this.timeZone)&&Q(C,b[1],"<=",this.timeZone);case"NOTBETWEEN":var x=this._evaluateNode(e.left,t,r,a),A=this._evaluateNode(e.right,t,r,a);return null==x||null==A[0]||null==A[1]?null:Q(x,A[0],"<",this.timeZone)||Q(x,A[1],">",this.timeZone);case"LIKE":return ge(this._evaluateNode(e.left,t,r,a),this._evaluateNode(e.right,t,r,a),e.escape);case"NOT LIKE":return he(ge(this._evaluateNode(e.left,t,r,a),this._evaluateNode(e.right,t,r,a),e.escape));case"<>":case"<":case">":case">=":case"<=":case"=":return Q(this._evaluateNode(e.left,t,r,a),this._evaluateNode(e.right,t,r,a),e.operator,this.timeZone);case"-":case"+":case"*":case"/":case"||":return ne(e.operator,this._evaluateNode(e.left,t,r,a),this._evaluateNode(e.right,t,r,a),this.timeZone)}case"null":case"boolean":case"string":case"number":return e.value;case"date":return null!==(i=e.parsedValue)&&void 0!==i||(e.parsedValue=z(e.value,"unknown")),e.parsedValue;case"timestamp":return null!==(u=e.parsedValue)&&void 0!==u||(e.parsedValue=H(e.value,"unknown")),e.parsedValue;case"time":return J(e.value);case"current-time":return"date"===e.mode?c.u.fromNow(this.timeZone):Z(new Date,this.timeZone);case"column-reference":return Te(t,e.column,this.fieldsIndex,r);case"data-type":return e.value;case"function":if(this.isAggregate&&h(e.name,e.args.value.length)){var M,E,F=[],D=(0,n.Z)((null===(M=e.args)||void 0===M?void 0:M.value)||[]);try{for(D.s();!(E=D.n()).done;){var P,_=E.value,k=[],R=(0,n.Z)(a||[]);try{for(R.s();!(P=R.n()).done;){var U=P.value;k.push(this._evaluateNode(_,U,r,null))}}catch($){R.e($)}finally{R.f()}F.push(k)}}catch($){D.e($)}finally{D.f()}return p(e.name,F)}var V=this._evaluateNode(e.args,t,r,a);return K(e.name,V,this.timeZone)}throw new s.eS(s.f.UnsupportedSyntax,{node:e.type})}}],[{key:"convertValueToStorageFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===t)return L(e)?e.getTime():k(e)?e.toMillis():V(e)?e.toStorageFormat():U(e)?e.toStorageString():R(e)?e.toStorageFormat():e;switch(t){case"date":return L(e)?e.getTime():k(e)?e.toMillis():V(e)?e.toMilliseconds():R(e)?e.toNumber():e;case"date-only":return L(e)?c.u.fromDateJS(e).toString():V(e)?c.u.fromSqlTimeStampOffset(e).toString():k(e)?c.u.fromDateTime(e).toString():e;case"time-only":return L(e)?d.n.fromDateJS(e).toStorageString():k(e)?d.n.fromDateTime(e).toStorageString():V(e)?d.n.fromSqlTimeStampOffset(e).toStorageString():U(e)?e.toStorageString():e;case"timestamp-offset":if(L(e))return f.H.fromJSDate(e).toStorageFormat();if(k(e))return f.H.fromDateTime(e).toStorageFormat();if(V(e))return e.toStorageFormat()}return e}},{key:"create",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"UTC";return new e(t,r,n)}}]),e}();function ve(e){return!0===e}function pe(e){return Array.isArray(e)?e:[e]}function he(e){return null!==e?!0!==e:null}function me(e,t){return null!=e&&null!=t?!0===e&&!0===t:!1!==e&&!1!==t&&null}function we(e,t){return null!=e&&null!=t?!0===e||!0===t:!0===e||!0===t||null}function ye(e,t,r){if(null==e)return null;var a,i=!1,u=(0,n.Z)(t);try{for(u.s();!(a=u.n()).done;){var o=a.value;if(null==o)i=null;else{if(e===o){i=!0;break}if(Y(e)&&Y(o)&&(i=Q(e,o,"=")))break}}}catch(s){u.e(s)}finally{u.f()}return i}var Ie,Se="-[]/{}()*+?.\\^$|";function ge(e,t,r){return null==e?null:function(e,t){for(var r=t,n="",a=Ie.Normal,i=0;i<e.length;i++){var u=e.charAt(i);switch(a){case Ie.Normal:u===r?a=Ie.Escaped:Se.includes(u)?n+="\\"+u:n+="%"===u?".*":"_"===u?".":u;break;case Ie.Escaped:Se.includes(u)?n+="\\"+u:n+=u,a=Ie.Normal}}return new RegExp("^"+n+"$","m")}(t,r).test(e)}function Te(e,t,r,n){var a,i=n.getAttribute(e,t),u=null===r||void 0===r?void 0:r.get(t);return null==i||"esriFieldTypeDate"!==(null===u||void 0===u?void 0:u.type)&&"date"!==(null===u||void 0===u?void 0:u.type)?null==i||"esriFieldTypeDateOnly"!==(null===u||void 0===u?void 0:u.type)&&"date-only"!==(null===u||void 0===u?void 0:u.type)?null==i||"esriFieldTypeTimeOnly"!==(null===u||void 0===u?void 0:u.type)&&"time-only"!==(null===u||void 0===u?void 0:u.type)?null==i||"esriFieldTypeTimestampOffset"!==(null===u||void 0===u?void 0:u.type)&&"timestamp-offset"!==(null===u||void 0===u?void 0:u.type)?i:new f.H(i):d.n.fromReader(i):c.u.fromReader(i):Z(new Date(i),null!==(a=null===r||void 0===r?void 0:r.getLuxonTimeZone(u.name))&&void 0!==a?a:v.Qf.utcInstance)}!function(e){e[e.Normal=0]="Normal",e[e.Escaped=1]="Escaped"}(Ie||(Ie={}));var Ne={getAttribute:function(e,t){return(function(e){return e&&"object"==typeof e.attributes}(e)?e.attributes:e)[t]}}}}]);
//# sourceMappingURL=54054.9baec8c3.chunk.js.map