"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[24452],{24452:function(e,r,t){t.r(r),t.d(r,{save:function(){return x},saveAs:function(){return k}});var n=t(74165),a=t(15861),o=t(65286),u=t(32698),i=t(73117),s=t(40739),c="Media Layer",p="media-layer-save",l="media-layer-save-as",f=["media-layer:unsupported-source"];function d(e){return{isValid:"media"===e.type,errorMessage:"Layer.type should be 'media'"}}function m(e){return(0,u.Y)(e,"portal-item",!0)}function v(e){return e.layerJSON}function y(e,r){return h.apply(this,arguments)}function h(){return(h=(0,a.Z)((0,n.Z)().mark((function e(r,t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.fullExtent){e.next=6;break}return e.next=3,(0,i.$o)(r.fullExtent);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=null;case 7:t.extent=e.t0;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,r){return w.apply(this,arguments)}function w(){return(w=(0,a.Z)((0,n.Z)().mark((function e(r,t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.title||(t.title=r.title),e.next=3,y(r,t);case 3:(0,i.ck)(t,i.hz.METADATA);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,r){return b.apply(this,arguments)}function b(){return(b=(0,a.Z)((0,n.Z)().mark((function e(r,t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.a1)({layer:r,itemType:c,validateLayer:d,createJSONContext:function(e){return m(e)},createItemData:v,errorNamePrefix:p,supplementalUnsupportedErrors:f,setItemProperties:y,saveResources:function(e,t){return(0,s.H)(r.resourceReferences,t)}},t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,r,t){return I.apply(this,arguments)}function I(){return(I=(0,a.Z)((0,n.Z)().mark((function e(r,t,a){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.po)({layer:r,itemType:c,validateLayer:d,createJSONContext:function(e){return m(e)},createItemData:v,errorNamePrefix:l,supplementalUnsupportedErrors:f,newItem:t,setItemProperties:Z,saveResources:function(e,t){return(0,s.H)(r.resourceReferences,t)}},a));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},65286:function(e,r,t){t.d(r,{DC:function(){return m},Nw:function(){return k},UY:function(){return P},V3:function(){return b},Ym:function(){return w},a1:function(){return S},jX:function(){return N},po:function(){return R},uT:function(){return x},xG:function(){return h}});var n=t(74165),a=t(1413),o=t(15861),u=t(10064),i=t(15909),s=t(7575),c=t(98995),p=t(32698),l=t(73117),f=t(76926),d=t(9634);function m(e,r,t){var n=t(e);if(!n.isValid)throw new u.Z("".concat(r,":invalid-parameters"),n.errorMessage,{layer:e})}function v(e){return y.apply(this,arguments)}function y(){return(y=(0,o.Z)((0,n.Z)().mark((function e(r){var t,a,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.layer,a=r.errorNamePrefix,o=r.validateLayer,e.next=3,t.load();case 3:m(t,a,o);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,r){return"Layer (title: ".concat(e.title,", id: ").concat(e.id,") of type '").concat(e.declaredClass,"' ").concat(r)}function Z(e){var r=e.item,t=e.errorNamePrefix,n=e.layer,a=e.validateItem;if((0,f.w)(r),function(e){var r=e.item,t=e.itemType,n=e.additionalItemType,a=e.errorNamePrefix,o=e.layer,i=[t];if(n&&i.push(n),!i.includes(r.type)){var s=i.map((function(e){return"'".concat(e,"'")})).join(", ");throw new u.Z("".concat(a,":portal-item-wrong-type"),'Portal item type should be one of: "'.concat(s,'"'),{item:r,layer:o})}}(e),a){var o=a(r);if(!o.isValid)throw new u.Z("".concat(t,":invalid-parameters"),o.errorMessage,{layer:n})}}function w(e){var r=e.layer,t=e.errorNamePrefix,n=r.portalItem;if(!n)throw new u.Z("".concat(t,":portal-item-not-set"),h(r,"requires the portalItem property to be set"));if(!n.loaded)throw new u.Z("".concat(t,":portal-item-not-loaded"),h(r,"cannot be saved to a portal item that does not exist or is inaccessible"));Z((0,a.Z)((0,a.Z)({},e),{},{item:n}))}function x(e){var r,t,n,o,u=e.newItem,i=e.itemType,p=c.default.from(u);return p.id&&((p=p.clone()).id=null),null!==(t=(r=p).type)&&void 0!==t||(r.type=i),null!==(o=(n=p).portal)&&void 0!==o||(n.portal=s.Z.getDefault()),Z((0,a.Z)((0,a.Z)({},e),{},{item:p})),p}function b(e){return(0,p.Y)(e,"portal-item")}function k(e,r,t){return I.apply(this,arguments)}function I(){return(I=(0,o.Z)((0,n.Z)().mark((function e(r,t,a){var o,u,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="beforeSave"in r&&"function"==typeof r.beforeSave,!e.t0){e.next=4;break}return e.next=4,r.beforeSave();case 4:return i=r.write({},t),e.next=7,Promise.all(null!==(o=null===(u=t.resources)||void 0===u?void 0:u.pendingOperations)&&void 0!==o?o:[]);case 7:return(0,d.z)(t,{errorName:"layer-write:unsupported"},a),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){(0,l.qj)(e,l.hz.JSAPI),e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter((function(e,r,t){return t.indexOf(e)===r})))}function N(e,r,t){return g.apply(this,arguments)}function g(){return(g=(0,o.Z)((0,n.Z)().mark((function e(r,t,a){var o,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=r.portal,e.next=3,u.signIn();case 3:return e.next=5,null===(o=u.user)||void 0===o?void 0:o.addItem({item:r,data:t,folder:null===a||void 0===a?void 0:a.folder});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,r){return U.apply(this,arguments)}function U(){return U=(0,o.Z)((0,n.Z)().mark((function e(r,t){var o,u,s,c,p,l,f,d,m,y;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.layer,u=r.createItemData,s=r.createJSONContext,c=r.setItemProperties,p=r.saveResources,l=r.supplementalUnsupportedErrors,e.next=3,v(r);case 3:return w(r),f=o.portalItem,d=s?s(f):b(f),e.next=8,k(o,d,(0,a.Z)((0,a.Z)({},t),{},{supplementalUnsupportedErrors:l}));case 8:return m=e.sent,e.next=11,u({layer:o,layerJSON:m},f);case 11:return y=e.sent,e.next=14,null===c||void 0===c?void 0:c(o,f);case 14:return P(f),e.next=17,f.update({data:y});case 17:return(0,i.D)(d),e.next=20,null===p||void 0===p?void 0:p(f,d);case 20:return e.abrupt("return",f);case 21:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}function R(e,r){return D.apply(this,arguments)}function D(){return D=(0,o.Z)((0,n.Z)().mark((function e(r,t){var o,u,s,c,p,l,f,d,m,y;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.layer,u=r.createItemData,s=r.createJSONContext,c=r.setItemProperties,p=r.saveResources,l=r.supplementalUnsupportedErrors,e.next=3,v(r);case 3:return f=x(r),d=s?s(f):b(f),e.next=7,k(o,d,(0,a.Z)((0,a.Z)({},t),{},{supplementalUnsupportedErrors:l}));case 7:return m=e.sent,e.next=10,u({layer:o,layerJSON:m},f);case 10:return y=e.sent,e.next=13,c(o,f);case 13:return P(f),e.next=16,N(f,y,t);case 16:return o.portalItem=f,(0,i.D)(d),e.next=20,null===p||void 0===p?void 0:p(f,d);case 20:return e.abrupt("return",f);case 21:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}},32698:function(e,r,t){t.d(r,{Y:function(){return i},h:function(){return u}});var n=t(1413),a=t(35995),o=t(7575);function u(e,r){return(0,n.Z)((0,n.Z)({},s(e,r)),{},{readResourcePaths:[]})}function i(e,r,t){var o=(0,a.mN)(e.itemUrl);return(0,n.Z)((0,n.Z)({},s(e,r)),{},{messages:[],writtenProperties:[],blockedRelativeUrls:[],verifyItemRelativeUrls:o?{rootPath:o.path,writtenUrls:[]}:null,resources:t?{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}:null})}function s(e,r){return{origin:r,url:(0,a.mN)(e.itemUrl),portal:e.portal||o.Z.getDefault(),portalItem:e}}},9634:function(e,r,t){t.d(r,{P:function(){return i},z:function(){return p}});var n=t(74165),a=t(37762),o=t(15861),u=t(10064);function i(e){return s.apply(this,arguments)}function s(){return s=(0,o.Z)((0,n.Z)().mark((function e(r){var t,o,u,i,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],o=(0,a.Z)(r.allLayers);try{for(o.s();!(u=o.n()).done;)"beforeSave"in(i=u.value)&&"function"==typeof i.beforeSave&&(s=i.beforeSave())&&t.push(s)}catch(n){o.e(n)}finally{o.f()}return e.next=5,Promise.allSettled(t);case 5:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}var c=new Set(["layer:unsupported","property:unsupported","symbol:unsupported","symbol-layer:unsupported","url:unsupported"]);function p(e,r,t){var n,a=(null!==(n=e.messages)&&void 0!==n?n:[]).filter((function(e){return"error"===e.type})).map((function(e){var r=e.name,t=e.message,n=e.details;return new u.Z(r,t,n)}));if(e.blockedRelativeUrls&&(a=a.concat(e.blockedRelativeUrls.map((function(e){return new u.Z("url:unsupported","Relative url '".concat(e,"' is not supported"))})))),t){var o=t.ignoreUnsupported,i=t.supplementalUnsupportedErrors,s=void 0===i?[]:i,p=t.requiredPropertyChecksDisabled;o&&(a=a.filter((function(e){var r=e.name;return!(c.has(r)||s.includes(r))}))),p&&(a=a.filter((function(e){return"web-document-write:property-required"!==e.name})))}if(a.length>0)throw new u.Z(r.errorName,"Failed to save due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:a})}}}]);
//# sourceMappingURL=24452.8ac535b1.chunk.js.map