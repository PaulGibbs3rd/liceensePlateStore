"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[53391],{76432:function(e,t,r){r.d(t,{t:function(){return l}});var n=r(15671),a=r(43144),u=r(84652),i=r(39052),s=r(56885),o=function(){function e(t,r){(0,n.Z)(this,e),this._observable=new s.s,this._value=t,this._equalityFunction=r}return(0,a.Z)(e,[{key:"value",get:function(){return(0,i.it)(this._observable),this._value},set:function(e){this._equalityFunction(e,this._value)||(this._value=e,this._observable.notify())}},{key:"mutate",value:function(e){e(this._value),this._observable.notify()}}]),e}();function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.y7;return new o(e,t)}},34311:function(e,t,r){function n(e,t,r){return{objectId:e,target:t,distance:r,type:"vertex"}}function a(e,t,r,n,a){var u=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return{objectId:e,target:t,distance:r,type:"edge",start:n,end:a,draped:u}}r.d(t,{p:function(){return a},u:function(){return n}})},58178:function(e,t,r){r.r(t),r.d(t,{default:function(){return R}});var n=r(93433),a=r(37762),u=r(74165),i=r(15861),s=r(15671),o=r(43144),l=r(14921),c=r(10064),f=r(32718),p=r(66978),d=r(51370),h=r(92975),v=r(83406),y=r(68928),m=r(19995),g=r(75878),b=r(47615),x=r(68808),_=r(45927),Z=r(52410),w=r(6701),S=(0,u.Z)().mark(C),k="esri.layers.WFSLayer",R=function(){function e(){(0,s.Z)(this,e),this._customParameters=null,this._queryEngine=null,this._supportsPagination=!0}return(0,o.Z)(e,[{key:"destroy",value:function(){var e;null!==(e=this._queryEngine)&&void 0!==e&&e.destroy(),this._queryEngine=null}},{key:"load",value:function(){var e=(0,i.Z)((0,u.Z)().mark((function e(t){var r,n,a,i,s,o,l,f,d,h,v,b,x,S,k,R=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=R.length>1&&void 0!==R[1]?R[1]:{},n=t.getFeatureUrl,a=t.getFeatureOutputFormat,i=t.fields,s=t.geometryType,o=t.featureType,l=t.maxRecordCount,f=t.maxTotalRecordCount,d=t.maxPageCount,h=t.objectIdField,v=t.customParameters,b=(0,_.fU)(n,o,t.spatialReference),x=b.spatialReference,S=b.getFeatureSpatialReference,e.prev=2,e.next=5,(0,m._W)(S,x);case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(2),new c.Z("unsupported-projection","Projection not supported",{inSpatialReference:S,outSpatialReference:x});case 10:return(0,p.k_)(r),this._customParameters=v,this._featureType=o,this._fieldsIndex=Z.Z.fromLayerJSON({fields:i,dateFieldsTimeReference:i.some((function(e){return"esriFieldTypeDate"===e.type}))?{timeZoneIANA:w.pt}:null}),this._geometryType=s,this._getFeatureUrl=n,this._getFeatureOutputFormat=a,this._getFeatureSpatialReference=S,this._maxRecordCount=l,this._maxTotalRecordCount=f,this._maxPageCount=d,this._objectIdField=h,this._spatialReference=x,e.next=13,this._snapshotFeatures(r);case 13:if(k=e.sent,e.t1=k.errors.length>0,!e.t1){e.next=21;break}return this._supportsPagination=!1,e.next=19,this._snapshotFeatures(r);case 19:k=e.sent,e.t1=k.errors.length>0;case 21:if(!e.t1){e.next=23;break}throw k.errors[0];case 23:return this._queryEngine=new g.q({fieldsIndex:this._fieldsIndex,geometryType:s,hasM:!1,hasZ:!1,objectIdField:h,spatialReference:x,timeInfo:null,featureStore:new y.Z({geometryType:s,hasM:!1,hasZ:!1})}),this._queryEngine.featureStore.addMany(k.features),e.t2=I(k),e.next=28,this._queryEngine.fetchRecomputedExtents();case 28:return e.t3=e.sent.fullExtent,e.abrupt("return",{warnings:e.t2,extent:e.t3});case 30:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"applyEdits",value:function(){var e=(0,i.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new c.Z("wfs-source:editing-not-supported","applyEdits() is not supported on WFSLayer");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"queryFeatures",value:function(){var e=(0,i.Z)((0,u.Z)().mark((function e(){var t,r,n=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQuery(t,r.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryFeatureCount",value:function(){var e=(0,i.Z)((0,u.Z)().mark((function e(){var t,r,n=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQueryForCount(t,r.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryObjectIds",value:function(){var e=(0,i.Z)((0,u.Z)().mark((function e(){var t,r,n=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQueryForIds(t,r.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryExtent",value:function(){var e=(0,i.Z)((0,u.Z)().mark((function e(){var t,r,n=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQueryForExtent(t,r.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"querySnapping",value:function(){var e=(0,i.Z)((0,u.Z)().mark((function e(t){var r,n=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,this._waitSnapshotComplete();case 3:return e.abrupt("return",this._queryEngine.executeQueryForSnapping(t,r.signal));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refresh",value:function(){var e=(0,i.Z)((0,u.Z)().mark((function e(t){var r,n=this;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._customParameters=t.customParameters,this._maxRecordCount=t.maxRecordCount,this._maxTotalRecordCount=t.maxTotalRecordCount,this._maxPageCount=t.maxPageCount,null!==(r=this._snapshotTask)&&void 0!==r&&r.abort(),this._snapshotTask=(0,l.vr)((function(e){return n._snapshotFeatures({signal:e})})),this._snapshotTask.promise.then((function(e){var t;n._queryEngine.featureStore.clear(),n._queryEngine.featureStore.addMany(e.features);var r,u=(0,a.Z)(I(e));try{for(u.s();!(r=u.n()).done;){var i=r.value;f.Z.getLogger(k).warn(new d.Z("wfs-layer:refresh-warning",i.message,i.details))}}catch(s){u.e(s)}finally{u.f()}(null===(t=e.errors)||void 0===t?void 0:t.length)&&f.Z.getLogger(k).warn(new d.Z("wfs-layer:refresh-error","Refresh completed with errors",{errors:e.errors}))}),(function(){n._queryEngine.featureStore.clear()})),e.next=9,this._waitSnapshotComplete();case 9:return e.next=11,this._queryEngine.fetchRecomputedExtents();case 11:return e.t0=e.sent.fullExtent,e.abrupt("return",{extent:e.t0});case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_waitSnapshotComplete",value:function(){var e=(0,i.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._snapshotTask||this._snapshotTask.finished){e.next=9;break}return e.prev=1,e.next=4,this._snapshotTask.promise;case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:return e.abrupt("return",this._waitSnapshotComplete());case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"_snapshotFeatures",value:function(){var e=(0,i.Z)((0,u.Z)().mark((function e(t){var r,n,a,i,s,o,l,c;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null===t||void 0===t?void 0:t.signal,n=this._maxTotalRecordCount,a=this._maxPageCount,!this._supportsPagination){e.next=9;break}return e.next=6,(0,_.bx)(this._getFeatureUrl,this._featureType.typeName,{customParameters:this._customParameters,signal:r});case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=void 0;case 10:if(i=e.t0,s=[],o=[],null!=i){e.next=25;break}return e.prev=14,e.next=17,this._singleQuery(r);case 17:s=e.sent,e.next=23;break;case 20:e.prev=20,e.t1=e.catch(14),(0,p.D_)(e.t1)||o.push(e.t1);case 23:e.next=28;break;case 25:return l=Math.min(i,n),c=C(this,Math.max(1,Math.min(Math.ceil(l/this._maxRecordCount),a)),r),e.next=28,Promise.allSettled(Array.from({length:10}).map((function(){return F(c,s,o)})));case 28:return e.abrupt("return",((0,p.k_)(r),{features:s,totalRecordCount:i,maxTotalRecordCount:n,maxPageCount:a,errors:o}));case 29:case"end":return e.stop()}}),e,this,[[14,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_singleQuery",value:function(){var e=(0,i.Z)((0,u.Z)().mark((function e(t){var r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.Bm)(this._getFeatureUrl,this._featureType.typeName,this._getFeatureSpatialReference,this._getFeatureOutputFormat,{customParameters:this._customParameters,signal:t});case 2:return r=e.sent,e.abrupt("return",this._processGeoJSON(r,{signal:t}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_pageQuery",value:function(){var e=(0,i.Z)((0,u.Z)().mark((function e(t,r){var n,a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t*this._maxRecordCount,e.next=3,(0,_.Bm)(this._getFeatureUrl,this._featureType.typeName,this._getFeatureSpatialReference,this._getFeatureOutputFormat,{customParameters:this._customParameters,startIndex:n,count:this._maxRecordCount,signal:r});case 3:return a=e.sent,e.abrupt("return",this._processGeoJSON(a,{startIndex:n,signal:r}));case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_processGeoJSON",value:function(e,t){(0,b.O3)(e,this._getFeatureSpatialReference.wkid);var r=t.startIndex,n=t.signal;(0,p.k_)(n);var u=(0,b.lG)(e,{geometryType:this._geometryType,hasZ:!1,objectIdField:this._objectIdField});if(!(0,h.fS)(this._spatialReference,this._getFeatureSpatialReference)){var i,s=(0,a.Z)(u);try{for(s.s();!(i=s.n()).done;){var o=i.value;null!=o.geometry&&(o.geometry=(0,v.GH)((0,m.iV)((0,v.di)(o.geometry,this._geometryType,!1,!1),this._getFeatureSpatialReference,this._spatialReference)))}}catch(g){s.e(g)}finally{s.f()}}var l,c=null!==r&&void 0!==r?r:1,f=(0,a.Z)(u);try{for(f.s();!(l=f.n()).done;){var d=l.value,y={};(0,x.O0)(this._fieldsIndex,y,d.attributes,!0),d.attributes=y,null==y[this._objectIdField]&&(d.objectId=y[this._objectIdField]=c++)}}catch(g){f.e(g)}finally{f.f()}return u}}]),e}();function C(e,t,r){var n;return(0,u.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=0;case 1:if(!(n<t)){a.next=7;break}return a.next=4,e._pageQuery(n,r);case 4:n++,a.next=1;break;case 7:case"end":return a.stop()}}),S)}function F(e,t,r){return L.apply(this,arguments)}function L(){return(L=(0,i.Z)((0,u.Z)().mark((function e(t,r,a){var i,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.next();case 1:if(i.done){e.next=15;break}return e.prev=2,e.next=5,i.value;case 5:s=e.sent,r.push.apply(r,(0,n.Z)(s)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),(0,p.D_)(e.t0)||a.push(e.t0);case 12:i=t.next();case 13:e.next=1;break;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function I(e){var t=[];return null!=e.totalRecordCount&&(e.features.length<e.totalRecordCount&&t.push({name:"wfs-layer:maxRecordCount-too-low",message:"Could only fetch ".concat(e.features.length," of ").concat(e.totalRecordCount," in ").concat(e.maxPageCount," queries. Try increasing the value of WFSLayer.maxRecordCount."),details:{recordCount:e.features.length,totalRecordCount:e.totalRecordCount}}),e.totalRecordCount>e.maxTotalRecordCount&&t.push({name:"wfs-layer:large-dataset",message:"The number of ".concat(e.totalRecordCount," features exceeds the maximum allowed of ").concat(e.maxTotalRecordCount,"."),details:{recordCount:e.features.length,totalRecordCount:e.totalRecordCount,maxTotalRecordCount:e.maxTotalRecordCount}})),t}},68808:function(e,t,r){r.d(t,{O0:function(){return g},av:function(){return d},b:function(){return w},d1:function(){return v},og:function(){return x}});var n=r(74165),a=r(15861),u=r(37762),i=r(43144),s=r(15671),o=r(63231),l=r(92975),c=r(37270),f=(0,i.Z)((function e(){(0,s.Z)(this,e),this.code=null,this.description=null})),p=(0,i.Z)((function e(t){(0,s.Z)(this,e),this.error=new f,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=t}));function d(e){return new p(e)}var h=(0,i.Z)((function e(t){(0,s.Z)(this,e),this.globalId=null,this.success=!0,this.objectId=this.uniqueId=t}));function v(e){return new h(e)}var y,m=new Set;function g(e,t,r){var n,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var i in m.clear(),r){var s=e.get(i);if(s){var o=b(s,r[i]);if(m.add(s.name),s&&(a||s.editable)){var l=(0,c.Qc)(s,o);if(l)return d((0,c.vP)(l,s,o));t[s.name]=o}}}var f,p=(0,u.Z)(null!==(n=null===e||void 0===e?void 0:e.requiredFields)&&void 0!==n?n:[]);try{for(p.s();!(f=p.n()).done;){var h=f.value;if(!m.has(h.name))return d('missing required field "'.concat(h.name,'"'))}}catch(v){p.e(v)}finally{p.f()}return null}function b(e,t){var r=t;return(0,c.H7)(e)&&"string"==typeof t?r=parseFloat(t):(0,c.qN)(e)&&null!=t&&"string"!=typeof t?r=String(t):(0,c.y2)(e)&&"string"==typeof t&&(r=(0,o.sG)(t)),(0,c.Pz)(r)}function x(e,t){if(!e||!(0,l.JY)(t))return e;if("rings"in e||"paths"in e){if(null==y)throw new TypeError("geometry engine not loaded");return y.simplify(t,e)}return e}function _(){return Z.apply(this,arguments)}function Z(){return(Z=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=null==y,!e.t0){e.next=5;break}return e.next=4,Promise.all([r.e(99058),r.e(50309)]).then(r.bind(r,50309));case 4:y=e.sent;case 5:return e.abrupt("return",y);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){return S.apply(this,arguments)}function S(){return(S=(0,a.Z)((0,n.Z)().mark((function e(t,r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!(0,l.JY)(t)||"esriGeometryPolygon"!==r&&"esriGeometryPolyline"!==r,e.t0){e.next=4;break}return e.next=4,_();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},35594:function(e,t,r){r.d(t,{F:function(){return a},o:function(){return u}});var n=r(77981);function a(e){return{geometryType:(0,n.Ji)(e[0]),geometries:e.map((function(e){return e.toJSON()}))}}function u(e,t,r){var a=(0,n.q9)(t);return e.map((function(e){var t=a.fromJSON(e);return t.spatialReference=r,t}))}},23084:function(e,t,r){r.d(t,{LP:function(){return p},cv:function(){return f},en:function(){return c},lA:function(){return l}});var n=r(1413),a=r(42265),u=r(19545),i=r(84652),s=r(35995),o=r(66660);function l(e,t){return t?(0,n.Z)((0,n.Z)({},t),{},{query:(0,n.Z)((0,n.Z)({},null!==e&&void 0!==e?e:{}),t.query)}):{query:e}}function c(e){return"string"==typeof e?(0,s.mN)(e):(0,i.d9)(e)}function f(e,t,r){var n={};for(var a in e)if("declaredClass"!==a){var u=e[a];if(null!=u&&"function"!=typeof u)if(Array.isArray(u))n[a]=u.map((function(e){return f(e)}));else if("object"==typeof u)if(u.toJSON){var i=u.toJSON(null===r||void 0===r?void 0:r[a]);n[a]=t?i:JSON.stringify(i)}else n[a]=t?u:JSON.stringify(u);else n[a]=u}return n}function p(e,t){var r;return e?(0,o.r)(e)&&(t||a.Z.apiKey)?t||a.Z.apiKey:null===u.id||void 0===u.id||null===(r=u.id.findCredential(e))||void 0===r?void 0:r.token:null}},23037:function(e,t,r){r.d(t,{Bf:function(){return y},Bj:function(){return Z},Df:function(){return v},Py:function(){return _},Qs:function(){return M},Us:function(){return R},aL:function(){return k},iG:function(){return g},ql:function(){return x},se:function(){return m},vZ:function(){return b},zb:function(){return S}});var n,a=r(29439),u=r(54557),i=r(42265),s=r(80987),o=r(32718),l=r(92026),c=r(35995),f=r(25243),p=r(32551),d=r(68954),h=function(){return o.Z.getLogger("esri.support.basemapUtils")};function v(){return{}}function y(e){for(var t in e){var r=e[t];(0,l.SC)(r),delete e[t]}}function m(e,t){var r,n;if("string"==typeof e){var s=e in d.s,o=!s&&e.includes("/");if(!s&&!o){var l=Object.entries(d.s).filter((function(e){var t=(0,a.Z)(e,2),r=(t[0],t[1]);return i.Z.apiKey&&!r.classic||!i.Z.apiKey&&(r.classic||r.is3d)})).map((function(e){var t=(0,a.Z)(e,1)[0];return'"'.concat(t,'"')})).sort().join(", ");return h().warn("Unable to find basemap definition for: ".concat(e,". Try one of these: ").concat(l)),null}t&&(n=t[e]),n||(n=s?u.default.fromId(e):new u.default({style:{id:e}}),t&&(t[e]=n))}else n=(0,f.se)(u.default,e);return null!==(r=n)&&void 0!==r&&r.destroyed&&(h().warn("The provided basemap is already destroyed",{basemap:n}),n=null),n}function g(e){var t;return"Web Scene"===(null===(t=e.portalItem)||void 0===t?void 0:t.type)||e.referenceLayers.some((function(e){return"scene"===e.type}))}function b(e){var t,r;return!(null===e||void 0===e||null===(t=e.portalItem)||void 0===t||null===(r=t.tags)||void 0===r||!r.some((function(e){return"beta"===e.toLowerCase()})))}function x(e,t){var r,n,a,u;return(null===(r=e.basemap)||void 0===r||null===(n=r.referenceLayers)||void 0===n?void 0:n.some((function(e){return e.uid===t})))||(null===(a=e.basemap)||void 0===a||null===(u=a.baseLayers)||void 0===u?void 0:u.some((function(e){return e.uid===t})))}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=m(e);if(!r)return null;var n=r.clone();return t&&(n.baseLayers=w(n.baseLayers,t.baseLayers),n.referenceLayers=w(n.referenceLayers,t.referenceLayers)),n}function Z(e,t){var r,n;return e===t||(null!=(null===e||void 0===e||null===(r=e.portalItem)||void 0===r?void 0:r.id)&&e.portalItem.id===(null===t||void 0===t||null===(n=t.portalItem)||void 0===n?void 0:n.id)||"equal"===j(L(e),L(t),{mustMatchReferences:!0}))}function w(e,t){var r=new s.Z;return e.forEach((function(e){var n=t.find((function(t){return"scene"!==t.type&&N(T(e),T(t))}))||e;r.includes(n)?r.push(e):r.push(n)})),r}function S(e){return!(null===e||void 0===e||!e.baseLayers.concat(e.referenceLayers).some(k))}function k(e){if(F(e.url))return!0;if("vector-tile"===e.type)for(var t in e.sourceNameToSource){var r=e.sourceNameToSource[t];if(F(null===r||void 0===r?void 0:r.sourceUrl))return!0}return!1}function R(e,t){var r,n,a;if(null==t||null==e)return{spatialReference:null,updating:!1};if("not-loaded"===t.loadStatus)return t.load(),{spatialReference:null,updating:!0};if(t.spatialReference)return{spatialReference:t.spatialReference,updating:!1};if(0===t.baseLayers.length)return{spatialReference:null,updating:!1};var u=t.baseLayers.at(0);switch(u.loadStatus){case"not-loaded":u.load();case"loading":return{spatialReference:null,updating:!0};case"failed":return{spatialReference:null,updating:!1}}var i=(("supportedSpatialReferences"in u?u.supportedSpatialReferences:null)||["tileInfo"in u?null===(r=u.tileInfo)||void 0===r?void 0:r.spatialReference:u.spatialReference]).filter(Boolean),s=e.spatialReference;return s?{spatialReference:null!==(n=null!==(a=i.find((function(e){return s.equals(e)})))&&void 0!==a?a:i[0])&&void 0!==n?n:null,updating:!1}:{spatialReference:i[0],updating:!1}}var C=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function F(e){if(!e)return!1;var t=new c.R9((0,c.hF)(e));return!!t.authority&&C.test(t.authority)}function L(e){return e?!e.loaded&&e.resourceInfo?P(e.resourceInfo.data):{baseLayers:I(e.baseLayers),referenceLayers:I(e.referenceLayers)}:null}function I(e){return(s.Z.isCollection(e)?e.toArray():e).map(T)}function T(e){var t,r;return{type:e.type,effect:"effect"in e?e.effect:void 0,url:U("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl||""),minScale:"minScale"in e&&null!=e.minScale?e.minScale:0,maxScale:"maxScale"in e&&null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visible||!!e.visible,sublayers:"map-image"!==e.type&&"wms"!==e.type||null==e.sublayers||null===(t=e.sublayers)||void 0===t?void 0:t.map((function(e){return{id:e.id,visible:e.visible}})),activeLayerId:"wmts"===e.type?null===(r=e.activeLayer)||void 0===r?void 0:r.id:void 0}}function q(e){return e.isReference||"ArcGISSceneServiceLayer"===e.layerType}function P(e){var t,r;return e?{baseLayers:E((null!==(t=e.baseMapLayers)&&void 0!==t?t:[]).filter((function(e){return!q(e)}))),referenceLayers:E((null!==(r=e.baseMapLayers)&&void 0!==r?r:[]).filter((function(e){return q(e)})))}:null}function E(e){return e.map((function(e){return function(e){var t,r,n,a;switch(e.layerType){case"VectorTileLayer":a="vector-tile";break;case"ArcGISTiledMapServiceLayer":a="tile";break;case"ArcGISSceneServiceLayer":a="scene";break;default:a="unknown"}return{type:a,effect:e.effect,url:U(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:null!==(t=e.minScale)&&void 0!==t?t:0,maxScale:null!==(r=e.maxScale)&&void 0!==r?r:0,opacity:null!==(n=e.opacity)&&void 0!==n?n:1,visible:null==e.visibility||!!e.visibility,sublayers:void 0,activeLayerId:void 0}}(e)}))}function j(e,t,r){return null!=e!=(null!=t)?"not-equal":e&&t?O(e.baseLayers,t.baseLayers)?O(e.referenceLayers,t.referenceLayers)?"equal":r.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function O(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!N(e[r],t[r]))return!1;return!0}function N(e,t){if(e.type!==t.type||e.url!==t.url||e.minScale!==t.minScale||e.maxScale!==t.maxScale||e.visible!==t.visible||e.opacity!==t.opacity)return!1;if(!(0,p.yQ)(e.effect,t.effect))return!1;if(null!=e.activeLayerId||null!=t.activeLayerId)return e.activeLayerId===t.activeLayerId;if(null!=e.sublayers||null!=t.sublayers){if(null==e.sublayers||null==t.sublayers||e.sublayers.length!==t.sublayers.length)return!1;for(var r=0;r<e.sublayers.length;r++){var n=e.sublayers.at(r),a=t.sublayers.at(r);if((null===n||void 0===n?void 0:n.id)!==(null===a||void 0===a?void 0:a.id)||(null===n||void 0===n?void 0:n.visible)!==(null===a||void 0===a?void 0:a.visible))return!1}}return!0}function U(e){return e?(0,c.Fv)(e).replace(/^\s*https?:/i,"").toLowerCase():""}function M(e){if(!e)return null;var t=e.thumbnailUrl;if(t)return t;var r=function(e){if(n)return n(e);var t=null,r=L(e),a=!(null!==r&&void 0!==r&&r.baseLayers.length);for(var u in d.s){var i=j(r,P(d.s[u]),{mustMatchReferences:a});if("equal"===i){t=u;break}"base-layers-equal"===i&&(t=u)}return t}(e);return r?d.s[r].thumbnailUrl:(0,l.ei)(e.baseLayers,J)}function J(e){var t;return"portalItem"in e?null===(t=e.portalItem)||void 0===t?void 0:t.thumbnailUrl:void 0}}}]);
//# sourceMappingURL=53391.94a9126b.chunk.js.map