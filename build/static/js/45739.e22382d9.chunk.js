"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[45739],{83217:function(e,t,n){n.d(t,{x:function(){return r}});var r=Symbol("WebScene")},45739:function(e,t,n){n.r(t),n.d(t,{getTimeExtentFromLayers:function(){return h},getTimeSliderSettingsFromWebDocument:function(){return E},getTimeSliderSettingsFromWebMap:function(){return y},toLocalTimeExtent:function(){return C},toUTCTimeExtent:function(){return F}});var r=n(93433),i=n(37762),u=n(74165),a=n(15861),l=n(62044),s=n(63780),o=n(44927),c=n(84652),f=n(32718),m=n(86710),p=n(38675),d=n(83217);function v(e){return null!=e&&"object"==typeof e&&d.x in e}function b(e){return void 0!==e.timeInfo}function x(e,t){return g.apply(this,arguments)}function g(){return(g=(0,a.Z)((0,u.Z)().mark((function e(t,n){var r,i,a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null!==(r=null===(i=t.widgets)||void 0===i||null===(a=i.timeSlider)||void 0===a?void 0:a.fullTimeExtent)&&void 0!==r?r:h(t.allLayers,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){var t,n=null!==(t=e.numThumbs)&&void 0!==t?t:2,r=e.currentTimeExtent;if(r){var i=r.start,u=r.end;return null!=i&&null!=u&&i.getTime()===u.getTime()?"instant":2===n?"time-window":null==i||0===i.getTime()?"cumulative-from-start":"cumulative-from-end"}return 2===n?"time-window":"cumulative-from-start"}function Z(e){var t=e.numStops,n=e.stopInterval,r=e.stops;return r?{dates:(0,c.d9)(r)}:n?{interval:n.clone()}:{count:null!==t&&void 0!==t?t:5}}function h(e,t){return w.apply(this,arguments)}function w(){return w=(0,a.Z)((0,u.Z)().mark((function e(t,n){var o,c,f,m,p,d,v,x,g,T,Z,h,w;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return",l.Z.allTime);case 2:return e.next=4,Promise.all(t.map((function(e){return e.load({signal:n})})));case 4:if(o=t.filter(b),c=t.filter((function(e){return!b(e)&&null!=e.visibilityTimeExtent})),0!==o.length||0!==c.length){e.next=7;break}return e.abrupt("return",l.Z.allTime);case 7:f=[],m=[],p=(0,i.Z)(o);try{for(p.s();!(d=p.n()).done;)"feature"!==(null===(x=d.value)||void 0===x?void 0:x.type)&&"map-image"!==(null===x||void 0===x?void 0:x.type)||null===(v=x.timeInfo)||void 0===v||!v.hasLiveData?m.push(x):f.push(x)}catch(k){p.e(k)}finally{p.f()}if(g=function(e){return null==e||e.isAllTime},T=[].concat((0,r.Z)(m.map((function(e){var t,n,r=null===(t=e.timeInfo)||void 0===t?void 0:t.fullTimeExtent,i=e.visibilityTimeExtent;return null!==(n=null===r||void 0===r?void 0:r.intersection(i))&&void 0!==n?n:i}))),(0,r.Z)(c.map((function(e){return e.visibilityTimeExtent})))),!T.some(g)){e.next=13;break}return e.abrupt("return",l.Z.allTime);case 13:return Z=f.map(function(){var e=(0,a.Z)((0,u.Z)().mark((function e(t){var r,i,a,l,s,o;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchRecomputedExtents({signal:n});case 2:if(e.t2=i=e.sent,e.t1=null===e.t2,e.t1){e.next=6;break}e.t1=void 0===i;case 6:if(!e.t1){e.next=10;break}e.t3=void 0,e.next=11;break;case 10:e.t3=i.timeExtent;case 11:if(e.t4=r=e.t3,e.t0=null!==e.t4,!e.t0){e.next=15;break}e.t0=void 0!==r;case 15:if(!e.t0){e.next=19;break}e.t5=r,e.next=20;break;case 19:e.t5=null===(a=t.timeInfo)||void 0===a?void 0:a.fullTimeExtent;case 20:return s=e.t5,o=t.visibilityTimeExtent,e.abrupt("return",null!==(l=null===s||void 0===s?void 0:s.intersection(o))&&void 0!==l?l:o);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=16,Promise.allSettled(Z);case 16:if(!(h=e.sent.map((function(e){return"fulfilled"===e.status?e.value:null}))).some(g)){e.next=19;break}return e.abrupt("return",l.Z.allTime);case 19:if(0!==(w=[].concat((0,r.Z)(h),(0,r.Z)(T)).filter(s.pC)).length){e.next=22;break}return e.abrupt("return",l.Z.allTime);case 22:return e.abrupt("return",w.reduce((function(e,t){return e.union(t)})));case 23:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}function k(e,t){var n,r=e.currentTimeExtent;if(!r)return null;var i=r.start,u=r.end,a=null!==(n=null!==i&&void 0!==i?i:u)&&void 0!==n?n:null;switch(t){case"time-window":return new l.Z({start:i,end:u});case"cumulative-from-start":return new l.Z({start:null,end:a});case"cumulative-from-end":return new l.Z({start:a,end:null});case"instant":return new l.Z({start:a,end:a})}}function y(e,t){return S.apply(this,arguments)}function S(){return(S=(0,a.Z)((0,u.Z)().mark((function e(t,n){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,o.XV)(f.Z.getLogger("esri.support.timeUtils.getTimeSliderSettingsFromWebMap"),"`timeUtils.getTimeSliderSettingsFromWebMap` is deprecated in favor of 'timeUtils.getTimeSliderSettingsFromWebDocument'",{replacement:"timeUtils.getTimeSliderSettingsFromWebDocument",version:"4.30",see:"https://developers.arcgis.com/javascript/latest/api-reference/esri-support-timeUtils.html#getTimeSliderSettingsFromWebDocument",warnOnce:!0}),null==t||!(0,p.s)(t)){e.next=7;break}return e.next=4,E(t,n);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=null;case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t){return W.apply(this,arguments)}function W(){return(W=(0,a.Z)((0,u.Z)().mark((function e(t,n){var r,i,a,l,s,o;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,p.s)(t)||v(t)){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,t.load({signal:n});case 4:if(a=null===t||void 0===t||null===(r=t.widgets)||void 0===r?void 0:r.timeSlider){e.next=7;break}return e.abrupt("return",null);case 7:return e.next=9,x(t,n);case 9:return l=e.sent,s=a.loop,o=T(a),e.abrupt("return",{fullTimeExtent:l,loop:s,mode:o,playRate:null!==(i=a.stopDelay)&&void 0!==i?i:2e3,stops:Z(a),timeExtent:k(a,o)});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){if(!e)return e;var t=e.start,n=e.end;return new l.Z({start:null!=t?(0,m.Nm)(t,-t.getTimezoneOffset(),"minutes"):t,end:null!=n?(0,m.Nm)(n,-n.getTimezoneOffset(),"minutes"):n})}function C(e){if(!e)return e;var t=e.start,n=e.end;return new l.Z({start:null!=t?(0,m.Nm)(t,t.getTimezoneOffset(),"minutes"):t,end:null!=n?(0,m.Nm)(n,n.getTimezoneOffset(),"minutes"):n})}},38675:function(e,t,n){function r(e){return null!=e&&"object"==typeof e&&"declaredClass"in e&&"esri.WebMap"===e.declaredClass}n.d(t,{s:function(){return r}})}}]);
//# sourceMappingURL=45739.e22382d9.chunk.js.map