"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[26823],{97942:function(e,n,t){function r(e){var n,t,r=[],a=!1;return function(){for(var o=arguments.length,u=new Array(o),l=0;l<o;l++)u[l]=arguments[l];return a&&n===this&&i(u,r)||(t=e.apply(this,u),n=this,r=u,a=!0),t}}function i(e,n){if(e.length!==n.length)return!1;for(var t=0;t<e.length;++t)if(e[t]!==n[t])return!1;return!0}t.d(n,{H:function(){return r}})},36700:function(e,n,t){t.d(n,{x:function(){return s}});var r=t(1413),i=t(15671),a=t(43144),o=t(60136),u=t(29388),l=t(44179),c=t(75691),p=t(61309),s=function(e){(0,o.Z)(t,e);var n=(0,u.Z)(t);function t(e){return(0,i.Z)(this,t),n.call(this,(0,r.Z)((0,r.Z)({},e),{},{constraint:new l.Hk(e.targetPoint)}))}return(0,a.Z)(t,[{key:"hints",get:function(){return[new p.n(this.targetPoint,this.isDraped,this.domain)]}}]),t}(c.a)},26823:function(e,n,t){t.r(n),t.d(n,{FeatureCollectionSnappingSource:function(){return Z}});var r=t(93433),i=t(74165),a=t(15861),o=t(15671),u=t(43144),l=t(60136),c=t(29388),p=t(27366),s=t(7138),y=t(97942),g=t(66978),f=t(94172),v=t(49861),d=(t(93169),t(32718),t(84936),t(69912)),h=t(74509),_=t(64674),w=t(52824),b=t(59877),S=t(53580),k=t(48817),Z=function(e){(0,l.Z)(t,e);var n=(0,c.Z)(t);function t(e){var r;return(0,o.Z)(this,t),(r=n.call(this,e)).view=null,r._layerView3D=null,r._memoizedMakeGetGroundElevation=(0,y.H)(w.g),r}return(0,u.Z)(t,[{key:"availability",get:function(){return 1}},{key:"updating",get:function(){return this.layerSource.updating}},{key:"_snappingElevationAligner",get:function(){var e=this.view,n=this.layerSource.layer,t=null!=e&&"3d"===e.type;if(!t||"subtype-group"===n.type)return(0,b.p)();var r=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(r,a){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,g.Hl)(e.whenLayerView(n),a);case 2:return t.abrupt("return",t.sent.elevationAlignPointsInFeatures(r,a));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return(0,b.p)(t,{elevationInfo:n.elevationInfo,alignPointsInFeatures:r})}},{key:"_snappingElevationFilter",get:function(){var e=this.view,n=null!=e&&"3d"===e.type&&"subtype-group"!==this.layerSource.layer.type;return(0,S.c)(n)}},{key:"_symbologySnappingFetcher",get:function(){var e=this.view,n=this.layerSource.layer;return null!=e&&"3d"===e.type&&"subtype-group"!==n.type?(0,k.k)(this._symbologySnappingSupported,function(){var t=(0,a.Z)((0,i.Z)().mark((function t(r,a){var o;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.whenLayerView(n);case 2:return o=t.sent,t.abrupt("return",((0,g.k_)(a),o.queryForSymbologySnapping({candidates:r,spatialReference:e.spatialReference},a)));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()):(0,k.k)()}},{key:"_symbologySnappingSupported",get:function(){return null!=this._layerView3D&&this._layerView3D.symbologySnappingSupported}},{key:"initialize",value:function(){var e=this,n=this.view,t=this.layerSource.layer;null!=n&&"3d"===n.type&&"subtype-group"!==t.type&&(n.whenLayerView(t).then((function(n){return e._layerView3D=n})),this.addHandles([n.elevationProvider.on("elevation-change",(function(n){var r=n.context,i=t.elevationInfo;(0,h.W_)(r,i)&&e._snappingElevationAligner.notifyElevationSourceChange()})),(0,f.watch)((function(){return t.elevationInfo}),(function(){return e._snappingElevationAligner.notifyElevationSourceChange()}),f.initial),(0,f.watch)((function(){var n;return null!=e._layerView3D?null===(n=e._layerView3D.layer)||void 0===n?void 0:n.renderer:null}),(function(){return e._symbologySnappingFetcher.notifySymbologyChange()}),f.initial),(0,f.on)((function(){var n;return null===(n=e._layerView3D)||void 0===n?void 0:n.layer}),["edits","apply-edits","graphic-update"],(function(){return e._symbologySnappingFetcher.notifySymbologyChange()}))]))}},{key:"refresh",value:function(){}},{key:"fetchCandidates",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(n,t){var a,o,u,l,c,p,s,y,f,v,d,h,b;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=this.layerSource.layer,null!==(l=u.source)&&void 0!==l&&l.querySnapping){e.next=3;break}return e.abrupt("return",[]);case 3:return c=(0,_.ML)(u),p=(0,_.rh)(n,null!==(a=null===(o=this.view)||void 0===o?void 0:o.type)&&void 0!==a?a:"2d",c),e.next=7,l.querySnapping(p,{signal:t});case 7:return s=e.sent,(0,g.k_)(t),y=n.coordinateHelper.spatialReference,e.next=12,this._snappingElevationAligner.alignCandidates(s.candidates,y,t);case 12:return f=e.sent,(0,g.k_)(t),e.next=16,this._symbologySnappingFetcher.fetch(f,t);case 16:return v=e.sent,(0,g.k_)(t),d=0===v.length?f:[].concat((0,r.Z)(f),(0,r.Z)(v)),h=this._snappingElevationFilter.filter(p,d),b=this._memoizedMakeGetGroundElevation(this.view,y),e.abrupt("return",h.map((function(e){return(0,w.X)(e,b)})));case 20:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()}]),t}(s.default);(0,p._)([(0,v.Cb)({constructOnly:!0})],Z.prototype,"layerSource",void 0),(0,p._)([(0,v.Cb)({constructOnly:!0})],Z.prototype,"view",void 0),(0,p._)([(0,v.Cb)()],Z.prototype,"_snappingElevationAligner",null),(0,p._)([(0,v.Cb)()],Z.prototype,"_snappingElevationFilter",null),(0,p._)([(0,v.Cb)()],Z.prototype,"_symbologySnappingFetcher",null),(0,p._)([(0,v.Cb)()],Z.prototype,"_layerView3D",void 0),(0,p._)([(0,v.Cb)()],Z.prototype,"_symbologySnappingSupported",null),Z=(0,p._)([(0,d.j)("esri.views.interactive.snapping.featureSources.FeatureCollectionSnappingSource")],Z)},52824:function(e,n,t){t.d(n,{X:function(){return l},g:function(){return c}});var r=t(38054),i=t(97760),a=t(95905),o=t(36700);function u(e){var n=e.x,t=e.y,i=e.z;return(0,r.al)(n,t,null!==i&&void 0!==i?i:0)}function l(e,n){switch(e.type){case"edge":return e.draped?new i.k({edgeStart:u(e.start),edgeEnd:u(e.end),targetPoint:(0,r.s)(u(e.target)),objectId:e.objectId,getGroundElevation:n}):new a.L({edgeStart:u(e.start),edgeEnd:u(e.end),targetPoint:(0,r.s)(u(e.target)),objectId:e.objectId,isDraped:!1});case"vertex":return new o.x({targetPoint:(0,r.s)(u(e.target)),objectId:e.objectId,isDraped:!1})}}function c(e,n){return null!=e&&"3d"===e.type?function(t,r){return e.elevationProvider.getElevation(t,r,0,n,"ground")}:function(){return null}}},61309:function(e,n,t){t.d(n,{n:function(){return l}});var r=t(15671),i=t(43144),a=t(60136),o=t(29388),u=t(32035),l=function(e){(0,a.Z)(t,e);var n=(0,o.Z)(t);function t(e,i,a){var o;return(0,r.Z)(this,t),(o=n.call(this,i,a)).point=e,o}return(0,i.Z)(t,[{key:"equals",value:function(e){return e instanceof t&&(0,u.e)(this.point,e.point)}}]),t}(t(55054).r)}}]);
//# sourceMappingURL=26823.186b6812.chunk.js.map