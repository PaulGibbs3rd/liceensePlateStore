"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[29950],{79311:function(e,t,r){r.d(t,{_:function(){return Y}});var n=r(15671),i=r(43144),a=r(60136),o=r(29388),u=r(51995),s=r(86950),l=(r(93169),r(42537)),c=r(32035),d=r(12400),h=r(5986),f=r(74509),p=r(97411),v=r(29439),_=r(94172),m=r(17842),y=r(13611),g=r(6644),R=r(19093),S=r(99894),O=r(55946),D=r(19182),x=r(19265),w=r(70619),k=r(56529),b=r(39077),z=r(4760),E=r(58901),M=function(e){(0,a.Z)(r,e);var t=(0,o.Z)(r);function r(e){var i;return(0,n.Z)(this,r),(i=t.call(this,e))._location=(0,d.Ue)(),i._direction=(0,d.al)(1,0,0),i._width=1,i._offset=1,i._length=18,i._color=(0,S.al)(1,0,1,1),i._renderOccluded=k.yD.OccludeAndTransparent,i.applyProperties(e),i}return(0,i.Z)(r,[{key:"createObject3DResourceFactory",value:function(e){var t=this;return{view:e,createResources:function(e){return t._createObject3DResources(e)},destroyResources:Z,recreateGeometry:function(e,r){return t._recreateObject3DGeometry(e,r)},cameraChanged:function(){return t._updateGeometry()}}}},{key:"createDrapedResourceFactory",value:function(e){var t=this;return{view:e,createResources:function(){return t._createDrapedResources()},destroyResources:C,recreateGeometry:function(e){return t._recreateDrapedGeometry(e)}}}},{key:"location",get:function(){return this._location},set:function(e){(0,c.e)(this._location,e)||((0,c.c)(this._location,e),this._updateGeometry())}},{key:"direction",get:function(){return this._direction},set:function(e){(0,c.e)(this._direction,e)||((0,c.c)(this._direction,e),this._updateGeometry())}},{key:"setDirectionFromPoints",value:function(e,t){(0,c.n)(this._direction,(0,c.f)(this._direction,t,e)),this._updateGeometry()}},{key:"width",get:function(){return this._width},set:function(e){e!==this._width&&(this._width=e,this._updateMaterial())}},{key:"offset",get:function(){return this._offset},set:function(e){e!==this._offset&&(this._offset=e,this._updateGeometry())}},{key:"length",get:function(){return this._length},set:function(e){e!==this._length&&(this._length=e,this._updateGeometry())}},{key:"color",get:function(){return this._color},set:function(e){(0,R.a)(e,this._color)||((0,R.c)(this._color,e),this._updateMaterial())}},{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}},{key:"_createObject3DResources",value:function(e){var t=new E.U(this.materialParameters),r=new Array;return this._createObject3DGeometry(t,e,r),{material:t,geometries:r,forEach:function(e){e(t),r.forEach(e)}}}},{key:"_recreateObject3DGeometry",value:function(e,t){e.geometries.length=0,this._createObject3DGeometry(e.material,t,e.geometries)}},{key:"_createObject3DGeometry",value:function(e,t,r){var n=P(e),i=(0,v.Z)(n,2),a=i[0],o=i[1];t.addGeometry(a),t.addGeometry(o),r.push(a),r.push(o),this._updateVerticesObject3D(t)}},{key:"_createDrapedResources",value:function(){var e=this,t=new E.U(this.materialParameters),r=(0,_.watch)((function(){return e.view.state.contentPixelRatio}),(function(){e.drapedResources.recreateGeometry()}));return{material:t,geometries:this._createDrapedGeometry(t),pixelRatioHandle:r}}},{key:"_recreateDrapedGeometry",value:function(e){e.geometries=this._createDrapedGeometry(e.material)}},{key:"_createDrapedGeometry",value:function(e){var t=P(e);return this._updateVerticesDraped(t),t.map((function(e){return new b.z(e)}))}},{key:"_updateMaterial",value:function(){var e,t,r=this.materialParameters;null!==(e=this.object3dResources.resources)&&void 0!==e&&e.material.setParameters(r),null===(t=this.drapedResources.resources)||void 0===t||t.material.setParameters(r)}},{key:"materialParameters",get:function(){return{width:this._width,color:this._color,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}},{key:"_updateGeometry",value:function(){if(this.isDraped)this.drapedResources.recreateGeometry();else{var e=this.object3dResources.object;e&&this._updateVerticesObject3D(e)}}},{key:"_updateVerticesObject3D",value:function(e){var t=this.view.state.camera;t.projectToScreen(this.location,j),(0,c.g)(T,this.location,this.direction),t.projectToScreen(T,H),(0,y.Fv)(H,(0,y.$X)(H,H,j)),this._updateVertexAttributesObject3D(t,e,0,j,H,1),this._updateVertexAttributesObject3D(t,e,1,j,H,-1)}},{key:"_updateVertexAttributesObject3D",value:function(e,t,r,n,i,a){var o,u=t.geometries[r],s=null===(o=u.getMutableAttribute(z.T.POSITION))||void 0===o?void 0:o.data;if(s){var l=G(i,n,a,this.offset,this.width,this.length),c=l.start,d=l.end;e.unprojectFromScreen((0,m.c$)(c),T),s[0]=T[0],s[1]=T[1],s[2]=T[2],e.unprojectFromScreen((0,m.c$)(d),T),s[3]=T[0],s[4]=T[1],s[5]=T[2],t.geometryVertexAttributeUpdated(u,z.T.POSITION)}}},{key:"_updateVerticesDraped",value:function(e){var t=this.view,r=t.basemapTerrain.overlayManager,n=t.state.contentPixelRatio,i=this.location,a=this.width,o=this.length,u=this.offset,s=q;s.spatialReference=r.renderer.spatialReference,s.x=i[0],s.y=i[1];var l=this.view.overlayPixelSizeInMapUnits(s)*n,c=a*l,d=o*l,h=u*l;this._updateVertexAttributesDraped(e[0],c,d,h,-1),this._updateVertexAttributesDraped(e[1],c,d,h,1)}},{key:"_updateVertexAttributesDraped",value:function(e,t,r,n,i){var a,o=null===(a=e.getMutableAttribute(z.T.POSITION))||void 0===a?void 0:a.data;if(o){var u=this.location,s=G(this.direction,u,i,n,t,r),l=s.start,c=s.end;o[0]=l[0],o[1]=l[1],o[2]=x.gi,o[3]=c[0],o[4]=c[1],o[5]=x.gi,e.invalidateBoundingInfo()}}}]),r}(D.i);function P(e){return[(0,w.rh)(e,[(0,d.Ue)(),(0,d.Ue)()]),(0,w.rh)(e,[(0,d.Ue)(),(0,d.Ue)()])]}function G(e,t,r,n,i,a){var o=(0,y.bA)(A,(0,y.t8)(A,e[1]*r,e[0]*-r),n+i/2),u=(0,y.IH)(U,(0,y.IH)(U,(0,y.IH)(U,t,(0,y.bA)(U,e,a/2)),o),o);return{start:u,end:(0,y.IH)(I,u,(0,y.bA)(I,e,-a))}}function Z(e){e.geometries.length=0}function C(e){e.pixelRatioHandle.remove(),e.geometries=[]}var T=(0,d.Ue)(),A=(0,g.Ue)(),U=(0,g.Ue)(),I=(0,g.Ue)(),j=(0,m.s1)(),H=(0,m.s1)(),q=(0,O.T)(0,0,void 0,null),F=r(66730),V=r(98917),N=r(26279),L=r(38054),W=r(76014),B=r(80371),$=r(64674),Q=r(38561),J=r(53397),X=r(11208),Y=function(e){(0,a.Z)(r,e);var t=(0,o.Z)(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"sortUniqueHints",value:function(e){return e.sort((function(e,t){return(t instanceof J.w?t.length:0)-(e instanceof J.w?e.length:0)}))}},{key:"visualizeIntersectionPoint",value:function(e,t){var r=t.spatialReference,n=t.view,i=K(t);return(0,l.ed)(new F.L({view:n,primitive:"circle",geometry:(0,L.Ju)(e.intersectionPoint,r),elevationInfo:e.isDraped?f.tR:f.jG,size:20,outlineSize:2,color:i.intersectionPointColor,outlineColor:i.intersectionPointOutlineColor,pixelSnappingEnabled:!1,isDecoration:!0,attached:!0}))}},{key:"visualizePoint",value:function(e,t){var r=t.view,n=t.spatialReference,i=K(t),a=ee(e.point,e.domain,t);return(0,l.ed)(new F.L({view:r,primitive:"circle",geometry:(0,L.Ju)(a,n),elevationInfo:te(e),size:20,outlineSize:2,color:i.pointColor,outlineColor:i.pointOutlineColor,pixelSnappingEnabled:!1,isDecoration:!0,attached:!0}))}},{key:"visualizeLine",value:function(e,t){var r=t.view,n=t.spatialReference,i=K(t),a=ee(e.lineStart,e.domain,t),o=ee(e.lineEnd,e.domain,t);return(0,l.ed)(function(e,t,r,n,i,a,o){var u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],s=!(arguments.length>8&&void 0!==arguments[8])||arguments[8],l=!(arguments.length>9&&void 0!==arguments[9])||arguments[9],c=re(t,n,i,a,u),d=re(r,n,i,a,u),h=new p.V({view:a,extensionType:p.n.FADED,start:c,end:d,isDraped:u,color:o.lineColor,renderOccluded:u?k.yD.OccludeAndTransparent:k.yD.Opaque,renderGroup:N.eZ.SnappingHint,isDecoration:!0});switch(e){case $.ze.TARGET:h.width=W.c.lineHintWidthTarget,h.fadedExtensions={start:0,end:W.c.lineHintFadedExtensions};break;case $.ze.REFERENCE_EXTENSION:h.width=W.c.lineHintWidthReference,h.fadedExtensions={start:0,end:0};break;case $.ze.REFERENCE:h.width=W.c.lineHintWidthReference,h.fadedExtensions={start:s?W.c.lineHintFadedExtensions:0,end:l?W.c.lineHintFadedExtensions:0}}return h.attached=!0,h}(e.type,a,o,n,te(e),r,i,e.isDraped,e.fadeLeft,e.fadeRight))}},{key:"visualizeParallelSign",value:function(e,t){var r=t.view,n=t.spatialReference,i=K(t),a=e.isDraped,o=te(e),u=ee(e.lineStart,e.domain,t),s=ee(e.lineEnd,e.domain,t),d=re(u,n,o,r,a),h=re(s,n,o,r,a),f=(0,c.o)(h,d,h,.5),p=new M({view:r,attached:!1,offset:W.c.parallelLineHintOffset,length:W.c.parallelLineHintLength,width:W.c.parallelLineHintWidth,color:i.parallelSignColor,location:f,renderOccluded:a?k.yD.OccludeAndTransparent:k.yD.Opaque,isDraped:a,renderGroup:N.eZ.SnappingHint,isDecoration:!0});return p.setDirectionFromPoints(d,f),p.attached=!0,(0,l.ed)(p)}},{key:"visualizeRightAngleQuad",value:function(e,t){var r=t.view,n=t.spatialReference,i=K(t),a=te(e),o=e.isDraped,u=ee(e.previousVertex,e.domain,t),s=ee(e.centerVertex,e.domain,t),c=ee(e.nextVertex,e.domain,t),d=re(u,n,a,r,o),h=re(s,n,a,r,o),f=re(c,n,a,r,o);return(0,l.ed)(new V.R({view:r,attached:!0,color:o?i.rightAngleColorDraped:i.rightAngleColor,renderOccluded:o?k.yD.OccludeAndTransparent:k.yD.Transparent,outlineRenderOccluded:o?k.yD.OccludeAndTransparent:k.yD.Opaque,outlineColor:i.rightAngleOutlineColor,outlineSize:W.c.rightAngleHintOutlineSize,size:W.c.rightAngleHintSize,isDraped:o,geometry:{previous:d,center:h,next:f},renderGroup:N.eZ.SnappingHint,isDecoration:!0}))}}]),r}(Q.a);function K(e){var t=e.view.effectiveTheme,r=u.Z.toUnitRGBA(t.accentColor),n=[0,0,0,0];return{intersectionPointColor:n,intersectionPointOutlineColor:r,pointColor:n,pointOutlineColor:r,lineColor:r,lineOutlineColor:void 0,parallelSignColor:r,rightAngleColor:r,rightAngleColorDraped:u.Z.toUnitRGBA((0,s.G)(t.accentColor,.5)),rightAngleOutlineColor:r}}function ee(e,t,r){var n=r.selfSnappingZ,i=r.view,a=r.spatialReference;return t&B.B.SELF&&(0,L.hx)(e)&&null!=n?(0,L.Vx)(e,n,i,a):e}function te(e){return e.isDraped?f.tR:f.jG}function re(e,t,r,n,i){var a=(0,d.Ue)();if(i){var o=n.basemapTerrain.overlayManager.renderer.spatialReference;(0,h.S)(e,t,a,o)}else(0,X.RS)(e,t,r,n,a);return a}},51328:function(e,t,r){r.d(t,{B2:function(){return z},G:function(){return w},J4:function(){return M},JA:function(){return k},Sp:function(){return b},_N:function(){return S},bB:function(){return O},cx:function(){return n},gv:function(){return P},zP:function(){return E}});var n,i,a=r(1413),o=(r(59486),r(17842)),u=r(32035),s=r(12400),l=r(79803),c=r(55652),d=r(40885),h=r(40927),f=r(51378),p=r(74509),v=r(81703),_=r(88153),m=r(54463),y=r(76783),g=r(74229),R=r(848);function S(e,t){return D(e,(function(){return t}))}function O(e){return D(e,(function(e){return e.plane}))}function D(e,t){var r=(0,s.Ue)(),n=(0,s.Ue)(),i=!1;return function(u){var s=t(u);if("start"===u.action){var l=(0,o.md)(u.screenStart,(0,o.c$)(f.qW.get())),d=(0,v.u4)(e.state.camera,l,C);null!=d&&(i=(0,c.BR)(s,d,r))}if(!i)return null;var h=(0,o.md)(u.screenEnd,(0,o.c$)(f.qW.get())),p=(0,v.u4)(e.state.camera,h,C);return null==p?null:(0,c.BR)(s,p,n)?(0,a.Z)((0,a.Z)({},u),{},{renderStart:r,renderEnd:n,plane:s,ray:p}):null}}function x(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=null;return function(s){if("start"===s.action&&(null!=(u=e.sceneIntersectionHelper.intersectElevationFromScreen((0,o.s1)(s.screenStart.x,s.screenStart.y),t,r,i))&&null!=n&&!(0,l.projectPoint)(u,u,n)))return null;if(null==u)return null;var c=e.sceneIntersectionHelper.intersectElevationFromScreen((0,o.s1)(s.screenEnd.x,s.screenEnd.y),t,r,i);return null==c||null!=n&&!(0,l.projectPoint)(c,c,n)?null:(0,a.Z)((0,a.Z)({},s),{},{mapStart:u,mapEnd:c})}}function w(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return x(e,r,(0,p.Ou)(t,e,r),n,i)}function k(e,t,r,n){var i=r.toMap(e.screenStart);return null!=i?w(t,i,r.elevationInfo,n):null}function b(e,t,r){var n=null,i=new g.hM;return i.next(S(e,function(e,t){var r=G,n=Z,i=(0,c.Ue)();e.renderCoordsHelper.worldUpAtPosition(t,r);var a=(0,u.b)((0,c.st)(i),r,(0,u.f)(n,t,e.state.camera.eye));return(0,u.b)(a,a,r),(0,c.Yq)(t,a,i)}(e,t))).next(function(e,t){var r=(0,s.Ue)(),n=(0,u.l)(t);e.renderCoordsHelper.worldUpAtPosition(t,r);var i=(0,s.Ue)(),a=(0,s.Ue)(),o=function(i){return(0,u.f)(i,i,t),(0,h.nF)(r,i,i),"global"===e.viewingMode&&(0,u.l)(i)*Math.sign((0,u.m)(r,i))<.001-n&&(0,u.f)(i,(0,u.j)(i,r,.001),t),(0,u.g)(i,i,t),i};return function(e){return e.renderStart=o((0,u.c)(i,e.renderStart)),e.renderEnd=o((0,u.c)(a,e.renderEnd)),e}}(e,t)).next(E(e,r)).next((function(e){e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,n=e})),function(e){return n=null,i.execute(e),n}}function z(e,t){var r=function(r){var n=(0,o.md)(r,(0,o.c$)(f.qW.get())),i=(0,v.u4)(e.state.camera,n,C);return null==i?null:(0,d._w)(t,i,G,Z)[1]};return function(e){var t=r(e.screenStart);if(null==t)return null;var n=r(e.screenEnd);return null==n?null:(0,a.Z)((0,a.Z)({},e),{},{renderStart:t,renderEnd:n})}}function E(e,t){var r=e.renderCoordsHelper;return function(e){var n=r.fromRenderCoords(e.renderStart,new R.Z({spatialReference:t})),i=r.fromRenderCoords(e.renderEnd,new R.Z({spatialReference:t}));return null!=n&&null!=i?(0,a.Z)((0,a.Z)({},e),{},{mapStart:n,mapEnd:i}):null}}function M(e){var t=null;return function(r){switch(r.action){case"start":t=e.disableDisplay();break;case"end":case"cancel":null!=t&&(t.remove(),t=null)}return r}}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=(0,_.Z8)(e.state.viewingMode);r.options.selectionMode=!0,r.options.store=m.eC.MIN,r.options.hud=!1;var i,u=(0,o.s1)(),l={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},c=(0,s.Ue)(),d=null!==t&&void 0!==t?t:e.spatialReference,h=function(t){e.map.ground&&e.map.ground.opacity<1?l.exclude.add(y.xX):l.exclude.delete(y.xX),e.sceneIntersectionHelper.intersectIntersectorScreen((0,o.md)(t,u),r,l);var i,a=r.results.min;if(a.getIntersectionPoint(c))i=a.intersector===m.q7.TERRAIN?n.GROUND:n.OTHER;else{if(!r.results.ground.getIntersectionPoint(c))return null;i=n.GROUND}return{location:e.renderCoordsHelper.fromRenderCoords(c,new R.Z({spatialReference:d})),surfaceType:i}};return function(e){if("start"===e.action){var t=h(e.screenStart);i=null!=t?t.location:null}if(null==i)return null;var r=h(e.screenEnd);return null!=(null===r||void 0===r?void 0:r.location)?(0,a.Z)((0,a.Z)({},e),{},{mapStart:i,mapEnd:r.location,surfaceType:r.surfaceType}):null}}(i=n||(n={}))[i.GROUND=0]="GROUND",i[i.OTHER=1]="OTHER";var G=(0,s.Ue)(),Z=(0,s.Ue)(),C=(0,d.Ue)()},66730:function(e,t,r){r.d(t,{L:function(){return O}});var n=r(15671),i=r(43144),a=r(60136),o=r(29388),u=r(16889),s=r(32035),l=r(12400),c=r(19093),d=r(86361),h=r(5986),f=r(41414),p=r(51378),v=r(52168),_=r(69691),m=r(78935),y=r(67794),g=r(70619),R=r(4760),S=r(21400),O=function(e){(0,a.Z)(r,e);var t=(0,o.Z)(r);function r(e){var i;return(0,n.Z)(this,r),(i=t.call(this,e))._material=null,i._texture=null,i._geometry=null,i._size=3,i._color=(0,d.al)(1,0,1,1),i._pixelSnappingEnabled=!0,i._primitive="square",i._outlineSize=1,i._outlineColor=(0,d.al)(1,1,1,1),i._elevationInfo=null,i.applyProperties(e),i}return(0,i.Z)(r,[{key:"geometry",get:function(){return this._geometry},set:function(e){this._geometry=e,this.recreateGeometry()}},{key:"size",get:function(){return this._size},set:function(e){if(e!==this._size){var t=this._preferredTextureSize;this._size=e,t<this._preferredTextureSize?this.recreate():this._updateSizeAttribute()}}},{key:"color",get:function(){return this._color},set:function(e){(0,c.a)(e,this._color)||((0,c.c)(this._color,e),this._updateMaterial())}},{key:"pixelSnappingEnabled",get:function(){return this._pixelSnappingEnabled},set:function(e){this._pixelSnappingEnabled!==e&&(this._pixelSnappingEnabled=e,this._updateMaterial())}},{key:"primitive",get:function(){return this._primitive},set:function(e){this._primitive!==e&&(this._primitive=e,this.recreate())}},{key:"outlineSize",get:function(){return this._outlineSize},set:function(e){e!==this._outlineSize&&(this._outlineSize=e,this._updateMaterial())}},{key:"outlineColor",get:function(){return this._outlineColor},set:function(e){(0,c.a)(e,this._outlineColor)||((0,c.c)(this._outlineColor,e),this._updateMaterial())}},{key:"elevationInfo",get:function(){return this._elevationInfo},set:function(e){this._elevationInfo=e,this.recreateGeometry()}},{key:"_updateMaterial",value:function(){this._material&&this._material.setParameters(this._materialParameters)}},{key:"_updateSizeAttribute",value:function(){var e=this.object;if(null!=e){var t=e.geometries[0];if(null!=t){var r=t.getMutableAttribute(R.T.SIZE).data,n=this._geometrySize;r[0]=n,r[1]=n,e.geometryVertexAttributeUpdated(e.geometries[0],R.T.SIZE)}}}},{key:"_materialParameters",get:function(){var e;return{color:this._color,textureIsSignedDistanceField:!0,sampleSignedDistanceFieldTexelCenter:(0,y.Rg)(this._primitive),distanceFieldBoundingBox:x,occlusionTest:!1,outlineColor:this._outlineColor,outlineSize:this._outlineSize,textureId:null===(e=this._texture)||void 0===e?void 0:e.id,polygonOffset:!1,shaderPolygonOffset:0,drawInSecondSlot:!0,depthEnabled:!1,pixelSnappingEnabled:this.pixelSnappingEnabled,isDecoration:this.isDecoration}}},{key:"_geometrySize",get:function(){return this._size/D}},{key:"createExternalResources",value:function(){this._texture=(0,y.cU)(this._primitive,this._preferredTextureSize),this._material=new S.A(this._materialParameters);var e=this.view._stage;this._texture.load(e.renderView.renderingContext),e.add(this._texture)}},{key:"destroyExternalResources",value:function(){this._texture&&(this.view._stage.remove(this._texture),this._texture.dispose(),this._texture=null),this._material=null}},{key:"createGeometries",value:function(e){var t=this._createRenderGeometry();null!=t&&e.addGeometry(t)}},{key:"forEachExternalMaterial",value:function(e){this._material&&e(this._material)}},{key:"_preferredTextureSize",get:function(){return(0,u.uZ)(2*this._geometrySize,16,128)}},{key:"calculateMapBounds",value:function(e){var t,r=null===(t=this.object)||void 0===t?void 0:t.geometries[0];if(!r)return!1;var n=r.attributes.get(R.T.POSITION).data;return(0,h.S)(n,this.view.renderCoordsHelper.spatialReference,w,this.view.spatialReference),(0,f.G1)(e,w),!0}},{key:"_createRenderGeometry",value:function(){var e=this.geometry,t=this._material;if(null==e||null==t)return null;var r=this.view,n=r.renderCoordsHelper,i=r.elevationProvider,a=(0,_.w7)(e,i,m.o.fromElevationInfo(this.elevationInfo),n),o=(0,s.s)(p.WM.get(),e.x,e.y,a),u=p.WM.get();(0,h.S)(o,e.spatialReference,u,n.spatialReference);var l=this._geometrySize;return(0,g.dV)(t,null,u,null,[l,l],[0,0,0,1])}}]),r}(v._),D=y.hy,x=[D/2,D/2,1-D/2,1-D/2],w=(0,l.Ue)()},98917:function(e,t,r){r.d(t,{R:function(){return z}});var n=r(93433),i=r(37762),a=r(15671),o=r(43144),u=r(60136),s=r(29388),l=r(94172),c=r(29134),d=r(7025),h=r(32035),f=r(12400),p=r(19093),v=r(86361),_=r(51378),m=r(55946),y=r(19182),g=r(19265),R=r(91526),S=r(40779),O=r(70619),D=r(56529),x=r(39077),w=r(4760),k=r(66832),b=r(58901),z=function(e){(0,u.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,a.Z)(this,r),(n=t.call(this,e))._maxSize=0,n._position=(0,f.Ue)(),n._up=(0,f.Ue)(),n._right=(0,f.Ue)(),n._renderOccluded=D.yD.OccludeAndTransparent,n._color=(0,v.al)(1,0,0,1),n._outlineColor=(0,v.al)(0,0,0,1),n._outlineSize=0,n._size=32,n._outlineRenderOccluded=D.yD.Opaque,n.applyProperties(e),n}return(0,o.Z)(r,[{key:"createObject3DResourceFactory",value:function(e){var t=this;return{view:e,createResources:function(e){return t._createObject3DResources(e)},destroyResources:function(){},cameraChanged:function(){return t._updateTransformObject3D()}}}},{key:"createDrapedResourceFactory",value:function(e){var t=this;return{view:e,createResources:function(){return t._createDrapedResources()},destroyResources:E}}},{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateQuadMaterial())}},{key:"color",get:function(){return this._color},set:function(e){(0,p.c)(this._color,e),this._updateQuadMaterial()}},{key:"outlineColor",get:function(){return this._outlineColor},set:function(e){(0,p.c)(this._outlineColor,e),this._updateOutlineMaterial()}},{key:"outlineSize",get:function(){return this._outlineSize},set:function(e){var t=0===this._outlineSize!=(0===e);this._outlineSize=e,t?this.recreateGeometry():this._updateOutlineMaterial()}},{key:"size",get:function(){return this._size},set:function(e){e!==this._size&&(this._size=e,this._updateTransform())}},{key:"outlineRenderOccluded",get:function(){return this._outlineRenderOccluded},set:function(e){this._outlineRenderOccluded=e,this._updateOutlineMaterial()}},{key:"geometry",set:function(e){var t=e.previous,r=e.center,n=e.next;this._maxSize=Math.min((0,h.p)(r,t),(0,h.p)(r,n))/3,(0,h.n)(this._up,(0,h.f)(this._up,t,r)),(0,h.n)(this._right,(0,h.f)(this._right,n,r)),(0,h.c)(this._position,r),this.recreateGeometry()}},{key:"_createObject3DResources",value:function(e){var t=new k.E(this._quadMaterialParameters),r=0===this._outlineSize?void 0:new b.U(this._outlineMaterialParameters);return this._createObject3DGeometries(e,t,r),{quadMaterial:t,outlineMaterial:r,forEach:function(e){e(t),r&&e(r)}}}},{key:"_createObject3DGeometries",value:function(e,t,r){if(!(0,h.e)(this._up,f.AG)||!(0,h.e)(this._right,f.AG)){var n,a=this._createGeometries(t,r),o=(0,i.Z)(a);try{for(o.s();!(n=o.n()).done;){var u=n.value;e.addGeometry(u)}}catch(s){o.e(s)}finally{o.f()}this._updateTransformObject3D(e)}}},{key:"_createDrapedResources",value:function(){var e=this,t=new k.E(this._quadMaterialParameters),r=0===this._outlineSize?void 0:new b.U(this._outlineMaterialParameters),n=this._createGeometries(t,r).map((function(e){return new x.z(e)}));return this._setTransformDraped(n),{quadMaterial:t,outlineMaterial:r,geometries:n,pixelRatioHandle:(0,l.watch)((function(){return e.view.state.contentPixelRatio}),(function(){e.drapedResources.recreateGeometry()}))}}},{key:"_createGeometries",value:function(e,t){var r=this._getVertices(),i=r.up,a=r.right,o=r.corner,u=function(e,t,r,i){return new S.Z(i,[[w.T.POSITION,new R.a([0,0,0].concat((0,n.Z)(t),(0,n.Z)(e),(0,n.Z)(r)),[0,1,2,1,2,3],3,!0)]])}(i,a,o,e);return t?[u,(0,O.rh)(t,[i,o,a])]:[u]}},{key:"_getVertices",value:function(){var e=this._up,t=this._right,r=(0,h.g)(_.WM.get(),e,t);return this.isDraped&&(e=(0,h.c)(_.WM.get(),e),t=(0,h.c)(_.WM.get(),t),e[2]=0,t[2]=0,r[2]=0),{up:e,right:t,corner:r}}},{key:"_updateTransform",value:function(){this.isDraped?this.drapedResources.recreateGeometry():this._updateTransformObject3D()}},{key:"_updateTransformObject3D",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.object3dResources.object;if(e){var t=this.view.state.camera,r=this._size*t.computeScreenPixelSizeAt(this._position),n=Math.min(this._maxSize,r);(0,c.vc)(M,this._position),(0,c.bA)(M,M,[n,n,n]),e.transformation=M}}},{key:"_setTransformDraped",value:function(e){if(0!==e.length){var t=this.view,r=t.basemapTerrain.overlayManager,n=t.state.contentPixelRatio,a=this._position,o=this._size,u=(0,h.c)(_.WM.get(),a);u[2]=g.gi;var s=P;s.spatialReference=r.renderer.spatialReference,s.x=u[0],s.y=u[1];var l=o*(this.view.overlayPixelSizeInMapUnits(s)*n),d=Math.min(this._maxSize,l);(0,c.vc)(M,u),(0,c.bA)(M,M,[d,d,1]);var f,p=(0,i.Z)(e);try{for(p.s();!(f=p.n()).done;){f.value.transformation=M}}catch(v){p.e(v)}finally{p.f()}}}},{key:"_quadMaterialParameters",get:function(){return{color:this._color,forceTransparentMode:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}},{key:"_updateQuadMaterial",value:function(){var e,t;null!==(e=this.object3dResources.resources)&&void 0!==e&&e.quadMaterial.setParameters(this._quadMaterialParameters),null===(t=this.drapedResources.resources)||void 0===t||t.quadMaterial.setParameters(this._quadMaterialParameters)}},{key:"_outlineMaterialParameters",get:function(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded,isDecoration:this.isDecoration}}},{key:"_updateOutlineMaterial",value:function(){var e,t,r,n;null!==(e=this.object3dResources.resources)&&void 0!==e&&null!==(t=e.outlineMaterial)&&void 0!==t&&t.setParameters(this._outlineMaterialParameters),null===(r=this.drapedResources.resources)||void 0===r||null===(n=r.outlineMaterial)||void 0===n||n.setParameters(this._outlineMaterialParameters)}}]),r}(y.i);function E(e){e.pixelRatioHandle.remove(),e.geometries=[]}var M=(0,d.Ue)(),P=(0,m.T)(0,0,void 0,null)},38561:function(e,t,r){r.d(t,{a:function(){return h}});var n=r(37762),i=r(15671),a=r(43144),o=r(42537),u=r(90609),s=r(53397),l=r(5916),c=r(61309),d=r(41216),h=function(){function e(){(0,i.Z)(this,e)}return(0,a.Z)(e,[{key:"draw",value:function(e,t){var r,i=function(e){var t,r=[],i=(0,n.Z)(e);try{for(i.s();!(t=i.n()).done;){var a,o=t.value,u=!0,s=(0,n.Z)(r);try{for(s.s();!(a=s.n()).done;){var l=a.value;if(o.equals(l)){u=!1;break}}}catch(c){s.e(c)}finally{s.f()}u&&r.push(o)}}catch(c){i.e(c)}finally{i.f()}return r}(e),a=this.sortUniqueHints(i),h=[],f=(0,n.Z)(a);try{for(f.s();!(r=f.n()).done;){var p=r.value;p instanceof u.w&&h.push(this.visualizeIntersectionPoint(p,t)),p instanceof s.w&&h.push(this.visualizeLine(p,t)),p instanceof l.L&&h.push(this.visualizeParallelSign(p,t)),p instanceof d.y&&h.push(this.visualizeRightAngleQuad(p,t)),p instanceof c.n&&h.push(this.visualizePoint(p,t))}}catch(v){f.e(v)}finally{f.f()}return(0,o.AL)(h)}},{key:"sortUniqueHints",value:function(e){return e}}]),e}()},61309:function(e,t,r){r.d(t,{n:function(){return s}});var n=r(15671),i=r(43144),a=r(60136),o=r(29388),u=r(32035),s=function(e){(0,a.Z)(r,e);var t=(0,o.Z)(r);function r(e,i,a){var o;return(0,n.Z)(this,r),(o=t.call(this,i,a)).point=e,o}return(0,i.Z)(r,[{key:"equals",value:function(e){return e instanceof r&&(0,u.e)(this.point,e.point)}}]),r}(r(55054).r)}}]);
//# sourceMappingURL=29950.d8203225.chunk.js.map