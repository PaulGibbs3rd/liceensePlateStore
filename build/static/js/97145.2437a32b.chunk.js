"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[97145,68421],{18442:function(e,t,i){i.d(t,{Z:function(){return r}});var n=i(15671),o=i(43144),l=i(39052),a=i(56885),r=function(e,t){function i(e){(0,n.Z)(this,i),this._observable=new a.s,this._map=new Map(e)}return(0,o.Z)(i,[{key:"size",get:function(){return(0,l.it)(this._observable),this._map.size}},{key:"clear",value:function(){this._map.size>0&&(this._map.clear(),this._observable.notify())}},{key:"delete",value:function(e){var t=this._map.delete(e);return t&&this._observable.notify(),t}},{key:"entries",value:function(){return(0,l.it)(this._observable),this._map.entries()}},{key:"forEach",value:function(e,t){var i=this;(0,l.it)(this._observable),this._map.forEach((function(n,o){return e.call(t,n,o,i)}),t)}},{key:"get",value:function(e){return(0,l.it)(this._observable),this._map.get(e)}},{key:"has",value:function(e){return(0,l.it)(this._observable),this._map.has(e)}},{key:"keys",value:function(){return(0,l.it)(this._observable),this._map.keys()}},{key:"set",value:function(e,t){return this._map.set(e,t),this._observable.notify(),this}},{key:"values",value:function(){return(0,l.it)(this._observable),this._map.values()}},{key:e,value:function(){return(0,l.it)(this._observable),this._map[Symbol.iterator]()}},{key:t,get:function(){return this._map[Symbol.toStringTag]}}]),i}(Symbol.iterator,Symbol.toStringTag)},22751:function(e,t,i){i.d(t,{x:function(){return a}});var n=i(42537),o=i(94172),l=new WeakMap;function a(e){return!e.destroyed&&(l.has(e)||e.addHandles([(0,o.watch)((function(){var t=e.parent;return!(!t||!("type"in t))&&("catalog-dynamic-group"===t.type||a(t))}),(function(t){return l.set(e,t)}),o.syncAndInitial),(0,n.kB)((function(){return l.delete(e)}))]),l.get(e))}},97145:function(e,t,i){i.r(t),i.d(t,{default:function(){return V}});var n=i(93433),o=i(4942),l=i(15671),a=i(43144),r=i(60136),s=i(29388),c=i(27366),u=i(80987),d=i(79056),v=i(18442),m=i(49861),p=(i(93169),i(32718),i(84936),i(69912)),y=i(22751),f=i(91953),h=i(33565),_=i(91505),b=i(94172),g=i(89500),I=i(9309),k="layer-list-mode",w=u.Z.ofType(g.Z),L=function(e){(0,r.Z)(i,e);var t=(0,s.Z)(i);function i(e){var n;return(0,l.Z)(this,i),(n=t.call(this,e)).catalogItems=new w,n.checkPublishStatusEnabled=!1,n.catalogLayer=null,n.listItemCreatedFunction=null,n.listModeDisabled=!1,n.view=null,n}return(0,a.Z)(i,[{key:"initialize",value:function(){var e=this;this.addHandles([(0,b.watch)((function(){var t,i;return[null===(t=e.catalogLayer)||void 0===t?void 0:t.loaded,null===(i=e.view)||void 0===i?void 0:i.ready]}),(function(){return e._compileList()}),b.initial),(0,b.on)((function(){var t;return null===(t=e.catalogLayer)||void 0===t?void 0:t.dynamicGroupLayer.layers}),"change",(function(){return e._compileList()})),(0,b.watch)((function(){return[e.listItemCreatedFunction,e.checkPublishStatusEnabled,e.listModeDisabled]}),(function(){return e._recompileList()}))])}},{key:"destroy",value:function(){this.view=null,this.catalogItems.removeAll()}},{key:"state",get:function(){var e=this.view,t=this.catalogLayer;return null!==e&&void 0!==e&&e.ready&&null!==t&&void 0!==t&&t.loaded?"ready":e&&t?"loading":"disabled"}},{key:"totalItems",get:function(){return this.catalogItems.flatten((function(e){return e.children})).length}},{key:"triggerAction",value:function(e,t){e&&!e.disabled&&this.emit("trigger-action",{action:e,item:t})}},{key:"_createListItem",value:function(e){var t=this.view,i=this.listItemCreatedFunction,n=this.checkPublishStatusEnabled,o=this.listModeDisabled;return new g.Z({checkPublishStatusEnabled:n,listModeDisabled:o,layer:e,listItemCreatedFunction:i,view:t})}},{key:"_removeAllItems",value:function(){this.catalogItems.removeAll()}},{key:"_getViewableLayers",value:function(e){return e?this.listModeDisabled?e:e.filter((function(e){return"hide"!==(0,I.aV)(e)})):void 0}},{key:"_watchLayersListMode",value:function(e){var t=this;this.removeHandles(k),e&&!this.listModeDisabled&&this.addHandles((0,b.watch)((function(){return e.filter((function(e){return"listMode"in e})).map((function(e){return e.listMode})).toArray()}),(function(){return t._compileList()})),k)}},{key:"_compileList",value:function(){var e=this.catalogLayer;if(null!==e&&void 0!==e&&e.loaded){var t=null===e||void 0===e?void 0:e.dynamicGroupLayer.layers;this._watchLayersListMode(t);var i=this._getViewableLayers(t);null!==i&&void 0!==i&&i.length?(this._createNewItems(i),this._removeItems(i),this._sortItems(i)):this._removeAllItems()}}},{key:"_createNewItems",value:function(e){var t=this,i=this.catalogItems;e.forEach((function(e){i.some((function(t){return t.layer===e}))||i.add(t._createListItem(e))}))}},{key:"_removeItems",value:function(e){var t=this.catalogItems,i=[];t.forEach((function(t){t&&(null===e||void 0===e?void 0:e.includes(t.layer))||i.push(t)})),t.removeMany(i)}},{key:"_sortItems",value:function(e){this.catalogItems.sort((function(t,i){var n=e.indexOf(t.layer),o=e.indexOf(i.layer);return n>o?-1:n<o?1:0}))}},{key:"_recompileList",value:function(){this._removeAllItems(),this._compileList()}}]),i}(_.Z.EventedAccessor);(0,c._)([(0,m.Cb)({type:w})],L.prototype,"catalogItems",void 0),(0,c._)([(0,m.Cb)()],L.prototype,"checkPublishStatusEnabled",void 0),(0,c._)([(0,m.Cb)()],L.prototype,"catalogLayer",void 0),(0,c._)([(0,m.Cb)()],L.prototype,"listItemCreatedFunction",void 0),(0,c._)([(0,m.Cb)({nonNullable:!0})],L.prototype,"listModeDisabled",void 0),(0,c._)([(0,m.Cb)({readOnly:!0})],L.prototype,"state",null),(0,c._)([(0,m.Cb)()],L.prototype,"totalItems",null),(0,c._)([(0,m.Cb)()],L.prototype,"view",void 0);var C=L=(0,c._)([(0,p.j)("esri.widgets.CatalogLayerList.CatalogLayerListViewModel")],L),A=function(e){(0,r.Z)(i,e);var t=(0,s.Z)(i);function i(){var e;return(0,l.Z)(this,i),(e=t.apply(this,arguments)).closeButton=!1,e.collapseButton=!1,e.errors=!1,e.filter=!1,e.flow=!0,e.heading=!1,e.statusIndicators=!0,e.temporaryLayerIndicators=!1,e}return(0,a.Z)(i)}(i(7138).default);(0,c._)([(0,m.Cb)({type:Boolean,nonNullable:!0})],A.prototype,"closeButton",void 0),(0,c._)([(0,m.Cb)({type:Boolean,nonNullable:!0})],A.prototype,"collapseButton",void 0),(0,c._)([(0,m.Cb)({type:Boolean,nonNullable:!0})],A.prototype,"errors",void 0),(0,c._)([(0,m.Cb)({type:Boolean,nonNullable:!0})],A.prototype,"filter",void 0),(0,c._)([(0,m.Cb)({type:Boolean,nonNullable:!0})],A.prototype,"flow",void 0),(0,c._)([(0,m.Cb)({type:Boolean,nonNullable:!0})],A.prototype,"heading",void 0),(0,c._)([(0,m.Cb)({type:Boolean,nonNullable:!0})],A.prototype,"statusIndicators",void 0),(0,c._)([(0,m.Cb)({type:Boolean,nonNullable:!0})],A.prototype,"temporaryLayerIndicators",void 0);var M=A=(0,c._)([(0,p.j)("esri.widgets.CatalogLayerList.CatalogLayerListVisibleElements")],A),F="esri-catalog-layer-list",T="".concat(F,"__item"),P={base:F,actionMenu:"".concat(F,"__action-menu"),actionGroup:"".concat(F,"__action-group"),filterNoResults:"".concat(F,"__filter-no-results"),item:T,itemActive:"".concat(T,"--active"),itemContent:"".concat(T,"-content"),itemContentBottom:"".concat(T,"-content-bottom"),itemMessage:"".concat(T,"-message"),itemInvisible:"".concat(T,"--invisible"),itemActionIcon:"".concat(T,"-action-icon"),itemActionImage:"".concat(T,"-action-image"),itemTemporaryIcon:"".concat(T,"-temporary-icon"),itemTableIcon:"".concat(T,"-table-icon"),statusIndicator:"".concat(F,"__status-indicator"),publishing:"".concat(F,"__publishing"),updating:"".concat(F,"__updating"),connectionStatus:"".concat(F,"__connection-status"),connectionStatusConnected:"".concat(F,"__connection-status--connected"),visibleToggle:"".concat(F,"__visible-toggle"),visibleIcon:"".concat(F,"__visible-icon")},E=i(8905),Z=i(7021),S=(i(80975),i(80532)),x=i(28907),N=i(67005),R=u.Z.ofType(g.Z),B=function(e){(0,r.Z)(c,e);var t=(0,s.Z)(c);function c(e,i){var n;return(0,l.Z)(this,c),(n=t.call(this,e,i))._activeItem=null,n._tooltipReferenceMap=new v.Z,n._focusRootFlowItem=!1,n._focusPanelFlowItem=!1,n._rootGroupUid="operational-".concat(n.uid),n.collapsed=!1,n.filterPlaceholder="",n.filterText="",n.headingLevel=2,n.messages=null,n.messagesLayerList=null,n.messagesCommon=null,n.minFilterItems=I.Kp,n.selectedItems=new R,n.selectionMode="none",n.viewModel=new C,n.visibilityAppearance="default",n.visibleElements=new M,n._clearActiveItem=function(){n._activeItem=null},n._setActiveItem=function(e){if("default"===n.visibilityAppearance){var t=Array.from(e.composedPath()).find((function(e){var t;return null===(t=e.classList)||void 0===t?void 0:t.contains(P.item)}));n._activeItem=(0,I.rV)(t)}},n}return(0,a.Z)(c,[{key:"loadDependencies",value:function(){return(0,E.h)({action:function(){return Promise.all([i.e(92358),i.e(46895),i.e(65138),i.e(91741)]).then(i.bind(i,6814))},"action-group":function(){return Promise.all([i.e(92358),i.e(46895),i.e(89219),i.e(63839),i.e(65138),i.e(2654),i.e(23635),i.e(70405)]).then(i.bind(i,70405))},"action-menu":function(){return Promise.all([i.e(92358),i.e(46895),i.e(89219),i.e(63839),i.e(65138),i.e(2654),i.e(23635),i.e(24745)]).then(i.bind(i,24745))},button:function(){return Promise.all([i.e(92358),i.e(46895),i.e(54438),i.e(14105),i.e(32275)]).then(i.bind(i,32275))},flow:function(){return i.e(53049).then(i.bind(i,53049))},"flow-item":function(){return Promise.all([i.e(92358),i.e(46895),i.e(89219),i.e(63839),i.e(65138),i.e(2654),i.e(23635),i.e(89524),i.e(48926)]).then(i.bind(i,48926))},icon:function(){return Promise.all([i.e(92358),i.e(87474)]).then(i.bind(i,87474))},list:function(){return Promise.all([i.e(92358),i.e(46895),i.e(54438),i.e(34504),i.e(8715),i.e(38782)]).then(i.bind(i,38782))},"list-item":function(){return Promise.all([i.e(92358),i.e(46895),i.e(65138),i.e(21340)]).then(i.bind(i,67994))},notice:function(){return Promise.all([i.e(92358),i.e(46895),i.e(15669)]).then(i.bind(i,15669))},tooltip:function(){return Promise.all([i.e(92358),i.e(89219),i.e(94730)]).then(i.bind(i,94730))}})}},{key:"destroy",value:function(){this._tooltipReferenceMap.clear()}},{key:"_filterEnabled",get:function(){return this.viewModel.totalItems>=this.minFilterItems&&this.visibleElements.filter}},{key:"catalogItems",get:function(){return this.viewModel.catalogItems},set:function(e){this.viewModel.catalogItems=e}},{key:"catalogLayer",get:function(){return this.viewModel.catalogLayer},set:function(e){this.viewModel.catalogLayer=e}},{key:"icon",get:function(){return"catalog-dataset"},set:function(e){this._overrideIfSome("icon",e)}},{key:"label",get:function(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.widgetLabel)&&void 0!==e?e:""},set:function(e){this._overrideIfSome("label",e)}},{key:"listItemCreatedFunction",get:function(){return this.viewModel.listItemCreatedFunction},set:function(e){this.viewModel.listItemCreatedFunction=e}},{key:"view",get:function(){return this.viewModel.view},set:function(e){this.viewModel.view=e}},{key:"triggerAction",value:function(e,t){return this.viewModel.triggerAction(e,t)}},{key:"render",value:function(){var e,t,i,n=this,l=null===(e=this.viewModel)||void 0===e?void 0:e.state,a=(t={},(0,o.Z)(t,Z.z.hidden,"loading"===l),(0,o.Z)(t,Z.z.disabled,"disabled"===l),t),r=null===(i=this.catalogItems)||void 0===i?void 0:i.filter((function(e){return!e.hidden&&(n.visibleElements.errors||!e.error)}));return(0,N.u)("div",{class:this.classes(P.base,Z.z.widget,Z.z.panel,a)},null!==r&&void 0!==r&&r.length?[this._renderItemTooltips(r),this._renderItems(r)]:this._renderNoItems())}},{key:"_renderItemTooltip",value:function(e){var t=this._tooltipReferenceMap,i=this.messagesLayerList;return e?(0,N.u)("calcite-tooltip",{key:"tooltip-".concat(e.layer.uid),referenceElement:t.get(e.layer.uid)},i.layerIncompatibleTooltip):null}},{key:"_renderItemTooltipNodes",value:function(e){var t,i=this;return e.incompatible?this._renderItemTooltip(e):null===(t=e.children)||void 0===t?void 0:t.filter((function(e){return!e.hidden})).toArray().map((function(e){return i._renderItemTooltipNodes(e)}))}},{key:"_renderItemTooltips",value:function(e){var t=this;return null===e||void 0===e?void 0:e.toArray().map((function(e){return t._renderItemTooltipNodes(e)}))}},{key:"_renderNoItemsMessage",value:function(){return(0,N.u)("div",{slot:"message"},this.messagesLayerList.noItemsToDisplay)}},{key:"_renderNoItems",value:function(){return(0,N.u)("div",{class:P.itemMessage,key:"esri-layer-list__no-items"},(0,N.u)("calcite-notice",{icon:"information",kind:"info",open:!0,width:"full"},this._renderNoItemsMessage()))}},{key:"_renderPanelFlowItems",value:function(e){var t=this;return e?e.flatten((function(e){return e.children})).filter((function(e){var t=e.hidden,i=e.panel;return!t&&(null===i||void 0===i?void 0:i.open)&&!i.disabled&&i.flowEnabled})).toArray().map((function(e){var i=e.title,n=e.panel,o=function(){return t._handlePanelFlowItemBack(n)};return(0,N.u)("calcite-flow-item",{afterCreate:t._focusPanelFlowItemNode,afterUpdate:t._focusPanelFlowItemNode,bind:t,description:i,heading:n.title,headingLevel:t.headingLevel,key:"flow-panel-".concat(n.uid),onCalciteFlowItemBack:function(e){e.preventDefault(),o()}},n.render(),(0,N.u)("calcite-button",{appearance:"transparent",onclick:o,slot:"footer-actions",width:"full"},t.messagesCommon.back))})):[]}},{key:"_handlePanelFlowItemBack",value:function(e){e.open=!1,this._focusRootFlowItem=!0}},{key:"_focusRootFlowItemNode",value:function(e){this._focusRootFlowItem&&(this._focusRootFlowItem=!1,requestAnimationFrame((function(){return null===e||void 0===e?void 0:e.setFocus()})))}},{key:"_focusPanelFlowItemNode",value:function(e){this._focusPanelFlowItem&&(this._focusPanelFlowItem=!1,requestAnimationFrame((function(){return null===e||void 0===e?void 0:e.setFocus()})))}},{key:"_renderItems",value:function(e){var t=this,i=this.visible,n=this.collapsed,o=this._filterEnabled,l=this._rootGroupUid,a=this.visibleElements,r=a.closeButton,s=a.collapseButton,c=a.heading,u=a.flow,d=this.selectionMode,v=this.filterText,m=this.filterPlaceholder,p=this.messages,y=[(0,N.u)("calcite-flow-item",{afterCreate:this._focusRootFlowItemNode,afterUpdate:this._focusRootFlowItemNode,bind:this,closable:r,closed:!i,collapsed:n,collapsible:s,heading:c?p.widgetLabel:void 0,headingLevel:this.headingLevel,key:"root-flow-item",onCalciteFlowItemClose:function(){return t.visible=!1}},(0,N.u)("calcite-list",{afterCreate:function(e){e.addEventListener("focusin",t._setActiveItem),e.addEventListener("focusout",t._clearActiveItem)},afterRemoved:function(e){e.removeEventListener("focusin",t._setActiveItem),e.removeEventListener("focusout",t._clearActiveItem)},"data-layer-type":l,filterEnabled:o,filterPlaceholder:m,filterText:o?v:"",group:l,key:"root-list",label:p.widgetLabel,onmouseleave:this._clearActiveItem,onmouseover:this._setActiveItem,selectionAppearance:"border",selectionMode:d,onCalciteListChange:function(e){return t._handleCalciteListChange(e)},onCalciteListFilter:function(e){var i,n;return t.filterText=null!==(i=null===(n=e.target)||void 0===n?void 0:n.filterText)&&void 0!==i?i:""}},null===e||void 0===e?void 0:e.toArray().map((function(e){return t._renderItem(e)})),null!==e&&void 0!==e&&e.length&&o?(0,N.u)("div",{class:P.filterNoResults,slot:"filter-no-results"},(0,N.u)("calcite-notice",{kind:"info",open:!0,width:"full"},this._renderNoItemsMessage())):null)),this._renderPanelFlowItems(e)];return i?u?(0,N.u)("calcite-flow",{key:"root-flow"},y):y:null}},{key:"_renderChildList",value:function(e){var t,i=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=this._rootGroupUid,a=this.viewModel.listModeDisabled,r=this.selectionMode,s=e.children,c=(0,I.bB)(e),u=!(!a&&(0,I.Kf)(e.layer))&&!c&&"group"===(null===(t=e.layer)||void 0===t?void 0:t.type);return c||u?(0,N.u)("calcite-list",{"data-item":e,"data-layer-type":l,group:"".concat(l,"-").concat(e.layer.uid),key:"child-list-".concat(e.layer.uid),selectionAppearance:"border",selectionMode:r},null===s||void 0===s?void 0:s.filter((function(e){return!e.hidden})).toArray().map((function(t){return i._renderItem(t,e,[].concat((0,n.Z)(o),[e.title]))}))):null}},{key:"_renderItemMessage",value:function(e){var t=this;return e.error?(0,N.u)("div",{class:P.itemMessage,key:"esri-layer-list__error",slot:"content-bottom"},(0,N.u)("calcite-notice",{icon:"exclamation-mark-triangle",kind:"warning",open:!0,scale:"s",width:"full"},(0,N.u)("div",{slot:"message"},this.messagesLayerList.layerError))):e.incompatible?(0,N.u)("div",{class:P.itemMessage,key:"esri-layer-list__incompatible",slot:"content-bottom"},(0,N.u)("calcite-notice",{afterCreate:function(i){return t._setTooltipReference(i,e)},afterRemoved:function(){return t._removeTooltipReference(e)},bind:this,icon:"exclamation-mark-triangle",kind:"warning",open:!0,scale:"s",tabIndex:0,width:"full"},(0,N.u)("div",{slot:"message"},this.messagesLayerList.layerIncompatible))):null}},{key:"_getLayerTitle",value:function(e){return e.title||this.messagesLayerList.untitledLayer}},{key:"_renderItem",value:function(e,t,i){var n,l=this,a=this._activeItem,r=this.selectionMode,s=this.selectedItems,c=this.messagesLayerList,u=this._getLayerTitle(e),d=e.visibleAtCurrentTimeExtent?e.visibleAtCurrentScale?u:"".concat(u," (").concat(c.layerInvisibleAtScale,")"):"".concat(u," (").concat(c.layerInvisibleAtTime,")"),v=this._filterActions(e.actionsSections),m=this._countActions(v);return(0,N.u)("calcite-list-item",{class:this.classes(P.item,(0,o.Z)({},P.itemActive,a===e)),"data-item":e,"data-layer-id":e.layer.id,id:e.layer.uid,key:"list-item-".concat(e.layer.uid),label:u,metadata:{parentTitles:i,title:u},open:e.open,selected:"none"!==r&&s.includes(e),title:d,value:e.layer.uid,onCalciteListItemSelect:function(i){return l._handleCalciteListItemSelect(i,e,t)},onCalciteListItemToggle:function(t){return l._handleCalciteListItemToggle(t,e)}},(0,N.u)("div",{class:this.classes((n={},(0,o.Z)(n,P.itemContent,!0),(0,o.Z)(n,P.itemInvisible,!e.visibleAtCurrentScale||!e.visibleAtCurrentTimeExtent),n)),slot:"content"},u),this._renderItemStatus(e,t),this._renderItemToggle(e,t),this._renderItemTemporaryIcon(e),this._renderChildList(e,i),this._renderItemMessage(e),this._renderPanel(e.panel),this._renderPanelAction(e.panel),m>1?this._renderActionsSections(e,v):1===m?this._renderAction({item:e,action:this._getSingleAction(v),textEnabled:!1}):null)}},{key:"_renderItemStatus",value:function(e,t){var i;if(!this.visibleElements.statusIndicators)return null;var n=e.connectionStatus,l=e.publishing,a=e.updating&&!t,r=!!n;return(0,N.u)("calcite-icon",{class:this.classes((i={},(0,o.Z)(i,P.statusIndicator,!0),(0,o.Z)(i,P.publishing,l),(0,o.Z)(i,P.updating,a),(0,o.Z)(i,P.connectionStatus,r),(0,o.Z)(i,P.connectionStatusConnected,r&&"connected"===n),i)),icon:(0,I.XO)({connectionStatus:n,publishing:l}),key:"layer-item-status",scale:"s",slot:"actions-end"})}},{key:"_renderItemTemporaryIcon",value:function(e){return this.visibleElements.temporaryLayerIndicators&&"persistenceEnabled"in e.layer&&((0,y.x)(e.layer)||!e.layer.persistenceEnabled)?(0,N.u)("calcite-icon",{class:P.itemTemporaryIcon,icon:"temporary",key:"temporary-icon",scale:"s",slot:"actions-start",title:this.messagesLayerList.temporary}):null}},{key:"_renderItemToggle",value:function(e,t){var i=this,n=this.messagesLayerList,l=this.visibilityAppearance,a=e.visible,r=null===t||void 0===t?void 0:t.visibilityMode;if("inherited"===r)return null;var s=(0,I.gk)({visible:a,exclusive:"exclusive"===r,visibilityAppearance:l}),c="checkbox"===l,u=n.layerVisibility;return(0,N.u)("calcite-action",{appearance:"transparent",class:P.visibleToggle,icon:c?s:void 0,key:"visibility-toggle",onclick:function(){return i._toggleVisibility(e,t)},scale:"s",slot:c?"actions-start":"actions-end",text:u,title:u},c?null:(0,N.u)("calcite-icon",{class:this.classes((0,o.Z)({},P.visibleIcon,"exclusive"!==r&&a)),icon:s,scale:"s"}))}},{key:"_renderPanel",value:function(e){return null===e||void 0===e||!e.open||e.disabled||e.flowEnabled?null:(0,N.u)("div",{class:P.itemContentBottom,key:"content-panel-".concat(e.uid),slot:"content-bottom"},e.render())}},{key:"_renderPanelAction",value:function(e){var t=this;if(null===e||void 0===e||!e.visible)return null;var i=e.open,n=e.title,o=e.disabled;return(0,N.u)("calcite-action",{active:i,appearance:"transparent",disabled:o,icon:(0,f.mR)(e),key:"action-".concat(e.uid),onclick:function(){return t._togglePanel(e)},scale:"s",slot:"actions-end",text:null!==n&&void 0!==n?n:"",title:null!==n&&void 0!==n?n:void 0},this._renderFallbackIcon(e))}},{key:"_renderActionsSections",value:function(e,t){var i=this,n=this.messagesCommon.options;return(0,N.u)("calcite-action-menu",{appearance:"transparent",class:P.actionMenu,key:"item-action-menu",label:this.messagesCommon.menu,open:e.actionsOpen,overlayPositioning:"fixed",placement:"bottom-end",scale:"s",slot:"actions-end",onCalciteActionMenuOpen:function(t){return e.actionsOpen=t.target.open}},(0,N.u)("calcite-action",{appearance:"transparent",icon:"ellipsis",scale:"s",slot:"trigger",text:n,title:n}),t.toArray().map((function(t,n){return i._renderActionSection(e,t,n)})))}},{key:"_renderActionSection",value:function(e,t,i){var n=this;return(0,N.u)("calcite-action-group",{class:P.actionGroup,key:"action-section-".concat(i)},t.toArray().map((function(t){return n._renderAction({item:e,action:t,textEnabled:!0})})))}},{key:"_renderFallbackIcon",value:function(e){var t,i=e.className;if(e.icon)return null;var n="image"in e?e.image:void 0,l=(t={},(0,o.Z)(t,P.itemActionIcon,!!i),(0,o.Z)(t,P.itemActionImage,!!n),t);return i&&(l[i]=!0),n||i?(0,N.u)("span",{"aria-hidden":"true",class:this.classes(P.itemActionIcon,l),key:"icon",styles:(0,f.uS)(n)}):null}},{key:"_renderAction",value:function(e){var t=this,i=e.item,n=e.action,o=e.textEnabled;if(!n)return null;var l=n.active,a=n.disabled,r=n.title,s=n.type,c=n.indicator;return(0,N.u)("calcite-action",{active:"toggle"===s&&n.value,appearance:"transparent",disabled:a,icon:(0,f.mR)(n),indicator:c,key:"action-".concat(n.uid),loading:l,onclick:function(){return t._triggerAction(i,n)},scale:"s",slot:o?void 0:"actions-end",text:null!==r&&void 0!==r?r:"",textEnabled:o,title:null!==r&&void 0!==r?r:void 0},this._renderFallbackIcon(n))}},{key:"_setTooltipReference",value:function(e,t){this._tooltipReferenceMap.set(t.layer.uid,e)}},{key:"_removeTooltipReference",value:function(e){this._tooltipReferenceMap.delete(e.layer.uid)}},{key:"_getSingleAction",value:function(e){return e.reduce((function(e){return e})).find((function(e){return e&&("button"===e.type||"toggle"===e.type)}))}},{key:"_filterActions",value:function(e){return e.map((function(e){return e.filter((function(e){return e.visible}))}))}},{key:"_countActions",value:function(e){return e.reduce((function(e,t){return e+t.length}),0)}},{key:"_triggerAction",value:function(e,t){t&&e&&("toggle"===t.type&&(t.value=!t.value),this.triggerAction(t,e))}},{key:"_handleCalciteListChange",value:function(e){var t=this.selectionMode,i=this.selectedItems;if("none"!==t){var n=e.target.selectedItems.map((function(e){return(0,I.rV)(e)})).filter(Boolean);i.removeAll(),i.addMany(n)}}},{key:"_handleCalciteListItemToggle",value:function(e,t){e.stopPropagation(),t.open=e.target.open}},{key:"_handleCalciteListItemSelect",value:function(e,t,i){(0,I.rV)(e.target)===t&&"none"===this.selectionMode&&"inherited"!==(null===i||void 0===i?void 0:i.visibilityMode)&&this._toggleVisibility(t,i)}},{key:"_togglePanel",value:function(e){e.open=!e.open,e.open&&(this._focusPanelFlowItem=!0)}},{key:"_toggleVisibility",value:function(e,t){e&&("exclusive"===(null===t||void 0===t?void 0:t.visibilityMode)&&e.visible||(e.visible=!e.visible))}}]),c}((0,d.IG)(h.Z));(0,c._)([(0,m.Cb)()],B.prototype,"_activeItem",void 0),(0,c._)([(0,m.Cb)()],B.prototype,"_tooltipReferenceMap",void 0),(0,c._)([(0,m.Cb)()],B.prototype,"_focusRootFlowItem",void 0),(0,c._)([(0,m.Cb)()],B.prototype,"_focusPanelFlowItem",void 0),(0,c._)([(0,m.Cb)()],B.prototype,"_filterEnabled",null),(0,c._)([(0,m.Cb)()],B.prototype,"catalogItems",null),(0,c._)([(0,m.Cb)()],B.prototype,"catalogLayer",null),(0,c._)([(0,m.Cb)()],B.prototype,"collapsed",void 0),(0,c._)([(0,m.Cb)()],B.prototype,"filterPlaceholder",void 0),(0,c._)([(0,m.Cb)()],B.prototype,"filterText",void 0),(0,c._)([(0,m.Cb)()],B.prototype,"headingLevel",void 0),(0,c._)([(0,m.Cb)()],B.prototype,"icon",null),(0,c._)([(0,m.Cb)()],B.prototype,"label",null),(0,c._)([(0,m.Cb)()],B.prototype,"listItemCreatedFunction",null),(0,c._)([(0,m.Cb)(),(0,S.H)("esri/widgets/CatalogLayerList/t9n/CatalogLayerList")],B.prototype,"messages",void 0),(0,c._)([(0,m.Cb)(),(0,S.H)("esri/widgets/LayerList/t9n/LayerList")],B.prototype,"messagesLayerList",void 0),(0,c._)([(0,m.Cb)(),(0,S.H)("esri/t9n/common")],B.prototype,"messagesCommon",void 0),(0,c._)([(0,m.Cb)()],B.prototype,"minFilterItems",void 0),(0,c._)([(0,m.Cb)()],B.prototype,"selectedItems",void 0),(0,c._)([(0,m.Cb)()],B.prototype,"selectionMode",void 0),(0,c._)([(0,m.Cb)()],B.prototype,"view",null),(0,c._)([(0,x.s)("trigger-action"),(0,m.Cb)({type:C})],B.prototype,"viewModel",void 0),(0,c._)([(0,m.Cb)()],B.prototype,"visibilityAppearance",void 0),(0,c._)([(0,m.Cb)({type:M,nonNullable:!0})],B.prototype,"visibleElements",void 0);var V=B=(0,c._)([(0,p.j)("esri.widgets.CatalogLayerList")],B)}}]);
//# sourceMappingURL=97145.2437a32b.chunk.js.map