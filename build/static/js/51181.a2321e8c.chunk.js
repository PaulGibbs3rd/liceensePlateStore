"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[51181],{43244:function(t,e,r){r.d(e,{Z:function(){return o}});var i=r(37762),n=r(15671),a=r(43144),o=function(){function t(e){(0,n.Z)(this,t),this.size=0,this._start=0,this.maxSize=e,this._buffer=new Array(e)}return(0,a.Z)(t,[{key:"entries",get:function(){return this._buffer}},{key:"enqueue",value:function(t){if(this.size===this.maxSize){var e=this._buffer[this._start];return this._buffer[this._start]=t,this._start=(this._start+1)%this.maxSize,e}return this._buffer[(this._start+this.size++)%this.maxSize]=t,null}},{key:"dequeue",value:function(){if(0===this.size)return null;var t=this._buffer[this._start];return this._buffer[this._start]=null,this.size--,this._start=(this._start+1)%this.maxSize,t}},{key:"peek",value:function(){return 0===this.size?null:this._buffer[this._start]}},{key:"peekLast",value:function(){return 0===this.size?null:this._buffer[(this._start+(this.size-1))%this.maxSize]}},{key:"find",value:function(t){if(0===this.size)return null;var e,r=(0,i.Z)(this._buffer);try{for(r.s();!(e=r.n()).done;){var n=e.value;if(null!=n&&t(n))return n}}catch(a){r.e(a)}finally{r.f()}return null}},{key:"clear",value:function(t){for(var e=this.dequeue();null!=e;)t&&t(e),e=this.dequeue()}}]),t}()},48035:function(t,e,r){r.d(e,{b:function(){return p},j:function(){return c}});var i=r(74165),n=r(15861),a=r(65905),o=r(93169),s=null,u=null;function c(){return l.apply(this,arguments)}function l(){return(l=(0,n.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(s||(s=f()),s));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(){return h.apply(this,arguments)}function h(){return h=(0,n.Z)((0,i.Z)().mark((function t(){var e;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,o.Z)("esri-csp-restrictions")){t.next=6;break}return t.next=3,r.e(5948).then(r.bind(r,5948)).then((function(t){return t.l}));case 3:t.t0=t.sent,t.next=9;break;case 6:return t.next=8,r.e(97069).then(r.bind(r,97069)).then((function(t){return t.l}));case 8:t.t0=t.sent;case 9:return e=t.t0,t.next=12,e.default({locateFile:function(t){return(0,a.V)("esri/core/libs/libtess/".concat(t))}});case 12:u=t.sent;case 13:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}function p(t,e){var r=Math.max(t.length,128e3);return u.triangulate(t,e,r)}},95954:function(t,e,r){r.d(e,{j:function(){return h}});var i=r(93433),n=r(37762),a=r(15671),o=r(43144),s=r(23895),u=r(41116),c=r(35747),l=r(82653),f=r(78915),h=function(){function t(){(0,a.Z)(this,t)}return(0,o.Z)(t,null,[{key:"executeEffects",value:function(t,e,r,i){var a,o=(0,f.Tg)(t),s=new c.z(e),u=(0,n.Z)(t);try{for(u.s();!(a=u.n()).done;){var h=a.value,p=(0,l.h)(h);p&&(s=p.execute(s,h,1.3333333333333333,r,i,o))}}catch(v){u.e(v)}finally{u.f()}return s}},{key:"applyEffects",value:function(t,e,r){if(!t)return e;var a,o,h=(0,f.Tg)(t),p=new c.z(s.z.fromJSONCIM(e)),v=(0,n.Z)(t);try{for(v.s();!(o=v.n()).done;){var d=o.value,x=(0,l.h)(d);x&&(p=x.execute(p,d,1,null,r,h))}}catch(_){v.e(_)}finally{v.f()}for(var y=[],m=null;a=p.next();)y.push.apply(y,(0,i.Z)((0,u.M)(a))),m=a.geometryType;return 0===y.length||null===m?null:"esriGeometryPolygon"===m?{rings:y}:{paths:y}}}]),t}()},8827:function(t,e,r){r.d(e,{i:function(){return o}});var i=r(15671),n=r(43144),a=r(82653),o=function(){function t(){(0,i.Z)(this,t)}return(0,n.Z)(t,null,[{key:"getPlacement",value:function(t,e,r,i,n,o){var s=(0,a.W)(r);return s?(-1===e&&t.invertY(),s.execute(t,r,i,n,o)):null}}]),t}()},82010:function(t,e,r){r.d(e,{z:function(){return y}});var i=r(15671),n=r(43144),a=r(48202),o=r(94109);function s(t,e){return t.x===e.x&&t.y===e.y}function u(t){if(t){var e=t.length;if(!(e<=1)){for(var r=0,i=1;i<e;i++)s(t[i],t[r])||++r===i||(t[r]=t[i]);t.length=r+1}}}function c(t,e){return t.x=e.y,t.y=-e.x,t}function l(t,e){return t.x=-e.y,t.y=e.x,t}function f(t,e){return t.x=e.x,t.y=e.y,t}function h(t,e){return t.x=-e.x,t.y=-e.y,t}function p(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function v(t,e){return t.x*e.y-t.y*e.x}function d(t,e){return t.x*e.x+t.y*e.y}function x(t,e,r,i){return t.x=e.x*r+e.y*i,t.y=e.x*i-e.y*r,t}var y=function(){function t(e,r,n){(0,i.Z)(this,t),this._writeVertex=e,this._writeTriangle=r,this._canUseThinTessellation=n,this._prevNormal={x:void 0,y:void 0},this._nextNormal={x:void 0,y:void 0},this._textureNormalLeft={x:0,y:1},this._textureNormalRight={x:0,y:-1},this._textureNormal={x:void 0,y:void 0},this._joinNormal={x:void 0,y:void 0},this._inner={x:void 0,y:void 0},this._outer={x:void 0,y:void 0},this._roundStart={x:void 0,y:void 0},this._roundEnd={x:void 0,y:void 0},this._startBreak={x:void 0,y:void 0},this._endBreak={x:void 0,y:void 0},this._innerPrev={x:void 0,y:void 0},this._innerNext={x:void 0,y:void 0},this._bevelStart={x:void 0,y:void 0},this._bevelEnd={x:void 0,y:void 0},this._bevelMiddle={x:void 0,y:void 0}}return(0,n.Z)(t,[{key:"tessellate",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._canUseThinTessellation;u(t),r&&e.halfWidth<o.do&&!e.offset?this._tessellateThin(t,e):this._tessellate(t,e)}},{key:"_tessellateThin",value:function(t,e){if(!(t.length<2))for(var r=e.wrapDistance||65535,i=e.initialDistance||0,n=!1,a=t[0].x,o=t[0].y,s=t.length,u=1;u<s;++u){n&&(n=!1,i=0);var c=t[u].x,l=t[u].y,f=c-a,h=l-o,p=Math.sqrt(f*f+h*h);if(f/=p,h/=p,i+p>r){n=!0;var v=(r-i)/p;p=r-i,c=(1-v)*a+v*c,l=(1-v)*o+v*l,--u}var d=this._writeVertex(a,o,0,0,f,h,h,-f,0,-1,i),x=this._writeVertex(a,o,0,0,f,h,-h,f,0,1,i);i+=p;var y=this._writeVertex(c,l,0,0,f,h,h,-f,0,-1,i),m=this._writeVertex(c,l,0,0,f,h,-h,f,0,1,i);this._writeTriangle(d,x,y),this._writeTriangle(x,y,m),a=c,o=l}}},{key:"_tessellate",value:function(t,e){var r=t[0],i=t[t.length-1],n=s(r,i),o=n?3:2;if(!(t.length<o)){var u,y,m,_,g,k=e.pixelCoordRatio,Z=null!=e.capType?e.capType:a.RL.BUTT,w=null!=e.joinType?e.joinType:a.AH.MITER,b=null!=e.miterLimit?Math.min(e.miterLimit,4):2,T=null!=e.roundLimit?Math.min(e.roundLimit,1.05):1.05,S=null!=e.halfWidth?e.halfWidth:2,P=!!e.textured,E=null,M=this._prevNormal,N=this._nextNormal,F=-1,z=-1,A=this._joinNormal,I=this._textureNormalLeft,L=this._textureNormalRight,R=this._textureNormal,B=-1,D=-1,G=e.wrapDistance||65535,Y=e.initialDistance||0,O=this._writeVertex,W=this._writeTriangle,U=function(t,e,r,i,n,a){var o=O(y,m,_,g,r,i,t,e,n,a,Y);return B>=0&&D>=0&&o>=0&&W(B,D,o),B=D,D=o,o};n&&(u=t[t.length-2],N.x=i.x-u.x,N.y=i.y-u.y,z=p(N),N.x/=z,N.y/=z);for(var V=!1,C=0;C<t.length;++C){if(V&&(V=!1,Y=0),u&&(M.x=-N.x,M.y=-N.y,Y+(F=z)>G&&(V=!0)),V){var H=(G-Y)/F;F=G-Y,u={x:(1-H)*u.x+H*t[C].x,y:(1-H)*u.y+H*t[C].y},--C}else u=t[C];y=u.x,m=u.y;var X=C<=0&&!V,q=C===t.length-1;if(X||(Y+=F),(E=q?n?t[1]:null:t[C+1])?(N.x=E.x-y,N.y=E.y-m,z=p(N),N.x/=z,N.y/=z):(N.x=void 0,N.y=void 0),!n){if(X){l(A,N),_=A.x,g=A.y,Z===a.RL.SQUARE&&(U(-N.y-N.x,N.x-N.y,N.x,N.y,0,-1),U(N.y-N.x,-N.x-N.y,N.x,N.y,0,1)),Z===a.RL.ROUND&&(U(-N.y-N.x,N.x-N.y,N.x,N.y,-1,-1),U(N.y-N.x,-N.x-N.y,N.x,N.y,-1,1)),Z!==a.RL.ROUND&&Z!==a.RL.BUTT||(U(-N.y,N.x,N.x,N.y,0,-1),U(N.y,-N.x,N.x,N.y,0,1));continue}if(q){c(A,M),_=A.x,g=A.y,Z!==a.RL.ROUND&&Z!==a.RL.BUTT||(U(M.y,-M.x,-M.x,-M.y,0,-1),U(-M.y,M.x,-M.x,-M.y,0,1)),Z===a.RL.SQUARE&&(U(M.y-M.x,-M.x-M.y,-M.x,-M.y,0,-1),U(-M.y-M.x,M.x-M.y,-M.x,-M.y,0,1)),Z===a.RL.ROUND&&(U(M.y-M.x,-M.x-M.y,-M.x,-M.y,1,-1),U(-M.y-M.x,M.x-M.y,-M.x,-M.y,1,1));continue}}var Q=void 0,j=void 0,J=-v(M,N);if(Math.abs(J)<.01)d(M,N)>0?(A.x=M.x,A.y=M.y,J=1,Q=Number.MAX_VALUE,j=!0):(l(A,N),J=1,Q=1,j=!1);else{A.x=(M.x+N.x)/J,A.y=(M.y+N.y)/J;var $=((Q=p(A))-1)*S*k;j=Q>4||$>F&&$>z}_=A.x,g=A.y;var K=w;switch(w){case a.AH.BEVEL:Q<1.05&&(K=a.AH.MITER);break;case a.AH.ROUND:Q<T&&(K=a.AH.MITER);break;case a.AH.MITER:Q>b&&(K=a.AH.BEVEL)}switch(K){case a.AH.MITER:if(U(A.x,A.y,-M.x,-M.y,0,-1),U(-A.x,-A.y,-M.x,-M.y,0,1),q)break;if(P){var tt=V?0:Y;B=this._writeVertex(y,m,_,g,N.x,N.y,A.x,A.y,0,-1,tt),D=this._writeVertex(y,m,_,g,N.x,N.y,-A.x,-A.y,0,1,tt)}break;case a.AH.BEVEL:var et=J<0,rt=void 0,it=void 0,nt=void 0,at=void 0;if(et){var ot=B;B=D,D=ot,rt=I,it=L}else rt=L,it=I;if(j)nt=et?l(this._innerPrev,M):c(this._innerPrev,M),at=et?c(this._innerNext,N):l(this._innerNext,N);else{var st=et?h(this._inner,A):f(this._inner,A);nt=st,at=st}var ut=et?c(this._bevelStart,M):l(this._bevelStart,M);U(nt.x,nt.y,-M.x,-M.y,rt.x,rt.y);var ct=U(ut.x,ut.y,-M.x,-M.y,it.x,it.y);if(q)break;var lt=et?l(this._bevelEnd,N):c(this._bevelEnd,N);if(j){var ft=this._writeVertex(y,m,_,g,-M.x,-M.y,0,0,0,0,Y);B=this._writeVertex(y,m,_,g,N.x,N.y,at.x,at.y,rt.x,rt.y,Y),D=this._writeVertex(y,m,_,g,N.x,N.y,lt.x,lt.y,it.x,it.y,Y),this._writeTriangle(ct,ft,D)}else{if(P){var ht=this._bevelMiddle;ht.x=(ut.x+lt.x)/2,ht.y=(ut.y+lt.y)/2,x(R,ht,-M.x,-M.y),U(ht.x,ht.y,-M.x,-M.y,R.x,R.y),x(R,ht,N.x,N.y),B=this._writeVertex(y,m,_,g,N.x,N.y,ht.x,ht.y,R.x,R.y,Y),D=this._writeVertex(y,m,_,g,N.x,N.y,at.x,at.y,rt.x,rt.y,Y)}else{var pt=B;B=D,D=pt}U(lt.x,lt.y,N.x,N.y,it.x,it.y)}if(et){var vt=B;B=D,D=vt}break;case a.AH.ROUND:var dt=J<0,xt=void 0,yt=void 0;if(dt){var mt=B;B=D,D=mt,xt=I,yt=L}else xt=L,yt=I;var _t=dt?h(this._inner,A):f(this._inner,A),gt=void 0,kt=void 0;j?(gt=dt?l(this._innerPrev,M):c(this._innerPrev,M),kt=dt?c(this._innerNext,N):l(this._innerNext,N)):(gt=_t,kt=_t);var Zt=dt?c(this._roundStart,M):l(this._roundStart,M),wt=dt?l(this._roundEnd,N):c(this._roundEnd,N),bt=U(gt.x,gt.y,-M.x,-M.y,xt.x,xt.y),Tt=U(Zt.x,Zt.y,-M.x,-M.y,yt.x,yt.y);if(q)break;var St=this._writeVertex(y,m,_,g,-M.x,-M.y,0,0,0,0,Y);j||this._writeTriangle(B,D,St);var Pt=h(this._outer,_t),Et=this._writeVertex(y,m,_,g,N.x,N.y,wt.x,wt.y,yt.x,yt.y,Y),Mt=void 0,Nt=void 0,Ft=Q>2;if(Ft){var zt=void 0;Q!==Number.MAX_VALUE?(Pt.x/=Q,Pt.y/=Q,zt=(Q*((zt=d(M,Pt))*zt-1)+1)/zt):zt=-1,(Mt=dt?c(this._startBreak,M):l(this._startBreak,M)).x+=M.x*zt,Mt.y+=M.y*zt,(Nt=dt?l(this._endBreak,N):c(this._endBreak,N)).x+=N.x*zt,Nt.y+=N.y*zt}x(R,Pt,-M.x,-M.y);var At=this._writeVertex(y,m,_,g,-M.x,-M.y,Pt.x,Pt.y,R.x,R.y,Y);x(R,Pt,N.x,N.y);var It=P?this._writeVertex(y,m,_,g,N.x,N.y,Pt.x,Pt.y,R.x,R.y,Y):At,Lt=St,Rt=P?this._writeVertex(y,m,_,g,N.x,N.y,0,0,0,0,Y):St,Bt=-1,Dt=-1;if(Ft&&(x(R,Mt,-M.x,-M.y),Bt=this._writeVertex(y,m,_,g,-M.x,-M.y,Mt.x,Mt.y,R.x,R.y,Y),x(R,Nt,N.x,N.y),Dt=this._writeVertex(y,m,_,g,N.x,N.y,Nt.x,Nt.y,R.x,R.y,Y)),P?Ft?(this._writeTriangle(Lt,Tt,Bt),this._writeTriangle(Lt,Bt,At),this._writeTriangle(Rt,It,Dt),this._writeTriangle(Rt,Dt,Et)):(this._writeTriangle(Lt,Tt,At),this._writeTriangle(Rt,It,Et)):Ft?(this._writeTriangle(St,Tt,Bt),this._writeTriangle(St,Bt,Dt),this._writeTriangle(St,Dt,Et)):(this._writeTriangle(St,Tt,At),this._writeTriangle(St,It,Et)),j?(B=this._writeVertex(y,m,_,g,N.x,N.y,kt.x,kt.y,xt.x,xt.y,Y),D=Et):(B=P?this._writeVertex(y,m,_,g,N.x,N.y,kt.x,kt.y,xt.x,xt.y,Y):bt,this._writeTriangle(B,Rt,Et),D=Et),dt){var Gt=B;B=D,D=Gt}}}}}}]),t}()},86419:function(t,e,r){r.d(e,{dx:function(){return V},tZ:function(){return U},bT:function(){return O},so:function(){return W}});var i=r(37762),n=(r(79347),r(48035)),a=r(40316),o=r(80457),s=r(94109),u=r(15671),c=r(43144);function l(t,e,r,i,n,a,o){L=0;var s,u,c,l,h,v=(i-r)*a,d=n&&n.length,x=d?(n[0]-r)*a:v,y=f(e,r,i,0,x,a,!0);if(y&&y.next!==y.prev){if(d&&(y=_(e,r,i,n,y,a)),v>80*a){s=c=e[0+r*a],u=l=e[1+r*a];for(var m=a;m<x;m+=a){var g=e[m+r*a],k=e[m+1+r*a];s=Math.min(s,g),u=Math.min(u,k),c=Math.max(c,g),l=Math.max(l,k)}h=0!==(h=Math.max(c-s,l-u))?1/h:0}p(y,t,a,s,u,h,o,0)}}function f(t,e,r,i,n,a,o){var s;if(o===function(t,e,r,i,n,a){for(var o=0,s=i,u=n-a;s<n;s+=a)o+=(t[u+e*a]-t[s+e*a])*(t[s+1+e*a]+t[u+1+e*a]),u=s;return o}(t,e,0,i,n,a)>0)for(var u=i;u<n;u+=a)s=x(u+e*a,t[u+e*a],t[u+1+e*a],s);else for(var c=n-a;c>=i;c-=a)s=x(c+e*a,t[c+e*a],t[c+1+e*a],s);return s&&P(s,s.next)&&(y(s),s=s.next),s}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;if(!t)return t;var r,i=t;do{if(r=!1,i.steiner||!P(i,i.next)&&0!==Z(i.prev,i,i.next))i=i.next;else{if(y(i),(i=e=i.prev)===i.next)break;r=!0}}while(r||i!==e);return e}function p(t,e,r,i,n,a,o,s){if(t){!s&&a&&(t=k(t,i,n,a));for(var u=t;t.prev!==t.next;){var c=t.prev,l=t.next;if(a?d(t,i,n,a):v(t))e.push(c.index/r+o),e.push(t.index/r+o),e.push(l.index/r+o),y(t),t=l.next,u=l.next;else if((t=l)===u){s?1===s?p(t=M(t,e,r,o),e,r,i,n,a,o,2):2===s&&N(t,e,r,i,n,a,o):p(h(t),e,r,i,n,a,o,1);break}}}}function v(t){var e=t.prev,r=t,i=t.next;if(Z(e,r,i)>=0)return!1;for(var n=t.next.next,a=n,o=0;n!==t.prev&&(0===o||n!==a);){if(o++,b(e.x,e.y,r.x,r.y,i.x,i.y,n.x,n.y)&&Z(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function d(t,e,r,i){var n=t.prev,a=t,o=t.next;if(Z(n,a,o)>=0)return!1;for(var s=n.x<a.x?n.x<o.x?n.x:o.x:a.x<o.x?a.x:o.x,u=n.y<a.y?n.y<o.y?n.y:o.y:a.y<o.y?a.y:o.y,c=n.x>a.x?n.x>o.x?n.x:o.x:a.x>o.x?a.x:o.x,l=n.y>a.y?n.y>o.y?n.y:o.y:a.y>o.y?a.y:o.y,f=S(s,u,e,r,i),h=S(c,l,e,r,i),p=t.prevZ,v=t.nextZ;p&&p.z>=f&&v&&v.z<=h;){if(p!==t.prev&&p!==t.next&&b(n.x,n.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Z(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,v!==t.prev&&v!==t.next&&b(n.x,n.y,a.x,a.y,o.x,o.y,v.x,v.y)&&Z(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;p&&p.z>=f;){if(p!==t.prev&&p!==t.next&&b(n.x,n.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Z(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;v&&v.z<=h;){if(v!==t.prev&&v!==t.next&&b(n.x,n.y,a.x,a.y,o.x,o.y,v.x,v.y)&&Z(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function x(t,e,r,i){var n=A.create(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function y(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function m(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function _(t,e,r,i,n,a){for(var o=new Array,s=0,u=i.length;s<u;s++){var c=f(t,e,0,i[s]*a,s<u-1?i[s+1]*a:r*a,a,!1);c===c.next&&(c.steiner=!0),o.push(m(c))}o.sort(E);for(var l=0,h=o;l<h.length;l++){n=g(h[l],n)}return n}function g(t,e){var r=function(t,e){var r,i=e,n=t.x,a=t.y,o=-1/0;do{if(a<=i.y&&a>=i.next.y&&i.next.y!==i.y){var s=i.x+(a-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=n&&s>o){if(o=s,s===n){if(a===i.y)return i;if(a===i.next.y)return i.next}r=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!r)return null;if(n===o)return r.prev;var u,c=r,l=r.x,f=r.y,h=1/0;for(i=r.next;i!==c;)n>=i.x&&i.x>=l&&n!==i.x&&b(a<f?n:o,a,l,f,a<f?o:n,a,i.x,i.y)&&(((u=Math.abs(a-i.y)/(n-i.x))<h||u===h&&i.x>r.x)&&T(i,t)&&(r=i,h=u)),i=i.next;return r}(t,e);if(!r)return e;var i=z(r,t);return h(i,i.next),h(r,r.next)}function k(t,e,r,i){for(var n;n!==t;n=n.next){if(null===(n=n||t).z&&(n.z=S(n.x,n.y,e,r,i)),n.prev.next!==n||n.next.prev!==n)return n.prev.next=n,n.next.prev=n,k(t,e,r,i);n.prevZ=n.prev,n.nextZ=n.next}return t.prevZ.nextZ=null,t.prevZ=null,function(t){for(var e,r=1;;){var i=void 0,n=t;t=null,e=null;for(var a=0;n;){a++,i=n;for(var o=0;o<r&&i;o++)i=i.nextZ;for(var s=r;o>0||s>0&&i;){var u=void 0;0===o?(u=i,i=i.nextZ,s--):0!==s&&i?n.z<=i.z?(u=n,n=n.nextZ,o--):(u=i,i=i.nextZ,s--):(u=n,n=n.nextZ,o--),e?e.nextZ=u:t=u,u.prevZ=e,e=u}n=i}if(e.nextZ=null,r*=2,a<2)return t}}(t)}function Z(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function w(t,e,r,i){return!!(P(t,e)&&P(r,i)||P(t,i)&&P(r,e))||Z(t,e,r)>0!=Z(t,e,i)>0&&Z(r,i,t)>0!=Z(r,i,e)>0}function b(t,e,r,i,n,a,o,s){return(n-o)*(e-s)-(t-o)*(a-s)>=0&&(t-o)*(i-s)-(r-o)*(e-s)>=0&&(r-o)*(a-s)-(n-o)*(i-s)>=0}function T(t,e){return Z(t.prev,t,t.next)<0?Z(t,e,t.next)>=0&&Z(t,t.prev,e)>=0:Z(t,e,t.prev)<0||Z(t,t.next,e)<0}function S(t,e,r,i,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function P(t,e){return t.x===e.x&&t.y===e.y}function E(t,e){return t.x-e.x}function M(t,e,r,i){var n=t;do{var a=n.prev,o=n.next.next;!P(a,o)&&w(a,n,n.next,o)&&T(a,o)&&T(o,a)&&(e.push(a.index/r+i),e.push(n.index/r+i),e.push(o.index/r+i),y(n),y(n.next),n=t=o),n=n.next}while(n!==t);return n}function N(t,e,r,i,n,a,o){var s=t;do{for(var u=s.next.next;u!==s.prev;){if(s.index!==u.index&&F(s,u)){var c=z(s,u);return s=h(s,s.next),c=h(c,c.next),p(s,e,r,i,n,a,o,0),void p(c,e,r,i,n,a,o,0)}u=u.next}s=s.next}while(s!==t)}function F(t,e){return t.next.index!==e.index&&t.prev.index!==e.index&&!function(t,e){var r=t;do{if(r.index!==t.index&&r.next.index!==t.index&&r.index!==e.index&&r.next.index!==e.index&&w(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&T(t,e)&&T(e,t)&&function(t,e){var r=t,i=!1,n=(t.x+e.x)/2,a=(t.y+e.y)/2;do{r.y>a!=r.next.y>a&&r.next.y!==r.y&&n<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next}while(r!==t);return i}(t,e)}function z(t,e){var r=A.create(t.index,t.x,t.y),i=A.create(e.index,e.x,e.y),n=t.next,a=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,a.next=i,i.prev=a,i}for(var A=function(){function t(){(0,u.Z)(this,t),this.index=0,this.x=0,this.y=0,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}return(0,c.Z)(t,null,[{key:"create",value:function(e,r,i){var n=L<I.length?I[L++]:new t;return n.index=e,n.x=r,n.y=i,n.prev=null,n.next=null,n.z=null,n.prevZ=null,n.nextZ=null,n.steiner=!1,n}}]),t}(),I=[],L=0,R=0;R<8096;R++)I.push(new A);var B=new a.bN(0,0,0,1,0),D=new a.bN(0,0,0,1,0);function G(t,e,r){for(var i=0,n=1;n<r;n++){var a=t[2*(e+n-1)],o=t[2*(e+n-1)+1];i+=(t[2*(e+n)]-a)*(t[2*(e+n)+1]+o)}return i}function Y(t,e,r,i,n){for(var a=0,o=r;o<i;o+=3){var s=2*(t[o]-n),u=2*(t[o+1]-n),c=2*(t[o+2]-n);a+=Math.abs((e[s]-e[c])*(e[u+1]-e[s+1])-(e[s]-e[u])*(e[c+1]-e[s+1]))}return a}function O(t,e){var r=e.coords,i=e.lengths,n=t;if(e.hasIndeterminateRingOrder)return!1;for(var a=0,o=0;o<i.length;){for(var s=o,u=i[o],c=G(r,a,u),f=[];++s<i.length;){var h=i[s],p=G(r,a+u,h);if(!(p>0))break;c+=p,f.push(a+u),u+=h}var v=n.length;l(n,r,a,a+u,f,2,0);var d=Y(n,r,v,n.length,0),x=Math.abs(c);if(Math.abs((d-x)/Math.max(1e-7,x))>1e-5)return n.length=0,!1;o=s,a+=u}return!0}function W(t){var e=t.coords,r=t.lengths;return(0,n.b)(e,r).buffer}function U(t,e){if(null==t)return null;if(!function(t,e,r){for(var i=0,n=0;n<t.lengths.length;n++){for(var a=t.lengths[n],o=0;o<a;o++){var s=t.coords[2*(o+i)],u=t.coords[2*(o+i)+1];if(s<e||s>r||u<e||u>r)return!0}i+=a}return!1}(t,-128,s.i9+128))return t;B.setPixelMargin(e),B.reset(a.Vl.Polygon);for(var r=0,n=0;n<t.lengths.length;n++){var u=t.lengths[n],c=t.coords[2*(0+r)],l=t.coords[2*(0+r)+1];B.moveTo(c,l);for(var f=1;f<u;f++)c=t.coords[2*(f+r)],l=t.coords[2*(f+r)+1],B.lineTo(c,l);B.close(),r+=u}var h=B.result(!1);if(!h)return null;var p,v=[],d=[],x=(0,i.Z)(h);try{for(x.s();!(p=x.n()).done;){var y,m=p.value,_=0,g=(0,i.Z)(m);try{for(g.s();!(y=g.n()).done;){var k=y.value;d.push(k.x),d.push(k.y),_++}}catch(Z){g.e(Z)}finally{g.f()}v.push(_)}}catch(Z){x.e(Z)}finally{x.f()}return new o.Z(v,d)}function V(t,e){D.setPixelMargin(e);var r=D,n=-e,o=s.i9+e,u=[],c=!1;if(!t.nextPath())return null;for(var l=!0;l;){t.seekPathStart();var f=[];if(!t.pathSize)return null;r.reset(a.Vl.LineString),t.nextPoint();var h=t.x,p=t.y;if(c)r.moveTo(h,p);else{if(h<n||h>o||p<n||p>o){c=!0;continue}f.push({x:h,y:p})}for(var v=!1;t.nextPoint();)if(h=t.x,p=t.y,c)r.lineTo(h,p);else{if(h<n||h>o||p<n||p>o){v=!0;break}f.push({x:h,y:p})}if(v)c=!0;else{if(c){var d=r.resultWithStarts();if(d){var x,y=(0,i.Z)(d);try{for(y.s();!(x=y.n()).done;){var m=x.value;u.push(m)}}catch(_){y.e(_)}finally{y.f()}}}else u.push({line:f,start:0});l=t.nextPath(),c=!1}}return u=u.filter((function(t){return t.line.length>1})),0===u.length?null:u}B.setExtent(s.i9),D.setExtent(s.i9)},755:function(t,e,r){r.d(e,{Z:function(){return l}});var i=r(15671),n=r(43144),a=r(60136),o=r(29388),s=r(53352),u=r(8548),c={createComputedParams:function(t){return t},optionalAttributes:{},attributes:{id:{type:u.g.UNSIGNED_BYTE,count:3,pack:"id"},bitset:{type:u.g.UNSIGNED_BYTE,count:1},pos:{type:u.g.SHORT,count:2,pack:"position",packPrecisionFactor:10},inverseArea:{type:u.g.FLOAT,count:1,packTessellation:function(t){return t.inverseArea}}}},l=function(t){(0,a.Z)(r,t);var e=(0,o.Z)(r);function r(){var t;return(0,i.Z)(this,r),(t=e.apply(this,arguments)).vertexSpec=c,t}return(0,n.Z)(r,[{key:"createTesselationParams",value:function(t){return{inverseArea:1/t.readGeometryArea()}}}]),r}(s.r)},53352:function(t,e,r){r.d(e,{r:function(){return y}});var i=r(37762),n=r(74165),a=r(15861),o=r(15671),s=r(43144),u=r(88301),c=r(61120),l=r(60136),f=r(29388),h=r(93169),p=r(48035),v=r(86419),d=r(2744),x=(0,h.Z)("featurelayer-fast-triangulation-enabled"),y=function(t){(0,l.Z)(r,t);var e=(0,f.Z)(r);function r(){return(0,o.Z)(this,r),e.apply(this,arguments)}return(0,s.Z)(r,[{key:"loadDependencies",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([(0,u.Z)((0,c.Z)(r.prototype),"loadDependencies",this).call(this),(0,p.j)()]);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"_write",value:function(t,e,r){var i,n=null!==(i=null===r||void 0===r?void 0:r.asOptimized())&&void 0!==i?i:e.readGeometryForDisplay(),a=this._clip(n);a&&(t.recordStart(this.instanceId,this.attributeLayout),this._writeGeometry(t,e,a),t.recordEnd())}},{key:"_clip",value:function(t){if(!t)return null;var e=this.hasEffects;return(0,v.tZ)(t,e?256:8)}},{key:"_writeGeometry",value:function(t,e,r){var i=r.maxLength>100,n=[],a=this.createTesselationParams(e);if(!i&&x&&(0,v.bT)(n,r))n.length&&this._writeVertices(t,e,r.coords,a,n);else{var o=(0,v.so)(r);this._writeVertices(t,e,o,a)}}},{key:"_writeVertices",value:function(t,e,r,n,a){var o=e.getDisplayId(),s=t.vertexCount(),u=this.hasEffects,c=0;if(a){var l,f=(0,i.Z)(a);try{for(f.s();!(l=f.n()).done;){var h=l.value,p=r[2*h],v=r[2*h+1];u&&t.recordBounds(p,v,0,0),this._writeVertex(t,o,p,v,n),c++}}catch(_){f.e(_)}finally{f.f()}}else for(var d=0;d<r.length;d+=2){var x=Math.round(r[d]),y=Math.round(r[d+1]);u&&t.recordBounds(x,y,0,0),this._writeVertex(t,o,x,y,n),c++}t.indexEnsureSize(c);for(var m=0;m<c;m++)t.indexWrite(m+s)}}]),r}(d.c)},94538:function(t,e,r){r.d(e,{MG:function(){return d},MW:function(){return v},Mb:function(){return x},h5:function(){return y}});var i=r(43144),n=r(15671),a=r(60136),o=r(29388),s=r(1413),u=r(17842),c=r(99201),l=r(81308),f=r(72516),h=r(17326),p=r(8548);function v(t){var e=t.sprite,r=t.aspectRatio,i=t.scaleProportionally,n=(0,u.F2)(t.height),a=n>0?n:e.height,o=n*r;return o<=0?o=e.width:i&&(o*=e.width/e.height),{width:o,height:a}}function d(t){var e=t.applyRandomOffset,r=t.sampleAlphaOnly;return(0,l.u)([[h.Ux,e],[h.GS,r]])}var x={createComputedParams:function(t){return t},optionalAttributes:f.w.optionalAttributes,attributes:(0,s.Z)((0,s.Z)({},f.w.attributes),{},{bitset:{count:1,type:p.g.UNSIGNED_BYTE,pack:d},width:{count:1,type:p.g.HALF_FLOAT,pack:function(t){return v(t).width}},height:{count:1,type:p.g.HALF_FLOAT,pack:function(t){return v(t).height}},offset:{count:2,type:p.g.HALF_FLOAT,pack:function(t){var e=t.offsetX,r=t.offsetY;return[(0,u.F2)(e),-(0,u.F2)(r)]}},scale:{count:2,type:p.g.UNSIGNED_BYTE,packPrecisionFactor:16,pack:function(t){return[t.scaleX,t.scaleY]}},angle:{count:1,type:p.g.UNSIGNED_BYTE,pack:function(t){var e=t.angle;return(0,c.s5)(e)}}})},y=function(t){(0,a.Z)(r,t);var e=(0,o.Z)(r);function r(){var t;return(0,n.Z)(this,r),(t=e.apply(this,arguments)).vertexSpec=x,t}return(0,i.Z)(r)}(f.H)},61669:function(t,e,r){r.d(e,{f:function(){return T}});var i=r(74165),n=r(15861),a=r(88301),o=r(61120),s=r(43144),u=r(15671),c=r(60136),l=r(29388),f=r(1413),h=r(17842),p=r(23895),v=r(94538),d=r(81308),x=r(35783),y=r(78825),m=r(17326),_=r(8548),g=v.Mb,k=x.OQ,Z={createComputedParams:function(t){return t},optionalAttributes:g.optionalAttributes,attributes:(0,f.Z)((0,f.Z)({},g.attributes),{},{bitset:{type:_.g.UNSIGNED_BYTE,count:1,pack:function(t){return(0,v.MG)(t)}},aux1:{count:1,type:_.g.HALF_FLOAT,pack:function(t){return(0,v.MW)(t).width}},aux2:{count:1,type:_.g.HALF_FLOAT,pack:function(t){return(0,v.MW)(t).height}},aux3:{count:2,type:_.g.HALF_FLOAT,pack:function(t){var e=t.offsetX,r=t.offsetY;return[(0,h.F2)(e),(0,h.F2)(r)]}},aux4:{count:2,type:_.g.UNSIGNED_BYTE,pack:function(t){var e=t.scaleX,r=t.scaleY;return[e*y.$1,r*y.$1]}}})},w={createComputedParams:function(t){return t},optionalAttributes:g.optionalAttributes,attributes:(0,f.Z)((0,f.Z)({},g.attributes),{},{color:k.attributes.color,bitset:{type:_.g.UNSIGNED_BYTE,count:1,pack:function(t){return(0,d.u)([[m.WD,!0]])}},aux1:{count:1,type:_.g.HALF_FLOAT,pack:function(t){return(0,h.F2)(.5*t.width)}},aux2:{count:1,type:_.g.HALF_FLOAT,pack:function(t){return(0,h.F2)(.5*t.referenceWidth)}},aux3:{count:2,type:_.g.HALF_FLOAT,packTessellation:function(t){return[t.extrusionOffsetX,t.extrusionOffsetY]}},aux4:{count:2,type:_.g.UNSIGNED_BYTE,packTessellation:function(t){var e=t.normalX,r=t.normalY;return[e*y.$1+y.NS,r*y.$1+y.NS]}}})},b=function(t){(0,c.Z)(r,t);var e=(0,l.Z)(r);function r(){var t;return(0,u.Z)(this,r),(t=e.apply(this,arguments)).vertexSpec=w,t}return(0,s.Z)(r)}(x.B2),T=function(t){(0,c.Z)(r,t);var e=(0,l.Z)(r);function r(){var t;return(0,u.Z)(this,r),(t=e.apply(this,arguments)).vertexSpec=Z,t}return(0,s.Z)(r,[{key:"_createOutlineWriter",value:function(t,e,r,i){return new b(t,e,r,i)}},{key:"_write",value:function(t,e,r){var i,n,a=null!==(i=null===r||void 0===r?void 0:r.asOptimized())&&void 0!==i?i:e.readGeometryForDisplay(),o=this._clip(a);if(o){var s=null===(n=this.evaluatedMeshParams.sprite)||void 0===n?void 0:n.textureBinding;t.recordStart(this.instanceId,this.attributeLayout,s),this._writeGeometry(t,e,o),this._lineMeshWriter.writeLineVertices(t,p.z.fromOptimizedCIM(o,"esriGeometryPolyline"),e),t.recordEnd()}}},{key:"ensurePacked",value:function(t,e,i){(0,a.Z)((0,o.Z)(r.prototype),"ensurePacked",this).call(this,t,e,i),this._lineMeshWriter.ensurePacked(t,e,i)}},{key:"enqueueRequest",value:function(t,e,i){(0,a.Z)((0,o.Z)(r.prototype),"enqueueRequest",this).call(this,t,e,i),this._lineMeshWriter.enqueueRequest(t,e,i)}},{key:"loadDependencies",value:function(){var t=(0,n.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([(0,a.Z)((0,o.Z)(r.prototype),"loadDependencies",this).call(this),this._lineMeshWriter.loadDependencies()]);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),r}(x.nT)},11486:function(t,e,r){r.d(e,{Q:function(){return h},a:function(){return f}});var i=r(15671),n=r(43144),a=r(60136),o=r(29388),s=r(94109),u=r(53352),c=r(81308),l=r(8548),f={createComputedParams:function(t){return t},optionalAttributes:{zoomRange:{type:l.g.SHORT,count:2,packPrecisionFactor:s.JS,pack:function(t,e){var r=t.scaleInfo,i=e.tileInfo;return(0,c._f)(r,i)}}},attributes:{id:{type:l.g.UNSIGNED_BYTE,count:3,pack:"id"},bitset:{type:l.g.UNSIGNED_BYTE,count:1},pos:{type:l.g.SHORT,count:2,pack:"position",packPrecisionFactor:10},color:{type:l.g.UNSIGNED_BYTE,count:4,normalized:!0,pack:function(t){var e=t.color;return(0,c.G7)(e)}}}},h=function(t){(0,a.Z)(r,t);var e=(0,o.Z)(r);function r(){var t;return(0,i.Z)(this,r),(t=e.apply(this,arguments)).vertexSpec=f,t}return(0,n.Z)(r,[{key:"createTesselationParams",value:function(t){return null}}]),r}(u.r)},35783:function(t,e,r){r.d(e,{B2:function(){return Z},OQ:function(){return k},nT:function(){return w},s9:function(){return g}});var i=r(74165),n=r(15861),a=r(88301),o=r(61120),s=r(43144),u=r(15671),c=r(60136),l=r(29388),f=r(1413),h=r(23895),p=r(86419),v=r(11486),d=r(81308),x=r(7467),y=r(89226),m=r(17326),_=r(8548),g={createComputedParams:function(t){return t},optionalAttributes:x.bT.optionalAttributes,attributes:(0,f.Z)((0,f.Z)({},x.bT.attributes),{},{bitset:{type:_.g.UNSIGNED_BYTE,count:1,pack:function(t){return 0}},color:{type:_.g.UNSIGNED_BYTE,count:4,normalized:!0,pack:function(t){var e=t.color;return(0,d.G7)(e)}}})},k={createComputedParams:function(t){return t},optionalAttributes:x.bT.optionalAttributes,attributes:(0,f.Z)((0,f.Z)({},x.bT.attributes),{},{bitset:{type:_.g.UNSIGNED_BYTE,count:1,pack:function(t){return(0,d.u)([[m.WD,!0]])}},color:{type:_.g.UNSIGNED_BYTE,count:4,normalized:!0,pack:function(t){var e=t.outlineColor;return(0,d.G7)(e)}}})},Z=function(t){(0,c.Z)(r,t);var e=(0,l.Z)(r);function r(){var t;return(0,u.Z)(this,r),(t=e.apply(this,arguments)).vertexSpec=k,t}return(0,s.Z)(r)}(x.ti),w=function(t){(0,c.Z)(r,t);var e=(0,l.Z)(r);function r(t,i,n,a){var o;return(0,u.Z)(this,r),(o=e.call(this,t,i,n,a)).vertexSpec=g,o._lineMeshWriter=o._createOutlineWriter(t,i,n,a),o}return(0,s.Z)(r,[{key:"_createOutlineWriter",value:function(t,e,r,i){return new Z(t,e,r,i)}},{key:"_write",value:function(t,e,r){var i,n=null!==(i=null===r||void 0===r?void 0:r.asOptimized())&&void 0!==i?i:e.readGeometryForDisplay(),a=this._clip(n);a&&(t.recordStart(this.instanceId,this.attributeLayout),this._writeGeometry(t,e,a),this._lineMeshWriter.writeLineVertices(t,h.z.fromOptimizedCIM(a,"esriGeometryPolyline"),e),t.recordEnd())}},{key:"_clip",value:function(t){return t?(0,p.tZ)(t,(0,y.b8)(this.evaluatedMeshParams)):null}},{key:"ensurePacked",value:function(t,e,i){(0,a.Z)((0,o.Z)(r.prototype),"ensurePacked",this).call(this,t,e,i),this._lineMeshWriter.ensurePacked(t,e,i)}},{key:"enqueueRequest",value:function(t,e,i){(0,a.Z)((0,o.Z)(r.prototype),"enqueueRequest",this).call(this,t,e,i),this._lineMeshWriter.enqueueRequest(t,e,i)}},{key:"loadDependencies",value:function(){var t=(0,n.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([(0,a.Z)((0,o.Z)(r.prototype),"loadDependencies",this).call(this),this._lineMeshWriter.loadDependencies()]);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),r}(v.Q)},72516:function(t,e,r){r.d(e,{H:function(){return h},w:function(){return f}});var i=r(15671),n=r(43144),a=r(60136),o=r(29388),s=r(1413),u=r(94109),c=r(11486),l=r(8548),f={createComputedParams:function(t){return t},optionalAttributes:c.a.optionalAttributes,attributes:(0,s.Z)((0,s.Z)({},c.a.attributes),{},{tlbr:{count:4,type:l.g.UNSIGNED_SHORT,pack:function(t){var e=t.sprite,r=e.rect,i=e.width,n=e.height,a=r.x+u.s4,o=r.y+u.s4;return[a,o,a+i,o+n]}},inverseRasterizationScale:{count:1,type:l.g.BYTE,packPrecisionFactor:16,pack:function(t){return 1/t.sprite.rasterizationScale}}})},h=function(t){(0,a.Z)(r,t);var e=(0,o.Z)(r);function r(){var t;return(0,i.Z)(this,r),(t=e.apply(this,arguments)).vertexSpec=f,t}return(0,n.Z)(r,[{key:"_write",value:function(t,e,r){var i,n,a=null!==(i=null===r||void 0===r?void 0:r.asOptimized())&&void 0!==i?i:e.readGeometryForDisplay(),o=this._clip(a);if(o){var s=null===(n=this.evaluatedMeshParams.sprite)||void 0===n?void 0:n.textureBinding;t.recordStart(this.instanceId,this.attributeLayout,s),this._writeGeometry(t,e,o),t.recordEnd()}}}]),r}(c.Q)},5964:function(t,e,r){r.d(e,{i:function(){return m}});var i=r(74165),n=r(15861),a=r(88301),o=r(61120),s=r(43144),u=r(15671),c=r(60136),l=r(29388),f=r(1413),h=r(23895),p=r(35783),v=r(72516),d={optionalAttributes:v.w.optionalAttributes,createComputedParams:function(t){return t},attributes:(0,f.Z)((0,f.Z)({},v.w.attributes),p.s9.attributes)},x={optionalAttributes:v.w.optionalAttributes,createComputedParams:function(t){return t},attributes:(0,f.Z)((0,f.Z)({},v.w.attributes),p.OQ.attributes)},y=function(t){(0,c.Z)(r,t);var e=(0,l.Z)(r);function r(){var t;return(0,u.Z)(this,r),(t=e.apply(this,arguments)).vertexSpec=x,t}return(0,s.Z)(r)}(p.B2),m=function(t){(0,c.Z)(r,t);var e=(0,l.Z)(r);function r(){var t;return(0,u.Z)(this,r),(t=e.apply(this,arguments)).vertexSpec=d,t}return(0,s.Z)(r,[{key:"_createOutlineWriter",value:function(t,e,r,i){return new y(t,e,r,i)}},{key:"_write",value:function(t,e,r){var i,n,a=null!==(i=null===r||void 0===r?void 0:r.asOptimized())&&void 0!==i?i:e.readGeometryForDisplay(),o=this._clip(a);if(o){var s=null===(n=this.evaluatedMeshParams.sprite)||void 0===n?void 0:n.textureBinding;t.recordStart(this.instanceId,this.attributeLayout,s),this._writeGeometry(t,e,o),this._lineMeshWriter.writeLineVertices(t,h.z.fromOptimizedCIM(o,"esriGeometryPolyline"),e),t.recordEnd()}}},{key:"ensurePacked",value:function(t,e,i){(0,a.Z)((0,o.Z)(r.prototype),"ensurePacked",this).call(this,t,e,i),this._lineMeshWriter.ensurePacked(t,e,i)}},{key:"enqueueRequest",value:function(t,e,i){(0,a.Z)((0,o.Z)(r.prototype),"enqueueRequest",this).call(this,t,e,i),this._lineMeshWriter.enqueueRequest(t,e,i)}},{key:"loadDependencies",value:function(){var t=(0,n.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([(0,a.Z)((0,o.Z)(r.prototype),"loadDependencies",this).call(this),this._lineMeshWriter.loadDependencies()]);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),r}(p.nT)},81308:function(t,e,r){r.d(e,{G7:function(){return h},L:function(){return p},Lq:function(){return v},NF:function(){return l},QS:function(){return d},_f:function(){return c},kU:function(){return x},u:function(){return f}});var i=r(29439),n=r(37762),a=r(51995),o=r(10064),s=r(32718),u=r(48202);function c(t,e){return[!(null===t||void 0===t||!t.minScale)&&e.scaleToZoom(t.minScale)||0,!(null===t||void 0===t||!t.maxScale)&&e.scaleToZoom(t.maxScale)||100]}function l(t){return 1<<t}function f(t){var e,r=0,a=(0,n.Z)(t);try{for(a.s();!(e=a.n()).done;){var o=(0,i.Z)(e.value,2),s=o[0];o[1]&&(r|=1<<s)}}catch(u){a.e(u)}finally{a.f()}return r}function h(t){var e;if(!t)return[0,0,0,0];if("string"==typeof t){var r=a.Z.fromString(t);if(!r)return s.Z.getLogger("esri.views.2d.engine.webgl.shaderGraph.techniques.meshWriterUtils").errorOnce(new o.Z("mapview:mesh-processing","Unable to parse string into color",{color:t})),[0,0,0,0];e=r.toArray()}else e=t;var n=e,u=(0,i.Z)(n,4),c=u[0],l=u[1],f=u[2],h=u[3];return[c*(h/255),l*(h/255),f*(h/255),h]}function p(t){switch(t){case"butt":case u.kP.Butt:return u.RL.BUTT;case"round":case u.kP.Round:return u.RL.ROUND;case"square":case u.kP.Square:return u.RL.SQUARE}}function v(t){switch(t){case"bevel":case u.r4.Bevel:return u.AH.BEVEL;case"miter":case u.r4.Miter:return u.AH.MITER;case"round":case u.r4.Round:return u.AH.ROUND}}function d(t,e){return Math.round(Math.min(Math.sqrt(t*e),255))}function x(t,e){return Math.round(t*e)/e}},69986:function(t,e,r){r.d(e,{E:function(){return l}});var i=r(15671),n=r(43144),a=r(60136),o=r(29388),s=r(2744),u=r(8548),c={createComputedParams:function(t){return t},optionalAttributes:{},attributes:{pos:{type:u.g.SHORT,count:2,pack:"position",packPrecisionFactor:10},id:{type:u.g.UNSIGNED_BYTE,count:3,pack:"id"},bitset:{type:u.g.UNSIGNED_BYTE,count:1},offset:{type:u.g.BYTE,count:2,packAlternating:{count:4,pack:function(){return[[-1,-1],[1,-1],[-1,1],[1,1]]}}}}},l=function(t){(0,a.Z)(r,t);var e=(0,o.Z)(r);function r(){var t;return(0,i.Z)(this,r),(t=e.apply(this,arguments)).vertexSpec=c,t}return(0,n.Z)(r,[{key:"_write",value:function(t,e){var r=this;t.recordStart(this.instanceId,this.attributeLayout);var i=e.getDisplayId();if("esriGeometryPoint"===e.geometryType){var n=e.readXForDisplay(),a=e.readYForDisplay();this._writeQuad(t,i,n,a)}else if("esriGeometryMultipoint"===e.geometryType){var o=e.readGeometryForDisplay();null===o||void 0===o||o.forEachVertex((function(e,n){e>=0&&e<=512&&n>=0&&n<=512&&r._writeQuad(t,i,e,n)}))}t.recordEnd()}},{key:"_writeQuad",value:function(t,e,r,i){var n=t.vertexCount();this._writeVertex(t,e,r,i),t.indexWrite(n+0),t.indexWrite(n+1),t.indexWrite(n+2),t.indexWrite(n+1),t.indexWrite(n+3),t.indexWrite(n+2)}}]),r}(s.c)},7467:function(t,e,r){r.d(e,{bT:function(){return m},ti:function(){return g}});var i=r(37762),n=r(60136),a=r(29388),o=r(43144),s=r(15671),u=r(17842),c=r(23895),l=r(94109),f=r(82010),h=r(86419),p=r(81308),v=r(2744),d=r(89226),x=r(8548),y=(0,o.Z)((function t(){(0,s.Z)(this,t),this.extrusionOffsetX=0,this.extrusionOffsetY=0,this.normalX=0,this.normalY=0,this.directionX=0,this.directionY=0,this.distance=0})),m={createComputedParams:function(t){return t},optionalAttributes:{zoomRange:{type:x.g.SHORT,count:2,packPrecisionFactor:l.JS,pack:function(t,e){var r=t.scaleInfo,i=e.tileInfo;return(0,p._f)(r,i)}}},attributes:{id:{type:x.g.UNSIGNED_BYTE,count:3,pack:"id"},pos:{type:x.g.SHORT,count:2,pack:"position",packPrecisionFactor:10},bitset:{type:x.g.UNSIGNED_BYTE,count:1},color:{type:x.g.UNSIGNED_BYTE,count:4,normalized:!0,pack:function(t){var e=t.color;return(0,p.G7)(e)}},offset:{type:x.g.BYTE,count:2,packPrecisionFactor:16,packTessellation:function(t){var e=t.extrusionOffsetX,r=t.extrusionOffsetY;return[(0,p.kU)(e,16),(0,p.kU)(r,16)]}},normal:{type:x.g.BYTE,count:2,packPrecisionFactor:16,packTessellation:function(t){var e=t.normalX,r=t.normalY;return[(0,p.kU)(e,16),(0,p.kU)(r,16)]}},halfWidth:{type:x.g.HALF_FLOAT,count:1,pack:function(t){var e=t.width;return(0,u.F2)(.5*e)}},referenceHalfWidth:{type:x.g.HALF_FLOAT,count:1,pack:function(t){var e=t.referenceWidth;return(0,u.F2)(.5*e)}}}},_=(0,o.Z)((function t(){(0,s.Z)(this,t),this.id=0,this.bitset=0,this.indexCount=0,this.vertexCount=0,this.vertexFrom=0,this.vertexBounds=0})),g=function(t){(0,n.Z)(r,t);var e=(0,a.Z)(r);function r(t,i,n,a){var o;return(0,s.Z)(this,r),(o=e.call(this,t,i,n,a)).vertexSpec=m,o._currentWrite=new _,o._tessellationOptions={halfWidth:0,pixelCoordRatio:1,offset:0,wrapDistance:65535,textured:!1},o._tessParams=new y,o._initializeTessellator(),o}return(0,o.Z)(r,[{key:"writeLineVertices",value:function(t,e,r){var i=this._getLines(e);null!=i&&this._writeVertices(t,r,i)}},{key:"_initializeTessellator",value:function(){this._lineTessellator=new f.z(this._writeTesselatedVertex.bind(this),this._writeTriangle.bind(this),!0)}},{key:"_write",value:function(t,e,r){var i=null!==r&&void 0!==r?r:c.z.fromFeatureSetReaderCIM(e);i&&this._writeGeometry(t,e,i)}},{key:"_writeGeometry",value:function(t,e,r,i){t.recordStart(this.instanceId,this.attributeLayout,i),this.writeLineVertices(t,r,e),t.recordEnd()}},{key:"_getLines",value:function(t){return(0,h.dx)(t,(0,d.b8)(this.evaluatedMeshParams))}},{key:"_writeVertices",value:function(t,e,r){var n=this._currentWrite,a=this._tessellationOptions,o=this.evaluatedMeshParams,s=o.width,c=o.capType,f=o.joinType,h=o.miterLimit,v=o.hasSizeVV,d=(0,u.F2)(.5*s);a.halfWidth=d,a.capType=(0,p.L)(c),a.joinType=(0,p.Lq)(f),a.miterLimit=h;var x=!v;n.out=t,n.id=e.getDisplayId(),n.vertexCount=0,n.indexCount=0,n.vertexFrom=t.vertexCount(),n.vertexBounds=x&&d<l.do?0:1;var y,m=(0,i.Z)(r);try{for(m.s();!(y=m.n()).done;){var _=y.value,g=_.line,k=_.start;a.initialDistance=k%65535,this._lineTessellator.tessellate(g,a,x)}}catch(Z){m.e(Z)}finally{m.f()}}},{key:"_writeTesselatedVertex",value:function(t,e,r,i,n,a,o,s,u,c,l){var f=this._currentWrite,h=f.out,p=f.id,v=f.vertexBounds;return this.hasEffects&&h.recordBounds(t,e,v,v),this._tessParams.extrusionOffsetX=o,this._tessParams.extrusionOffsetY=s,this._tessParams.normalX=u,this._tessParams.normalY=c,this._tessParams.directionX=n,this._tessParams.directionY=a,this._tessParams.distance=l,this._writeVertex(h,p,t,e,this._tessParams),this._currentWrite.vertexFrom+this._currentWrite.vertexCount++}},{key:"_writeTriangle",value:function(t,e,r){var i=this._currentWrite.out;i.indexEnsureSize(3),i.indexWrite(t),i.indexWrite(e),i.indexWrite(r),this._currentWrite.indexCount+=3}}]),r}(v.c)},4297:function(t,e,r){r.d(e,{I:function(){return d}});var i=r(15671),n=r(43144),a=r(60136),o=r(29388),s=r(1413),u=r(23895),c=r(94109),l=r(81308),f=r(7467),h=r(17326),p=r(8548),v={createComputedParams:function(t){return t},optionalAttributes:f.bT.optionalAttributes,attributes:(0,s.Z)((0,s.Z)({},f.bT.attributes),{},{bitset:{type:p.g.UNSIGNED_BYTE,count:1,pack:function(t){var e=t.shouldSampleAlphaOnly,r=t.shouldScaleDash,i=t.isSDF;return(0,l.u)([[h.GS,e],[h.Wq,r],[h.B7,i]])}},tlbr:{type:p.g.UNSIGNED_SHORT,count:4,pack:function(t){var e=t.sprite,r=e.rect,i=e.width,n=e.height,a=r.x+c.s4,o=r.y+c.s4;return[a,o,a+i,o+n]}},accumulatedDistance:{type:p.g.UNSIGNED_SHORT,count:1,packTessellation:function(t){return t.distance}},segmentDirection:{type:p.g.BYTE,count:2,packPrecisionFactor:16,packTessellation:function(t){return[t.directionX,t.directionY]}}})},d=function(t){(0,a.Z)(r,t);var e=(0,o.Z)(r);function r(t,n,a,o){var s;return(0,i.Z)(this,r),(s=e.call(this,t,n,a,o)).vertexSpec=v,s._tessellationOptions.textured=!0,s}return(0,n.Z)(r,[{key:"_write",value:function(t,e,r){var i=null!==r&&void 0!==r?r:u.z.fromFeatureSetReaderCIM(e);if(i){var n=this.evaluatedMeshParams.sprite;this._writeGeometry(t,e,i,null===n||void 0===n?void 0:n.textureBinding)}}}]),r}(f.ti)},99536:function(t,e,r){r.d(e,{A:function(){return E}});var i=r(29439),n=r(15671),a=r(43144),o=r(60136),s=r(29388),u=r(17842),c=r(50264),l=r(35609),f=r(13611),h=r(23895),p=r(51750),v=r(48202),d=r(8827),x=r(94109),y=r(81308),m=r(31027),_=function(){function t(e,r,i,a,o,s,u){(0,n.Z)(this,t),this.sprite=e,this.color=r,this.outlineColor=i,this.minPixelBuffer=a,this.placement=o,this.scaleInfo=s,this.effects=u,this.rawWidth=0,this.rawHeight=0,this.angle=0,this.outlineSize=0,this.referenceSize=0,this.sizeRatio=1,this.alignment=v.v2.SCREEN,this.scaleSymbolsProportionally=!1,this.overrideOutlineColor=!1,this.colorLocked=!1,this.anchorX=0,this.anchorY=0,this.computedWidth=0,this.computedHeight=0,this.texXmin=0,this.texYmin=0,this.texXmax=0,this.texYmax=0,this.offsetX=0,this.offsetY=0,this.rotateClockwise=!0}return(0,a.Z)(t,[{key:"boundsInfo",get:function(){return{size:Math.max(this.computedHeight,this.computedWidth),offsetX:this.offsetX,offsetY:this.offsetY}}},{key:"_computeSize",value:function(t,e){var r=t.sprite,i=t.hasSizeVV,n=!!r.sdf,a=this.rawWidth,o=this.rawHeight,s=this.sizeRatio,u=this.outlineSize,c=a*s,l=o*s;if(n&&!i){var f=e&&a>o?c:a,h=o,p=u+2;this.computedWidth=Math.min(f+p,c),this.computedHeight=Math.min(h+p,l)}else this.computedWidth=c,this.computedHeight=l;var v=n?Math.max(r.width,r.height)/Math.max(c,l):1,d=.5*(c-this.computedWidth)*v,y=.5*(l-this.computedHeight)*v,m=r.rect.x+x.s4+d,_=r.rect.y+x.s4+y,g=m+r.width-2*d,k=_+r.height-2*y;this.texXmin=Math.floor(m),this.texYmin=Math.floor(_),this.texXmax=Math.ceil(g),this.texYmax=Math.ceil(k),this.computedWidth*=(this.texXmax-this.texXmin)/(g-m),this.computedHeight*=(this.texYmax-this.texYmin)/(k-_),this.anchorX*=c/this.computedWidth,this.anchorY*=l/this.computedHeight}}],[{key:"from",value:function(t){return"width"in t?this.fromSimpleMeshParams(t):this.fromComplexMeshParams(t)}},{key:"fromSimpleMeshParams",value:function(e){var r=new t(e.sprite,e.color,e.outlineColor,e.minPixelBuffer,e.placement,e.scaleInfo,e.effects),i=e.type,n=e.width,a=e.height,o=e.angle,s=e.alignment,c=e.outlineSize,l=e.referenceSize,f=e.sprite,h=e.overrideOutlineColor;r.rawWidth=(0,u.F2)(n),r.rawHeight=(0,u.F2)(a),r.angle=o,r.alignment=s,r.outlineSize=(0,u.F2)(c),r.referenceSize=(0,u.F2)(l),r.overrideOutlineColor=h,r.offsetX=(0,u.F2)(e.offsetX),r.offsetY=(0,u.F2)(e.offsetY),"simple"!==i||f.sdf||(r.rawWidth=f.width,r.rawHeight=f.height);return r.sizeRatio=f.sdf?2:1,r._computeSize(e,!1),r}},{key:"fromComplexMeshParams",value:function(e){var r=new t(e.sprite,e.color,e.outlineColor,e.minPixelBuffer,e.placement,e.scaleInfo,e.effects),i=e.alignment,n=e.transforms,a=e.size,o=e.scaleX,s=e.anchorX,c=e.anchorY,l=e.angle,f=e.colorLocked,h=e.frameHeight,p=e.widthRatio,v=e.offsetX,d=e.offsetY,x=e.outlineSize,y=e.referenceSize,_=e.scaleFactor,g=e.sizeRatio,k=e.isAbsoluteAnchorPoint,Z=e.rotateClockwise,w=e.scaleSymbolsProportionally,b=e.sprite;if(n&&n.infos.length>0){var T=(0,m.yl)(a,l,Z,v,d,n);a=T.size,l=T.rotation,v=T.offsetX,d=T.offsetY,Z=!1}_&&(a*=_,v*=_,d*=_);var S=o*(b.width/b.height);r.alignment=i,r.rawHeight=(0,u.F2)(a),r.rawWidth=r.rawHeight*S,r.referenceSize=(0,u.F2)(y),r.sizeRatio=g,r.angle=l,r.rotateClockwise=Z,r.anchorX=s,r.anchorY=c,r.offsetX=(0,u.F2)(v),r.offsetY=(0,u.F2)(d),k&&a&&(b.sdf?r.anchorX=s/(a*p):r.anchorX=s/(a*S),r.anchorY=c/a);var P=w&&h?a/h:1;return r.outlineSize=0===x||isNaN(x)?0:(0,u.F2)(x)*P,r.scaleSymbolsProportionally=w,r.colorLocked=f,r._computeSize(e,!0),r}}]),t}(),g=r(70467),k=r(12914),Z=r(2744),w=r(8548),b=3.14159265359/180,T=128/Math.PI;function S(t){return function(t,e){return t%=e,Math.abs(t>=0?t:t+e)}(t*T,256)}var P={createComputedParams:function(t){return _.from(t)},optionalAttributes:{zoomRange:{type:w.g.SHORT,count:2,packPrecisionFactor:x.JS,pack:function(t,e){var r=t.scaleInfo,i=e.tileInfo;return(0,y._f)(r,i)}}},attributes:{pos:{type:w.g.SHORT,count:2,pack:"position",packPrecisionFactor:10},id:{type:w.g.UNSIGNED_BYTE,count:3,pack:"id"},bitset:{type:w.g.UNSIGNED_BYTE,count:1,pack:function(t){var e=t.sprite,r=t.alignment,i=t.scaleSymbolsProportionally,n=t.overrideOutlineColor,a=t.colorLocked,o=0;return e.sdf&&(o|=(0,y.NF)(g.m.bitset.isSDF)),r===v.v2.MAP&&(o|=(0,y.NF)(g.m.bitset.isMapAligned)),i&&(o|=(0,y.NF)(g.m.bitset.scaleSymbolsProportionally)),n&&(o|=(0,y.NF)(g.m.bitset.overrideOutlineColor)),a&&(o|=(0,y.NF)(g.m.bitset.colorLocked)),o}},offset:{type:w.g.SHORT,count:2,packPrecisionFactor:4,packAlternating:{count:4,pack:function(t){var e=t.angle,r=t.computedWidth,i=t.computedHeight,n=t.anchorX,a=t.anchorY,o=function(t,e,r,i){var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=(0,l.Ue)(),o=n?1:-1;return(0,c.yR)(a),(e||r)&&(0,c.Iu)(a,a,[e,-r]),i&&(0,c.U1)(a,a,o*b*-i),a}(0,t.offsetX,t.offsetY,-e,t.rotateClockwise),s=-(.5+n)*r,u=-(.5-a)*i,h=[s,u],p=[s+r,u],v=[s,u+i],d=[s+r,u+i];return(0,f.iu)(h,h,o),(0,f.iu)(p,p,o),(0,f.iu)(v,v,o),(0,f.iu)(d,d,o),[h,p,v,d]}}},textureUV:{type:w.g.SHORT,count:2,packPrecisionFactor:4,packAlternating:{count:4,pack:function(t){var e=t.texXmax,r=t.texXmin,i=t.texYmax,n=t.texYmin;return[[r,n],[e,n],[r,i],[e,i]]}}},color:{type:w.g.UNSIGNED_BYTE,count:4,normalized:!0,pack:function(t){var e=t.color;return(0,y.G7)(e)}},outlineColor:{type:w.g.UNSIGNED_BYTE,count:4,normalized:!0,pack:function(t){var e=t.outlineColor;return(0,y.G7)(e)}},sizing:{type:w.g.UNSIGNED_BYTE,count:4,pack:function(t){var e=t.rawWidth,r=t.rawHeight,i=t.outlineSize,n=t.referenceSize,a=Math.max(e,r);return[(0,y.QS)(a,128),(0,y.QS)(i,128),(0,y.QS)(n,128),0]}},placementAngle:{type:w.g.UNSIGNED_BYTE,count:1,packTessellation:function(t){return S(t.placementAngle)}},sizeRatio:{type:w.g.UNSIGNED_SHORT,count:1,packPrecisionFactor:64,pack:function(t){return t.sizeRatio}}}},E=function(t){(0,o.Z)(r,t);var e=(0,s.Z)(r);function r(){var t;return(0,n.Z)(this,r),(t=e.apply(this,arguments)).vertexSpec=P,t}return(0,a.Z)(r,[{key:"getBoundsInfo",value:function(){return this.evaluatedMeshParams.boundsInfo}},{key:"_write",value:function(t,e,r){var n,a=this,o=null===(n=this.evaluatedMeshParams.sprite)||void 0===n?void 0:n.textureBinding,s=e.getDisplayId();t.recordStart(this.instanceId,this.attributeLayout,o);var u=this.evaluatedMeshParams.minPixelBuffer,c=Math.max(this.evaluatedMeshParams.computedWidth,u),l=Math.max(this.evaluatedMeshParams.computedHeight,u),f=this.evaluatedMeshParams.offsetX,h=-this.evaluatedMeshParams.offsetY;if(null!=this.evaluatedMeshParams.placement)this._writePlacedMarkers(t,e,r,c,l);else if(null!==r&&void 0!==r&&r.nextPath()){r.nextPoint();var v=r.x,d=r.y;t.recordBounds(v+f,d+h,c,l),this._writeQuad(t,s,v,d)}else if("esriGeometryPolygon"===e.geometryType){var x=e.readCentroidForDisplay();if(!x)return;var y=(0,i.Z)(x.coords,2),m=y[0],_=y[1];t.recordBounds(m+f,_+h,c,l),this._writeQuad(t,s,m,_)}else if("esriGeometryPoint"===e.geometryType){var g=e.readXForDisplay(),k=e.readYForDisplay();t.recordBounds(g+f,k+h,c,l),this._writeQuad(t,s,g,k)}else{var Z=e.readGeometryForDisplay();null===Z||void 0===Z||Z.forEachVertex((function(e,r){t.recordBounds(e+f,r+h,c,l),Math.abs(e)>p.L||Math.abs(r)>p.L||a._writeQuad(t,s,e,r)}))}t.recordEnd()}},{key:"_writePlacedMarkers",value:function(t,e,r,i,n){var a,o=null!==r&&void 0!==r?r:null===(a=h.z.fromFeatureSetReaderCIM(e))||void 0===a?void 0:a.clone();if(o){var s=d.i.getPlacement(o,-1,this.evaluatedMeshParams.placement,(0,u.F2)(1),t.id,(0,k.n)());if(s)for(var c=e.getDisplayId(),l=s.next(),f=this.evaluatedMeshParams.offsetX,v=-this.evaluatedMeshParams.offsetY;null!=l;){var x=l.tx,y=-l.ty;if(Math.abs(x)>p.L||Math.abs(y)>p.L)l=s.next();else{var m=-l.getAngle();t.recordBounds(x+f,y+v,i,n),this._writeQuad(t,c,x,y,m),l=s.next()}}}}},{key:"_writeQuad",value:function(t,e,r,i,n){var a=t.vertexCount(),o=null==n?null:{placementAngle:n};this._writeVertex(t,e,r,i,o),t.indexWrite(a+0),t.indexWrite(a+1),t.indexWrite(a+2),t.indexWrite(a+1),t.indexWrite(a+3),t.indexWrite(a+2)}}]),r}(Z.c)},2744:function(t,e,r){r.d(e,{c:function(){return k}});var i=r(74165),n=r(15861),a=r(15671),o=r(43144),s=r(37762),u=r(23895),c=r(95954),l=r(12914),f=r(73271),h=r(1413),p=r(93433),v=(r(93169),r(89226)),d=r(8548);function x(t){switch(t){case d.g.BYTE:case d.g.UNSIGNED_BYTE:return 1;case d.g.SHORT:case d.g.UNSIGNED_SHORT:case d.g.HALF_FLOAT:return 2;case d.g.FLOAT:case d.g.INT:case d.g.UNSIGNED_INT:return 4}}var y=function(){function t(e,r,i,n,o,s){(0,a.Z)(this,t),this.position=e,this.id=r,this.bitset=i,this.standardAttributes=n,this.stride=o,this.packVertexCount=s,n.push(i),this._attributes=[e,r,i].concat((0,p.Z)(n))}return(0,o.Z)(t,[{key:"attributeLayout",get:function(){if(!this._attributeLayout){var t=(0,v.ig)(this._attributes),e=this._attributes.map((function(t){var e;return{name:t.name,count:t.count,offset:t.offset,type:t.type,packPrecisionFactor:t.packPrecisionFactor,normalized:null!==(e=t.normalized)&&void 0!==e&&e}}));this._attributeLayout={attributes:e,hash:t,stride:this.stride}}return this._attributeLayout}}],[{key:"fromVertexSpec",value:function(e,r){var i,n,a,o=e.attributes,u=e.optionalAttributes,c=[];for(var l in o){var f=o[l];"position"===f.pack?i=(0,h.Z)((0,h.Z)({},f),{},{name:l,offset:0}):"id"===f.pack?n=(0,h.Z)((0,h.Z)({},f),{},{name:l,offset:4}):"bitset"===l?a=(0,h.Z)((0,h.Z)({},f),{},{name:l,offset:7}):c.push((0,h.Z)((0,h.Z)({},f),{},{name:l}))}for(var p in u)if(!0===r[p]){var v=u[p];c.push((0,h.Z)((0,h.Z)({},v),{},{name:p}))}var d,y=function(t){var e,r=[],i=[],n=[],a=(0,s.Z)(t);try{for(a.s();!(e=a.n()).done;){var o=e.value,u=x(o.type)*o.count;switch(u%2||u%4||4){case 4:r.push(o);continue;case 2:i.push(o);continue;case 1:n.push(o);continue;default:throw new Error("Found unexpected dataType byte count")}}}catch(c){a.e(c)}finally{a.f()}return r.push.apply(r,i),r.push.apply(r,n),r}(c),m=[],_=8,g=1,k=(0,s.Z)(y);try{for(k.s();!(d=k.n()).done;){var Z=d.value;m.push((0,h.Z)((0,h.Z)({},Z),{},{offset:_})),_+=x(Z.type)*Z.count,Z.packAlternating&&(g=Math.max(Z.packAlternating.count,g))}}catch(T){k.e(T)}finally{k.f()}var w=Uint32Array.BYTES_PER_ELEMENT,b=_%w;return new t(i,n,a,m,_+(b?w-b:0),g)}}]),t}(),m=r(70966),_=function(){function t(e){(0,a.Z)(this,t),this._spec=e,this._packed=new Uint8Array(this._spec.stride*this._spec.packVertexCount),this._packedU32View=new Uint32Array(this._packed.buffer),this._dataView=new DataView(this._packed.buffer)}return(0,o.Z)(t,[{key:"attributeLayout",get:function(){return this._spec.attributeLayout}},{key:"stride",get:function(){return this._spec.stride}},{key:"writeVertex",value:function(t,e,r,i,n,a){for(var o=0;o<this._spec.packVertexCount;o++){var u=o*this._spec.stride;this._packPosition(r,i,u),this._packId(e,u);var c=this._spec.bitset;if(a){if(c.packTessellation){var l=c.packTessellation(a,n);this._pack(l,c,u)}var f,h=(0,s.Z)(this._spec.standardAttributes);try{for(h.s();!(f=h.n()).done;){var p,v=f.value;if(null!=v.packTessellation){var d=v.packTessellation(a,n);this._pack(d,v,u)}else if(null!==(p=v.packAlternating)&&void 0!==p&&p.packTessellation)for(var x=v.packAlternating.packTessellation(a,n),y=0;y<this._spec.packVertexCount;y++){var m=x[y];this._pack(m,v,y*this._spec.stride)}}}catch(_){h.e(_)}finally{h.f()}}}t.vertexWriteRegion(this._packedU32View)}},{key:"pack",value:function(t,e){var r,i=(0,s.Z)(this._spec.standardAttributes);try{for(i.s();!(r=i.n()).done;){var n,a=r.value;if(a.pack&&"string"!=typeof a.pack)for(var o=a.pack(t,e),u=0;u<this._spec.packVertexCount;u++)this._pack(o,a,u*this._spec.stride);else if(null!==(n=a.packAlternating)&&void 0!==n&&n.pack)for(var c=a.packAlternating.pack(t,e),l=0;l<this._spec.packVertexCount;l++){var f=c[l];this._pack(f,a,l*this._spec.stride)}}}catch(h){i.e(h)}finally{i.f()}}},{key:"_packPosition",value:function(t,e,r){var i,n=this._spec.position.offset,a=null!==(i=this._spec.position.packPrecisionFactor)&&void 0!==i?i:1,o=(0,f.UJ)(t*a,e*a);this._dataView.setUint32(r+n,o,!0)}},{key:"_packId",value:function(t,e){var r,i=t*(null!==(r=this._spec.id.packPrecisionFactor)&&void 0!==r?r:1),n=4278190080&this._dataView.getUint32(e+this._spec.id.offset,!0);this._dataView.setUint32(e+this._spec.id.offset,i|n,!0)}},{key:"_pack",value:function(t,e,r){(0,m.G)(this._dataView,t,e,r)}}],[{key:"fromVertexSpec",value:function(e,r){return new t(y.fromVertexSpec(e,r))}}]),t}();function g(t){if(!t)return!1;var e,r=(0,s.Z)(t);try{for(r.s();!(e=r.n()).done;){switch(e.value.effect.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}}}catch(i){r.e(i)}finally{r.f()}return!1}var k=function(){function t(e,r,i,n){var o=this;(0,a.Z)(this,t),this._instanceId=e,this._evaluator=r,this._enabledOptionalAttributes=i,this._viewParams=n,this._evaluator.evaluator=function(t){return o.vertexSpec.createComputedParams(t)}}return(0,o.Z)(t,[{key:"_vertexPack",get:function(){if(!this._cachedVertexPack){var t=_.fromVertexSpec(this.vertexSpec,this._enabledOptionalAttributes);this._evaluator.hasDynamicProperties||t.pack(this._evaluator.evaluatedMeshParams,this._viewParams),this._cachedVertexPack=t}return this._cachedVertexPack}},{key:"evaluatedMeshParams",get:function(){return this._evaluator.evaluatedMeshParams}},{key:"hasEffects",get:function(){return!!this.evaluatedMeshParams.effects}},{key:"instanceId",get:function(){return this._instanceId}},{key:"attributeLayout",get:function(){return this._vertexPack.attributeLayout}},{key:"setReferences",value:function(t){this._references=t}},{key:"getBoundsInfo",value:function(){return null}},{key:"getTileInfo",value:function(){return this._viewParams.tileInfo}},{key:"loadDependencies",value:function(){var t=(0,n.Z)((0,i.Z)().mark((function t(){var e;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=g(null===(e=this._evaluator.inputMeshParams.effects)||void 0===e?void 0:e.effectInfos),!t.t0){t.next=4;break}return t.next=4,(0,l.A)();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"enqueueRequest",value:function(t,e,r){this._evaluator.hasDynamicProperties&&this._evaluator.enqueueRequest(t,e,r)}},{key:"write",value:function(t,e,r,i,n){var a;this.ensurePacked(e,r,i);var o=this.evaluatedMeshParams.effects;if(o&&0!==o.length){var s=null===(a=r.readGeometryForDisplay())||void 0===a?void 0:a.clone();if(s){var f=u.z.fromOptimizedCIM(s,r.geometryType),h=(0,l.n)();f.invertY();for(var p,v=t.id||"",d=c.j.executeEffects(o,f,v,h);p=d.next();)p.invertY(),this._write(t,r,p,n)}}else this._write(t,r,void 0,n)}},{key:"ensurePacked",value:function(t,e,r){if(this._evaluator.hasDynamicProperties){var i=this._evaluator.evaluateMeshParams(t,e,r);this._vertexPack.pack(i,this._viewParams)}}},{key:"_writeVertex",value:function(t,e,r,i,n){var a=this.evaluatedMeshParams;this._vertexPack.writeVertex(t,e,r,i,a,n)}}]),t}()},12914:function(t,e,r){r.d(e,{A:function(){return s},n:function(){return o}});var i=r(74165),n=r(15861),a=null;function o(){return a}function s(){return u.apply(this,arguments)}function u(){return(u=(0,n.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([r.e(99058),r.e(18241)]).then(r.bind(r,50309));case 2:a=t.sent;case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},16336:function(t,e,r){r.d(e,{q:function(){return h}});var i=r(15671),n=r(43144),a=r(60136),o=r(29388),s=r(17842),u=r(81308),c=r(2744),l=r(8548),f={createComputedParams:function(t){return t},optionalAttributes:{},attributes:{pos:{type:l.g.SHORT,count:2,packPrecisionFactor:10,pack:"position"},id:{type:l.g.UNSIGNED_BYTE,count:3,pack:"id"},bitset:{type:l.g.UNSIGNED_BYTE,count:1,pack:function(t){return 0}},offset:{type:l.g.SHORT,count:2,packPrecisionFactor:16,packAlternating:{count:4,pack:function(t){var e=t.size,r=(0,s.F2)(e),i=-r/2,n=-r/2;return[[i,n],[i+r,n],[i,n+r],[i+r,n+r]]}}},texCoords:{type:l.g.SHORT,count:2,packPrecisionFactor:4,packAlternating:{count:4,pack:function(){return[[0,1],[1,1],[0,0],[1,0]]}}},size:{type:l.g.UNSIGNED_BYTE,count:2,pack:function(t){var e=t.size;return[e,e]}},referenceSize:{type:l.g.UNSIGNED_BYTE,count:1,pack:function(t){var e=t.size;return(0,s.F2)(e)}},zoomRange:{type:l.g.UNSIGNED_BYTE,count:2,pack:function(t,e){var r=t.scaleInfo,i=e.tileInfo;return(0,u._f)(r,i)}}}},h=function(t){(0,a.Z)(r,t);var e=(0,o.Z)(r);function r(){var t;return(0,i.Z)(this,r),(t=e.apply(this,arguments)).vertexSpec=f,t}return(0,n.Z)(r,[{key:"_write",value:function(t,e){var r,i,n=e.getDisplayId(),a=this.evaluatedMeshParams.minPixelBuffer,o=Math.max((0,s.F2)(this.evaluatedMeshParams.size),a);if("esriGeometryPoint"===e.geometryType)r=e.readXForDisplay(),i=e.readYForDisplay();else{var u=e.readCentroidForDisplay();if(!u)return;r=null===u||void 0===u?void 0:u.coords[0],i=null===u||void 0===u?void 0:u.coords[1]}t.recordStart(this.instanceId,this.attributeLayout),t.recordBounds(r,i,o,o);var c=t.vertexCount();this._writeVertex(t,n,r,i),t.indexWrite(c+0),t.indexWrite(c+1),t.indexWrite(c+2),t.indexWrite(c+1),t.indexWrite(c+3),t.indexWrite(c+2),t.recordEnd()}}]),r}(c.c)},24799:function(t,e,r){r.d(e,{lW:function(){return G},PW:function(){return S}});var i=r(1413),n=r(37762),a=r(29439),o=r(15671),s=r(43144),u=r(88301),c=r(61120),l=r(60136),f=r(29388),h=r(16889),p=r(17842),v=r(23895),d=r(8827),x=r(38999),y=r(94109),m=r(62106),_=r(81308),g=r(12914),k=r(2744),Z=r(17326),w=r(31027),b=(0,s.Z)((function t(e){(0,o.Z)(this,t);var r=e.offsetX,i=e.offsetY,n=e.postAngle,a=e.fontSize,s=e.scaleFactor,u=e.transforms;if(this.offsetX=r,this.offsetY=i,this.postAngle=n,this.fontSize=Math.min(a,96),this.transforms=u,u&&u.infos.length>1){var c=(0,w.yl)(a,n,!1,r,i,u);this.fontSize=Math.min(c.size,96),this.postAngle=c.rotation,this.offsetX=c.offsetX,this.offsetY=c.offsetY}s&&(this.fontSize*=s,this.offsetX*=s,this.offsetY*=s)})),T=r(8548),S=28,P=[4,4],E=[16,4],M={topLeft:E,topRight:E,bottomLeft:E,bottomRight:E},N=[4,2],F=[4,6],z={topLeft:N,topRight:N,bottomLeft:F,bottomRight:F},A={topLeft:N,topRight:F,bottomLeft:N,bottomRight:F},I={topLeft:F,topRight:F,bottomLeft:P,bottomRight:P},L={topLeft:P,topRight:P,bottomLeft:F,bottomRight:F},R={topLeft:F,topRight:P,bottomLeft:F,bottomRight:P},B={topLeft:P,topRight:F,bottomLeft:P,bottomRight:F},D={createComputedParams:function(t){return t},optionalAttributes:{zoomRange:{type:T.g.UNSIGNED_SHORT,count:2,packPrecisionFactor:y.JS,packTessellation:function(t){return[t.minZoom||0,t.maxZoom||S]}},clipAngle:{type:T.g.UNSIGNED_BYTE,count:1,packTessellation:function(t){var e=t.clipAngle;return Y(e||0)}},referenceSymbol:{type:T.g.BYTE,count:4,packPrecisionFactor:1,packTessellation:function(t,e){if(!t.referenceBounds)return[0,0,0,0];var r=(0,x.g)(e.horizontalAlignment),i=(0,x.tf)(e.verticalAlignment),n=t.referenceBounds,a=n.offsetX,o=n.offsetY,s=n.size;return[(0,p.F2)(a),-(0,p.F2)(o),(0,p.F2)(s),r+1<<2|i+1]}}},attributes:{pos:{type:T.g.SHORT,count:2,pack:"position",packPrecisionFactor:10},id:{type:T.g.UNSIGNED_BYTE,count:3,pack:"id"},bitset:{type:T.g.UNSIGNED_BYTE,count:1,packTessellation:function(t){var e=t.isBackground,r=t.mapAligned;return(0,_.u)([[Z.mL,e],[Z.$r,!!r]])}},offset:{type:T.g.SHORT,count:2,packPrecisionFactor:8,packAlternating:{count:4,packTessellation:function(t){var e=t.offsets,r=e.bottomLeft,i=e.bottomRight;return[e.topLeft,e.topRight,r,i]}}},textureUV:{type:T.g.SHORT,count:2,packPrecisionFactor:4,packAlternating:{count:4,packTessellation:function(t){var e=t.texcoords,r=e.bottomLeft,i=e.bottomRight;return[e.topLeft,e.topRight,r,i]}}},color:{type:T.g.UNSIGNED_BYTE,count:4,normalized:!0,packTessellation:function(t){return t.color}},fontSize:{type:T.g.UNSIGNED_SHORT,count:1,packPrecisionFactor:4,packTessellation:function(t){var e=t.fontSize;return(0,p.F2)(e)}},referenceSize:{type:T.g.UNSIGNED_BYTE,count:1,packPrecisionFactor:4,packTessellation:function(t,e){var r=t.fontSize,i=e.referenceSize;return(0,p.F2)(null!==i&&void 0!==i?i:r)}},haloColor:{type:T.g.UNSIGNED_BYTE,count:4,normalized:!0,pack:function(t){var e=t.haloColor;return(0,_.G7)(e)}},haloFontSize:{type:T.g.UNSIGNED_SHORT,count:1,packPrecisionFactor:4,pack:function(t){var e=t.haloFontSize;return(0,p.F2)(e)}}}},G=function(t){(0,l.Z)(r,t);var e=(0,f.Z)(r);function r(){var t;return(0,o.Z)(this,r),(t=e.apply(this,arguments)).vertexSpec=D,t._textMeshParamsPropsInitialized=!1,t}return(0,s.Z)(r,[{key:"ensurePacked",value:function(t,e,i){(0,u.Z)((0,c.Z)(r.prototype),"ensurePacked",this).call(this,t,e,i),this._textMeshParamsPropsInitialized&&!this._evaluator.hasDynamicProperties||(this._textMeshTransformProps=new b(this.evaluatedMeshParams),this._textMeshParamsPropsInitialized=!0)}},{key:"_write",value:function(t,e,r){var i=this,n=this._getShaping();if(n){var o=e.getDisplayId();if(null!=this.evaluatedMeshParams.placement)return this._writePlacedTextMarkers(t,e,n,r);if(null!==r&&void 0!==r&&r.nextPath())return r.nextPoint(),this._writeGlyphs(t,o,r.x,r.y,n,0);if("esriGeometryPolygon"===e.geometryType){var s=e.readCentroidForDisplay();if(!s)return;var u=(0,a.Z)(s.coords,2),c=u[0],l=u[1];return this._writeGlyphs(t,o,c,l,n,0)}if("esriGeometryMultipoint"!==e.geometryType){var f=e.readXForDisplay(),h=e.readYForDisplay();return this._writeGlyphs(t,o,f,h,n,0)}var p=e.readGeometryForDisplay();null===p||void 0===p||p.forEachVertex((function(e,r){return i._writeGlyphs(t,o,e,r,n,0)}))}}},{key:"_writePlacedTextMarkers",value:function(t,e,r,i){var n=null!==i&&void 0!==i?i:v.z.fromFeatureSetReaderCIM(e);if(n){var a=d.i.getPlacement(n,-1,this.evaluatedMeshParams.placement,(0,p.F2)(1),t.id,(0,g.n)());if(a)for(var o=e.getDisplayId(),s=a.next();null!=s;){var u=s.tx,c=-s.ty,l=-s.getAngle();this._writeGlyphs(t,o,u,c,r,l),s=a.next()}}}},{key:"_getShaping",value:function(t){var e,r=this._textMeshTransformProps,i=this.evaluatedMeshParams;if(null===(e=i.glyphs)||void 0===e||!e.glyphs.length)return null;var n=Math.round((0,p.F2)(r.fontSize)),a=(0,p.F2)(r.offsetX),o=(0,p.F2)(r.offsetY),s=(0,h.uZ)((0,p.F2)(i.lineWidth),y.A5,y.NT),u=y.uk*(0,h.uZ)(i.lineHeightRatio,.25,4);return(0,m.Nr)(i.glyphs,{scale:n/y.iD,angle:r.postAngle,xOffset:a,yOffset:o,horizontalAlignment:i.horizontalAlignment,verticalAlignment:t||i.verticalAlignment,maxLineWidth:s,lineHeight:u,decoration:i.decoration,borderLineSizePx:(0,p.F2)(i.boxBorderLineSize),hasBackground:!!i.boxBackgroundColor,useCIMAngleBehavior:i.useCIMAngleBehavior})}},{key:"_writeGlyphs",value:function(t,e,r,o,s,u,c,l){var f=this.evaluatedMeshParams,h=this._textMeshTransformProps,v=h.fontSize,d=(0,p.F2)(h.offsetX),x=(0,p.F2)(h.offsetY),y=(0,_._f)(f.scaleInfo,this.getTileInfo()),m=(0,a.Z)(y,2),g=m[0],k=m[1];0!==u&&s.setRotation(u);var Z=s.bounds,w=r+Z.x+d,b=o+Z.y-x,T=2*(f.minPixelBuffer?f.minPixelBuffer/v:1),S=Math.max(Z.width,Z.height)*T;s.textBox&&(t.recordStart(this.instanceId,this.attributeLayout,s.glyphs[0].textureBinding),t.recordBounds(w,b,S,S),this._writeTextBox(t,e,r,o,s.textBox,c,l),t.recordEnd());var P,E=(0,n.Z)(s.glyphs);try{for(E.s();!(P=E.n()).done;){var M=P.value;t.recordStart(this.instanceId,this.attributeLayout,M.textureBinding),t.recordBounds(w,b,S,S);var N=M.texcoords,F=M.offsets;this._writeQuad(t,e,r,o,(0,i.Z)({texcoords:N,offsets:F,fontSize:v,color:(0,_.G7)(f.color),isBackground:!1,referenceBounds:c,minZoom:g,maxZoom:k},l)),t.recordEnd()}}catch(z){E.e(z)}finally{E.f()}0!==u&&s.setRotation(-u)}},{key:"_writeTextBox",value:function(t,e,r,n,a,o,s){var u=this.evaluatedMeshParams,c=this._textMeshTransformProps.fontSize,l=u.boxBackgroundColor,f=u.boxBorderLineColor,h=(0,i.Z)({isBackground:!0,fontSize:c,referenceBounds:o},s);l&&(this._writeQuad(t,e,r,n,(0,i.Z)({texcoords:M,offsets:a.main,color:(0,_.G7)(l)},h)),f||(this._writeQuad(t,e,r,n,(0,i.Z)({texcoords:I,offsets:a.top,color:(0,_.G7)(l)},h)),this._writeQuad(t,e,r,n,(0,i.Z)({texcoords:L,offsets:a.bot,color:(0,_.G7)(l)},h)),this._writeQuad(t,e,r,n,(0,i.Z)({texcoords:R,offsets:a.left,color:(0,_.G7)(l)},h)),this._writeQuad(t,e,r,n,(0,i.Z)({texcoords:B,offsets:a.right,color:(0,_.G7)(l)},h)))),f&&(this._writeQuad(t,e,r,n,(0,i.Z)({texcoords:z,offsets:a.top,color:(0,_.G7)(f)},h)),this._writeQuad(t,e,r,n,(0,i.Z)({texcoords:z,offsets:a.bot,color:(0,_.G7)(f)},h)),this._writeQuad(t,e,r,n,(0,i.Z)({texcoords:A,offsets:a.left,color:(0,_.G7)(f)},h)),this._writeQuad(t,e,r,n,(0,i.Z)({texcoords:A,offsets:a.right,color:(0,_.G7)(f)},h)))}},{key:"_writeQuad",value:function(t,e,r,i,n){var a=t.vertexCount();this._writeVertex(t,e,r,i,n),t.indexWrite(a+0),t.indexWrite(a+1),t.indexWrite(a+2),t.indexWrite(a+1),t.indexWrite(a+3),t.indexWrite(a+2)}}]),r}(k.c),Y=function(t){return Math.round(t*(254/360))}}}]);
//# sourceMappingURL=51181.a2321e8c.chunk.js.map