(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[83469,69315,7476,50375,42066,69085,8002,50131,40949,69779,8320,54301,68059,92435,17587,52737,66727,93328,17470,52069,66619,50069,44308,71599,2813],{69315:function(e){function t(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=function(){return[]},t.resolve=t,t.id=69315,e.exports=t},77671:function(e,t,i){"use strict";i.d(t,{Y:function(){return r}});var n=i(74177),r={readOnly:!0,get:function(){return(0,n.R)(this.view)}}},74177:function(e,t,i){"use strict";i.d(t,{R:function(){return a}});var n=i(68860),r=i(7575);function a(e){var t,i,a,u,s,o="metric";if(null==e)return o;var l=e.map,c=null!==(t=l&&"portalItem"in l?null===(i=l.portalItem)||void 0===i?void 0:i.portal:null)&&void 0!==t?t:r.Z.getDefault();switch(null!==(a=null===(u=c.user)||void 0===u?void 0:u.units)&&void 0!==a?a:c.units){case o:return o;case"english":return"imperial"}return null!==(s=(0,n.yT)(e.spatialReference))&&void 0!==s?s:o}},94658:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return U}});var n=i(74165),r=i(15861),a=i(15671),u=i(43144),s=i(60136),o=i(29388),l=i(27366),c=i(66978),d=i(94172),v=i(49861),f=(i(93169),i(32718),i(84936),i(69912)),h=i(33565),p=i(7138),g=i(68860),w=i(77671),y=function(e){(0,s.Z)(i,e);var t=(0,o.Z)(i);function i(e){var n;return(0,a.Z)(this,i),(n=t.call(this,e)).activeTool=null,n.activeViewModel=null,n.view=null,n}return(0,u.Z)(i,[{key:"areaUnit",get:function(){return this.defaultUnit},set:function(e){this._overrideIfSome("areaUnit",e)}},{key:"linearUnit",get:function(){return this.defaultUnit},set:function(e){this._overrideIfSome("linearUnit",e)}},{key:"state",get:function(){var e=this.activeViewModel;return e?e.state:"disabled"}}]),i}(p.default);(0,l._)([(0,v.Cb)({type:["area","distance","direct-line"]})],y.prototype,"activeTool",void 0),(0,l._)([(0,v.Cb)()],y.prototype,"activeViewModel",void 0),(0,l._)([(0,v.Cb)({type:g.fN})],y.prototype,"areaUnit",null),(0,l._)([(0,v.Cb)(w.Y)],y.prototype,"defaultUnit",void 0),(0,l._)([(0,v.Cb)({type:g.oD})],y.prototype,"linearUnit",null),(0,l._)([(0,v.Cb)({readOnly:!0})],y.prototype,"state",null),(0,l._)([(0,v.Cb)()],y.prototype,"view",void 0);var _=y=(0,l._)([(0,f.j)("esri.widgets.Measurement.MeasurementViewModel")],y),b=(i(80975),i(80532)),k=i(67005),M="esri-measurement";var m=function(e){(0,s.Z)(l,e);var t=(0,o.Z)(l);function l(e,i){var n;return(0,a.Z)(this,l),(n=t.call(this,e,i))._widgets=new Map,n.activeWidget=null,n.messages=null,n.viewModel=new _,n}return(0,u.Z)(l,[{key:"initialize",value:function(){var e=this;this.activeWidget&&this.viewModel.set("activeViewModel",this.activeWidget.viewModel),this.view&&this.activeTool&&this._getActiveWidget().then((function(t){e._set("activeWidget",t)})),this.addHandles([(0,d.watch)((function(){return[e.view,e.activeTool]}),(0,r.Z)((0,n.Z)().mark((function t(){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e._getActiveWidget();case 3:t.t1=t.sent,t.t0._set.call(t.t0,"activeWidget",t.t1);case 5:case"end":return t.stop()}}),t)})))),(0,d.watch)((function(){return e.activeWidget}),(function(t,i){e.viewModel.set("activeViewModel",t?t.viewModel:null),i&&(i.visible=!1)})),(0,d.watch)((function(){return[e.areaUnit,e.linearUnit,e.uiStrings]}),(function(){return e._updateSubWidgetProperties()}))])}},{key:"destroy",value:function(){this._destroyWidgets()}},{key:"activeTool",get:function(){return this.viewModel.activeTool},set:function(e){this.viewModel.activeTool=e}},{key:"areaUnit",get:function(){return this.viewModel.areaUnit},set:function(e){this.viewModel.areaUnit=e}},{key:"icon",get:function(){return"measure"},set:function(e){this._overrideIfSome("icon",e)}},{key:"label",get:function(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.widgetLabel)&&void 0!==e?e:""},set:function(e){this._overrideIfSome("label",e)}},{key:"linearUnit",get:function(){return this.viewModel.linearUnit},set:function(e){this.viewModel.linearUnit=e}},{key:"view",get:function(){return this.viewModel.view},set:function(e){this.viewModel.view=e}},{key:"render",value:function(){var e=this.activeWidget,t=e&&!e.destroyed?e.render():null;return(0,k.u)("div",{class:M},t)}},{key:"clear",value:function(){this.activeTool=null,this._destroyWidgets()}},{key:"startMeasurement",value:function(){var e=this.viewModel.activeViewModel;e&&(0,c.R8)(e.start())}},{key:"_createWidget",value:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var r,a,u,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.areaUnit,a=this.linearUnit,u=this.view){e.next=3;break}return e.abrupt("return",null);case 3:e.t0=t,e.next="area"===e.t0?6:"distance"===e.t0?23:"direct-line"===e.t0?32:41;break;case 6:s=u.type,e.t1=s,e.next="2d"===e.t1?10:"3d"===e.t1?16:22;break;case 10:return e.next=13,Promise.all([i.e(93463),i.e(99058),i.e(34470),i.e(17877),i.e(95283),i.e(121),i.e(52162),i.e(38856),i.e(91716),i.e(95537),i.e(11344),i.e(67673),i.e(41421)]).then(i.bind(i,41421));case 13:return e.t2=e.sent.default,e.t3={view:u,unit:r,uiStrings:this._createUIStringsForWidget(t)},e.abrupt("return",new e.t2(e.t3));case 16:return e.next=19,Promise.all([i.e(57808),i.e(93463),i.e(99058),i.e(34470),i.e(17877),i.e(25158),i.e(89414),i.e(95283),i.e(121),i.e(52162),i.e(38856),i.e(69656),i.e(46316),i.e(25269),i.e(30118),i.e(11219),i.e(96026),i.e(10039),i.e(24440),i.e(30734),i.e(97411),i.e(91716),i.e(29950),i.e(78560),i.e(33826)]).then(i.bind(i,33826));case 19:return e.t4=e.sent.default,e.t5={view:u,unit:r,uiStrings:this._createUIStringsForWidget(t)},e.abrupt("return",new e.t4(e.t5));case 22:case 31:case 40:case 41:return e.abrupt("return",null);case 23:if("2d"!==u.type){e.next=31;break}return e.next=28,Promise.all([i.e(93463),i.e(99058),i.e(34470),i.e(17877),i.e(95283),i.e(121),i.e(52162),i.e(38856),i.e(91716),i.e(95537),i.e(11344),i.e(67673),i.e(35107)]).then(i.bind(i,35107));case 28:return e.t6=e.sent.default,e.t7={view:u,unit:a,uiStrings:this._createUIStringsForWidget(t)},e.abrupt("return",new e.t6(e.t7));case 32:if("3d"!==u.type){e.next=40;break}return e.next=37,Promise.all([i.e(57808),i.e(93463),i.e(99058),i.e(34470),i.e(17877),i.e(25158),i.e(89414),i.e(95283),i.e(121),i.e(52162),i.e(38856),i.e(69656),i.e(46316),i.e(25269),i.e(30118),i.e(11219),i.e(96026),i.e(10039),i.e(24440),i.e(30734),i.e(97411),i.e(91716),i.e(29950),i.e(78560),i.e(68074)]).then(i.bind(i,68074));case 37:return e.t8=e.sent.default,e.t9={view:u,unit:a,uiStrings:this._createUIStringsForWidget(t)},e.abrupt("return",new e.t8(e.t9));case 42:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_destroyWidgets",value:function(){this._widgets.forEach((function(e){return e.destroy()})),this._widgets.clear()}},{key:"_getActiveWidget",value:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.activeTool,this.view&&t){e.next=3;break}return e.abrupt("return",null);case 3:if(i=null,!this._widgets.has(t)){e.next=8;break}(i=this._widgets.get(t)).visible=!0,e.next=16;break;case 8:return e.next=10,this._createWidget(t);case 10:if(i=e.sent){e.next=13;break}return e.abrupt("return",null);case 13:return e.next=15,i.viewModel.start();case 15:this._widgets.set(t,i);case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_createUIStringsForWidget",value:function(e){var t;if(this.uiStrings){var i=e+"-"+(null===(t=this.view)||void 0===t?void 0:t.type);return this.uiStrings[i]}}},{key:"_updateSubWidgetProperties",value:function(){var e=this;this._widgets.forEach((function(t,i){var n=e.areaUnit,r=e.linearUnit;t.unit=function(e){return"esri.widgets.AreaMeasurement2D"===(null===e||void 0===e?void 0:e.declaredClass)||"esri.widgets.AreaMeasurement3D"===(null===e||void 0===e?void 0:e.declaredClass)}(t)?n:r,t.uiStrings=e._createUIStringsForWidget(i)}))}}]),l}(h.Z);(0,l._)([(0,v.Cb)()],m.prototype,"activeTool",null),(0,l._)([(0,v.Cb)({readOnly:!0})],m.prototype,"activeWidget",void 0),(0,l._)([(0,v.Cb)()],m.prototype,"areaUnit",null),(0,l._)([(0,v.Cb)()],m.prototype,"icon",null),(0,l._)([(0,v.Cb)()],m.prototype,"label",null),(0,l._)([(0,v.Cb)()],m.prototype,"linearUnit",null),(0,l._)([(0,v.Cb)(),(0,b.H)("esri/widgets/Measurement/t9n/Measurement")],m.prototype,"messages",void 0),(0,l._)([(0,v.Cb)()],m.prototype,"uiStrings",void 0),(0,l._)([(0,v.Cb)()],m.prototype,"view",null),(0,l._)([(0,v.Cb)({type:_})],m.prototype,"viewModel",void 0);var U=m=(0,l._)([(0,f.j)("esri.widgets.Measurement")],m)}}]);
//# sourceMappingURL=83469.9109f727.chunk.js.map