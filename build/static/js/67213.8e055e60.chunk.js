"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[67213],{63231:function(e,n,t){function r(e){return null!=u(e)||null!=o(e)}function i(e){return s.test(e)}function a(e){var n;return null!==(n=u(e))&&void 0!==n?n:o(e)}function o(e){var n=new Date(e);return function(e,n){if(Number.isNaN(e.getTime()))return!1;var t=!0;if(c&&/\d+\W*$/.test(n)){var r=n.match(/[a-zA-Z]{2,}/);if(r){for(var i=!1,a=0;!i&&a<=r.length;)i=!l.test(r[a]),a++;t=!i}}return t}(n,e)?Number.isNaN(n.getTime())?null:n.getTime()-6e4*n.getTimezoneOffset():null}function u(e){var n,t,r,i,a=s.exec(e);if(null===a||void 0===a||!a.groups)return null;var o=a.groups,u=+o.year,l=+o.month-1,c=+o.day,f=+(null!==(n=o.hours)&&void 0!==n?n:"0"),p=+(null!==(t=o.minutes)&&void 0!==t?t:"0"),d=+(null!==(r=o.seconds)&&void 0!==r?r:"0");if(f>23)return null;if(p>59)return null;if(d>59)return null;var y,m=null!==(i=o.ms)&&void 0!==i?i:"0",v=m?+m.padEnd(3,"0").substring(0,3):0;if(o.isUTC||!o.offsetSign)y=Date.UTC(u,l,c,f,p,d,v);else{var g=+o.offsetHours,h=+o.offsetMinutes;y=6e4*("+"===o.offsetSign?-1:1)*(60*g+h)+Date.UTC(u,l,c,f,p,d,v)}return Number.isNaN(y)?null:y}t.d(n,{mu:function(){return i},of:function(){return r},sG:function(){return a}});var s=(0,t(70804).Z)(/^(?:(\x2D?\d{4,})\x2D(\d{2})\x2D(\d{2}))(?:T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?)?(?:(Z)|(?:(\+|\x2D)(\d{2}):(\d{2})))?$/,{year:1,month:2,day:3,hours:4,minutes:5,seconds:6,ms:7,isUTC:8,offsetSign:9,offsetHours:10,offsetMinutes:11});var l=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,c=!Number.isNaN(new Date("technology 10").getTime())},47615:function(e,n,t){t.d(n,{O3:function(){return N},lG:function(){return C},my:function(){return G},q9:function(){return v}});var r=t(29439),i=t(74165),a=t(37762),o=t(63231),u=t(10064),s=t(92975),l=t(3182),c=t(80457),f=t(37270),p=(0,i.Z)().mark(g),d=(0,i.Z)().mark(h),y=(0,i.Z)().mark(b),m={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function v(e){return m[e]}function g(e){var n,t,r;return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:i.t0=e.type,i.next="Feature"===i.t0?3:"FeatureCollection"===i.t0?6:25;break;case 3:return i.next=5,e;case 5:return i.abrupt("break",25);case 6:n=(0,a.Z)(e.features),i.prev=7,n.s();case 9:if((t=n.n()).done){i.next=17;break}if(r=t.value,i.t1=r,!i.t1){i.next=15;break}return i.next=15,r;case 15:i.next=9;break;case 17:i.next=22;break;case 19:i.prev=19,i.t2=i.catch(7),n.e(i.t2);case 22:return i.prev=22,n.f(),i.finish(22);case 25:case"end":return i.stop()}}),p,null,[[7,19,22,25]])}function h(e){var n,t,r,o,u,s,l,c,f;return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!e){i.next=57;break}i.t0=e.type,i.next="Point"===i.t0?4:"LineString"===i.t0||"MultiPoint"===i.t0?7:"MultiLineString"===i.t0||"Polygon"===i.t0?9:"MultiPolygon"===i.t0?26:57;break;case 4:return i.next=6,e.coordinates;case 6:return i.abrupt("break",57);case 7:return i.delegateYield(e.coordinates,"t1",8);case 8:return i.abrupt("break",57);case 9:n=(0,a.Z)(e.coordinates),i.prev=10,n.s();case 12:if((t=n.n()).done){i.next=17;break}return r=t.value,i.delegateYield(r,"t2",15);case 15:i.next=12;break;case 17:i.next=22;break;case 19:i.prev=19,i.t3=i.catch(10),n.e(i.t3);case 22:return i.prev=22,n.f(),i.finish(22);case 25:return i.abrupt("break",57);case 26:o=(0,a.Z)(e.coordinates),i.prev=27,o.s();case 29:if((u=o.n()).done){i.next=49;break}s=u.value,l=(0,a.Z)(s),i.prev=32,l.s();case 34:if((c=l.n()).done){i.next=39;break}return f=c.value,i.delegateYield(f,"t4",37);case 37:i.next=34;break;case 39:i.next=44;break;case 41:i.prev=41,i.t5=i.catch(32),l.e(i.t5);case 44:return i.prev=44,l.f(),i.finish(44);case 47:i.next=29;break;case 49:i.next=54;break;case 51:i.prev=51,i.t6=i.catch(27),o.e(i.t6);case 54:return i.prev=54,o.f(),i.finish(54);case 57:case"end":return i.stop()}}),d,null,[[10,19,22,25],[27,51,54,57],[32,41,44,47]])}function b(e){var n,t,r,o,u,s,f,p,d,m,g,h,b,Z=arguments;return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n=Z.length>1&&void 0!==Z[1]?Z[1]:{},t=n.geometryType,r=n.objectIdField,o=(0,a.Z)(e),i.prev=3,o.s();case 5:if((u=o.n()).done){i.next=18;break}if(f=u.value,p=f.geometry,d=f.properties,m=f.id,!p||v(p.type)===t){i.next=10;break}return i.abrupt("continue",16);case 10:return g=d||{},h=void 0,r&&(h=g[r],null==m||h||(g[r]=h=m)),b=new l.u_(p?k(new c.Z,p,n):null,g,null,null!==(s=h)&&void 0!==s?s:void 0),i.next=16,b;case 16:i.next=5;break;case 18:i.next=23;break;case 20:i.prev=20,i.t0=i.catch(3),o.e(i.t0);case 23:return i.prev=23,o.f(),i.finish(23);case 26:case"end":return i.stop()}}),y,null,[[3,20,23,26]])}function Z(e){var n,t=(0,a.Z)(e);try{for(t.s();!(n=t.n()).done;){if(n.value.length>2)return!0}}catch(r){t.e(r)}finally{t.f()}return!1}function w(e){for(var n=0,t=0;t<e.length;t++){var r=e[t],i=e[(t+1)%e.length];n+=r[0]*i[1]-i[0]*r[1]}return n<=0}function x(e){var n=e[0],t=e[e.length-1];return n[0]===t[0]&&n[1]===t[1]&&n[2]===t[2]||e.push(n),e}function k(e,n,t){switch(n.type){case"LineString":case"MultiPoint":return function(e,n,t){return j(e,n.coordinates,t),e}(e,n,t);case"MultiLineString":return function(e,n,t){var r,i=(0,a.Z)(n.coordinates);try{for(i.s();!(r=i.n()).done;){j(e,r.value,t)}}catch(o){i.e(o)}finally{i.f()}return e}(e,n,t);case"MultiPolygon":return function(e,n,t){var r,i=(0,a.Z)(n.coordinates);try{for(i.s();!(r=i.n()).done;){var o=r.value;F(e,o[0],t);for(var u=1;u<o.length;u++)T(e,o[u],t)}}catch(s){i.e(s)}finally{i.f()}return e}(e,n,t);case"Point":return function(e,n,t){return S(e,n.coordinates,t),e}(e,n,t);case"Polygon":return function(e,n,t){var r=n.coordinates;F(e,r[0],t);for(var i=1;i<r.length;i++)T(e,r[i],t);return e}(e,n,t)}}function F(e,n,t){var r=x(n);!function(e){return!w(e)}(r)?j(e,r,t):I(e,r,t)}function T(e,n,t){var r=x(n);!function(e){return w(e)}(r)?j(e,r,t):I(e,r,t)}function j(e,n,t){var r,i=(0,a.Z)(n);try{for(i.s();!(r=i.n()).done;){S(e,r.value,t)}}catch(o){i.e(o)}finally{i.f()}e.lengths.push(n.length)}function I(e,n,t){for(var r=n.length-1;r>=0;r--)S(e,n[r],t);e.lengths.push(n.length)}function S(e,n,t){var i=(0,r.Z)(n,3),a=i[0],o=i[1],u=i[2];e.coords.push(a,o),t.hasZ&&e.coords.push(u||0)}function P(e){switch(typeof e){case"string":return(0,o.mu)(e)?"esriFieldTypeDate":"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function N(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4326;if(!e)throw new u.Z("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new u.Z("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});var t=e.crs;if(t){var r="string"==typeof t?t:"name"===t.type?t.properties.name:"EPSG"===t.type?t.properties.code:null,i=(0,s.oR)({wkid:n})?new RegExp(".*(CRS84H?|4326)$","i"):new RegExp(".*(".concat(n,")$"),"i");if(!r||!i.test(r))throw new u.Z("geojson:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}}function G(e){var n,t,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=[],s=new Set,l=new Set,c=!1,p=null,d=!1,y=o.geometryType,m=void 0===y?null:y,b=!1,w=(0,a.Z)(g(e));try{var x=function(){var e=i.value,n=e.geometry,t=e.properties,a=e.id;if((!n||(m||(m=v(n.type)),v(n.type)===m))&&(c||(c=Z(h(n))),d||(d=null!=a)&&(r=typeof a,t&&(p=Object.keys(t).filter((function(e){return t[e]===a})))),t&&p&&d&&null!=a&&(p.length>1?p=p.filter((function(e){return t[e]===a})):1===p.length&&(p=t[p[0]]===a?p:[])),!b&&t)){var o=!0;for(var y in t)if(!s.has(y)){var g=t[y];if(null!=g){var w=P(g);if("unknown"!==w){l.delete(y),s.add(y);var x=(0,f.q6)(y);x&&u.push({name:x,alias:y,type:w})}else l.add(y)}else o=!1,l.add(y)}b=o}};for(w.s();!(i=w.n()).done;)x()}catch(I){w.e(I)}finally{w.f()}var k=null!==(n=(0,f.q6)(1===(null===(t=p)||void 0===t?void 0:t.length)&&p[0]||null))&&void 0!==n?n:void 0;if(k){var F,T=(0,a.Z)(u);try{for(T.s();!(F=T.n()).done;){var j=F.value;if(j.name===k&&(0,f.H7)(j)){j.type="esriFieldTypeOID";break}}}catch(I){T.e(I)}finally{T.f()}}return{fields:u,geometryType:m,hasZ:c,objectIdFieldName:k,objectIdFieldType:r,unknownFields:Array.from(l)}}function C(e,n){return Array.from(b(g(e),n))}},63543:function(e,n,t){t.d(n,{Dm:function(){return p},Hq:function(){return y},MS:function(){return m},bU:function(){return l}});var r=t(4942),i=t(1413),a=t(93169),o=t(84652),u=t(60480),s=t(76115);function l(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?s.I4:"esriGeometryPolyline"===e?s.ET:s.lF}}}var c=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/,f=1;function p(e,n){if((0,a.Z)("esri-csp-restrictions"))return function(){return(0,i.Z)((0,r.Z)({},n,null),e)};try{var t="this".concat(d(n)," = null;");for(var o in e)t+="this".concat(d(o)," = ").concat(JSON.stringify(e[o]),";");var u=new Function("\n      return class AttributesClass$".concat(f++," {\n        constructor() {\n          ").concat(t,";\n        }\n      }\n    "))();return function(){return new u}}catch(s){return function(){return(0,i.Z)((0,r.Z)({},n,null),e)}}}function d(e){return c.test(e)?".".concat(e):'["'.concat(e,'"]')}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{name:"New Feature",description:"",prototype:{attributes:(0,o.d9)(e)}}]}function m(e,n){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:n,supportsDelete:n,supportsEditing:n,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:n,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:u.g,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:n,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}},68808:function(e,n,t){t.d(n,{O0:function(){return h},av:function(){return d},b:function(){return k},d1:function(){return m},og:function(){return Z}});var r=t(74165),i=t(15861),a=t(37762),o=t(43144),u=t(15671),s=t(63231),l=t(92975),c=t(37270),f=(0,o.Z)((function e(){(0,u.Z)(this,e),this.code=null,this.description=null})),p=(0,o.Z)((function e(n){(0,u.Z)(this,e),this.error=new f,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=n}));function d(e){return new p(e)}var y=(0,o.Z)((function e(n){(0,u.Z)(this,e),this.globalId=null,this.success=!0,this.objectId=this.uniqueId=n}));function m(e){return new y(e)}var v,g=new Set;function h(e,n,t){var r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var o in g.clear(),t){var u=e.get(o);if(u){var s=b(u,t[o]);if(g.add(u.name),u&&(i||u.editable)){var l=(0,c.Qc)(u,s);if(l)return d((0,c.vP)(l,u,s));n[u.name]=s}}}var f,p=(0,a.Z)(null!==(r=null===e||void 0===e?void 0:e.requiredFields)&&void 0!==r?r:[]);try{for(p.s();!(f=p.n()).done;){var y=f.value;if(!g.has(y.name))return d('missing required field "'.concat(y.name,'"'))}}catch(m){p.e(m)}finally{p.f()}return null}function b(e,n){var t=n;return(0,c.H7)(e)&&"string"==typeof n?t=parseFloat(n):(0,c.qN)(e)&&null!=n&&"string"!=typeof n?t=String(n):(0,c.y2)(e)&&"string"==typeof n&&(t=(0,s.sG)(n)),(0,c.Pz)(t)}function Z(e,n){if(!e||!(0,l.JY)(n))return e;if("rings"in e||"paths"in e){if(null==v)throw new TypeError("geometry engine not loaded");return v.simplify(n,e)}return e}function w(){return x.apply(this,arguments)}function x(){return(x=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=null==v,!e.t0){e.next=5;break}return e.next=4,Promise.all([t.e(99058),t.e(50309)]).then(t.bind(t,50309));case 4:v=e.sent;case 5:return e.abrupt("return",v);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,n){return F.apply(this,arguments)}function F(){return(F=(0,i.Z)((0,r.Z)().mark((function e(n,t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!(0,l.JY)(n)||"esriGeometryPolygon"!==t&&"esriGeometryPolyline"!==t,e.t0){e.next=4;break}return e.next=4,w();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},67213:function(e,n,t){t.d(n,{$9:function(){return G},G4:function(){return M},Lu:function(){return N},WW:function(){return J},d:function(){return E},eS:function(){return U},gp:function(){return R},j:function(){return q},w9:function(){return C},yN:function(){return $}});var r,i,a=t(4942),o=t(74165),u=t(37762),s=t(1413),l=t(29439),c=t(70804),f=t(15861),p=(t(59486),t(76200)),d=t(10064),y=t(32718),m=t(35995),v=t(92975),g=t(81753),h=t(83406),b=t(6908),Z=t(47615),w=t(63543),x=t(68808),k=t(52410),F=t(85249),T=t(6701),j=t(78952),I=function(){return y.Z.getLogger("esri.layers.ogc.ogcFeatureUtils")},S="startindex",P=new Set([S,"offset"]),N="http://www.opengis.net/def/crs/",G="".concat(N,"OGC/1.3/CRS84");function C(e,n){return O.apply(this,arguments)}function O(){return O=(0,f.Z)((0,o.Z)().mark((function e(n,t){var i,a,l,c,f,y,v,g,h,b,x,j,P,N,G,C,O,q,D,M,A,R,W,U,L,E,$,H,J,z,_,B=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=B.length>2&&void 0!==B[2]?B[2]:{},l=B.length>3&&void 0!==B[3]?B[3]:5,c=n.links,null!=(f=X(c,"items",r.geojson)||X(c,"http://www.opengis.net/def/rel/ogc/1.0/items",r.geojson))){e.next=5;break}throw new d.Z("ogc-feature-layer:missing-items-page","Missing items url");case 5:return y=a.apiKey,v=a.customParameters,g=a.signal,h=(0,m.hF)(f.href,n.landingPage.url),b=(0,s.Z)((0,s.Z)({limit:l},v),{},{token:y}),x=(0,m.fl)(h,b),j={accept:r.geojson},e.next=14,(0,p.Z)(x,{signal:g,headers:j});case 14:if(P=e.sent,N=P.data,G=null!==(i=ee(x,l,N.links))&&void 0!==i?i:S,(0,Z.O3)(N),C=(0,Z.my)(N,{geometryType:t.geometryType}),O=t.fields||C.fields||[],q=null!=t.hasZ?t.hasZ:C.hasZ,D=C.geometryType,M=t.objectIdField||C.objectIdFieldName||"OBJECTID",A=t.timeInfo,!(R=O.find((function(e){return e.name===M})))){e.next=25;break}R.editable=!1,R.nullable=!1,e.next=28;break;case 25:if(C.objectIdFieldType){e.next=27;break}throw new d.Z("ogc-feature-layer:missing-feature-id","Collection geojson require a feature id as a unique identifier");case 27:O.unshift({name:M,alias:M,type:"number"===C.objectIdFieldType?"esriFieldTypeOID":"esriFieldTypeString",editable:!1,nullable:!1});case 28:M!==C.objectIdFieldName&&(W=O.find((function(e){return e.name===C.objectIdFieldName})))&&(W.type="esriFieldTypeInteger"),O===C.fields&&C.unknownFields.length>0&&I().warn({name:"ogc-feature-layer:unknown-field-types",message:"Some fields types couldn't be inferred from the features and were dropped",details:{unknownFields:C.unknownFields}}),U=(0,u.Z)(O),e.prev=31,U.s();case 33:if((L=U.n()).done){e.next=41;break}if(null==(E=L.value).name&&(E.name=E.alias),null==E.alias&&(E.alias=E.name),"esriFieldTypeOID"!==E.type&&"esriFieldTypeGlobalID"!==E.type&&(E.editable=null==E.editable||!!E.editable,E.nullable=null==E.nullable||!!E.nullable),E.name){e.next=37;break}throw new d.Z("ogc-feature-layer:invalid-field-name","field name is missing",{field:E});case 37:if(F.v.jsonValues.includes(E.type)){e.next=39;break}throw new d.Z("ogc-feature-layer:invalid-field-type",'invalid type for field "'.concat(E.name,'"'),{field:E});case 39:e.next=33;break;case 41:e.next=46;break;case 43:e.prev=43,e.t0=e.catch(31),U.e(e.t0);case 46:return e.prev=46,U.f(),e.finish(46);case 49:return A&&(H=new k.Z(O),A.startTimeField&&((J=H.get(A.startTimeField))?(A.startTimeField=J.name,J.type="esriFieldTypeDate"):A.startTimeField=null),A.endTimeField&&((z=H.get(A.endTimeField))?(A.endTimeField=z.name,z.type="esriFieldTypeDate"):A.endTimeField=null),A.trackIdField&&((_=H.get(A.trackIdField))?A.trackIdField=_.name:(A.trackIdField=null,I().warn({name:"ogc-feature-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:A}}))),($=A).timeReference||($.timeReference={timeZoneIANA:T.pt}),A.startTimeField||A.endTimeField||(I().warn({name:"ogc-feature-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing",details:{timeInfo:A}}),A=void 0)),e.abrupt("return",{drawingInfo:D?(0,w.bU)(D):null,extent:V(n),geometryType:D,fields:O,hasZ:!!q,objectIdField:M,paginationParameter:G,timeInfo:A});case 51:case"end":return e.stop()}}),e,null,[[31,43,46,49]])}))),O.apply(this,arguments)}function q(e){return D.apply(this,arguments)}function D(){return D=(0,f.Z)((0,o.Z)().mark((function e(n){var t,i,a,l,c,f,y,v,g,h,b,Z,w=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=w.length>1&&void 0!==w[1]?w[1]:{},i=n.links,a=n.url,null!=(l=X(i,"data",r.json)||X(i,"http://www.opengis.net/def/rel/ogc/1.0/data",r.json))){e.next=4;break}throw new d.Z("ogc-feature-layer:missing-collections-page","Missing collections url");case 4:return c=t.apiKey,f=t.customParameters,y=t.signal,v=(0,m.hF)(l.href,a),e.next=10,(0,p.Z)(v,{signal:y,headers:{accept:r.json},query:(0,s.Z)((0,s.Z)({},f),{},{token:c})});case 10:g=e.sent,h=g.data,b=(0,u.Z)(h.collections);try{for(b.s();!(Z=b.n()).done;)Z.value.landingPage=n}catch(o){b.e(o)}finally{b.f()}return e.abrupt("return",h);case 15:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}function M(e){return A.apply(this,arguments)}function A(){return A=(0,f.Z)((0,o.Z)().mark((function e(n){var t,i,a,u,l,c,f,y,v,g,h=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.length>1&&void 0!==h[1]?h[1]:{},i=n.links,a=n.url,null!=(u=X(i,"conformance",r.json)||X(i,"http://www.opengis.net/def/rel/ogc/1.0/conformance",r.json))){e.next=4;break}throw new d.Z("ogc-feature-layer:missing-conformance-page","Missing conformance url");case 4:return l=t.apiKey,c=t.customParameters,f=t.signal,y=(0,m.hF)(u.href,a),e.next=10,(0,p.Z)(y,{signal:f,headers:{accept:r.json},query:(0,s.Z)((0,s.Z)({},c),{},{token:l})});case 10:return v=e.sent,g=v.data,e.abrupt("return",g);case 13:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}function R(e){return W.apply(this,arguments)}function W(){return W=(0,f.Z)((0,o.Z)().mark((function e(n){var t,i,a,u,l,c,f=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>1&&void 0!==f[1]?f[1]:{},i=t.apiKey,a=t.customParameters,u=t.signal,e.next=6,(0,p.Z)(n,{signal:u,headers:{accept:r.json},query:(0,s.Z)((0,s.Z)({},a),{},{token:i})});case 6:return l=e.sent,c=l.data,e.abrupt("return",(c.url=n,c));case 9:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}function U(e){return L.apply(this,arguments)}function L(){return L=(0,f.Z)((0,o.Z)().mark((function e(n){var t,i,a,u,l,c,f,d,y,v,g=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=g.length>1&&void 0!==g[1]?g[1]:{},i=n.links,a=n.url,null!=(u=X(i,"service-desc",r.openapi))){e.next=4;break}return e.abrupt("return",(I().warn("ogc-feature-layer:missing-openapi-page","The OGC API-Features server does not have an OpenAPI page."),null));case 4:return l=t.apiKey,c=t.customParameters,f=t.signal,d=(0,m.hF)(u.href,a),e.next=10,(0,p.Z)(d,{signal:f,headers:{accept:r.openapi},query:(0,s.Z)((0,s.Z)({},c),{},{token:l})});case 10:return y=e.sent,v=y.data,e.abrupt("return",v);case 13:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function E(e){var n=(0,c.Z)(/^http:\/\/www\.opengis.net\/def\/crs\/(.*)\/(.*)\/(.*)$/i,{authority:1,version:2,code:3}).exec(e),t=null===n||void 0===n?void 0:n.groups;if(!t)return null;var r=t.authority,i=t.code;switch(r.toLowerCase()){case"ogc":switch(i.toLowerCase()){case"crs27":return j.Z.GCS_NAD_1927.wkid;case"crs83":return 4269;case"crs84":case"crs84h":return j.Z.WGS84.wkid;default:return null}case"esri":case"epsg":var a=Number.parseInt(i,10);return Number.isNaN(a)?null:a;default:return null}}function $(e,n,t){return H.apply(this,arguments)}function H(){return(H=(0,f.Z)((0,o.Z)().mark((function e(n,t,r){var i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(n,t,r);case 2:return i=e.sent,e.abrupt("return",(0,h.cn)(i));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e,n,t){return z.apply(this,arguments)}function z(){return z=(0,f.Z)((0,o.Z)().mark((function e(n,t,i){var l,c,f,y,w,F,T,I,S,P,N,G,C,O,q,D,M,A,R,W,U,L,E,$,H,J,z,B,V,ee,ne,te,re,ie,ae,oe,ue,se,le,ce,fe,pe,de,ye,me,ve,ge,he,be,Ze,we;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y=n.collection,w=y.links,F=y.landingPage.url,T=n.layerDefinition,I=n.maxRecordCount,S=n.queryParameters,P=S.apiKey,N=S.customParameters,G=n.spatialReference,C=n.supportedCrs,null!=(O=X(w,"items",r.geojson)||X(w,"http://www.opengis.net/def/rel/ogc/1.0/items",r.geojson))){e.next=3;break}throw new d.Z("ogc-feature-layer:missing-items-page","Missing items url");case 3:if(q=t.geometry,D=t.num,M=t.start,A=t.timeExtent,R=t.where,!t.objectIds){e.next=6;break}throw new d.Z("ogc-feature-layer:query-by-objectids-not-supported","Queries with object ids are not supported");case 6:return W=j.Z.fromJSON(G),U=null!==(l=t.outSpatialReference)&&void 0!==l?l:W,L=U.isWGS84?null:_(U,C),E=Y(q,C),$=K(A),H=Q(R),J=null!==D&&void 0!==D?D:null==M?I:10,z=0===M?void 0:M,B=T.fields,V=T.geometryType,ee=T.hasZ,ne=T.objectIdField,te=T.paginationParameter,re=(0,m.hF)(O.href,F),e.next=22,(0,p.Z)(re,(0,s.Z)((0,s.Z)({},i),{},{query:(0,s.Z)((0,s.Z)((0,s.Z)({},N),E),{},(c={crs:L,datetime:$,query:H,limit:J},(0,a.Z)(c,te,z),(0,a.Z)(c,"token",P),c)),headers:{accept:r.geojson}}));case 22:ie=e.sent,ae=ie.data,oe=(0,Z.lG)(ae,{geometryType:V,hasZ:ee,objectIdField:ne}),ue=oe.length===J&&!!X(null!==(f=ae.links)&&void 0!==f?f:[],"next",r.geojson),se=new k.Z(B),le=(0,u.Z)(oe);try{for(le.s();!(ce=le.n()).done;)fe=ce.value,pe={},(0,x.O0)(se,pe,fe.attributes),pe[ne]=fe.attributes[ne],fe.attributes=pe}catch(o){le.e(o)}finally{le.f()}if(!L&&U.isWebMercator){de=(0,u.Z)(oe);try{for(de.s();!(ye=de.n()).done;)null!=(me=ye.value).geometry&&null!=V&&((ve=(0,h.di)(me.geometry,V,ee,!1)).spatialReference=j.Z.WGS84,me.geometry=(0,h.GH)((0,g.iV)(ve,U)))}catch(o){de.e(o)}finally{de.f()}}ge=(0,u.Z)(oe);try{for(ge.s();!(he=ge.n()).done;)(be=he.value).objectId=be.attributes[ne]}catch(o){ge.e(o)}finally{ge.f()}return Ze=L||!L&&U.isWebMercator?U.toJSON():v.YU,we=new b.Z,e.abrupt("return",(we.exceededTransferLimit=ue,we.features=oe,we.fields=B,we.geometryType=V,we.hasZ=ee,we.objectIdFieldName=ne,we.spatialReference=Ze,we));case 34:case"end":return e.stop()}}),e)}))),z.apply(this,arguments)}function _(e,n){var t,r,i,a=e.isWebMercator;if(!e.wkid)return null;var o=a?null!==(t=null!==(r=null!==(i=n[3857])&&void 0!==i?i:n[102100])&&void 0!==r?r:n[102113])&&void 0!==t?t:n[900913]:n[e.wkid];return o?"".concat(N).concat(o):null}function B(e){if(null==e)return"";var n=e.xmin,t=e.ymin,r=e.xmax,i=e.ymax;return"".concat(n,",").concat(t,",").concat(r,",").concat(i)}function K(e){if(null==e)return null;var n=e.start,t=e.end;return"".concat(null!=n?n.toISOString():"..","/").concat(null!=t?t.toISOString():"..")}function Q(e){return null!=e&&e&&"1=1"!==e?e:null}function Y(e,n){if(!function(e){return null!=e&&"extent"===e.type}(e))return null;var t=e.spatialReference;if(!t||t.isWGS84)return{bbox:B(e)};var r=_(t,n);return null!=r?{bbox:B(e),"bbox-crs":r}:t.isWebMercator?{bbox:B((0,g.iV)(e,j.Z.WGS84))}:null}function V(e){var n,t=null===(n=e.extent)||void 0===n?void 0:n.spatial;if(!t)return null;var r=t.bbox[0],i=4===r.length,a=(0,l.Z)(r,2),o=a[0],u=a[1],s=i?void 0:r[2];return{xmin:o,ymin:u,xmax:i?r[2]:r[3],ymax:i?r[3]:r[4],zmin:s,zmax:i?void 0:r[5],spatialReference:j.Z.WGS84.toJSON()}}function X(e,n,t){var r;return null!==(r=e.find((function(e){var r=e.rel,i=e.type;return r===n&&i===t})))&&void 0!==r?r:e.find((function(e){var t=e.rel,r=e.type;return t===n&&!r}))}function ee(e,n,t){var i;if(t){var a=X(t,"next",r.geojson),o=null===(i=(0,m.mN)(null===a||void 0===a?void 0:a.href))||void 0===i?void 0:i.query;if(o){var u=(0,m.mN)(e).query,s=Object.keys(null!==u&&void 0!==u?u:{}),c=Object.entries(o).filter((function(e){var n=(0,l.Z)(e,1)[0];return!s.includes(n)})).find((function(e){var t=(0,l.Z)(e,2),r=t[0],i=t[1];return P.has(r.toLowerCase())&&Number.parseInt(i,10)===n}));return null===c||void 0===c?void 0:c[0]}}}(i=r||(r={})).json="application/json",i.geojson="application/geo+json",i.openapi="application/vnd.oai.openapi+json;version=3.0"}}]);
//# sourceMappingURL=67213.8e055e60.chunk.js.map