"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[76077],{76077:function(e,t,n){n.r(t),n.d(t,{FeatureTileTree3DDebugger:function(){return p}});var i=n(1413),r=n(29439),l=n(15671),a=n(43144),o=n(60136),s=n(29388),u=n(27366),c=(n(59486),n(94172)),h=n(49861),y=(n(93169),n(32718),n(84936),n(69912)),d=n(46634),g=n(87287),v=n(80885),p=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var i;return(0,l.Z)(this,n),(i=t.call(this,e))._watchUpdatingTracking=new d.R,i}return(0,a.Z)(n,[{key:"updating",get:function(){var e,t;return null!==(e=null===(t=this._watchUpdatingTracking)||void 0===t?void 0:t.updating)&&void 0!==e&&e}},{key:"initialize",value:function(){var e=this,t=this.view.featureTiles;this.addHandles(t.addClient()),this._watchUpdatingTracking.addOnCollectionChange((function(){return null===t||void 0===t?void 0:t.tiles}),(function(){return e.update()}),c.initial)}},{key:"destroy",value:function(){this._watchUpdatingTracking.destroy()}},{key:"getTiles",value:function(){var e=this,t=function(t){var n=(0,r.Z)(t.lij,3),i=n[0],l=n[1],a=n[2];return v.Z.fromExtent(e.view.featureTiles.tilingScheme.getExtentGeometry(i,l,a))};return this.view.featureTiles.tiles.toArray().sort((function(e,t){return e.loadPriority-t.loadPriority})).map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{geometry:t(e)})}))}}]),n}(g.q);(0,u._)([(0,h.Cb)()],p.prototype,"_watchUpdatingTracking",void 0),(0,u._)([(0,h.Cb)()],p.prototype,"updating",null),(0,u._)([(0,h.Cb)()],p.prototype,"view",void 0),p=(0,u._)([(0,y.j)("esri.views.3d.layers.support.FeatureTileTree3DDebugger")],p)},87287:function(e,t,n){n.d(t,{q:function(){return k}});var i=n(15671),r=n(43144),l=n(60136),a=n(29388),o=n(27366),s=n(51995),u=n(52639),c=(n(51508),n(7138)),h=n(80987),y=n(16889),d=n(49861),g=(n(93169),n(32718),n(84936),n(69912)),v=n(62554),p=n(61459),f=n(58009),b=n(87037),w=n(61054),_=n(98351),m=n(21897),Z=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]],k=function(e){(0,l.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).updating=!1,r.enablePolygons=!0,r.enableLabels=!0,r._polygons=new Map,r._labels=new Map,r._enabled=!0,r}return(0,r.Z)(n,[{key:"initialize",value:function(){this._symbols=Z.map((function(e){return new p.default({color:[e[0],e[1],e[2],.6],outline:{color:"black",width:1}})})),this.update()}},{key:"destroy",value:function(){this._enabled=!1,this.clear()}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled!==e&&(this._enabled=e,this.update())}},{key:"update",value:function(){var e=this;if(this._enabled){var t=this.getTiles(),n=new Array,i=new Set((this._labels.size,this._labels.keys()));t.forEach((function(r,l){var a=r.lij.toString();i.delete(a);var o=r.lij[0],c=r.geometry;if(e.enablePolygons&&!e._polygons.has(a)){var d=new u.Z({geometry:c,symbol:e._symbols[o%e._symbols.length]});e._polygons.set(a,d),n.push(d)}if(e.enableLabels){var g=function(e){if(null!=e.label)return e.label;var t=e.lij.toString();return null!=e.loadPriority&&(t+=" (".concat(e.loadPriority,")")),t}(r),p=l/(t.length-1),Z=(0,y.t7)(0,200,p),k=(0,y.t7)(20,6,p)/.75,T=null!=r.loadPriority&&r.loadPriority>=t.length,C=new s.Z([Z,T?0:Z,T?0:Z]),P="3d"===e.view.type?function(){return new v.Z({verticalOffset:new w.Z({screenLength:40/.75}),callout:new _.Z({color:new s.Z("white"),border:new m.Z({color:new s.Z("black")})}),symbolLayers:new h.Z([new b.Z({text:g,halo:{color:"white",size:1/.75},material:{color:C},size:k})])})}:function(){return new f.Z({text:g,haloColor:"white",haloSize:1/.75,color:C,size:k})},z=e._labels.get(a);if(z){var S=P();null!=z.symbol&&JSON.stringify(S)===JSON.stringify(z.symbol)||(z.symbol=S)}else{var j=new u.Z({geometry:c.extent.center,symbol:P()});e._labels.set(a,j),n.push(j)}}}));var r=new Array;i.forEach((function(t){var n=e._polygons.get(t);null!=n&&(r.push(n),e._polygons.delete(t));var i=e._labels.get(t);null!=i&&(r.push(i),e._labels.delete(t))})),this.view.graphics.removeMany(r),this.view.graphics.addMany(n)}else this.clear()}},{key:"clear",value:function(){this.view.graphics.removeMany(Array.from(this._polygons.values())),this.view.graphics.removeMany(Array.from(this._labels.values())),this._polygons.clear(),this._labels.clear()}}]),n}(c.default);(0,o._)([(0,d.Cb)({constructOnly:!0})],k.prototype,"view",void 0),(0,o._)([(0,d.Cb)({readOnly:!0})],k.prototype,"updating",void 0),(0,o._)([(0,d.Cb)()],k.prototype,"enabled",null),k=(0,o._)([(0,g.j)("esri.views.support.TileTreeDebugger")],k)}}]);
//# sourceMappingURL=76077.7c08b6d7.chunk.js.map