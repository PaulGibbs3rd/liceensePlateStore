"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[557],{557:function(e,t,i){i.r(t),i.d(t,{arcgis_feature_table:function(){return v}});var n=i(74165),r=i(15861),o=i(15671),s=i(43144),a=i(62042),l=i(62153),c=i(14285),u=i(53466),h=i(34872),d=(0,i(20077).m)(l.K),v=function(){function e(t){var i=this;(0,o.Z)(this,e),(0,a.r)(this,t),this.arcgisReady=(0,a.c)(this,"arcgisReady",7),this.arcgisSelectionChange=(0,a.c)(this,"arcgisSelectionChange",7),this.arcgisPropertyChange=(0,a.c)(this,"arcgisPropertyChange",7),this.manager=(0,h.u)(this),this.widget=d(this),this.viewModel=this.widget.viewModel,this.arcgisPropertyChange=(0,u.u)()("state"),this.autoDestroyDisabled=!1,this.referenceElement=void 0,this.position="manual",this.activeFilters=this.widget.activeFilters,this.activeSortOrders=this.widget.activeSortOrders,this.attachmentsEnabled=this.widget.attachmentsEnabled,this.autoRefreshEnabled=this.widget.autoRefreshEnabled,this.columnReorderingEnabled=this.widget.columnReorderingEnabled,this.columns=this.widget.columns,this.description=this.widget.description,this.icon=this.widget.icon,this.label=this.widget.label,this.editingEnabled=this.widget.editingEnabled,this.filterBySelectionEnabled=this.widget.filterBySelectionEnabled,this.filterGeometry=this.widget.filterGeometry,this.hiddenFields=this.widget.hiddenFields,this.highlightEnabled=this.widget.highlightEnabled,this.highlightIds=this.widget.highlightIds,this.layer=this.widget.layer,this.menuConfig=this.widget.menuConfig,this.multiSortEnabled=this.widget.multiSortEnabled,this.objectIds=this.widget.objectIds,this.pageSize=this.widget.pageSize,this.relatedRecordsEnabled=this.widget.relatedRecordsEnabled,this.returnGeometryEnabled=this.widget.returnGeometryEnabled,this.returnMEnabled=this.widget.returnMEnabled,this.returnZEnabled=this.widget.returnZEnabled,this.tableTemplate=this.widget.tableTemplate,this.timeZone=this.widget.timeZone,this.itemId=this.manager.getSet(void 0,{set:function(e){return(0,c.b)(e)?i.layer=null:e&&(0,l.J)({portalItem:{id:e}}).then((function(e){i.layer=e})).catch(console.error),e}}),this.url=this.manager.getSet(void 0,{set:function(e){return e&&(0,l.J)({url:e}).then((function(e){i.layer=e})).catch(console.error),e}}),this.hideHeader=this.widget.visibleElements.header,this.hideMenu=this.widget.visibleElements.menu,this.hideSelectionColumn=this.widget.visibleElements.selectionColumn,this.hideColumnMenus=this.widget.visibleElements.columnMenus,this.hideMenuItemsClearSelection=this.widget.visibleElements.menuItems.clearSelection,this.hideMenuItemsDeleteSelection=this.widget.visibleElements.menuItems.deleteSelection,this.hideMenuItemsRefreshData=this.widget.visibleElements.menuItems.refreshData,this.hideMenuItemsSelectedRecordsShowAllToggle=this.widget.visibleElements.menuItems.selectedRecordsShowAllToggle,this.hideMenuItemsToggleColumns=this.widget.visibleElements.menuItems.toggleColumns,this.hideMenuItemsZoomToSelection=this.widget.visibleElements.menuItems.zoomToSelection,this.state=this.widget.state}return(0,s.Z)(e,[{key:"componentWillLoad",value:function(){var e=this;this.manager.onLifecycle((function(){return e.widget.highlightIds.on("change",e.arcgisSelectionChange.emit)}))}},{key:"componentDidLoad",value:function(){var e;null===(e=this.el.childElem)||void 0===e||e.classList.add("arcgis-feature-table")}},{key:"destroy",value:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.manager.destroy();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearSelectionFilter",value:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(t=this.widget)||void 0===t||t.clearSelectionFilter();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteSelection",value:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(i=this.widget)||void 0===i?void 0:i.deleteSelection(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"filterBySelection",value:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(t=this.widget)||void 0===t||t.filterBySelection();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"findColumn",value:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===(i=this.widget)||void 0===i?void 0:i.findColumn(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"hideColumn",value:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(i=this.widget)||void 0===i||i.hideColumn(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refresh",value:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.widget)||void 0===t?void 0:t.refresh();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"scrollToIndex",value:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(i=this.widget)||void 0===i||i.scrollToIndex(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"showAllColumns",value:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(t=this.widget)||void 0===t||t.showAllColumns();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showColumn",value:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(i=this.widget)||void 0===i||i.showColumn(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sortColumn",value:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t,i){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(r=this.widget)||void 0===r||r.sortColumn(t,i);case 1:case"end":return e.stop()}}),e,this)})));return function(t,i){return e.apply(this,arguments)}}()},{key:"zoomToSelection",value:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(t=this.widget)||void 0===t||t.zoomToSelection();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"el",get:function(){return(0,a.g)(this)}}]),e}();v.style=".arcgis-feature-table{width:100%;height:100%}"},53466:function(e,t,i){i.d(t,{l:function(){return s},m:function(){return a},u:function(){return l}});var n=i(1413),r=i(34872),o=i(62153),s=function(e){return(0,r.b)(e)},a=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.blocking,s=void 0!==i&&i,a=t.name;return(0,r.b)((function(t,i){if(i.onLifecycle((function(){return(0,o.s)(t.el,e("./assets"),(function(e){var r,o=e.t9nLocale,s=e.t9nStrings,a=e.lang;i.exports=(0,n.Z)((0,n.Z)({},s),{},{_lang:a,_t9nLocale:o});var l,c=null!==(r=s.componentLabel)&&void 0!==r?r:s.widgetLabel;"string"===typeof c&&"label"in t&&null==t.label&&(null!==(l=t.label)&&void 0!==l||(t.label=c))}),a)})),s)return i.ready;var r=(0,o.g)(t.el);return{_lang:r.lang,_t9nLocale:r.t9nLocale}}))}},l=function(e){return u},c="arcgisPropertyChange",u=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,r.b)((function(e,i){var n=e;e.manager.isLit&&(n[c]={emit:function(t){var i=new CustomEvent(c,{detail:t,cancelable:!0});return e.el.dispatchEvent(i),i}});var r=n[c];return i.onLoad((function(){return i.onLifecycle((function(){return t.map((function(t){return e.manager.watch(t,(function(){return r.emit({name:t})}))}))}))})),r}))}},20077:function(e,t,i){i.d(t,{m:function(){return m}});var n=i(74165),r=i(37762),o=i(29439),s=i(15861),a=i(15671),l=i(43144),c=i(88301),u=i(61120),h=i(60136),d=i(29388),v=i(34872),f=(i(62153),i(14285)),m=function(e,t){return function(t,i){return p(t,e,i)}},w=function(e){(0,h.Z)(i,e);var t=(0,d.Z)(i);function i(e,n,r){var o;return(0,a.Z)(this,i),(o=t.call(this,e,n,r))._watchedViewModelProperties=new Map,o._watchedVisibleElementsProperties={},o._isBindingViewModel={value:!0},Object.defineProperty(o.exports,"viewModel",{value:v.a.makeGetterProxy(e,o._watchedViewModelProperties,o._isBindingViewModel)}),Object.defineProperty(o.exports,"visibleElements",{value:o._makeVisibleElementsBinder()}),o}return(0,l.Z)(i,[{key:"hostConnected",value:function(){(0,c.Z)((0,u.Z)(i.prototype),"hostConnected",this).call(this),this._isBindingViewModel.value=!1,this.component.manager.didLoadCalled&&(0,f.a)(this.component)}},{key:"hostLoad",value:function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){var t,s,a=this;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._watchedProperties.delete("viewModel"),e.next=3,(0,c.Z)((0,u.Z)(i.prototype),"hostLoad",this).call(this);case 3:if(!this.component.manager.destroyed){e.next=5;break}return e.abrupt("return");case 5:if(this._watchMetaProperties(),v.a.reEmitAccessorEvents(this,this._instance,this.reactiveUtils,"widget"),this.onLifecycle((function(){return a.reactiveUtils.watch((function(){return a._instance.viewModel}),(function(e){a.component.viewModel=e}),{initial:!0})})),"object"!==typeof(t=this._instance.viewModel)){e.next=15;break}v.a.reEmitAccessorEvents(this,t,this.reactiveUtils,"viewModel"),v.a.watchComponentUpdates(this,t,this._watchedViewModelProperties),v.a.watchAccessorUpdates(this,t,this._watchedViewModelProperties),e.next=17;break;case 15:if(!(this._watchedViewModelProperties.size>0)){e.next=17;break}throw new Error("The widget does not have a viewModel to bind to. Tried to bind the following properties: ".concat(Array.from(this._watchedViewModelProperties.keys()).join(", ")));case 17:(s=Object.entries(this._watchedVisibleElementsProperties)).length>0&&this.onLifecycle((function(){return s.map((function(e){var t,i,n,s=(0,o.Z)(e,2),l=s[0],c=s[1],u=null!==(t=a._instance.visibleElements)&&void 0!==t?t:{},h=void 0,d=(0,r.Z)(c.slice(0,-1));try{for(d.s();!(i=d.n()).done;){var v=i.value;if("object"!==typeof u[v]||null===u[v]){h=Boolean(u[v]);break}u=u[v]}}catch(w){d.e(w)}finally{d.f()}void 0===h&&(h=Boolean(null===(n=u[c.slice(-1)[0]])||void 0===n||n));l.startsWith("hide");var f=l.startsWith("hide")||l.startsWith("show")?l.startsWith("hide"):h,m=a.component;return"boolean"===typeof m[l]?a._updateWidgetVisibleElement(c,m[l],f):m[l]=!1,a.watch(l,(function(e){return a._updateWidgetVisibleElement(c,e,f)}))}))}));case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_updateWidgetVisibleElement",value:function(e,t,i){var n,o,s=null!==(n=this._instance.visibleElements)&&void 0!==n?n:{},a=(0,r.Z)(e.slice(0,-1));try{for(a.s();!(o=a.n()).done;){var l=o.value;"object"===typeof s[l]&&null!==s[l]||(s[l]={}),s=s[l]}}catch(u){a.e(u)}finally{a.f()}var c=Boolean(i?!t:t);s[e.at(-1)]=c}},{key:"hostLoaded",value:function(){var e,t=this,i=this.component.el;null!==(e=i.childElem)&&void 0!==e||(i.childElem=document.createElement("div")),this._instance.container=i.childElem;var n=!1,r=this.component.el.view;Object.defineProperty(this.component.el,"view",{get:function(){var e,i;return null!==(e=t._instance.view)&&void 0!==e?e:null===(i=t._instance.viewModel)||void 0===i?void 0:i.view},set:function(e){"view"in t._instance||"object"!==typeof t._instance.viewModel?t._instance.view=e:t._instance.viewModel.view=e,t._watchViewDestroy(),n||(n=!0,t.component.arcgisReady.emit())},configurable:!0,enumerable:!0}),r&&(this._instance.view=r),this.component.el.isConnected&&((0,f.a)(this.component),this._watchViewDestroy())}},{key:"hostDisconnected",value:function(){var e,t;"object"===typeof this.component.el.childElem&&(null===(e=this.component.el.view)||void 0===e||null===(t=e.ui)||void 0===t||t.remove(this.component.el.childElem))}},{key:"hostDestroy",value:function(){var e;(0,c.Z)((0,u.Z)(i.prototype),"hostDestroy",this).call(this),null===(e=this._watchViewDestroyHandle)||void 0===e||e.remove()}},{key:"_watchMetaProperties",value:function(){var e=this;this.watch("position",(function(t){null!=e.component.el.childElem&&"string"===typeof t&&(0,f.a)(e.component)})),this.watch("referenceElement",(function(){return(0,f.a)(e.component)}))}},{key:"_makeVisibleElementsBinder",value:function(){var e=this;return new Proxy({},{has:function(e,t){return"string"===typeof t||Reflect.has(e,t)},get:function(t,i){if("symbol"===typeof i||i in Promise.prototype)return Reflect.get(t,i);var n=[i],r=e._makeRecursiveProxy(n);return e.component.manager.trackPropKey((function(t){if(void 0===t)throw new Error("Unable to bind visibleElements property. Check for incorrect this.widget.visibleElements usage");e.component[t]=!1,e._watchedVisibleElementsProperties[t]=n}),r)}})}},{key:"_makeRecursiveProxy",value:function(e){var t=new Proxy({},{get:function(i,n){var r=Reflect.get(i,n);return"symbol"===typeof n||n in Promise.prototype?r:(e.push(n),t)}});return t}},{key:"_watchViewDestroy",value:function(){var e,t=this;null===(e=this._watchViewDestroyHandle)||void 0===e||e.remove(),this._watchViewDestroyHandle=this.reactiveUtils.when((function(){var e;return!0===(null===(e=t.component.el.view)||void 0===e?void 0:e.destroyed)}),(function(){t.component.destroy().catch(console.error)}),{sync:!0})}}]),i}(v.A),p=(0,v.p)(w)}}]);
//# sourceMappingURL=557.9c157cb1.chunk.js.map