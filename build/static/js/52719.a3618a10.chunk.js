"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[52719],{93655:function(e,t,i){i.r(t),i.d(t,{default:function(){return g}});var r=i(15671),n=i(43144),a=i(88301),o=i(61120),l=i(60136),s=i(29388),u=i(27366),h=i(49861),c=(i(93169),i(32718),i(84936),i(69912)),d=i(68748),v=i(30651),y=i(6693),f=i(56811),p=i(78983),m=i(64575),_=function(e){(0,l.Z)(i,e);var t=(0,s.Z)(i);function i(e){var n;return(0,r.Z)(this,i),(n=t.call(this,e)).elevationInfo=null,n.graphics=new p.J,n.screenSizePerspectiveEnabled=!0,n.type="graphics",n.internal=!1,n}return(0,n.Z)(i,[{key:"destroy",value:function(){this.removeAll(),this.graphics.destroy()}},{key:"add",value:function(e){return this.graphics.add(e),this}},{key:"addMany",value:function(e){return this.graphics.addMany(e),this}},{key:"removeAll",value:function(){return this.graphics.removeAll(),this}},{key:"remove",value:function(e){this.graphics.remove(e)}},{key:"removeMany",value:function(e){this.graphics.removeMany(e)}},{key:"on",value:function(e,t){return(0,a.Z)((0,o.Z)(i.prototype),"on",this).call(this,e,t)}},{key:"graphicChanged",value:function(e){this.emit("graphic-update",e)}}]),i}((0,y.h7)((0,f.M)(v.Z)));(0,u._)([(0,h.Cb)({type:m.Z})],_.prototype,"elevationInfo",void 0),(0,u._)([(0,h.Cb)((0,d.z)(p.J,"graphics"))],_.prototype,"graphics",void 0),(0,u._)([(0,h.Cb)({type:["show","hide"]})],_.prototype,"listMode",void 0),(0,u._)([(0,h.Cb)()],_.prototype,"screenSizePerspectiveEnabled",void 0),(0,u._)([(0,h.Cb)({readOnly:!0})],_.prototype,"type",void 0),(0,u._)([(0,h.Cb)({constructOnly:!0})],_.prototype,"internal",void 0);var g=_=(0,u._)([(0,c.j)("esri.layers.GraphicsLayer")],_)},72335:function(e,t,i){i.d(t,{Z:function(){return v}});var r=i(43144),n=i(15671),a=i(60136),o=i(29388),l=i(27366),s=i(11582),u=i(46784),h=i(49861),c=(i(93169),i(32718),i(84936),i(69912)),d=function(e){(0,a.Z)(i,e);var t=(0,o.Z)(i);function i(e){var r;return(0,n.Z)(this,i),(r=t.call(this,e)).frameCenter=null,r.frameOutline=null,r.lineOfSight=null,r.sensorLocation=null,r.sensorTrail=null,r}return(0,r.Z)(i)}((0,s.J)(u.wq));(0,l._)([(0,h.Cb)({type:Boolean})],d.prototype,"frameCenter",void 0),(0,l._)([(0,h.Cb)({type:Boolean})],d.prototype,"frameOutline",void 0),(0,l._)([(0,h.Cb)({type:Boolean})],d.prototype,"lineOfSight",void 0),(0,l._)([(0,h.Cb)({type:Boolean})],d.prototype,"sensorLocation",void 0),(0,l._)([(0,h.Cb)({type:Boolean})],d.prototype,"sensorTrail",void 0);var v=d=(0,l._)([(0,c.j)("esri.layers.support.TelemetryDisplay")],d)},70508:function(e,t,i){i.d(t,{Z:function(){return w}});var r=i(29439),n=i(93433),a=i(37762),o=i(15671),l=i(43144),s=i(88301),u=i(61120),h=i(60136),c=i(29388),d=i(29303),v=i(8768),y=i(30932),f=i(93311),p=i(91340),m=i(92975),_=i(86226),g=i(34702),b=i(80613),w=function(e){(0,h.Z)(i,e);var t=(0,c.Z)(i);function i(){var e;return(0,o.Z)(this,i),(e=t.apply(this,arguments))._viewStateId=-1,e._dvsMat3=(0,v.Ue)(),e}return(0,l.Z)(i,[{key:"dvsMat3",get:function(){return this._dvsMat3}},{key:"beforeRender",value:function(e){this._updateMatrices(e),this._updateOverlays(e,this.children);var t,i=(0,a.Z)(this.children);try{for(i.s();!(t=i.n()).done;){t.value.beforeRender(e)}}catch(r){i.e(r)}finally{i.f()}}},{key:"prepareRenderPasses",value:function(e){var t=this,r=e.registerRenderPass({name:"overlay",brushes:[g.U.overlay],target:function(){return t.children},drawPhase:b.jx.MAP});return[].concat((0,n.Z)((0,s.Z)((0,u.Z)(i.prototype),"prepareRenderPasses",this).call(this,e)),[r])}},{key:"_updateMatrices",value:function(e){var t=e.state,i=t.id,r=t.size,n=t.pixelRatio,a=t.resolution,o=t.rotation,l=t.viewpoint,s=t.displayMat3;if(this._viewStateId!==i){var u=Math.PI/180*o,h=n*r[0],c=n*r[1];this._localOrigin=l.targetGeometry.clone();var v=this._localOrigin,m=v.x,_=v.y,g=(0,p.or)(m,t.spatialReference);this._localOrigin.x=g,this._localOrigin.y=_;var b=a*h,w=a*c,C=(0,d.yR)(this._dvsMat3);(0,d.Jp)(C,C,s),(0,d.Iu)(C,C,(0,y.al)(h/2,c/2)),(0,d.bA)(C,C,(0,f.al)(h/b,-c/w,1)),(0,d.U1)(C,C,-u),this._viewStateId=i}}},{key:"_updateOverlays",value:function(e,t){var i,n=e.state,o=n.rotation,l=n.spatialReference,s=n.worldScreenWidth,u=n.size,h=n.viewpoint,c=this._localOrigin,d=0,v=(0,m.C5)(l);if(v&&l.isWrappable){var y=u[0],f=u[1],p=180/Math.PI*o,g=Math.abs(Math.cos(p)),b=Math.abs(Math.sin(p)),w=Math.round(y*g+f*b),C=(0,r.Z)(v.valid,2),x=C[0],Z=C[1],k=(0,_.ut)(l),M=h.targetGeometry,O=M.x,S=[O,M.y],T=[0,0];n.toScreen(T,S);var A,P=[0,0];A=w>s?.5*s:.5*w;var R=Math.floor((O+.5*k)/k),D=x+R*k,G=Z+R*k,L=[T[0]+A,0];n.toMap(P,L),P[0]>G&&(d=k),L[0]=T[0]-A,n.toMap(P,L),P[0]<D&&(d=-k),i={worldWidth:k,xBounds:[x,Z]}}var E,I=(0,a.Z)(t);try{for(I.s();!(E=I.n()).done;){E.value.updateDrawCoords(c,d,l,i)}}catch(V){I.e(V)}finally{I.f()}}}]),i}(i(86438).Z)},52719:function(e,t,i){i.r(t),i.d(t,{default:function(){return q}});var r=i(74165),n=i(15861),a=i(15671),o=i(43144),l=i(60136),s=i(29388),u=i(27366),h=i(51995),c=i(52639),d=(i(51508),i(92026)),v=i(94172),y=i(49861),f=(i(93169),i(32718),i(84936),i(69912)),p=i(93655),m=i(72335),_=i(70508),g=i(29439),b=i(88301),w=i(61120),C=(i(59486),i(98928)),x=i(100),Z=i(17842),k=i(6644),M=i(79803),O=i(87422),S=i(20921),T=i(44070),A=i(8548),P=i(57808),R=i(52311),D=i(45412),G=i(80885),L=i(848),E=function(e){(0,l.Z)(i,e);var t=(0,s.Z)(i);function i(e){var r;return(0,a.Z)(this,i),(r=t.call(this)).element=e,r._handles=new x.Z,r.isWrapAround=!1,r.perspectiveTransform=(0,k.Ue)(),r.wrapAroundShift=0,r.clipGeometry=null,r._handles.add((0,v.when)((function(){return r.element}),(function(){var e=r.element;r.ready(),e&&r._handles.add((0,C.on)(e,"play",(function(){return r.requestRender()})))}),v.initial)),r}return(0,o.Z)(i,[{key:"getMesh",value:function(e){throw new Error("Method not implemented.")}},{key:"destroy",value:function(){this._handles.destroy(),this.texture=(0,d.M2)(this.texture),this._vao&&(this._vao.dispose(),this._vao=null),this._vbo&&(this._vbo.dispose(),this._vbo=null),this.texture&&(this.texture.dispose(),this.texture=null)}},{key:"textureSize",get:function(){if(!this.texture)return[1,1];var e=this.texture.descriptor;return[e.width,e.height]}},{key:"dvsMat3",get:function(){return this.parent.dvsMat3}},{key:"beforeRender",value:function(e){var t=this.element;if(null!=t){var r=e.context,n=t.videoWidth,a=t.videoHeight;if(0!==n&&0!==a){if(this.texture)t.paused||this.texture.setData(t);else{var o=new R.X;o.wrapMode=A.e8.CLAMP_TO_EDGE,o.preMultiplyAlpha=!0,o.width=n,o.height=a,this.texture=new P.x(r,o,t)}t.paused||(this.texture.generateMipmap(),this.requestRender()),(0,b.Z)((0,w.Z)(i.prototype),"beforeRender",this).call(this,e)}}}},{key:"_createTransforms",value:function(){return null}},{key:"updateDrawCoords",value:function(e,t,i,r){var n=this.element,a=this._getFrameInfo();if(n&&a){this._initializeData(e,a,i);var o=a.controlPoints,l=a.horizon,s=Math.sqrt(o.length),u=s,h=e.x,c=e.y,d=this._vertices,v=o[0],y=o[s-1],f=o[(u-1)*s],p=o[(u-1)*s+s-1],m=(0,M.project)(l?l[0].mapPoint:v.mapPoint,i),_=(0,M.project)(l?l[1].mapPoint:y.mapPoint,i),b=(0,M.project)(f.mapPoint,i),w=(0,M.project)(p.mapPoint,i);this.clipGeometry=l?new S.Z({geometry:G.Z.fromJSON({rings:[[[b.x,b.y],[w.x,w.y],[_.x,_.y],[m.x,m.y],[b.x,b.y]]],spatialReference:i})}):null;for(var C=0;C<o.length;C++){var x=o[C],Z=x.sourcePoint,k=x.mapPoint;if(null!=Z&&null!=k){var O=(0,M.project)(k,i);d[2*C+0]=O.x-h,d[2*C+1]=O.y-c}}var T=t;if(r){var A=Math.min(m.x,_.x,b.x,w.x),P=Math.max(m.x,_.x,b.x,w.x),R=r.worldWidth,D=r.xBounds,L=(0,g.Z)(D,2),E=L[0],I=L[1];A<E&&P>E?T=R:P>I&&A<I&&(T=-R)}this.wrapAroundShift=T,this.isWrapAround=0!==T}}},{key:"getVAO",value:function(e,t,i){if(null==this._vertices)return null;var r=this._vertices;if(this._vao)this._vbo.setData(r);else{this._vbo=T.f.createVertex(e,A.l1.DYNAMIC_DRAW,r);var n=T.f.createVertex(e,A.l1.STATIC_DRAW,this._texCoords);this._ibo=T.f.createIndex(e,A.l1.DYNAMIC_DRAW,this._indices),this._vao=new D.U(e,i,t,{geometry:this._vbo,tex:n},this._ibo)}return this._vao}},{key:"draw",value:function(e){e.drawElements(A.MX.TRIANGLE_STRIP,this._indices.length,e.gl.UNSIGNED_SHORT,0)}},{key:"_initializeData",value:function(e,t,i){if(null==this._vertices||null==this._indices){for(var r=t.controlPoints,n=Math.sqrt(r.length),a=n,o=new Float32Array(2*r.length),l=new Uint16Array(2*r.length),s=0;s<r.length;s++){var u=r[s],h=u.sourcePoint,c=u.mapPoint;if(null!=h&&null!=c){var d=(0,M.project)(c,i);o[2*s+0]=d.x-e.x,o[2*s+1]=d.y-e.y,l[2*s+0]=h.x,l[2*s+1]=h.y}}for(var v=new Uint16Array(a*n+(a-2)*(n+2)),y=0,f=0;f<a;f++){for(var p=0;p<n;p++)v[y++]=f*n+p,v[y++]=(f+1)*n+p;f<a-2&&(v[y++]=(f+1)*n+(n-1),v[y++]=(f+1)*n)}this._vertices=o,this._texCoords=l,this._indices=v}}},{key:"_getFrameInfo",value:function(){if(!this.groundControlPoints)return null;var e=this._getFrameControlPoints(),t=this.frameHorizonPoints,i=null;if(t){var r=t.startX,n=t.startY,a=t.endX,o=t.endY;i=[{sourcePoint:(0,Z.vW)(r,n),mapPoint:new L.Z(t.startLongitude,t.startLatitude)},{sourcePoint:(0,Z.vW)(a,o),mapPoint:new L.Z(t.endLongitude,t.endLatitude)}]}return{controlPoints:e,horizon:i}}},{key:"_getFrameControlPoints",value:function(){var e=this.groundControlPoints,t=null===e||void 0===e?void 0:e.length;if(!t)return[];for(var i=new Array(t),r=0;r<t;r++){var n=e[r],a=n.x,o=n.y,l=n.lat,s=n.lon;i[r]={sourcePoint:(0,Z.vW)(a,-o),mapPoint:new L.Z(s,l)}}return i}}]),i}(O.s),I=i(65457),V=i(75391),z=i(85992),B=i(67581),H=i(61459),U=i(14404),W=i(16072),N=new h.Z([255,127,0]),j=function(e){(0,l.Z)(i,e);var t=(0,s.Z)(i);function i(){var e;return(0,a.Z)(this,i),(e=t.apply(this,arguments))._graphicsLayer=new p.default,e._frameOutlineGraphic=new c.Z({symbol:new H.default({outline:{type:"simple-line",color:N}})}),e._sensorTrailGraphic=new c.Z({symbol:new U.default({color:N})}),e._lineOfSightGraphic=new c.Z({symbol:new U.default({color:N})}),e._sensorLocationGraphic=new c.Z({symbol:new W.default({color:N})}),e._frameCenterGraphic=new c.Z({symbol:new W.default({color:N})}),e._overlayContainer=null,e.layer=null,e.symbolColor=N,e.visibleTelemetryElements=null,e}return(0,o.Z)(i,[{key:"destroy",value:function(){this._graphicsLayer=(0,d.SC)(this._graphicsLayer)}},{key:"initialize",value:function(){var e,t,i,r,n,a,o,l,s,u,h=this;this.addHandles((0,v.watch)((function(){return h.symbolColor}),(function(){h._frameOutlineGraphic.symbol.outline.color=h.symbolColor,h._sensorTrailGraphic.symbol.color=h.symbolColor,h._lineOfSightGraphic.symbol.color=h.symbolColor,h._sensorLocationGraphic.symbol.color=h.symbolColor,h._frameCenterGraphic.symbol.color=h.symbolColor}),v.initial)),this._graphicsLayer.graphics.addMany([this._frameOutlineGraphic,this._sensorTrailGraphic,this._lineOfSightGraphic,this._sensorLocationGraphic,this._frameCenterGraphic]),this.visibleTelemetryElements=new m.Z({frameCenter:null===(e=null===(t=this.layer.telemetryDisplay)||void 0===t?void 0:t.frameCenter)||void 0===e||e,frameOutline:null===(i=null===(r=this.layer.telemetryDisplay)||void 0===r?void 0:r.frameOutline)||void 0===i||i,lineOfSight:null===(n=null===(a=this.layer.telemetryDisplay)||void 0===a?void 0:a.lineOfSight)||void 0===n||n,sensorLocation:null===(o=null===(l=this.layer.telemetryDisplay)||void 0===l?void 0:l.sensorLocation)||void 0===o||o,sensorTrail:null===(s=null===(u=this.layer.telemetryDisplay)||void 0===u?void 0:u.sensorTrail)||void 0===s||s})}},{key:"attach",value:function(){var e=this;this._overlayContainer=new _.Z,this.container.addChild(this._overlayContainer),this._addOverlayMultipoint(),this.graphicsView=new z.Z({requestUpdateCallback:function(){return e.requestUpdate()},view:this.view,graphics:this._graphicsLayer.graphics,container:new V.Z(this.view.featuresTilingScheme)}),this.container.addChild(this.graphicsView.container),this.addAttachHandles(this._graphicsLayer.on("graphic-update",this.graphicsView.graphicUpdateHandler)),this.addAttachHandles([(0,v.watch)((function(){var t,i,r,n,a;return[null===(t=e.layer.telemetryDisplay)||void 0===t?void 0:t.frameCenter,null===(i=e.layer.telemetryDisplay)||void 0===i?void 0:i.frameOutline,null===(r=e.layer.telemetryDisplay)||void 0===r?void 0:r.sensorLocation,null===(n=e.layer.telemetryDisplay)||void 0===n?void 0:n.sensorTrail,null===(a=e.layer.telemetryDisplay)||void 0===a?void 0:a.lineOfSight]}),(function(){return e._updateVisibleTelemetryElements()}),v.initial),(0,v.watch)((function(){var t,i,r,n,a;return[e.layer.telemetry,null===(t=e.visibleTelemetryElements)||void 0===t?void 0:t.frameCenter,null===(i=e.visibleTelemetryElements)||void 0===i?void 0:i.frameOutline,null===(r=e.visibleTelemetryElements)||void 0===r?void 0:r.sensorLocation,null===(n=e.visibleTelemetryElements)||void 0===n?void 0:n.sensorTrail,null===(a=e.visibleTelemetryElements)||void 0===a?void 0:a.lineOfSight]}),(function(){return e._updateGraphicGeometries()}),v.initial)])}},{key:"detach",value:function(){this._overlayContainer.removeAllChildren(),this.container.removeAllChildren(),this.graphicsView=(0,d.SC)(this.graphicsView)}},{key:"supportsSpatialReference",value:function(e){return!0}},{key:"moveEnd",value:function(){}},{key:"viewChange",value:function(){this.graphicsView.viewChange()}},{key:"update",value:function(e){this.graphicsView.processUpdate(e)}},{key:"isUpdating",value:function(){return!this.graphicsView||this.graphicsView.updating}},{key:"_updateVisibleTelemetryElements",value:function(){this.visibleTelemetryElements&&this.layer.telemetryDisplay&&(this.visibleTelemetryElements.frameCenter=this.layer.telemetryDisplay.frameCenter,this.visibleTelemetryElements.frameOutline=this.layer.telemetryDisplay.frameOutline,this.visibleTelemetryElements.lineOfSight=this.layer.telemetryDisplay.lineOfSight,this.visibleTelemetryElements.sensorLocation=this.layer.telemetryDisplay.sensorLocation,this.visibleTelemetryElements.sensorTrail=this.layer.telemetryDisplay.sensorTrail)}},{key:"_updateGraphicGeometries",value:function(){var e=this.layer.telemetry,t=this.visibleTelemetryElements;e&&t&&(t.frameOutline&&e.frameOutline?this._frameOutlineGraphic.geometry=this.layer.telemetry.frameOutline:this._frameOutlineGraphic.geometry=null,t.sensorTrail&&e.sensorTrail?this._sensorTrailGraphic.geometry=this.layer.telemetry.sensorTrail:this._sensorTrailGraphic.geometry=null,t.lineOfSight&&e.lineOfSight?this._lineOfSightGraphic.geometry=this.layer.telemetry.lineOfSight:this._lineOfSightGraphic.geometry=null,t.sensorLocation&&e.sensorLocation?this._sensorLocationGraphic.geometry=this.layer.telemetry.sensorLocation:this._sensorLocationGraphic.geometry=null,t.frameCenter&&e.frameCenter?this._frameCenterGraphic.geometry=this.layer.telemetry.frameCenter:this._frameCenterGraphic.geometry=null)}},{key:"_addOverlayMultipoint",value:function(){var e=(0,n.Z)((0,r.Z)().mark((function e(){var t,i=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.layer.videoElement){e.next=2;break}return e.abrupt("return");case 2:t=new E(this.layer.videoElement),this.addAttachHandles([(0,v.watch)((function(){return[i.layer.frameHorizonPoints,i.layer.groundControlPoints]}),(function(){t.frameHorizonPoints=i.layer.frameHorizonPoints,t.groundControlPoints=i.layer.groundControlPoints}),v.initial)]),this._overlayContainer.addChild(t),this.view.stage.requestRender();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),i}((0,I.y)(B.Z));(0,u._)([(0,y.Cb)()],j.prototype,"graphicsView",void 0),(0,u._)([(0,y.Cb)()],j.prototype,"layer",void 0),(0,u._)([(0,y.Cb)()],j.prototype,"symbolColor",void 0),(0,u._)([(0,y.Cb)({type:m.Z})],j.prototype,"visibleTelemetryElements",void 0);var q=j=(0,u._)([(0,f.j)("esri.views.2d.layers.VideoLayerView2D")],j)},39444:function(e,t,i){i.d(t,{K:function(){return D}});var r=i(37762),n=i(15671),a=i(43144),o=i(88301),l=i(61120),s=i(60136),u=i(29388),h=i(92026),c=i(58880),d=i(80613),v=i(97890),y=i(93560),f=i(66759),p=0;function m(e,t){return new v.G((0,f.W)(p++),e,t)}var _={visualVariableColor:null,visualVariableOpacity:null,visualVariableSizeMinMaxValue:null,visualVariableSizeScaleStops:null,visualVariableSizeStops:null,visualVariableSizeUnitValue:null,visualVariableRotation:null,visualVariableSizeOutlineScaleStops:null},g=function(){function e(){(0,n.Z)(this,e),this.instances={fill:m(y.k2.fill,{uniforms:_,optionalAttributes:{zoomRange:!0}}),marker:m(y.k2.marker,{uniforms:_,optionalAttributes:{zoomRange:!0}}),line:m(y.k2.line,{uniforms:_,optionalAttributes:{zoomRange:!0}}),text:m(y.k2.text,{uniforms:_,optionalAttributes:{zoomRange:!0,referenceSymbol:!1,clipAngle:!1}}),complexFill:m(y.k2.complexFill,{uniforms:_,optionalAttributes:{zoomRange:!0}}),texturedLine:m(y.k2.texturedLine,{uniforms:_,optionalAttributes:{zoomRange:!0}})},this._instancesById=Object.values(this.instances).reduce((function(e,t){return e.set(t.instanceId,t),e}),new Map)}return(0,a.Z)(e,[{key:"getInstance",value:function(e){return this._instancesById.get(e)}}]),e}(),b=i(29303),w=i(8768),C=i(30932),x=i(93311),Z=i(91340),k=i(87422),M=i(84319),O=i(44070),S=i(8548),T=i(45412),A=Math.PI/180,P=function(e){(0,s.Z)(i,e);var t=(0,u.Z)(i);function i(e){var r;return(0,n.Z)(this,i),(r=t.call(this))._program=null,r._vao=null,r._vertexBuffer=null,r._indexBuffer=null,r._dvsMat3=(0,w.Ue)(),r._localOrigin={x:0,y:0},r._getBounds=e,r}return(0,a.Z)(i,[{key:"destroy",value:function(){this._vao&&(this._vao.dispose(),this._vao=null,this._vertexBuffer=null,this._indexBuffer=null),this._program=(0,h.M2)(this._program)}},{key:"doRender",value:function(e){var t=e.context,i=this._getBounds();if(!(i.length<1)){this._createShaderProgram(t),this._updateMatricesAndLocalOrigin(e),this._updateBufferData(t,i),t.setBlendingEnabled(!0),t.setDepthTestEnabled(!1),t.setStencilWriteMask(0),t.setStencilTestEnabled(!1),t.setBlendFunction(S.zi.ONE,S.zi.ONE_MINUS_SRC_ALPHA),t.setColorMask(!0,!0,!0,!0);var r=this._program;t.bindVAO(this._vao),t.useProgram(r),r.setUniformMatrix3fv("u_dvsMat3",this._dvsMat3),t.gl.lineWidth(1),t.drawElements(S.MX.LINES,8*i.length,S.g.UNSIGNED_INT,0),t.bindVAO()}}},{key:"_createTransforms",value:function(){return{displayViewScreenMat3:(0,w.Ue)()}}},{key:"_createShaderProgram",value:function(e){if(!this._program){this._program=e.programCache.acquire("precision highp float;\n        uniform mat3 u_dvsMat3;\n\n        attribute vec2 a_position;\n\n        void main() {\n          mediump vec3 pos = u_dvsMat3 * vec3(a_position, 1.0);\n          gl_Position = vec4(pos.xy, 0.0, 1.0);\n        }","precision mediump float;\n      void main() {\n        gl_FragColor = vec4(0.75, 0.0, 0.0, 0.75);\n      }",R().attributes)}}},{key:"_updateMatricesAndLocalOrigin",value:function(e){var t=e.state,i=t.displayMat3,r=t.size,n=t.resolution,a=t.pixelRatio,o=t.rotation,l=t.viewpoint,s=A*o,u=l.targetGeometry,h=u.x,c=u.y,d=(0,Z.or)(h,t.spatialReference);this._localOrigin.x=d,this._localOrigin.y=c;var v=a*r[0],y=a*r[1],f=n*v,p=n*y,m=(0,b.yR)(this._dvsMat3);(0,b.Jp)(m,m,i),(0,b.Iu)(m,m,(0,C.al)(v/2,y/2)),(0,b.bA)(m,m,(0,x.al)(r[0]/f,-y/p,1)),(0,b.U1)(m,m,-s)}},{key:"_updateBufferData",value:function(e,t){var i,n=this._localOrigin,a=n.x,o=n.y,l=8*t.length,s=new Float32Array(l),u=new Uint32Array(8*t.length),h=0,c=0,d=(0,r.Z)(t);try{for(d.s();!(i=d.n()).done;){var v=i.value;v&&(s[2*h]=v[0]-a,s[2*h+1]=v[1]-o,s[2*h+2]=v[0]-a,s[2*h+3]=v[3]-o,s[2*h+4]=v[2]-a,s[2*h+5]=v[3]-o,s[2*h+6]=v[2]-a,s[2*h+7]=v[1]-o,u[c]=h+0,u[c+1]=h+3,u[c+2]=h+3,u[c+3]=h+2,u[c+4]=h+2,u[c+5]=h+1,u[c+6]=h+1,u[c+7]=h+0,h+=4,c+=8)}}catch(f){d.e(f)}finally{d.f()}if(this._vertexBuffer?this._vertexBuffer.setData(s.buffer):this._vertexBuffer=O.f.createVertex(e,S.l1.DYNAMIC_DRAW,s.buffer),this._indexBuffer?this._indexBuffer.setData(u):this._indexBuffer=O.f.createIndex(e,S.l1.DYNAMIC_DRAW,u),!this._vao){var y=R();this._vao=new T.U(e,y.attributes,y.bufferLayouts,{geometry:this._vertexBuffer},this._indexBuffer)}}}]),i}(k.s),R=function(){return(0,M.cM)("bounds",{geometry:[{location:0,name:"a_position",count:2,type:S.g.FLOAT}]})},D=function(e){(0,s.Z)(i,e);var t=(0,u.Z)(i);function i(e){var r;return(0,n.Z)(this,i),(r=t.call(this,e))._instanceStore=new g,r.checkHighlight=function(){return!0},r}return(0,a.Z)(i,[{key:"destroy",value:function(){(0,o.Z)((0,l.Z)(i.prototype),"destroy",this).call(this),this._boundsRenderer=(0,h.SC)(this._boundsRenderer)}},{key:"instanceStore",get:function(){return this._instanceStore}},{key:"enableRenderingBounds",value:function(e){this._boundsRenderer=new P(e),this.requestRender()}},{key:"hasHighlight",get:function(){return this.checkHighlight()}},{key:"onTileData",value:function(e,t){e.onMessage(t),this.contains(e)||this.addChild(e),this.requestRender()}},{key:"_renderChildren",value:function(e,t){e.selection=t;var i,n=(0,r.Z)(this.children);try{for(n.s();!(i=n.n()).done;){var a=i.value;if(a.visible){var o=a.getDisplayList(this._instanceStore,d.gl.STRICT_ORDER);null===o||void 0===o||o.render(e)}}}catch(l){n.e(l)}finally{n.f()}}}]),i}(c.b)},75391:function(e,t,i){i.d(t,{Z:function(){return v}});var r=i(37762),n=i(15671),a=i(43144),o=i(88301),l=i(61120),s=i(60136),u=i(29388),h=i(80613),c=i(39444),d=i(39594),v=function(e){(0,s.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,n.Z)(this,i),t.apply(this,arguments)}return(0,a.Z)(i,[{key:"renderChildren",value:function(e){var t,n=(0,r.Z)(this.children);try{for(n.s();!(t=n.n()).done;){t.value.setTransform(e.state)}}catch(a){n.e(a)}finally{n.f()}if((0,o.Z)((0,l.Z)(i.prototype),"renderChildren",this).call(this,e),this.attributeView.update(),this.children.some((function(e){return e.hasData}))){switch(e.drawPhase){case h.jx.MAP:this._renderChildren(e,h.Xq.All);break;case h.jx.HIGHLIGHT:this.hasHighlight&&this._renderHighlight(e)}this._boundsRenderer&&this._boundsRenderer.doRender(e)}}},{key:"_renderHighlight",value:function(e){var t=this;(0,d.P9)(e,!1,(function(e){t._renderChildren(e,h.Xq.Highlight)}))}}]),i}(c.K)}}]);
//# sourceMappingURL=52719.a3618a10.chunk.js.map