"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[52955],{18442:function(e,t,i){i.d(t,{Z:function(){return r}});var n=i(15671),o=i(43144),l=i(39052),a=i(56885),r=function(e,t){function i(e){(0,n.Z)(this,i),this._observable=new a.s,this._map=new Map(e)}return(0,o.Z)(i,[{key:"size",get:function(){return(0,l.it)(this._observable),this._map.size}},{key:"clear",value:function(){this._map.size>0&&(this._map.clear(),this._observable.notify())}},{key:"delete",value:function(e){var t=this._map.delete(e);return t&&this._observable.notify(),t}},{key:"entries",value:function(){return(0,l.it)(this._observable),this._map.entries()}},{key:"forEach",value:function(e,t){var i=this;(0,l.it)(this._observable),this._map.forEach((function(n,o){return e.call(t,n,o,i)}),t)}},{key:"get",value:function(e){return(0,l.it)(this._observable),this._map.get(e)}},{key:"has",value:function(e){return(0,l.it)(this._observable),this._map.has(e)}},{key:"keys",value:function(){return(0,l.it)(this._observable),this._map.keys()}},{key:"set",value:function(e,t){return this._map.set(e,t),this._observable.notify(),this}},{key:"values",value:function(){return(0,l.it)(this._observable),this._map.values()}},{key:e,value:function(){return(0,l.it)(this._observable),this._map[Symbol.iterator]()}},{key:t,get:function(){return this._map[Symbol.toStringTag]}}]),i}(Symbol.iterator,Symbol.toStringTag)},91953:function(e,t,i){i.d(t,{b$:function(){return a},mR:function(){return o},uS:function(){return l}});i(59166);var n=i(8704);function o(e){return e.icon?e.icon:"image"in e&&e.image||e.className?void 0:"question"}function l(e){return e?{backgroundImage:"url(".concat(e,")")}:{}}function a(e){var t=e.action,i=e.feature,o=null===i||void 0===i?void 0:i.attributes,l="image"in t?t.image:void 0;return l&&o?(0,n.n)(l,o):null!==l&&void 0!==l?l:""}},52955:function(e,t,i){i.r(t),i.d(t,{default:function(){return H}});var n=i(93433),o=i(74165),l=i(1413),a=i(15861),r=i(4942),s=i(15671),c=i(43144),u=i(97326),d=i(60136),v=i(29388),m=i(27366),p=i(80987),h=i(44927),f=i(79056),y=i(32718),_=i(18442),g=i(94172),b=i(49861),I=(i(93169),i(84936),i(69912)),w=i(91953),k=i(33565),C="esri-layer-list",L="".concat(C,"__item"),E={base:C,actionMenu:"".concat(C,"__action-menu"),actionGroup:"".concat(C,"__action-group"),filterNoResults:"".concat(C,"__filter-no-results"),item:L,itemActive:"".concat(L,"--active"),itemContent:"".concat(L,"-content"),itemContentBottom:"".concat(L,"-content-bottom"),itemMessage:"".concat(L,"-message"),itemInvisible:"".concat(L,"--invisible"),itemActionIcon:"".concat(L,"-action-icon"),itemActionImage:"".concat(L,"-action-image"),itemTemporaryIcon:"".concat(L,"-temporary-icon"),itemTableIcon:"".concat(L,"-table-icon"),itemCatalogIcon:"".concat(L,"-catalog-icon"),statusIndicator:"".concat(C,"__status-indicator"),publishing:"".concat(C,"__publishing"),updating:"".concat(C,"__updating"),connectionStatus:"".concat(C,"__connection-status"),connectionStatusConnected:"".concat(C,"__connection-status--connected"),visibleToggle:"".concat(C,"__visible-toggle"),visibleIcon:"".concat(C,"__visible-icon")},F=i(69735),M=function(e){(0,d.Z)(i,e);var t=(0,v.Z)(i);function i(){var e;return(0,s.Z)(this,i),(e=t.apply(this,arguments)).catalogLayerList=!0,e.closeButton=!1,e.collapseButton=!1,e.errors=!1,e.filter=!1,e.flow=!0,e.heading=!1,e.statusIndicators=!0,e.temporaryLayerIndicators=!1,e}return(0,c.Z)(i)}(i(7138).default);(0,m._)([(0,b.Cb)({type:Boolean,nonNullable:!0})],M.prototype,"catalogLayerList",void 0),(0,m._)([(0,b.Cb)({type:Boolean,nonNullable:!0})],M.prototype,"closeButton",void 0),(0,m._)([(0,b.Cb)({type:Boolean,nonNullable:!0})],M.prototype,"collapseButton",void 0),(0,m._)([(0,b.Cb)({type:Boolean,nonNullable:!0})],M.prototype,"errors",void 0),(0,m._)([(0,b.Cb)({type:Boolean,nonNullable:!0})],M.prototype,"filter",void 0),(0,m._)([(0,b.Cb)({type:Boolean,nonNullable:!0})],M.prototype,"flow",void 0),(0,m._)([(0,b.Cb)({type:Boolean,nonNullable:!0})],M.prototype,"heading",void 0),(0,m._)([(0,b.Cb)({type:Boolean,nonNullable:!0})],M.prototype,"statusIndicators",void 0),(0,m._)([(0,b.Cb)({type:Boolean,nonNullable:!0})],M.prototype,"temporaryLayerIndicators",void 0);var A=M=(0,m._)([(0,I.j)("esri.widgets.LayerList.LayerListVisibleElements")],M),T=i(89500),Z=i(9309),P=i(8905),S=i(7021),x=(i(80975),i(80532)),D=i(28907),N=i(67005),R=p.Z.ofType(T.Z),B=function(e){(0,d.Z)(m,e);var t=(0,v.Z)(m);function m(e,i){var n;return(0,s.Z)(this,m),(n=t.call(this,e,i))._activeItem=null,n._tooltipReferenceMap=new _.Z,n._focusRootFlowItem=!1,n._focusPanelFlowItem=!1,n._focusTableListFlowItem=!1,n._focusCatalogFlowItem=!1,n._lastDragDetail=null,n._selectedDragItemLayerUid=null,n._rootGroupUid="operational-".concat(n.uid),n.catalogLayerList=null,n.catalogOptions=null,n.collapsed=!1,n.dragEnabled=!1,n.filterPlaceholder="",n.filterText="",n.headingLevel=2,n.knowledgeGraphOptions=null,n.listItemCanGiveFunction=null,n.listItemCanReceiveFunction=null,n.messages=null,n.messagesCommon=null,n.minDragEnabledItems=Z.MZ,n.minFilterItems=Z.Kp,n.openCatalogItem=null,n.openTableListItem=null,n.selectedItems=new R,n.selectionMode="none",n.tableList=null,n.viewModel=new F.Z,n.visibilityAppearance="default",n.visibleElements=new A,n._canMove=function(e,t){var i,o,l,a,r,s=e.dragEl,c=e.fromEl,u=e.toEl,d="pull"===t?n.listItemCanGiveFunction:n.listItemCanReceiveFunction,v=(0,Z.rV)(s);if(null===v||void 0===v||!v.sortable)return!1;var m=(0,Z.rV)(c),p=(0,Z.Gr)(c),h=(0,Z.rV)(u),f=(0,Z.Gr)(u),y=!!p&&!!f&&p===f,_={selected:v,from:m,to:h},g=c.group,b=u.group,I=null!==(i=null===m||void 0===m||null===(o=m.layer)||void 0===o?void 0:o.type)&&void 0!==i?i:"",w=null!==(l=null===h||void 0===h||null===(a=h.layer)||void 0===a?void 0:a.type)&&void 0!==l?l:"",k=new Set(["map-image","catalog","knowledge-graph"]);return g&&b&&"function"==typeof d?d.call(null,_):y&&!k.has(I)&&!k.has(w)&&"sublayer"!==(null===v||void 0===v||null===(r=v.layer)||void 0===r?void 0:r.type)},n._clearActiveItem=function(){n._activeItem=null},n._setActiveItem=function(e){if("default"===n.visibilityAppearance){var t=Array.from(e.composedPath()).find((function(e){var t;return null===(t=e.classList)||void 0===t?void 0:t.contains(E.item)}));n._activeItem=(0,Z.rV)(t)}},n._onCalciteListOrderChange=function(e){var t=(0,u.Z)(n)._lastDragDetail,i=e.toEl,o=e.fromEl,l=e.dragEl,a=e.newIndex;if(o&&i&&((null===t||void 0===t?void 0:t.newIndex)!==a||(null===t||void 0===t?void 0:t.dragEl)!==l||(null===t||void 0===t?void 0:t.toEl)!==i||(null===t||void 0===t?void 0:t.fromEl)!==o))if(n._lastDragDetail=e,o!==i)n._moveLayerFromChildList({toEl:i,fromEl:o,dragEl:l,newIndex:a});else{var r=Array.from(o.children).filter((function(e){return null===e||void 0===e?void 0:e.matches("calcite-list-item")})).map((function(e){return e.value}));n._sortLayers(o,r)}},n}return(0,c.Z)(m,[{key:"initialize",value:function(){var e=this;this.addHandles([(0,g.watch)((function(){return e.openCatalogItem}),(function(t){return t?e._createCatalog():e._destroyCatalog()})),(0,g.watch)((function(){return e.openTableListItem}),(function(t){return t?e._createTableList():e._destroyTableList()}))])}},{key:"loadDependencies",value:function(){return(0,P.h)({action:function(){return Promise.all([i.e(92358),i.e(46895),i.e(65138),i.e(91741)]).then(i.bind(i,6814))},"action-group":function(){return Promise.all([i.e(92358),i.e(46895),i.e(89219),i.e(63839),i.e(65138),i.e(2654),i.e(23635),i.e(70405)]).then(i.bind(i,70405))},"action-menu":function(){return Promise.all([i.e(92358),i.e(46895),i.e(89219),i.e(63839),i.e(65138),i.e(2654),i.e(23635),i.e(24745)]).then(i.bind(i,24745))},button:function(){return Promise.all([i.e(92358),i.e(46895),i.e(54438),i.e(14105),i.e(32275)]).then(i.bind(i,32275))},flow:function(){return i.e(53049).then(i.bind(i,53049))},"flow-item":function(){return Promise.all([i.e(92358),i.e(46895),i.e(89219),i.e(63839),i.e(65138),i.e(2654),i.e(23635),i.e(89524),i.e(48926)]).then(i.bind(i,48926))},icon:function(){return Promise.all([i.e(92358),i.e(87474)]).then(i.bind(i,87474))},list:function(){return Promise.all([i.e(92358),i.e(46895),i.e(54438),i.e(34504),i.e(8715),i.e(38782)]).then(i.bind(i,38782))},"list-item":function(){return Promise.all([i.e(92358),i.e(46895),i.e(65138),i.e(21340)]).then(i.bind(i,67994))},notice:function(){return Promise.all([i.e(92358),i.e(46895),i.e(15669)]).then(i.bind(i,15669))},tooltip:function(){return Promise.all([i.e(92358),i.e(89219),i.e(94730)]).then(i.bind(i,94730))}})}},{key:"destroy",value:function(){this._destroyTableList(),this._tooltipReferenceMap.clear()}},{key:"_totalItems",get:function(){return this.viewModel.operationalItems.flatten((function(e){return e.children.filter((function(e){return"catalog-dynamic-group"!==e.layer.type}))})).length}},{key:"_dragEnabled",get:function(){return this._totalItems>=this.minDragEnabledItems&&this.dragEnabled}},{key:"_filterEnabled",get:function(){return this._totalItems>=this.minFilterItems&&this.visibleElements.filter}},{key:"icon",get:function(){return"layers"},set:function(e){this._overrideIfSome("icon",e)}},{key:"label",get:function(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.widgetLabel)&&void 0!==e?e:""},set:function(e){this._overrideIfSome("label",e)}},{key:"listItemCreatedFunction",get:function(){return this.viewModel.listItemCreatedFunction},set:function(e){this.viewModel.listItemCreatedFunction=e}},{key:"multipleSelectionEnabled",get:function(){return(0,h.Mr)(y.Z.getLogger(this),"multipleSelectionEnabled",{replacement:"selectionMode",version:"4.29",warnOnce:!0}),"multiple"===this.selectionMode},set:function(e){(0,h.Mr)(y.Z.getLogger(this),"multipleSelectionEnabled",{replacement:"selectionMode",version:"4.29",warnOnce:!0}),this.selectionMode=e?"multiple":this.selectionEnabled?"single":"none"}},{key:"operationalItems",get:function(){return this.viewModel.operationalItems},set:function(e){this.viewModel.operationalItems=e}},{key:"selectionEnabled",get:function(){return(0,h.Mr)(y.Z.getLogger(this),"selectionEnabled",{replacement:"selectionMode, dragEnabled",version:"4.29",warnOnce:!0}),"none"!==this.selectionMode&&this.dragEnabled},set:function(e){(0,h.Mr)(y.Z.getLogger(this),"selectionEnabled",{replacement:"selectionMode, dragEnabled",version:"4.29",warnOnce:!0}),this.dragEnabled=e,this.selectionMode=e?this.multipleSelectionEnabled?"multiple":"single":"none"}},{key:"view",get:function(){return this.viewModel.view},set:function(e){this.viewModel.view=e}},{key:"triggerAction",value:function(e,t){return this.viewModel.triggerAction(e,t)}},{key:"render",value:function(){var e,t,i,n=this,o=null===(e=this.viewModel)||void 0===e?void 0:e.state,l=(t={},(0,r.Z)(t,S.z.hidden,"loading"===o),(0,r.Z)(t,S.z.disabled,"disabled"===o),t),a=null===(i=this.operationalItems)||void 0===i?void 0:i.filter((function(e){return!e.hidden&&(n.visibleElements.errors||!e.error)}));return(0,N.u)("div",{class:this.classes(E.base,S.z.widget,S.z.panel,l)},null!==a&&void 0!==a&&a.length?[this._renderItemTooltips(a),this._renderItems(a)]:this._renderNoItems())}},{key:"_renderItemTooltip",value:function(e){var t=this._tooltipReferenceMap,i=this.messages;return e?(0,N.u)("calcite-tooltip",{key:"tooltip-".concat(e.layer.uid),referenceElement:t.get(e.layer.uid)},i.layerIncompatibleTooltip):null}},{key:"_renderItemTooltipNodes",value:function(e){var t,i=this;return e.incompatible?this._renderItemTooltip(e):null===(t=e.children)||void 0===t?void 0:t.filter((function(e){return!e.hidden})).toArray().map((function(e){return i._renderItemTooltipNodes(e)}))}},{key:"_renderItemTooltips",value:function(e){var t=this;return null===e||void 0===e?void 0:e.toArray().map((function(e){return t._renderItemTooltipNodes(e)}))}},{key:"_renderNoItemsMessage",value:function(){return(0,N.u)("div",{slot:"message"},this.messages.noItemsToDisplay)}},{key:"_renderNoItems",value:function(){return(0,N.u)("div",{class:E.itemMessage,key:"esri-layer-list__no-items"},(0,N.u)("calcite-notice",{icon:"information",kind:"info",open:!0,width:"full"},this._renderNoItemsMessage()))}},{key:"_destroyCatalog",value:function(){var e;null!==(e=this.catalogLayerList)&&void 0!==e&&e.destroy(),this._set("catalogLayerList",null)}},{key:"_destroyTableList",value:function(){var e;null!==(e=this.tableList)&&void 0!==e&&e.destroy(),this._set("tableList",null)}},{key:"_createCatalog",value:function(){var e=(0,a.Z)((0,o.Z)().mark((function e(){var t,n,a,r,s,c,u,d,v,m,p,h;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._destroyCatalog(),e.next=3,i.e(68421).then(i.bind(i,97145));case 3:n=e.sent,a=n.default,r=this.headingLevel,s=this.catalogOptions,c=this.view,u=this.filterPlaceholder,d=this.listItemCreatedFunction,v=this.minFilterItems,m=this.selectionMode,p=this.visibilityAppearance,h=null===(t=this.openCatalogItem)||void 0===t?void 0:t.layer,this._set("catalogLayerList",new a((0,l.Z)((0,l.Z)({headingLevel:r,view:c,filterPlaceholder:u,listItemCreatedFunction:d,minFilterItems:v,selectionMode:m,visibilityAppearance:p},s),{},{catalogLayer:h})));case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getTableListParams",value:function(e){var t=null===e||void 0===e?void 0:e.layer;return"knowledge-graph"===(null===t||void 0===t?void 0:t.type)?(0,l.Z)((0,l.Z)({},this.knowledgeGraphOptions),{},{tables:null===t||void 0===t?void 0:t.tables}):null}},{key:"_createTableList",value:function(){var e=(0,a.Z)((0,o.Z)().mark((function e(){var t,n,a,r,s,c,u;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._destroyTableList(),e.next=3,i.e(58904).then(i.bind(i,58904));case 3:if(n=e.sent,a=n.default,null!==(r=this._getTableListParams(this.openTableListItem))&&void 0!==r&&null!==(t=r.tables)&&void 0!==t&&t.length){e.next=8;break}return e.abrupt("return");case 8:s=this.headingLevel,c=this.selectionMode,u=this.dragEnabled,this._set("tableList",new a((0,l.Z)({headingLevel:s,selectionMode:c,dragEnabled:u},r)));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_renderCatalogFlowItem",value:function(){var e,t=this,i=this.openCatalogItem,n=this.messages;if(!i)return null;var o=this._getLayerTitle(i);return(0,N.u)("calcite-flow-item",{afterCreate:this._focusCatalogFlowItemNode,afterUpdate:this._focusCatalogFlowItemNode,bind:this,description:o,heading:n.catalogLayers,headingLevel:this.headingLevel,key:"flow-catalog-".concat(i.uid),onCalciteFlowItemBack:function(e){e.preventDefault(),t.openCatalogItem=null,t._focusRootFlowItem=!0}},null===(e=this.catalogLayerList)||void 0===e?void 0:e.render())}},{key:"_renderTableListFlowItem",value:function(){var e,t=this,i=this.openTableListItem,n=this.messages;if(!i)return null;var o=this._getLayerTitle(i);return(0,N.u)("calcite-flow-item",{afterCreate:this._focusTableListFlowItemNode,afterUpdate:this._focusTableListFlowItemNode,bind:this,description:o,heading:n.tables,headingLevel:this.headingLevel,key:"flow-table-list-".concat(i.uid),onCalciteFlowItemBack:function(e){e.preventDefault(),t.openTableListItem=null,t._focusRootFlowItem=!0}},null===(e=this.tableList)||void 0===e?void 0:e.render())}},{key:"_renderPanelFlowItems",value:function(e){var t=this;return e?e.flatten((function(e){return e.children})).filter((function(e){var t=e.hidden,i=e.panel;return!t&&(null===i||void 0===i?void 0:i.open)&&!i.disabled&&i.flowEnabled})).toArray().map((function(e){var i=e.title,n=e.panel,o=function(){return t._handlePanelFlowItemBack(n)};return(0,N.u)("calcite-flow-item",{afterCreate:t._focusPanelFlowItemNode,afterUpdate:t._focusPanelFlowItemNode,bind:t,description:i,heading:n.title,headingLevel:t.headingLevel,key:"flow-panel-".concat(n.uid),onCalciteFlowItemBack:function(e){e.preventDefault(),o()}},n.render(),(0,N.u)("calcite-button",{appearance:"transparent",onclick:o,slot:"footer-actions",width:"full"},t.messagesCommon.back))})):[]}},{key:"_handlePanelFlowItemBack",value:function(e){e.open=!1,this._focusRootFlowItem=!0}},{key:"_focusRootFlowItemNode",value:function(e){this._focusRootFlowItem&&(this._focusRootFlowItem=!1,requestAnimationFrame((function(){return null===e||void 0===e?void 0:e.setFocus()})))}},{key:"_focusCatalogFlowItemNode",value:function(e){this._focusCatalogFlowItem&&(this._focusCatalogFlowItem=!1,requestAnimationFrame((function(){return null===e||void 0===e?void 0:e.setFocus()})))}},{key:"_focusTableListFlowItemNode",value:function(e){this._focusTableListFlowItem&&(this._focusTableListFlowItem=!1,requestAnimationFrame((function(){return null===e||void 0===e?void 0:e.setFocus()})))}},{key:"_focusPanelFlowItemNode",value:function(e){this._focusPanelFlowItem&&(this._focusPanelFlowItem=!1,requestAnimationFrame((function(){return null===e||void 0===e?void 0:e.setFocus()})))}},{key:"_renderItems",value:function(e){var t=this,i=this.visible,n=this.collapsed,o=this._filterEnabled,l=this._rootGroupUid,a=this.visibleElements,r=a.closeButton,s=a.collapseButton,c=a.heading,u=a.flow,d=this._dragEnabled,v=this.selectionMode,m=this.filterText,p=this.filterPlaceholder,h=this.messages,f=[(0,N.u)("calcite-flow-item",{afterCreate:this._focusRootFlowItemNode,afterUpdate:this._focusRootFlowItemNode,bind:this,closable:r,closed:!i,collapsed:n,collapsible:s,heading:c?h.widgetLabel:void 0,headingLevel:this.headingLevel,key:"root-flow-item",onCalciteFlowItemClose:function(){return t.visible=!1}},(0,N.u)("calcite-list",{afterCreate:function(e){e.addEventListener("focusin",t._setActiveItem),e.addEventListener("focusout",t._clearActiveItem)},afterRemoved:function(e){e.removeEventListener("focusin",t._setActiveItem),e.removeEventListener("focusout",t._clearActiveItem)},canPull:function(e){return t._canMove(e,"pull")},canPut:function(e){return t._canMove(e,"put")},"data-layer-type":l,dragEnabled:d,filterEnabled:o,filterPlaceholder:p,filterText:o?m:"",group:l,key:"root-list",label:h.widgetLabel,onmouseleave:this._clearActiveItem,onmouseover:this._setActiveItem,selectionAppearance:"border",selectionMode:v,onCalciteListChange:function(e){return t._handleCalciteListChange(e)},onCalciteListDragEnd:function(e){return t._handleCalciteListDragEnd(e.detail)},onCalciteListFilter:function(e){var i,n;return t.filterText=null!==(i=null===(n=e.target)||void 0===n?void 0:n.filterText)&&void 0!==i?i:""},onCalciteListOrderChange:function(e){return t._onCalciteListOrderChange(e.detail)}},null===e||void 0===e?void 0:e.toArray().map((function(e){return t._renderItem(e)})),null!==e&&void 0!==e&&e.length&&o?(0,N.u)("div",{class:E.filterNoResults,slot:"filter-no-results"},(0,N.u)("calcite-notice",{kind:"info",open:!0,width:"full"},this._renderNoItemsMessage())):null)),this._renderPanelFlowItems(e),this._renderTableListFlowItem(),this._renderCatalogFlowItem()];return i?u?(0,N.u)("calcite-flow",{key:"root-flow"},f):f:null}},{key:"_renderChildList",value:function(e){var t,i,o,l,a=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=this._dragEnabled,c=this._rootGroupUid,u=this.viewModel.listModeDisabled,d=this.messages,v=this.selectionMode,m=e.children,p="catalog-dynamic-group"!==(null===(t=e.layer)||void 0===t?void 0:t.type)&&(0,Z.bB)(e),h=!(!u&&(0,Z.Kf)(e.layer))&&!p&&s&&"group"===(null===(i=e.layer)||void 0===i?void 0:i.type);return p||h?(0,N.u)("calcite-list",{canPull:function(e){return a._canMove(e,"pull")},canPut:function(e){return a._canMove(e,"put")},"data-item":e,"data-layer-type":c,dragEnabled:!!s&&e.childrenSortable&&(0,Z.xA)(e),group:"".concat(c,"-").concat(e.layer.uid),key:"child-list-".concat(e.layer.uid),selectionAppearance:"border",selectionMode:v},null===m||void 0===m?void 0:m.filter((function(e){return!e.hidden})).toArray().map((function(t){return a._renderItem(t,e,[].concat((0,n.Z)(r),[e.title]))})),null!==(o=this._getTableListParams(e))&&void 0!==o&&null!==(l=o.tables)&&void 0!==l&&l.length?(0,N.u)("calcite-list-item",{class:E.item,"data-layer-id":e.layer.id,dragDisabled:!0,key:"list-item-table-list-tables-".concat(e.layer.uid),title:d.tables,onCalciteListItemSelect:function(){a.openTableListItem=e,a._focusTableListFlowItem=!0}},(0,N.u)("div",{class:E.itemContent,slot:"content"},d.tables),(0,N.u)("calcite-icon",{class:E.itemTableIcon,icon:"table",scale:"s",slot:"content-start"}),(0,N.u)("calcite-icon",{flipRtl:!0,icon:"chevron-right",scale:"s",slot:"content-end"})):null):null}},{key:"_renderItemMessage",value:function(e){var t=this;return e.error?(0,N.u)("div",{class:E.itemMessage,key:"esri-layer-list__error",slot:"content-bottom"},(0,N.u)("calcite-notice",{icon:"exclamation-mark-triangle",kind:"warning",open:!0,scale:"s",width:"full"},(0,N.u)("div",{slot:"message"},this.messages.layerError))):e.incompatible?(0,N.u)("div",{class:E.itemMessage,key:"esri-layer-list__incompatible",slot:"content-bottom"},(0,N.u)("calcite-notice",{afterCreate:function(i){return t._setTooltipReference(i,e)},afterRemoved:function(){return t._removeTooltipReference(e)},bind:this,icon:"exclamation-mark-triangle",kind:"warning",open:!0,scale:"s",tabIndex:0,width:"full"},(0,N.u)("div",{slot:"message"},this.messages.layerIncompatible))):null}},{key:"_getLayerTitle",value:function(e){return e.title||this.messages.untitledLayer}},{key:"_renderItem",value:function(e,t,i){var n,o,l,a,s,c=this,u=this._activeItem,d=this._selectedDragItemLayerUid,v=this.selectionMode,m=this.selectedItems,p=this.messages,h=this.visibleElements,f=this._getLayerTitle(e),y=e.visibleAtCurrentTimeExtent?e.visibleAtCurrentScale?f:"".concat(f," (").concat(p.layerInvisibleAtScale,")"):"".concat(f," (").concat(p.layerInvisibleAtTime,")"),_=this._filterActions(e.actionsSections),g=this._countActions(_),b="catalog"===(null===(n=e.parent)||void 0===n||null===(o=n.layer)||void 0===o?void 0:o.type),I="catalog-footprint"===(null===(l=e.layer)||void 0===l?void 0:l.type),w="catalog-dynamic-group"===(null===(a=e.layer)||void 0===a?void 0:a.type),k=I?(0,N.u)("calcite-icon",{class:E.itemCatalogIcon,icon:"footprint",key:"footprint",scale:"s",slot:"content-start"}):null,C=w?(0,N.u)("calcite-icon",{class:E.itemCatalogIcon,icon:"catalog-dataset",key:"catalog-dataset",scale:"s",slot:"content-start"}):null,L=h.catalogLayerList&&w?(0,N.u)("calcite-action",{appearance:"transparent",disabled:!e.layer.visible,icon:"chevron-right",iconFlipRtl:!0,onclick:function(){c.openCatalogItem=t,c._focusCatalogFlowItem=!0},scale:"s",slot:"actions-end",text:f}):null;return(0,N.u)("calcite-list-item",{afterCreate:function(t){return c._focusSelectedDragEl(t,e)},afterUpdate:function(t){return c._focusSelectedDragEl(t,e)},class:this.classes(E.item,(0,r.Z)({},E.itemActive,u===e)),"data-item":e,"data-layer-id":e.layer.id,dragDisabled:!e.sortable||b,dragSelected:e.layer.uid===d,id:e.layer.uid,key:"list-item-".concat(e.layer.uid),label:f,metadata:{parentTitles:i,title:f},open:e.open,selected:"none"!==v&&m.includes(e),title:y,value:e.layer.uid,onCalciteListItemDragHandleChange:function(t){return c._handleCalciteListItemDragHandleChange(t,e)},onCalciteListItemSelect:function(i){return c._handleCalciteListItemSelect(i,e,t)},onCalciteListItemToggle:function(t){return c._handleCalciteListItemToggle(t,e)}},k,C,(0,N.u)("div",{class:this.classes((s={},(0,r.Z)(s,E.itemContent,!0),(0,r.Z)(s,E.itemInvisible,!e.visibleAtCurrentScale||!e.visibleAtCurrentTimeExtent),s)),slot:"content"},f),this._renderItemStatus(e,t),this._renderItemToggle(e,t),L,this._renderItemTemporaryIcon(e),this._renderChildList(e,i),this._renderItemMessage(e),this._renderPanel(e.panel),this._renderPanelAction(e.panel),g>1?this._renderActionsSections(e,_):1===g?this._renderAction({item:e,action:this._getSingleAction(_),textEnabled:!1}):null)}},{key:"_renderItemStatus",value:function(e,t){var i;if(!this.visibleElements.statusIndicators)return null;var n=e.connectionStatus,o=e.publishing,l=e.updating&&!t,a=!!n;return(0,N.u)("calcite-icon",{class:this.classes((i={},(0,r.Z)(i,E.statusIndicator,!0),(0,r.Z)(i,E.publishing,o),(0,r.Z)(i,E.updating,l),(0,r.Z)(i,E.connectionStatus,a),(0,r.Z)(i,E.connectionStatusConnected,a&&"connected"===n),i)),icon:(0,Z.XO)({connectionStatus:n,publishing:o}),key:"layer-item-status",scale:"s",slot:"actions-end"})}},{key:"_renderItemTemporaryIcon",value:function(e){return this.visibleElements.temporaryLayerIndicators&&"persistenceEnabled"in e.layer&&!e.layer.persistenceEnabled?(0,N.u)("calcite-icon",{class:E.itemTemporaryIcon,icon:"temporary",key:"temporary-icon",scale:"s",slot:"actions-start",title:this.messages.temporary}):null}},{key:"_renderItemToggle",value:function(e,t){var i=this,n=this.messages,o=this.visibilityAppearance,l=e.visible,a=null===t||void 0===t?void 0:t.visibilityMode;if("inherited"===a)return null;var s=(0,Z.gk)({visible:l,exclusive:"exclusive"===a,visibilityAppearance:o}),c="checkbox"===o,u=n.layerVisibility;return(0,N.u)("calcite-action",{appearance:"transparent",class:E.visibleToggle,icon:c?s:void 0,key:"visibility-toggle",onclick:function(){return i._toggleVisibility(e,t)},scale:"s",slot:c?"actions-start":"actions-end",text:u,title:u},c?null:(0,N.u)("calcite-icon",{class:this.classes((0,r.Z)({},E.visibleIcon,"exclusive"!==a&&l)),icon:s,scale:"s"}))}},{key:"_renderPanel",value:function(e){return null===e||void 0===e||!e.open||e.disabled||e.flowEnabled?null:(0,N.u)("div",{class:E.itemContentBottom,key:"content-panel-".concat(e.uid),slot:"content-bottom"},e.render())}},{key:"_renderPanelAction",value:function(e){var t=this;if(null===e||void 0===e||!e.visible)return null;var i=e.open,n=e.title,o=e.disabled;return(0,N.u)("calcite-action",{active:i,appearance:"transparent",disabled:o,icon:(0,w.mR)(e),key:"action-".concat(e.uid),onclick:function(){return t._togglePanel(e)},scale:"s",slot:"actions-end",text:null!==n&&void 0!==n?n:"",title:null!==n&&void 0!==n?n:void 0},this._renderFallbackIcon(e))}},{key:"_renderActionsSections",value:function(e,t){var i=this,n=this.messagesCommon.options;return(0,N.u)("calcite-action-menu",{appearance:"transparent",class:E.actionMenu,key:"item-action-menu",label:this.messagesCommon.menu,open:e.actionsOpen,overlayPositioning:"fixed",placement:"bottom-end",scale:"s",slot:"actions-end",onCalciteActionMenuOpen:function(t){return e.actionsOpen=t.target.open}},(0,N.u)("calcite-action",{appearance:"transparent",icon:"ellipsis",scale:"s",slot:"trigger",text:n,title:n}),t.toArray().map((function(t,n){return i._renderActionSection(e,t,n)})))}},{key:"_renderActionSection",value:function(e,t,i){var n=this;return(0,N.u)("calcite-action-group",{class:E.actionGroup,key:"action-section-".concat(i)},t.toArray().map((function(t){return n._renderAction({item:e,action:t,textEnabled:!0})})))}},{key:"_renderFallbackIcon",value:function(e){var t,i=e.className;if(e.icon)return null;var n="image"in e?e.image:void 0,o=(t={},(0,r.Z)(t,E.itemActionIcon,!!i),(0,r.Z)(t,E.itemActionImage,!!n),t);return i&&(o[i]=!0),n||i?(0,N.u)("span",{"aria-hidden":"true",class:this.classes(E.itemActionIcon,o),key:"icon",styles:(0,w.uS)(n)}):null}},{key:"_renderAction",value:function(e){var t=this,i=e.item,n=e.action,o=e.textEnabled;if(!n)return null;var l=n.active,a=n.disabled,r=n.title,s=n.type,c=n.indicator;return(0,N.u)("calcite-action",{active:"toggle"===s&&n.value,appearance:"transparent",disabled:a,icon:(0,w.mR)(n),indicator:c,key:"action-".concat(n.uid),loading:l,onclick:function(){return t._triggerAction(i,n)},scale:"s",slot:o?void 0:"actions-end",text:null!==r&&void 0!==r?r:"",textEnabled:o,title:null!==r&&void 0!==r?r:void 0},this._renderFallbackIcon(n))}},{key:"_setTooltipReference",value:function(e,t){this._tooltipReferenceMap.set(t.layer.uid,e)}},{key:"_removeTooltipReference",value:function(e){this._tooltipReferenceMap.delete(e.layer.uid)}},{key:"_moveLayerFromChildList",value:function(e){var t=e.toEl,i=e.fromEl,n=e.dragEl,o=e.newIndex,l=(0,Z.rV)(n),a=(0,Z.rV)(t),r=(0,Z.rV)(i);this.viewModel.moveListItem(l,r,a,o)}},{key:"_handleCalciteListDragEnd",value:function(e){var t=e.fromEl,i=e.dragEl,n=e.oldIndex;t.insertBefore(i,t.children[n])}},{key:"_sortLayers",value:function(e,t){var i,n;if(e)if(e.group===this._rootGroupUid)(0,Z.Cl)(null===(i=this.view)||void 0===i||null===(n=i.map)||void 0===n?void 0:n.layers,t);else{var o=(0,Z.rV)(e);if(!o)return;(0,Z.YO)(o,t)}}},{key:"_getSingleAction",value:function(e){return e.reduce((function(e){return e})).find((function(e){return e&&("button"===e.type||"toggle"===e.type)}))}},{key:"_filterActions",value:function(e){return e.map((function(e){return e.filter((function(e){return e.visible}))}))}},{key:"_countActions",value:function(e){return e.reduce((function(e,t){return e+t.length}),0)}},{key:"_triggerAction",value:function(e,t){t&&e&&("toggle"===t.type&&(t.value=!t.value),this.triggerAction(t,e))}},{key:"_handleCalciteListChange",value:function(e){var t=this.selectionMode,i=this.selectedItems;if("none"!==t){var n=e.target.selectedItems.map((function(e){return(0,Z.rV)(e)})).filter(Boolean);i.removeAll(),i.addMany(n)}}},{key:"_handleCalciteListItemToggle",value:function(e,t){e.stopPropagation(),t.open=e.target.open}},{key:"_focusSelectedDragEl",value:function(e,t){this._selectedDragItemLayerUid===t.layer.uid&&requestAnimationFrame((function(){return null===e||void 0===e?void 0:e.setFocus()}))}},{key:"_handleCalciteListItemDragHandleChange",value:function(e,t){e.stopPropagation();var i=e.target.dragSelected;this._selectedDragItemLayerUid=i?t.layer.uid:null}},{key:"_handleCalciteListItemSelect",value:function(e,t,i){(0,Z.rV)(e.target)===t&&"none"===this.selectionMode&&"inherited"!==(null===i||void 0===i?void 0:i.visibilityMode)&&this._toggleVisibility(t,i)}},{key:"_togglePanel",value:function(e){e.open=!e.open,e.open&&(this._focusPanelFlowItem=!0)}},{key:"_toggleVisibility",value:function(e,t){e&&("exclusive"===(null===t||void 0===t?void 0:t.visibilityMode)&&e.visible||(e.visible=!e.visible))}}]),m}((0,f.IG)(k.Z));(0,m._)([(0,b.Cb)()],B.prototype,"_activeItem",void 0),(0,m._)([(0,b.Cb)()],B.prototype,"_tooltipReferenceMap",void 0),(0,m._)([(0,b.Cb)()],B.prototype,"_focusRootFlowItem",void 0),(0,m._)([(0,b.Cb)()],B.prototype,"_focusPanelFlowItem",void 0),(0,m._)([(0,b.Cb)()],B.prototype,"_focusTableListFlowItem",void 0),(0,m._)([(0,b.Cb)()],B.prototype,"_focusCatalogFlowItem",void 0),(0,m._)([(0,b.Cb)()],B.prototype,"_totalItems",null),(0,m._)([(0,b.Cb)()],B.prototype,"_dragEnabled",null),(0,m._)([(0,b.Cb)()],B.prototype,"_filterEnabled",null),(0,m._)([(0,b.Cb)({readOnly:!0})],B.prototype,"catalogLayerList",void 0),(0,m._)([(0,b.Cb)()],B.prototype,"catalogOptions",void 0),(0,m._)([(0,b.Cb)()],B.prototype,"collapsed",void 0),(0,m._)([(0,b.Cb)()],B.prototype,"dragEnabled",void 0),(0,m._)([(0,b.Cb)()],B.prototype,"filterPlaceholder",void 0),(0,m._)([(0,b.Cb)()],B.prototype,"filterText",void 0),(0,m._)([(0,b.Cb)()],B.prototype,"headingLevel",void 0),(0,m._)([(0,b.Cb)()],B.prototype,"icon",null),(0,m._)([(0,b.Cb)()],B.prototype,"knowledgeGraphOptions",void 0),(0,m._)([(0,b.Cb)()],B.prototype,"label",null),(0,m._)([(0,b.Cb)()],B.prototype,"listItemCanGiveFunction",void 0),(0,m._)([(0,b.Cb)()],B.prototype,"listItemCanReceiveFunction",void 0),(0,m._)([(0,b.Cb)()],B.prototype,"listItemCreatedFunction",null),(0,m._)([(0,b.Cb)(),(0,x.H)("esri/widgets/LayerList/t9n/LayerList")],B.prototype,"messages",void 0),(0,m._)([(0,b.Cb)(),(0,x.H)("esri/t9n/common")],B.prototype,"messagesCommon",void 0),(0,m._)([(0,b.Cb)()],B.prototype,"minDragEnabledItems",void 0),(0,m._)([(0,b.Cb)()],B.prototype,"minFilterItems",void 0),(0,m._)([(0,b.Cb)()],B.prototype,"multipleSelectionEnabled",null),(0,m._)([(0,b.Cb)()],B.prototype,"openCatalogItem",void 0),(0,m._)([(0,b.Cb)()],B.prototype,"openTableListItem",void 0),(0,m._)([(0,b.Cb)()],B.prototype,"operationalItems",null),(0,m._)([(0,b.Cb)()],B.prototype,"selectionEnabled",null),(0,m._)([(0,b.Cb)()],B.prototype,"selectedItems",void 0),(0,m._)([(0,b.Cb)()],B.prototype,"selectionMode",void 0),(0,m._)([(0,b.Cb)({readOnly:!0})],B.prototype,"tableList",void 0),(0,m._)([(0,b.Cb)()],B.prototype,"view",null),(0,m._)([(0,D.s)("trigger-action"),(0,b.Cb)({type:F.Z})],B.prototype,"viewModel",void 0),(0,m._)([(0,b.Cb)()],B.prototype,"visibilityAppearance",void 0),(0,m._)([(0,b.Cb)({type:A,nonNullable:!0})],B.prototype,"visibleElements",void 0);var H=B=(0,m._)([(0,I.j)("esri.widgets.LayerList")],B)},69735:function(e,t,i){i.d(t,{Z:function(){return w}});var n=i(15671),o=i(43144),l=i(60136),a=i(29388),r=i(27366),s=i(80987),c=i(91505),u=i(94172),d=i(49861),v=(i(93169),i(32718),i(84936),i(69912)),m=i(89500),p=i(9309),h="view",f="view-layers",y="map-layers",_="layer-views",g="layer-list-mode",b=s.Z.ofType(m.Z),I=function(e){(0,l.Z)(i,e);var t=(0,a.Z)(i);function i(e){var o;return(0,n.Z)(this,i),(o=t.call(this,e)).checkPublishStatusEnabled=!1,o.listItemCreatedFunction=null,o.listModeDisabled=!1,o.operationalItems=new b,o.view=null,o}return(0,o.Z)(i,[{key:"initialize",value:function(){var e=this;this.addHandles([(0,u.watch)((function(){var t;return!0===(null===(t=e.view)||void 0===t?void 0:t.ready)}),(function(){return e._viewHandles()}),u.initial),(0,u.watch)((function(){return[e.listItemCreatedFunction,e.checkPublishStatusEnabled,e.listModeDisabled]}),(function(){return e._recompileList()}))],h)}},{key:"destroy",value:function(){this._removeAllItems(),this.view=null}},{key:"state",get:function(){var e=this.view;return null!==e&&void 0!==e&&e.ready?"ready":e?"loading":"disabled"}},{key:"totalItems",get:function(){return this.operationalItems.flatten((function(e){return e.children})).length}},{key:"triggerAction",value:function(e,t){e&&!e.disabled&&this.emit("trigger-action",{action:e,item:t})}},{key:"moveListItem",value:function(e,t,i,n){var o,l,a=null===e||void 0===e?void 0:e.layer;if(a&&"subtype-sublayer"!==a.type&&"sublayer"!==a.type){var r=null===(o=this.view)||void 0===o||null===(l=o.map)||void 0===l?void 0:l.layers,s=t?(0,p.Hh)(t):r,c=i?(0,p.Hh)(i):r;if(s&&c){var u=this.operationalItems,d=(null===t||void 0===t?void 0:t.children)||u,v=(null===i||void 0===i?void 0:i.children)||u,m=c.length-n;e.parent=i||null,d.remove(e),s.remove(a),v.includes(e)||v.add(e,m),c.includes(a)||c.add(a,m),this._compileList()}}}},{key:"_createLayerViewHandles",value:function(e){var t=this;this.removeHandles(_),this._compileList(),e&&this.addHandles(e.on("change",(function(){return t._compileList()})),_)}},{key:"_createMapLayerHandles",value:function(e){var t=this;this.removeHandles(y),this._compileList(),e&&this.addHandles(e.on("change",(function(){return t._compileList()})),y)}},{key:"_createListItem",value:function(e){var t=this.view,i=this.listItemCreatedFunction,n=this.checkPublishStatusEnabled,o=this.listModeDisabled;return new m.Z({checkPublishStatusEnabled:n,listModeDisabled:o,layer:e,listItemCreatedFunction:i,view:t})}},{key:"_removeAllItems",value:function(){this.operationalItems.destroyAll()}},{key:"_getViewableLayers",value:function(e){return e?this.listModeDisabled?e:e.filter((function(e){return"hide"!==(0,p.aV)(e)})):void 0}},{key:"_watchLayersListMode",value:function(e){var t=this;this.removeHandles(g),e&&!this.listModeDisabled&&this.addHandles((0,u.watch)((function(){return e.filter((function(e){return"listMode"in e})).map((function(e){return e.listMode})).toArray()}),(function(){return t._compileList()})),g)}},{key:"_compileList",value:function(){var e,t,i=null===(e=this.view)||void 0===e||null===(t=e.map)||void 0===t?void 0:t.layers;this._watchLayersListMode(i);var n=this._getViewableLayers(i);null!==n&&void 0!==n&&n.length?(this._createNewItems(n),this._removeItems(n),this._sortItems(n)):this._removeAllItems()}},{key:"_createNewItems",value:function(e){var t=this,i=this.operationalItems;e.forEach((function(e){i.some((function(t){return t.layer===e}))||i.add(t._createListItem(e))}))}},{key:"_removeItems",value:function(e){var t=this.operationalItems,i=[];t.forEach((function(t){t&&e&&e.includes(t.layer)||i.push(t)})),t.destroyMany(i)}},{key:"_sortItems",value:function(e){this.operationalItems.sort((function(t,i){var n=e.indexOf(t.layer),o=e.indexOf(i.layer);return n>o?-1:n<o?1:0}))}},{key:"_recompileList",value:function(){this._removeAllItems(),this._compileList()}},{key:"_viewHandles",value:function(){var e=this,t=this.view;this.removeHandles([y,_,f]),null!==t&&void 0!==t&&t.ready?this.addHandles([(0,u.watch)((function(){var t,i;return null===(t=e.view)||void 0===t||null===(i=t.map)||void 0===i?void 0:i.allLayers}),(function(t){return e._createMapLayerHandles(t)}),u.initial),(0,u.watch)((function(){var t;return null===(t=e.view)||void 0===t?void 0:t.allLayerViews}),(function(t){return e._createLayerViewHandles(t)}),u.initial)],f):this._removeAllItems()}}]),i}(c.Z.EventedAccessor);(0,r._)([(0,d.Cb)()],I.prototype,"checkPublishStatusEnabled",void 0),(0,r._)([(0,d.Cb)()],I.prototype,"listItemCreatedFunction",void 0),(0,r._)([(0,d.Cb)({nonNullable:!0})],I.prototype,"listModeDisabled",void 0),(0,r._)([(0,d.Cb)({type:b})],I.prototype,"operationalItems",void 0),(0,r._)([(0,d.Cb)({readOnly:!0})],I.prototype,"state",null),(0,r._)([(0,d.Cb)()],I.prototype,"totalItems",null),(0,r._)([(0,d.Cb)()],I.prototype,"view",void 0);var w=I=(0,r._)([(0,v.j)("esri.widgets.LayerList.LayerListViewModel")],I)},7021:function(e,t,i){i.d(t,{z:function(){return n}});var n={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"}}}]);
//# sourceMappingURL=52955.4d810485.chunk.js.map