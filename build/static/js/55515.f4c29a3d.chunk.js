"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[55515],{55515:function(e,t,r){r.r(t),r.d(t,{createArcadeExecutor:function(){return D},createArcadeProfile:function(){return G}});var a=r(74165),n=r(1413),i=r(15861),u=r(37762),o=r(4942),c=r(52639),l=r(51064),s=r(97246),p=r(10064),f=r(84652),y=r(84726),v=r(58237),m=r(64326),d=r(7575),h=r(49818),g=r(819),b=null;function w(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=t.elementType,i="value",u="array"===n.type?[{name:i,type:n.type,elementType:n.elementType}]:"dictionary"===n.type?[{name:i,type:n.type,properties:n.properties}]:[{name:i,type:n.type}];return new s.Z(e.map((function(e){var t={};return C(t,u,(0,o.Z)({},i,e),r,a),t[i]})))}function S(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=e instanceof h.Z?new m.default({source:e.features,geometryType:e.geometryType,fields:e.fields,spatialReference:e.spatialReference}):e;return t.constructFeatureSet(a,r.spatialReference,null,!0,r.lruCache,r.interceptor)}function Z(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.spatialReference,n=r.interceptor,i=r.lruCache;return"string"==typeof e?t.createFeatureSetCollectionFromService(e,a,i,n):t.createFeatureSetCollectionFromMap(e,a,i,n)}function k(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n={};return C(n,t.properties,e,r,a),new b.Dictionary(n)}function C(e,t,r,a){for(var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i={},o=0,c=Object.keys(r);o<c.length;o++){var s=c[o];i[s.toLowerCase()]=r[s]}var p,f=(0,u.Z)(t);try{for(f.s();!(p=f.n()).done;){var m=p.value,d=m.name.toLowerCase();if(n.variablesPreProcessed)e[d]=i[d];else switch(m.type){case"array":var h=i[d];e[d]=null==h?null:w(h,m,a,n);break;case"feature":var g=i[d];e[d]=null==g?null:b.Feature.createFromGraphic(g,null===n||void 0===n?void 0:n.timeZone);break;case"featureSet":var C=i[d];e[d]=null==C?null:a?S(C,a,n):null;break;case"featureSetCollection":var $=i[d];e[d]=null==$?null:a?Z($,a,n):null;break;case"dictionary":var x=i[d];e[d]=null==x?null:k(x,m,a,n);break;case"date":var A=i[d];e[d]=A?A instanceof l.iG?A:null!==n&&void 0!==n&&n.timeZone?l.iG.dateJSAndZoneToArcadeDate(A,null===n||void 0===n?void 0:n.timeZone):l.iG.dateJSToArcadeDate(A):null;break;case"dateOnly":var T=i[d];e[d]=T?T instanceof y.u?T:y.u.fromReader(T):null;break;case"time":var F=i[d];e[d]=F?F instanceof v.n?F:v.n.fromReader(F):null;break;case"knowledgeGraph":case"geometry":case"boolean":case"text":case"number":e[d]=i[d]}}}catch(R){f.e(R)}finally{f.f()}}function $(e,t){var r,a=(0,u.Z)(e);try{for(a.s();!(r=a.n()).done;){var n=r.value;t.push(n),"dictionary"===n.type&&$(n.properties,t)}}catch(i){a.e(i)}finally{a.f()}return t}function x(e,t,r,a,n){var i=r.spatialReference,u=r.interceptor,o=r.lruCache,c=r.console,l=r.abortSignal,s=r.timeZone,p=r.services,f={vars:{},spatialReference:i,interceptor:u,timeZone:s,lrucache:o,useAsync:n,services:void 0===p?{portal:d.Z.getDefault()}:p,console:c,abortSignal:l};return t?(C(f.vars,e.variables,t,a,r),f):f}function A(e,t){switch(t.getArcadeType(e)){case"number":case"text":case"boolean":case"point":case"polygon":case"polyline":case"multipoint":case"extent":return e;case"date":return e.toJSDate();case"time":case"dateOnly":return e.toString();case"feature":var r=(e.type,e),a="geometry"in r?r.geometry():null,n="readAttributes"in r?r.readAttributes():r.attributes;return new c.Z({geometry:a,attributes:n});case"dictionary":for(var i=e,u=i.attributes,o={},l=0,s=Object.keys(u);l<s.length;l++){var p=s[l];o[p]=A(i.field(p),t)}return o;case"array":return("toArray"in e?e.toArray():e).map((function(e){return A(e,t)}))}return e}var T={variables:[{name:"$feature",type:"feature"},{name:"$layer",type:"featureSet"},{name:"$datastore",type:"featureSetCollection"},{name:"$map",type:"featureSetCollection"},{name:"$userInput",type:"geometry"},{name:"$graph",type:"knowledgeGraph"}]},F={variables:[{name:"$feature",type:"feature"},{name:"$aggregatedFeatures",type:"featureSet"}]},R=new Map([["aggregate-field",{variables:[{name:"$feature",type:"feature"}]}],["form-constraint",{variables:[{name:"$feature",type:"feature"}]}],["feature-z",{variables:[{name:"$feature",type:"feature"}]}],["field-calculation",{variables:[{name:"$feature",type:"feature"},{name:"$datastore",type:"featureSetCollection"}]}],["form-calculation",{variables:[{name:"$feature",type:"feature"},{name:"$originalFeature",type:"feature"},{name:"$layer",type:"featureSet"},{name:"$featureSet",type:"featureSet"},{name:"$datastore",type:"featureSetCollection"},{name:"$map",type:"featureSetCollection"},{name:"$editContext",type:"dictionary",properties:[{name:"editType",type:"text"}]}]}],["labeling",{variables:[{name:"$feature",type:"feature"}]}],["popup",T],["popup-element",T],["feature-reduction-popup",F],["feature-reduction-popup-element",F],["visualization",{variables:[{name:"$feature",type:"feature"},{name:"$view",type:"dictionary",properties:[{name:"scale",type:"number"}]}]}]]);function G(e){var t=R.get(e);if(!t){var r=Array.from(R.keys()).map((function(e){return"'".concat(e,"'")})).join(", ");throw new p.Z("createArcadeProfile:invalid-profile-name","Invalid profile name '".concat(e,"'. You must specify one of the following values: ").concat(r))}return(0,f.d9)(t)}function D(e,t){return O.apply(this,arguments)}function O(){return O=(0,i.Z)((0,a.Z)().mark((function e(t,r){var o,c,l,s,f,y,v,m,d,h,w,S,Z,k,C,T,F,R,G,D,O,U,L=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=L.length>2&&void 0!==L[2]?L[2]:{},e.t0=b,e.t0){e.next=6;break}return e.next=5,(0,g.LC)();case 5:b=e.sent;case 6:if(l=(c=b).arcade,s=c.arcadeUtils,f=l.loadScriptDependencies,y=l.referencesMember,v=l.scriptIsAsync,m=$(r.variables,[]),d=m.filter((function(e){return"featureSet"===e.type||"featureSetCollection"===e.type})).map((function(e){return e.name.toLowerCase()})),h=l.parseScript(t,d)){e.next=9;break}throw new p.Z("arcade:invalid-script","Unable to create SyntaxTree");case 9:return w=s.extractFieldNames(h),S=l.scriptTouchesGeometry(h),Z=m.map((function(e){return e.name.toLowerCase()})).filter((function(e){return y(h,e)})),k=v(h,d),e.next=12,f(h,k,d);case 12:C={vars:{},spatialReference:null,useAsync:k},T=(0,u.Z)(Z);try{for(T.s();!(F=T.n()).done;)R=F.value,C.vars[R]="any"}catch(_){T.e(_)}finally{T.f()}return G=o.lruCache,D=l.compileScript(h,C),O=l.featureSetUtils(),U=o.services,e.abrupt("return",{execute:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(k)throw new p.Z("arcade:invalid-execution-mode","Cannot execute the script in synchronous mode");var a=D(x(r,e,(0,n.Z)({lruCache:G},t),O,k));return t.rawOutput?a:A(a,s)},executeAsync:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var i,u,o=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,D(x(r,t,(0,n.Z)({lruCache:G,services:U},i),O,k));case 3:return u=e.sent,e.abrupt("return",i.rawOutput?u:A(u,s));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),isAsync:k,variablesUsed:Z,fieldsUsed:w,geometryUsed:S,syntaxTree:h});case 17:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}},97246:function(e,t,r){r.d(t,{Z:function(){return i}});var a=r(15671),n=r(43144),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,a.Z)(this,e),this._elements=t}return(0,n.Z)(e,[{key:"length",value:function(){return this._elements.length}},{key:"get",value:function(e){return this._elements[e]}},{key:"toArray",value:function(){return this.slice()}},{key:"slice",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length(),r=[],a=e;a<t;a++)r.push(this.get(a));return r}}]),e}()}}]);
//# sourceMappingURL=55515.f4c29a3d.chunk.js.map