"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[80322],{80322:function(e,t,r){r.r(t),r.d(t,{I3STreeDebugger:function(){return g}});var l=r(15671),n=r(43144),i=r(60136),o=r(29388),a=r(27366),s=(r(59486),r(63780)),u=r(49861),c=(r(93169),r(32718),r(69912)),h=r(29134),f=r(7025),p=r(32035),y=r(12400),b=r(50628),v=r(87287),d=r(80885),g=function(e){(0,i.Z)(r,e);var t=(0,o.Z)(r);function r(e){return(0,l.Z)(this,r),t.call(this,e)}return(0,n.Z)(r,[{key:"getTiles",value:function(){var e=this.lv.getVisibleNodes(),t=this.view.renderSpatialReference,r=this.nodeSR;return e.map((function(e){return function(e,t,r){var l=e.serviceObbInIndexSR;if(null==l||null==t)return null;(0,h.en)(w,l.quaternion),(0,p.c)(_,l.center),(0,b.projectBuffer)(_,r,0,_,t,0,1),w[12]=_[0],w[13]=_[1],w[14]=_[2];var n=[[],[],[]];(0,p.h)(_,l.halfSize,w),(0,b.projectBuffer)(_,t,0,_,r,0,1),n[0].push([_[0],_[1]]),(0,p.c)(_,l.halfSize),_[0]=-_[0],(0,p.h)(_,_,w),(0,b.projectBuffer)(_,t,0,_,r,0,1),n[0].push([_[0],_[1]]),(0,p.c)(_,l.halfSize),_[0]=-_[0],_[1]=-_[1],(0,p.h)(_,_,w),(0,b.projectBuffer)(_,t,0,_,r,0,1),n[0].push([_[0],_[1]]),(0,p.c)(_,l.halfSize),_[1]=-_[1],(0,p.h)(_,_,w),(0,b.projectBuffer)(_,t,0,_,r,0,1),n[0].push([_[0],_[1]]),n[1].push(n[0][0]),n[1].push(n[0][1]),(0,p.c)(_,l.halfSize),_[0]=-_[0],_[2]=-_[2],(0,p.h)(_,_,w),(0,b.projectBuffer)(_,t,0,_,r,0,1),n[1].push([_[0],_[1]]),(0,p.c)(_,l.halfSize),_[2]=-_[2],(0,p.h)(_,_,w),(0,b.projectBuffer)(_,t,0,_,r,0,1),n[1].push([_[0],_[1]]),n[2].push(n[0][0]),n[2].push(n[0][3]),(0,p.c)(_,l.halfSize),_[1]=-_[1],_[2]=-_[2],(0,p.h)(_,_,w),(0,b.projectBuffer)(_,t,0,_,r,0,1),n[2].push([_[0],_[1]]),n[2].push(n[1][3]);var i=new d.Z({rings:n,spatialReference:r});return{lij:[e.level,e.childCount,0],label:e.id,geometry:i}}(e,t,r)})).filter(s.pC).sort((function(e,t){return e.lij[0]===t.lij[0]?e.label>t.label?-1:1:e.lij[0]-t.lij[0]}))}}]),r}(v.q);(0,a._)([(0,u.Cb)({constructOnly:!0})],g.prototype,"lv",void 0),(0,a._)([(0,u.Cb)({constructOnly:!0})],g.prototype,"nodeSR",void 0),g=(0,a._)([(0,c.j)("esri.views.3d.layers.support.I3STreeDebugger")],g);var w=(0,f.Ue)(),_=(0,y.Ue)()},87287:function(e,t,r){r.d(t,{q:function(){return S}});var l=r(15671),n=r(43144),i=r(60136),o=r(29388),a=r(27366),s=r(51995),u=r(52639),c=(r(51508),r(7138)),h=r(80987),f=r(16889),p=r(49861),y=(r(93169),r(32718),r(84936),r(69912)),b=r(62554),v=r(61459),d=r(58009),g=r(87037),w=r(61054),_=r(98351),m=r(21897),Z=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]],S=function(e){(0,i.Z)(r,e);var t=(0,o.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).updating=!1,n.enablePolygons=!0,n.enableLabels=!0,n._polygons=new Map,n._labels=new Map,n._enabled=!0,n}return(0,n.Z)(r,[{key:"initialize",value:function(){this._symbols=Z.map((function(e){return new v.default({color:[e[0],e[1],e[2],.6],outline:{color:"black",width:1}})})),this.update()}},{key:"destroy",value:function(){this._enabled=!1,this.clear()}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled!==e&&(this._enabled=e,this.update())}},{key:"update",value:function(){var e=this;if(this._enabled){var t=this.getTiles(),r=new Array,l=new Set((this._labels.size,this._labels.keys()));t.forEach((function(n,i){var o=n.lij.toString();l.delete(o);var a=n.lij[0],c=n.geometry;if(e.enablePolygons&&!e._polygons.has(o)){var p=new u.Z({geometry:c,symbol:e._symbols[a%e._symbols.length]});e._polygons.set(o,p),r.push(p)}if(e.enableLabels){var y=function(e){if(null!=e.label)return e.label;var t=e.lij.toString();return null!=e.loadPriority&&(t+=" (".concat(e.loadPriority,")")),t}(n),v=i/(t.length-1),Z=(0,f.t7)(0,200,v),S=(0,f.t7)(20,6,v)/.75,j=null!=n.loadPriority&&n.loadPriority>=t.length,k=new s.Z([Z,j?0:Z,j?0:Z]),z="3d"===e.view.type?function(){return new b.Z({verticalOffset:new w.Z({screenLength:40/.75}),callout:new _.Z({color:new s.Z("white"),border:new m.Z({color:new s.Z("black")})}),symbolLayers:new h.Z([new g.Z({text:y,halo:{color:"white",size:1/.75},material:{color:k},size:S})])})}:function(){return new d.Z({text:y,haloColor:"white",haloSize:1/.75,color:k,size:S})},C=e._labels.get(o);if(C){var B=z();null!=C.symbol&&JSON.stringify(B)===JSON.stringify(C.symbol)||(C.symbol=B)}else{var O=new u.Z({geometry:c.extent.center,symbol:z()});e._labels.set(o,O),r.push(O)}}}));var n=new Array;l.forEach((function(t){var r=e._polygons.get(t);null!=r&&(n.push(r),e._polygons.delete(t));var l=e._labels.get(t);null!=l&&(n.push(l),e._labels.delete(t))})),this.view.graphics.removeMany(n),this.view.graphics.addMany(r)}else this.clear()}},{key:"clear",value:function(){this.view.graphics.removeMany(Array.from(this._polygons.values())),this.view.graphics.removeMany(Array.from(this._labels.values())),this._polygons.clear(),this._labels.clear()}}]),r}(c.default);(0,a._)([(0,p.Cb)({constructOnly:!0})],S.prototype,"view",void 0),(0,a._)([(0,p.Cb)({readOnly:!0})],S.prototype,"updating",void 0),(0,a._)([(0,p.Cb)()],S.prototype,"enabled",null),S=(0,a._)([(0,y.j)("esri.views.support.TileTreeDebugger")],S)}}]);
//# sourceMappingURL=80322.fef99e6e.chunk.js.map