{"version":3,"file":"static/js/62078.f08c2ec3.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/portal/support/resourceUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{join as r,getPathExtension as s}from\"../../core/urlUtils.js\";async function o(e,t={},s){await e.load(s);const o=r(e.itemUrl,\"resources\"),{start:a=1,num:n=10,sortOrder:c=\"asc\",sortField:l=\"resource\"}=t,i={query:{start:a,num:n,sortOrder:c,sortField:l,token:e.apiKey},signal:s?.signal},u=await e.portal.request(o,i);return{total:u.total,nextStart:u.nextStart,resources:u.resources.map((({created:t,size:r,resource:s})=>({created:new Date(t),size:r,resource:e.resourceFromPath(s)})))}}async function a(e,s,o,a){const n=new Map;for(const{resource:r,content:i,compress:u,access:p}of s){if(!r.hasPath())throw new t(`portal-item-resource-${o}:invalid-path`,\"Resource does not have a valid path\");const[e,s]=l(r.path),a=`${e}/${u??\"\"}/${p??\"\"}`;n.has(a)||n.set(a,{prefix:e,compress:u,access:p,files:[]});n.get(a).files.push({fileName:s,content:i})}await e.load(a);const c=r(e.userItemUrl,\"add\"===o?\"addResources\":\"updateResources\");for(const{prefix:t,compress:r,access:l,files:i}of n.values()){const s=25;for(let o=0;o<i.length;o+=s){const n=i.slice(o,o+s),u=new FormData;t&&\".\"!==t&&u.append(\"resourcesPrefix\",t),r&&u.append(\"compress\",\"true\"),l&&u.append(\"access\",l);let p=0;for(const{fileName:e,content:t}of n)u.append(\"file\"+ ++p,t,e);u.append(\"f\",\"json\"),await e.portal.request(c,{method:\"post\",body:u,signal:a?.signal})}}}async function n(e,s,o){if(!s.hasPath())throw new t(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await e.load(o);const a=r(e.userItemUrl,\"removeResources\");await e.portal.request(a,{method:\"post\",query:{resource:s.path},signal:o?.signal}),s.portalItem=null}async function c(e,t){await e.load(t);const s=r(e.userItemUrl,\"removeResources\");return e.portal.request(s,{method:\"post\",query:{deleteAll:!0},signal:t?.signal})}function l(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function i(e){const[t,r]=u(e),[s,o]=l(t);return[s,o,r]}function u(e){const t=s(e);return null==t?[e,\"\"]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function p(t){if(\"blob\"===t.type)return t.blob;if(\"json\"===t.type)return new Blob([t.jsonString],{type:\"application/json\"});return(await e(t.url,{responseType:\"blob\"})).data}function f(e,t){if(!e.hasPath())return null;const[s,,o]=i(e.path);return e.portalItem.resourceFromPath(r(s,t+o))}function m(e,t){if(!e.hasPath())return null;const[s,,o]=i(e.path);return e.portalItem.resourceFromPath(r(s,t+o))}export{a as addOrUpdateResources,p as contentToBlob,o as fetchResources,f as getSiblingOfSameType,m as getSiblingOfSameTypeI,c as removeAllResources,n as removeResource,i as splitPrefixFileNameAndExtension};\n"],"names":["o","_x","_o","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","t","s","_t$start","a","_t$num","n","_t$sortOrder","c","_t$sortField","i","u","_args","wrap","_context","prev","next","length","undefined","load","r","itemUrl","start","num","sortOrder","sortField","query","token","apiKey","signal","portal","request","sent","abrupt","total","nextStart","resources","map","_ref","created","size","resource","Date","resourceFromPath","stop","_x2","_x3","_x4","_x5","_a","_callee2","_iterator","_step","_step$value","_r","_i5","_u3","_p2","_l3","_l4","_e","_s","_a2","_iterator2","_step2","_step2$value","_t","_r2","_l5","_i6","_s2","_o2","_n2","_u4","_p3","_iterator3","_step3","_step3$value","_e2","_t2","_context2","Map","_createForOfIteratorHelper","done","value","content","compress","p","access","hasPath","concat","l","path","_slicedToArray","has","set","prefix","files","get","push","fileName","t0","f","finish","userItemUrl","values","slice","FormData","append","err","method","body","t1","_x6","_x7","_x8","_n","_callee3","_context3","portalItem","_x9","_x10","_c","_callee4","_context4","deleteAll","lastIndexOf","_u","_u2","_l","_l2","_x11","_p","_callee5","_context5","type","blob","Blob","jsonString","url","responseType","data","_i","_i2","m","_i3","_i4"],"sourceRoot":""}