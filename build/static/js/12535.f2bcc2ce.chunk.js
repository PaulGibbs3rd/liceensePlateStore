"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[12535],{12535:function(e,i,n){n.r(i),n.d(i,{arcgis_version_management_version_item:function(){return a},arcgis_version_management_version_list:function(){return c}});var t=n(1413),s=n(15671),r=n(43144),o=n(62042),a=function(){function e(i){(0,s.Z)(this,e),(0,o.r)(this,i),this.arcgisManageVersion=(0,o.c)(this,"arcgisManageVersion",7),this.versionItemElementProps=void 0}return(0,r.Z)(e,[{key:"render",value:function(){var e=this,i=this.versionItemElementProps,n=i.currentUser,t=i.currentVersionIdentifier,s=i.hasAdvEditingUte,r=i.isVersioningApiAvailable,a=i.serviceUrl,c=i.strings.actions,l=i.versionInfo,d=l.versionIdentifier.name,h=d.substring(d.lastIndexOf(".")+1),f=d.substring(0,d.lastIndexOf(".")).toUpperCase(),u=l.versionIdentifier.guid,g="actionSwitchToVersion_".concat(u),v=f.toUpperCase()===n.toUpperCase()&&r&&s,p=t.guid===l.versionIdentifier.guid,V=(0,o.h)("calcite-action",{key:"2f6e3eeea7fc7736a1199a29668894dd80dac94a",disabled:p,id:g,icon:"code-branch",text:"",onClick:function(){e.arcgisManageVersion.emit({actionType:"changeVersion",serviceUrl:a,versionInfo:l})},slot:"actions-start"}),m=p?void 0:(0,o.h)("calcite-tooltip",{"overlay-positioning":"fixed",referenceElement:g},(0,o.h)("span",null,c.switchToVersion));return(0,o.h)("calcite-list-item",{key:"74b8319a683737aaaf8cfc5f06147eaa401195a6",description:f,label:h,selected:!1,value:u},V,m,(0,o.h)("calcite-action-menu",{key:"535784b416984e07bbfc44a275dfc5c81fb55daf","overlay-positioning":"fixed",slot:"actions-end",label:""},(0,o.h)("calcite-action",{key:"5e89410767d43ab3ce8a6e3ac6ef5d2db5542ea7",disabled:p,icon:"code-branch",onClick:function(){e.arcgisManageVersion.emit({actionType:"changeVersion",serviceUrl:a,versionInfo:l})},scale:"s",text:c.switchToVersion,textEnabled:!0}),(0,o.h)("calcite-action",{key:"cf3ab694540fb02bcfa7c5ef9557fcb6a93746c1",disabled:!v||p,icon:"code-branch-edit",onClick:function(){e.arcgisManageVersion.emit({actionType:"editVersion",serviceUrl:a,versionInfo:l})},scale:"s",text:c.editVersion,textEnabled:!0}),(0,o.h)("calcite-action",{key:"bb646b907dbbc62283a15295a265912ba45d73a4",disabled:!v||v&&p,icon:"trash",onClick:function(){e.arcgisManageVersion.emit({actionType:"deleteVersion",serviceUrl:a,versionInfo:l})},scale:"s",text:c.deleteVersion,textEnabled:!0})))}},{key:"el",get:function(){return(0,o.g)(this)}}]),e}(),c=function(){function e(i){var n=this;(0,s.Z)(this,e),(0,o.r)(this,i),this.arcgisNewVersion=(0,o.c)(this,"arcgisNewVersion",7),this.arcgisGetVersions=(0,o.c)(this,"arcgisGetVersions",7),this.arcgisManageVersion=(0,o.c)(this,"arcgisManageVersion",7),this._handleFilterChange=function(){var e=n.versionListElementProps.versionInfos,i=n._filterInputElement.value.toUpperCase();n._filteredVersionInfos=""===i?e:e.filter((function(e){return e.versionIdentifier.name.toUpperCase().includes(i)||e.versionIdentifier.guid.toUpperCase().includes(i)})),n._filteredVersionInfos.length&&(n.currentPage=1)},this._handleNoticeClosed=function(){n.versionListElementProps=(0,t.Z)((0,t.Z)({},n.versionListElementProps),{},{executionError:void 0})},this._handlePaginationChange=function(e){n.currentPage=e.target.startItem},this.currentPage=1,this.versionListElementProps=void 0,this._filteredVersionInfos=void 0}return(0,r.Z)(e,[{key:"propertiesChangeHandler",value:function(e,i){i.versionInfos!==e.versionInfos&&(this._filteredVersionInfos=this.versionListElementProps.versionInfos,this._filterInputElement&&this._handleFilterChange())}},{key:"componentWillLoad",value:function(){this._filteredVersionInfos=this.versionListElementProps.versionInfos}},{key:"componentDidRender",value:function(){var e;null===(e=this._filterInputElement)||void 0===e||e.setFocus()}},{key:"render",value:function(){var e=this,i=this.currentPage,n=this.versionListElementProps,t=n.closable,s=n.currentUser,r=n.currentVersionIdentifier,a=n.executionError,c=n.hasAdvEditingUte,l=n.heading,d=n.isVersioningApiAvailable,h=n.pageSize,f=n.serviceName,u=n.serviceUrl,g=n.state,v=n.strings.headers,p=n.strings,V=n.versionInfos,m=(0,o.h)("calcite-block",{heading:v.currentVersion,description:r.name,overlayPositioning:"fixed"}),I=(0,o.h)("calcite-action",{id:"actionRefreshVersions",icon:"refresh",text:"",onClick:function(){e.arcgisGetVersions.emit({serviceUrl:u})},slot:"header-actions-end"},(0,o.h)("calcite-tooltip",{"overlay-positioning":"fixed",referenceElement:"actionRefreshVersions"},(0,o.h)("span",null,p.actions.refreshVersions)));this._paginatedVersionInfos=this._filteredVersionInfos.length>h?this._paginate(this._filteredVersionInfos,h,i):this._filteredVersionInfos;var b=this._filteredVersionInfos.length>h?(0,o.h)("calcite-pagination",{onCalcitePaginationChange:this._handlePaginationChange,pageSize:1,startItem:i,totalItems:Math.ceil(this._filteredVersionInfos.length/h)}):void 0,_=this._paginate(this._paginatedVersionInfos,h,1).map((function(e){var i={currentUser:s,currentVersionIdentifier:r,isCurrentVersionCard:!1,hasAdvEditingUte:c,isVersioningApiAvailable:d,serviceUrl:u,strings:p,versionInfo:e};return(0,o.h)("arcgis-version-management-version-item",{versionItemElementProps:i})})),E=V.length>h?(0,o.h)("calcite-block",{heading:"",open:!0},(0,o.h)("calcite-input-text",{ref:function(i){e._filterInputElement=i},clearable:!0,icon:"search",onCalciteInputTextInput:this._handleFilterChange,placeholder:p.actions.searchVersions})):void 0,C=(0,o.h)("calcite-list",null,_),k=d&&c?(0,o.h)("calcite-fab",{appearance:"outline-fill",slot:"fab",textEnabled:!0,text:p.actions.newVersion,onClick:function(){e.arcgisNewVersion.emit({serviceUrl:u})}}):void 0,x=a?(0,o.h)("calcite-notice",{onCalciteNoticeClose:this._handleNoticeClosed,class:"notice",closable:!0,kind:"warning",open:!0,scale:"s",slot:"footer",width:"full"},(0,o.h)("div",{slot:"message"},this._getExecutionError(a))):void 0;return(0,o.h)("calcite-flow-item",{closable:t,description:f,heading:l},(0,o.h)("calcite-panel",{loading:"executing"===g},m,(0,o.h)("calcite-panel",{heading:this._filteredVersionInfos.length?"".concat(p.headers.manageVersions," (").concat(this._filteredVersionInfos.length,")"):p.headers.manageVersions},I,E,C,k),b,x))}},{key:"_getExecutionError",value:function(e){var i=this.versionListElementProps.strings.executionErrors;switch(e){case"no-advanced-editing-user-type-extension":return i.noAdvancedEditingUserTypeExtension;case"no-feature-service-found":return i.noFeatureServiceFound;case"no-valid-enterprise-version":return i.notValidEnterpriseVersion;case"no-valid-version-name":return i.invalidVersionName;default:return e}}},{key:"_paginate",value:function(e,i,n){return e.slice((n-1)*i,n*i)}},{key:"el",get:function(){return(0,o.g)(this)}}],[{key:"watchers",get:function(){return{versionListElementProps:["propertiesChangeHandler"]}}}]),e}()}}]);
//# sourceMappingURL=12535.f2bcc2ce.chunk.js.map