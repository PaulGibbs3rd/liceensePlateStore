(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[37622,69315,7476,50375,42066,69085,8002,50131,40949,69779,8320,54301,68059,92435,17587,52737,66727,93328,17470,52069,66619,50069,44308,71599,2813],{69315:function(t){function e(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}e.keys=function(){return[]},e.resolve=e,e.id=69315,t.exports=e},8039:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return E}});var o=i(15671),n=i(43144),r=i(60136),a=i(29388),s=i(27366),l=i(49861),c=(i(93169),i(32718),i(84936),i(69912)),u=i(33565),d=i(8905),v=i(7021),p=(i(80975),i(80532)),h=i(28907),g=i(67005),k=i(74165),_=i(1413),f=i(15861),b=i(66978),y=i(31461),w=function(t){(0,r.Z)(i,t);var e=(0,a.Z)(i);function i(t){var n;return(0,o.Z)(this,i),(n=e.call(this,t))._watchId=void 0,n._trackStartingTimeoutId=void 0,n._settingPosition=null,n._trackController=null,n.error=void 0,n.positionFilterFunction=null,n}return(0,n.Z)(i,[{key:"destroy",value:function(){this._stopTracking()}},{key:"state",get:function(){return this._geolocationUsable?this.view&&!this.view.ready?"disabled":this._settingPosition||void 0!==this._trackStartingTimeoutId?"waiting":this.tracking?"tracking":null!=this.error?"error":"ready":"feature-unsupported"}},{key:"tracking",get:function(){return void 0!==this._watchId}},{key:"start",value:function(){"disabled"!==this.state&&"feature-unsupported"!==this.state&&this._startTracking()}},{key:"stop",value:function(){"disabled"!==this.state&&"feature-unsupported"!==this.state&&this._stopTracking()}},{key:"_stopWatchingPosition",value:function(){void 0!==this._watchId&&(navigator.geolocation.clearWatch(this._watchId),this._watchId=void 0)}},{key:"_stopTracking",value:function(){this._abortTrack(),this._clearWaitingTimer(),this._stopWatchingPosition(),this._clearGraphic()}},{key:"_startTracking",value:function(){var t,e=this;this._stopTracking();var i=(0,b.Ds)(function(){var t=(0,f.Z)((0,k.Z)().mark((function t(i){var o,n,r,a;return(0,k.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e._abortTrack(),o=new AbortController,e._trackController=o,n=i.timestamp,r=i.coords,a={timestamp:n,coords:(0,_.Z)({},r)},e.error=void 0,t.prev=5,"function"!=typeof e.positionFilterFunction||e.positionFilterFunction.call(null,{position:a})){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,e.updatePosition(i,o);case 10:if(e._trackController===o){t.next=12;break}return t.abrupt("return");case 12:e._clearWaitingTimer(),e._addGraphic(),e.emit("track",{position:i}),e._trackController=null,t.next=20;break;case 15:if(t.prev=15,t.t0=t.catch(5),!(0,b.D_)(t.t0)){t.next=19;break}return t.abrupt("return");case 19:throw e._trackController=null,e._emitError(t.t0),e._clearWaitingTimer(),t.t0;case 20:case"end":return t.stop()}}),t,null,[[5,15]])})));return function(e){return t.apply(this,arguments)}}(),0);this._watchId=navigator.geolocation.watchPosition((function(t){e._settingPosition=i(t).catch(b.R8)}),this._handleWatchPositionError.bind(this),null!==(t=this.geolocationOptions)&&void 0!==t?t:void 0),this._trackStartingTimeoutId=setTimeout((function(){e._trackStartingTimeoutId=void 0}),15e3)}},{key:"_handleWatchPositionError",value:function(t){t.code===t.PERMISSION_DENIED&&this._stopTracking(),this._emitError(t)}},{key:"_abortTrack",value:function(){var t;null!==(t=this._trackController)&&void 0!==t&&t.abort(),this._trackController=null}},{key:"_clearWaitingTimer",value:function(){clearTimeout(this._trackStartingTimeoutId),this._trackStartingTimeoutId=void 0,this._settingPosition=null}},{key:"_emitError",value:function(t){this.error=t,this.emit("track-error",{error:t})}}]),i}(y.Z);(0,s._)([(0,l.Cb)()],w.prototype,"_watchId",void 0),(0,s._)([(0,l.Cb)()],w.prototype,"_trackStartingTimeoutId",void 0),(0,s._)([(0,l.Cb)()],w.prototype,"_settingPosition",void 0),(0,s._)([(0,l.Cb)()],w.prototype,"error",void 0),(0,s._)([(0,l.Cb)()],w.prototype,"positionFilterFunction",void 0),(0,s._)([(0,l.Cb)({readOnly:!0})],w.prototype,"state",null),(0,s._)([(0,l.Cb)({readOnly:!0})],w.prototype,"tracking",null),(0,s._)([(0,l.Cb)()],w.prototype,"start",null),(0,s._)([(0,l.Cb)()],w.prototype,"stop",null);var T=w=(0,s._)([(0,c.j)("esri.widgets.Track.TrackViewModel")],w),m="esri-track",C=function(t){(0,r.Z)(s,t);var e=(0,a.Z)(s);function s(t,i){var n;return(0,o.Z)(this,s),(n=e.call(this,t,i)).messages=null,n.viewModel=new T,n._toggleTracking=function(){var t=n.viewModel;t&&"feature-unsupported"!==t.state&&"disabled"!==t.state&&("tracking"!==t.state&&"waiting"!==t.state?n.viewModel.start():n.viewModel.stop())},n}return(0,n.Z)(s,[{key:"loadDependencies",value:function(){return(0,d.h)({button:function(){return Promise.all([i.e(92358),i.e(46895),i.e(54438),i.e(14105),i.e(32275)]).then(i.bind(i,32275))},tooltip:function(){return Promise.all([i.e(92358),i.e(89219),i.e(94730)]).then(i.bind(i,94730))}})}},{key:"geolocationOptions",get:function(){return this.viewModel.geolocationOptions},set:function(t){this.viewModel.geolocationOptions=t}},{key:"goToLocationEnabled",get:function(){return this.viewModel.goToLocationEnabled},set:function(t){this.viewModel.goToLocationEnabled=t}},{key:"goToOverride",get:function(){return this.viewModel.goToOverride},set:function(t){this.viewModel.goToOverride=t}},{key:"graphic",get:function(){return this.viewModel.graphic},set:function(t){this.viewModel.graphic=t}},{key:"icon",get:function(){return"compass-north-circle"},set:function(t){this._overrideIfSome("icon",t)}},{key:"label",get:function(){var t,e;return null!==(t=null===(e=this.messages)||void 0===e?void 0:e.widgetLabel)&&void 0!==t?t:""},set:function(t){this._overrideIfSome("label",t)}},{key:"rotationEnabled",get:function(){return this.viewModel.rotationEnabled},set:function(t){this.viewModel.rotationEnabled=t}},{key:"scale",get:function(){return this.viewModel.scale},set:function(t){this.viewModel.scale=t}},{key:"tracking",get:function(){return this.viewModel.tracking}},{key:"view",get:function(){return this.viewModel.view},set:function(t){this.viewModel.view=t}},{key:"start",value:function(){this.viewModel.start()}},{key:"stop",value:function(){this.viewModel.stop()}},{key:"render",value:function(){var t,e,i,o=this.viewModel,n=this.messages,r=this.icon,a=null===o||void 0===o?void 0:o.state,s="tracking"===a,l=this._localizeError(null===(t=this.viewModel)||void 0===t?void 0:t.error),c=null!==(e=s?null===n||void 0===n?void 0:n.stopTracking:null===n||void 0===n?void 0:n.startTracking)&&void 0!==e?e:"",u="feature-unsupported"===a,d=null!==(i="tracking"===a?"pause":void 0)&&void 0!==i?i:r;return(0,g.u)("div",{class:this.classes(m,v.z.widget)},!u&&(0,g.u)("calcite-button",{class:v.z.widgetButton,disabled:"disabled"===a,iconStart:d,kind:"neutral",label:c,loading:"waiting"===a,onclick:this._toggleTracking,title:c}),l?(0,g.u)("calcite-tooltip",{open:!0,overlayPositioning:"fixed",referenceElement:this.container},l):null)}},{key:"_localizeError",value:function(t){var e,i,o;return t instanceof GeolocationPositionError?t.code===GeolocationPositionError.PERMISSION_DENIED?null===(e=this.messages)||void 0===e?void 0:e.permissionError:t.code===GeolocationPositionError.TIMEOUT?null===(i=this.messages)||void 0===i?void 0:i.timeoutError:null===(o=this.messages)||void 0===o?void 0:o.positionUnavailable:t instanceof Error?t.message:void 0}}]),s}(u.Z);(0,s._)([(0,l.Cb)()],C.prototype,"geolocationOptions",null),(0,s._)([(0,l.Cb)()],C.prototype,"goToLocationEnabled",null),(0,s._)([(0,l.Cb)()],C.prototype,"goToOverride",null),(0,s._)([(0,l.Cb)()],C.prototype,"graphic",null),(0,s._)([(0,l.Cb)()],C.prototype,"icon",null),(0,s._)([(0,l.Cb)()],C.prototype,"label",null),(0,s._)([(0,l.Cb)(),(0,p.H)("esri/widgets/Track/t9n/Track")],C.prototype,"messages",void 0),(0,s._)([(0,l.Cb)()],C.prototype,"rotationEnabled",null),(0,s._)([(0,l.Cb)()],C.prototype,"scale",null),(0,s._)([(0,l.Cb)({readOnly:!0})],C.prototype,"tracking",null),(0,s._)([(0,l.Cb)()],C.prototype,"view",null),(0,s._)([(0,l.Cb)({type:T}),(0,h.s)(["track","track-error"])],C.prototype,"viewModel",void 0);var E=C=(0,s._)([(0,c.j)("esri.widgets.Track")],C)}}]);
//# sourceMappingURL=37622.f09ba48a.chunk.js.map