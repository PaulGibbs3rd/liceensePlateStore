{"version":3,"file":"static/js/2346.89e4d667.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/interactive/GraphicManipulator.js","../node_modules/@arcgis/core/views/interactive/support/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import o from\"../../core/Evented.js\";import{watch as i,sync as s}from\"../../core/reactiveUtils.js\";import{screenPointObjectToArray as r,pt2px as l,createScreenPointArray as n}from\"../../core/screenUtils.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{squaredDistance as h}from\"../../core/libs/gl-matrix-2/math/vec2.js\";import{p}from\"../../chunks/vec32.js\";import{create as m}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{canProjectWithoutEngine as u,project as y}from\"../../geometry/projection.js\";import{projectPointToVector as g}from\"../../geometry/projection/projectPointToVector.js\";import{getGraphicEffectiveElevationMode as b}from\"../../support/elevationInfoUtils.js\";import{getDefaultSymbol2D as d}from\"../../symbols/support/defaults.js\";import f from\"../../symbols/support/ElevationInfo.js\";import{getSymbolInfo as _}from\"./support/utils.js\";import{intersectsDrapedGeometry as v}from\"../support/drapedUtils.js\";let S=class extends e{set graphic(t){this._circleCollisionCache=null,this._originalSymbol=t.symbol,this._set(\"graphic\",t),this.attachSymbolChanged()}get elevationInfo(){const{layer:t}=this.graphic,e=t&&\"elevationInfo\"in t?t.elevationInfo:null,o=b(this.graphic),i=e?e.offset:0;return new f({mode:o,offset:i})}set focusedSymbol(t){t!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",t),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(t){t!==this._get(\"grabbing\")&&(this._set(\"grabbing\",t),this._updateGraphicSymbol())}set hovering(t){t!==this._get(\"hovering\")&&(this._set(\"hovering\",t),this._updateGraphicSymbol())}set selected(t){t!==this._get(\"selected\")&&(this._set(\"selected\",t),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:t?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}constructor(t){super(t),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.consumesClicks=!0,this.events=new o.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(t){const e=this.graphic;if(!1===e.visible)return null;const o=e.geometry;if(null==o)return null;const i=this._get(\"focusedSymbol\"),s=null!=i?i:e.symbol;return\"2d\"===this.view.type?this._intersectDistance2D(this.view,t,o,s):this._intersectDistance3D(this.view,t,e)}attach(){this.attachSymbolChanged(),null!=this.layer&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),null!=this.layer&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=i((()=>this.graphic?.symbol),(t=>{null!=t&&t!==this.focusedSymbol&&t!==this._originalSymbol&&(this._originalSymbol=t,this._focused&&null!=this.focusedSymbol&&(this.graphic.symbol=this.focusedSymbol))}),s)}detachSymbolChanged(){null!=this._graphicSymbolChangedHandle&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}onElevationChange(){}onViewChange(){}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&null!=this.focusedSymbol?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(t,e,o,i){if(null==(i=i||d(o)))return null;const s=1;let n=this._circleCollisionCache;if(\"point\"===o.type&&\"cim\"===i.type&&\"CIMPointSymbol\"===i.data.symbol?.type&&i.data.symbol.symbolLayers){const{offsetX:l,offsetY:n,size:a}=_(i),c=r(e,j),p=a/2,m=t.toScreen(o),u=m.x+l,y=m.y+n;return h(c,[u,y])<p*p?s:null}if(\"point\"!==o.type||\"simple-marker\"!==i.type)return v(e,o,t)?s:null;if(null==n||!n.originalPoint.equals(o)){const e=o,s=t.spatialReference;if(u(e.spatialReference,s)){const t=y(e,s);n={originalPoint:e.clone(),mapPoint:t,radiusPx:l(i.size)},this._circleCollisionCache=n}}if(null!=n){const o=r(e,j),a=t.toScreen?.(n.mapPoint);if(!a)return null;const c=n.radiusPx,p=a.x+l(i.xoffset),m=a.y-l(i.yoffset);return h(o,[p,m])<c*c?s:null}return null}_intersectDistance3D(t,e,o){const i=t.toMap(e,{include:[o]});return i&&g(i,C,t.renderSpatialReference)?p(C,t.state.camera.eye):null}};t([a({constructOnly:!0,nonNullable:!0})],S.prototype,\"graphic\",null),t([a()],S.prototype,\"elevationInfo\",null),t([a({constructOnly:!0,nonNullable:!0})],S.prototype,\"view\",void 0),t([a({value:null})],S.prototype,\"focusedSymbol\",null),t([a({constructOnly:!0})],S.prototype,\"layer\",void 0),t([a()],S.prototype,\"interactive\",void 0),t([a()],S.prototype,\"selectable\",void 0),t([a()],S.prototype,\"grabbable\",void 0),t([a({value:!1})],S.prototype,\"grabbing\",null),t([a()],S.prototype,\"dragging\",void 0),t([a()],S.prototype,\"hovering\",null),t([a({value:!1})],S.prototype,\"selected\",null),t([a()],S.prototype,\"cursor\",void 0),S=t([c(\"esri.views.interactive.GraphicManipulator\")],S);const C=m(),j=n();export{S as GraphicManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{pt2px as o}from\"../../../core/screenUtils.js\";function s(s){let t=0,a=0,e=0;return s?(\"cim\"===s.type&&s.data.symbol&&\"symbolLayers\"in s.data.symbol&&s.data.symbol.symbolLayers&&s.data.symbol.symbolLayers.map((o=>{\"CIMVectorMarker\"===o.type&&o.anchorPoint&&(Math.abs(o.anchorPoint.x)>t&&(t=o.anchorPoint.x),Math.abs(o.anchorPoint.y)>a&&(a=o.anchorPoint.y),null!=o.size&&o.size>e&&(e=o.size))})),t=o(t),a=o(a),e=o(e),{offsetX:t,offsetY:a,size:e}):{offsetX:t,offsetY:a,size:e}}export{s as getSymbolInfo};\n"],"names":["S","_e","_inherits","_super","_createSuper","t","_this","_classCallCheck","call","layer","interactive","selectable","grabbable","dragging","cursor","consumesClicks","events","o","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","_createClass","key","set","this","symbol","_set","attachSymbolChanged","get","graphic","e","elevationInfo","b","i","offset","f","mode","_get","_updateGraphicSymbol","value","emit","action","detachSymbolChanged","_resetGraphicSymbol","visible","geometry","s","view","type","_intersectDistance2D","_intersectDistance3D","add","remove","_this2","_this2$graphic","focusedSymbol","_focused","_i$data$symbol","d","n","data","symbolLayers","_ref","_","l","offsetX","offsetY","a","size","c","r","j","p","m","toScreen","u","x","y","h","v","originalPoint","equals","spatialReference","clone","mapPoint","radiusPx","_t$toScreen","xoffset","yoffset","toMap","include","g","C","renderSpatialReference","state","camera","eye","constructOnly","nonNullable","prototype","map","anchorPoint","Math","abs"],"sourceRoot":""}