"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[86934],{36231:function(e,t,n){n.d(t,{q:function(){return u}});var i,a,r,o=n(84397),s={exports:{}};i=s,a=function(){function e(n,i,a,r,o){for(;r>a;){if(r-a>600){var s=r-a+1,u=i-a+1,l=Math.log(s),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1);e(n,i,Math.max(a,Math.floor(i-u*c/s+h)),Math.min(r,Math.floor(i+(s-u)*c/s+h)),o)}var d=n[i],p=a,v=r;for(t(n,a,i),o(n[r],d)>0&&t(n,a,r);p<v;){for(t(n,p,v),p++,v--;o(n[p],d)<0;)p++;for(;o(n[v],d)>0;)v--}0===o(n[a],d)?t(n,a,v):t(n,++v,r),v<=i&&(a=v+1),i<=v&&(r=v-1)}}function t(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function n(e,t){return e<t?-1:e>t?1:0}return function(t,i,a,r,o){e(t,i,a||0,r||t.length-1,o||n)}},void 0!==(r=a())&&(i.exports=r);var u=(0,o.g)(s.exports)},31581:function(e,t,n){n.d(t,{r:function(){return a}});var i=n(36231);function a(e,t){if(!(this instanceof a))return new a(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&("function"==typeof t?this.toBBox=t:this._initFormat(t)),this.clear()}function r(e,t,n){if(!n)return t.indexOf(e);for(var i=0;i<t.length;i++)if(n(e,t[i]))return i;return-1}function o(e,t){s(e,0,e.children.length,t,e)}function s(e,t,n,i,a){a||(a=y(null)),a.minX=1/0,a.minY=1/0,a.maxX=-1/0,a.maxY=-1/0;for(var r,o=t;o<n;o++)r=e.children[o],u(a,e.leaf?i(r):r);return a}function u(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function l(e,t){return e.minX-t.minX}function c(e,t){return e.minY-t.minY}function h(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function d(e){return e.maxX-e.minX+(e.maxY-e.minY)}function p(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function v(e,t){var n=Math.max(e.minX,t.minX),i=Math.max(e.minY,t.minY),a=Math.min(e.maxX,t.maxX),r=Math.min(e.maxY,t.maxY);return Math.max(0,a-n)*Math.max(0,r-i)}function f(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function m(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function y(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,t,n,a,r){for(var o,s=[t,n];s.length;)(n=s.pop())-(t=s.pop())<=a||(o=t+Math.ceil((n-t)/a/2)*a,(0,i.q)(e,o,t,n,r),s.push(t,o,o,n))}a.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,n=[],i=this.toBBox;if(!m(e,t))return n;for(var a,r,o,s,u=[];t;){for(a=0,r=t.children.length;a<r;a++)o=t.children[a],m(e,s=t.leaf?i(o):o)&&(t.leaf?n.push(o):f(e,s)?this._all(o,n):u.push(o));t=u.pop()}return n},collides:function(e){var t=this.data,n=this.toBBox;if(!m(e,t))return!1;for(var i,a,r,o,s=[];t;){for(i=0,a=t.children.length;i<a;i++)if(r=t.children[i],m(e,o=t.leaf?n(r):r)){if(t.leaf||f(e,o))return!0;s.push(r)}t=s.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}var i=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var a=this.data;this.data=i,i=a}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(e){return null!=e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(e,t){if(null==e)return this;for(var n,i,a,o,s=this.data,u=this.toBBox(e),l=[],c=[];s||l.length;){if(s||(s=l.pop(),i=l[l.length-1],n=c.pop(),o=!0),s.leaf&&-1!==(a=r(e,s.children,t)))return s.children.splice(a,1),l.push(s),this._condense(l),this;o||s.leaf||!f(s,u)?i?(n++,s=i.children[n],o=!1):s=null:(l.push(s),c.push(n),n=0,i=s,s=s.children[0])}return this},toBBox:function(e){return e},compareMinX:l,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},_build:function(e,t,n,i){var a,r=n-t+1,s=this._maxEntries;if(r<=s)return o(a=y(e.slice(t,n+1)),this.toBBox),a;i||(i=Math.ceil(Math.log(r)/Math.log(s)),s=Math.ceil(r/Math.pow(s,i-1))),(a=y([])).leaf=!1,a.height=i;var u,l,c,h,d=Math.ceil(r/s),p=d*Math.ceil(Math.sqrt(s));for(g(e,t,n,p,this.compareMinX),u=t;u<=n;u+=p)for(g(e,u,c=Math.min(u+p-1,n),d,this.compareMinY),l=u;l<=c;l+=d)h=Math.min(l+d-1,c),a.children.push(this._build(e,l,h,i-1));return o(a,this.toBBox),a},_chooseSubtree:function(e,t,n,i){for(var a,r,o,s,u,l,c,d;i.push(t),!t.leaf&&i.length-1!==n;){for(c=d=1/0,a=0,r=t.children.length;a<r;a++)u=h(o=t.children[a]),(l=p(e,o)-u)<d?(d=l,c=u<c?u:c,s=o):l===d&&u<c&&(c=u,s=o);t=s||t.children[0]}return t},_insert:function(e,t,n){var i=this.toBBox,a=n?e:i(e),r=[],o=this._chooseSubtree(a,this.data,t,r);for(o.children.push(e),u(o,a);t>=0&&r[t].children.length>this._maxEntries;)this._split(r,t),t--;this._adjustParentBBoxes(a,r,t)},_split:function(e,t){var n=e[t],i=n.children.length,a=this._minEntries;this._chooseSplitAxis(n,a,i);var r=this._chooseSplitIndex(n,a,i),s=y(n.children.splice(r,n.children.length-r));s.height=n.height,s.leaf=n.leaf,o(n,this.toBBox),o(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(e,t){this.data=y([e,t]),this.data.height=e.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,n){var i,a,r,o,u,l,c,d;for(l=c=1/0,i=t;i<=n-t;i++)o=v(a=s(e,0,i,this.toBBox),r=s(e,i,n,this.toBBox)),u=h(a)+h(r),o<l?(l=o,d=i,c=u<c?u:c):o===l&&u<c&&(c=u,d=i);return d},_chooseSplitAxis:function(e,t,n){var i=e.leaf?this.compareMinX:l,a=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,n,i)<this._allDistMargin(e,t,n,a)&&e.children.sort(i)},_allDistMargin:function(e,t,n,i){e.children.sort(i);var a,r,o=this.toBBox,l=s(e,0,t,o),c=s(e,n-t,n,o),h=d(l)+d(c);for(a=t;a<n-t;a++)r=e.children[a],u(l,e.leaf?o(r):r),h+=d(l);for(a=n-t-1;a>=t;a--)r=e.children[a],u(c,e.leaf?o(r):r),h+=d(c);return h},_adjustParentBBoxes:function(e,t,n){for(var i=n;i>=0;i--)u(t[i],e)},_condense:function(e){for(var t,n=e.length-1;n>=0;n--)0===e[n].children.length?n>0?(t=e[n-1].children).splice(t.indexOf(e[n]),1):this.clear():o(e[n],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}},55364:function(e,t,n){function i(){return[1,0,0,1,0,0]}function a(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}n.d(t,{Ue:function(){return i},Wd:function(){return r},d9:function(){return a}});var r=[1,0,0,1,0,0];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:r,clone:a,create:i,createView:function(e,t){return new Float64Array(e,t,6)},fromValues:function(e,t,n,i,a,r){return[e,t,n,i,a,r]}},Symbol.toStringTag,{value:"Module"}))},67906:function(e,t,n){n.d(t,{n:function(){return c}});var i=n(15671),a=n(43144),r=n(22213),o=n(53866),s=n(65156),u=n(94618),l=n(73828),c=function(){function e(t,n){(0,i.Z)(this,e),this.key=new l.Z(0,0,0,0),this.bounds=(0,s.Ue)(),this.objectIds=new Set,this.key.set(n);var a=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=a.resolution,this.level=a.level,this.scale=a.scale,this.minScale=t.zoomToScale(a.level-1),this.maxScale=t.zoomToScale(a.level+1)}return(0,a.Z)(e,[{key:"lod",get:function(){return this.tileInfoView.getLODInfoAt(this.key)}},{key:"id",get:function(){return this.key.id}},{key:"extent",get:function(){return o.Z.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}},{key:"transform",get:function(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}},{key:"createArcadeEvaluationOptions",value:function(e){return{$view:{scale:this.scale,timeZone:e}}}},{key:"createChildTiles",value:function(){for(var t=this.key.getChildKeys(),n=r.Z.acquire(),i=0;i<t.length;i++)n[i]=new e(this.tileInfoView,t[i]);return n}},{key:"getQuantizationParameters",value:function(){return u.Z.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}]),e}()},64634:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(15671),a=n(43144),r=n(60136),o=n(29388),s=n(27366),u=n(51995),l=n(7138),c=n(49861),h=(n(93169),n(32718),n(84936),n(69912)),d=function(e){(0,r.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.apply(this,arguments)).color=new u.Z([0,255,255]),e.haloOpacity=1,e.fillOpacity=.25,e.multiHighlightEnabled=!1,e}return(0,a.Z)(n,[{key:"equals",value:function(e){return this.color.equals(e.color)&&(this.haloColor||this.color).equals(e.haloColor||e.color)&&this.haloOpacity===e.haloOpacity&&this.fillOpacity===e.fillOpacity&&this.multiHighlightEnabled===e.multiHighlightEnabled}}]),n}(l.default);(0,s._)([(0,c.Cb)({type:u.Z})],d.prototype,"color",void 0),(0,s._)([(0,c.Cb)({type:u.Z})],d.prototype,"haloColor",void 0),(0,s._)([(0,c.Cb)()],d.prototype,"haloOpacity",void 0),(0,s._)([(0,c.Cb)()],d.prototype,"fillOpacity",void 0),(0,s._)([(0,c.Cb)()],d.prototype,"multiHighlightEnabled",void 0);var p=d=(0,s._)([(0,h.j)("esri.views.2d.support.HighlightOptions")],d)},84786:function(e,t,n){n.d(t,{T:function(){return r}});var i=n(15671),a=n(43144),r=function(){function e(){(0,i.Z)(this,e),this._names=new Map}return(0,a.Z)(e,[{key:"begin",value:function(e){this._names.has(e)||(this._names.set(e,!1),e.includes("Brush")&&this.record("Esri.FirstDraw"),performance.mark("Esri.".concat(e,".Start")))}},{key:"end",value:function(e){this._names.has(e)&&!this._names.get(e)&&(this._names.set(e,!0),performance.mark("Esri.".concat(e,".End")))}},{key:"record",value:function(e){this._names.has(e)||(this._names.set(e,!0),performance.mark("Esri.".concat(e)))}}]),e}()},25501:function(e,t,n){n.d(t,{A:function(){return o},z:function(){return r}});var i=n(34066),a=function(e){return parseFloat(e)/100};function r(e,t,n){var i="string"==typeof e.left?a(e.left)*t:e.left,r="string"==typeof e.right?a(e.right)*t:e.right,o="string"==typeof e.top?a(e.top)*n:e.top,s="string"==typeof e.bottom?a(e.bottom)*n:e.bottom,u=o;return{xmin:i,xmax:Math.max(t-r,i),ymin:u,ymax:Math.max(n-s,o)}}function o(e,t,n,a){switch(t.type){case"rect":var o=r(t,e.width,e.height),s=o.xmin,u=o.xmax,l=o.ymin,c=o.ymax,h=n.x,d=n.y;return h>s&&h<u&&d>l&&d<c;case"path":return 0===t.path.length||!Array.isArray(t.path[0][0])||(0,i.wP)(t.path,[n.x,n.y]);case"geometry":return null==t.geometry||("polygon"===t.geometry.type?(0,i.CI)(t.geometry,a):(0,i.aV)(t.geometry,a))}}},53942:function(e,t,n){function i(e,t,n,i){var a=3*e,r=3*(n-e)-a,o=1-a-r,s=3*t,u=3*(i-t)-s,l=1-s-u;function c(e){return((o*e+r)*e+a)*e}function h(e){return((l*e+u)*e+s)*e}function d(e){return(3*o*e+2*r)*e+a}function p(e,t){var n,i,a,r,o,s;for(a=e,s=0;s<8;s++){if(r=c(a)-e,Math.abs(r)<t)return a;if(o=d(a),Math.abs(o)<1e-6)break;a-=r/o}if((a=e)<(n=0))return n;if(a>(i=1))return i;for(;n<i;){if(r=c(a),Math.abs(r-e)<t)return a;e>r?n=a:i=a,a=.5*(i-n)+n}return a}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-6;return h(p(e,t))}}n.d(t,{LI:function(){return r},Qc:function(){return o},n_:function(){return i}});var a=/^cubic-bezier\((.*)\)/,r={};function o(e){var t=r[e]||null;if(!t){var n=a.exec(e);if(n){var o=n[1].split(",").map((function(e){return parseFloat(e.trim())}));4!==o.length||o.some((function(e){return isNaN(e)}))||(t=i.apply(i,o))}}return t}r.ease=i(.25,.1,.25,1),r.linear=i(0,0,1,1),r.easeIn=r["ease-in"]=i(.42,0,1,1),r.easeOut=r["ease-out"]=i(0,0,.58,1),r.easeInOut=r["ease-in-out"]=i(.42,0,.58,1)},86226:function(e,t,n){n.d(t,{$H:function(){return $},Ck:function(){return H},Dq:function(){return E},EK:function(){return S},H4:function(){return K},Hy:function(){return te},JG:function(){return D},Jp:function(){return B},L2:function(){return Y},Rb:function(){return F},Rx:function(){return oe},SI:function(){return J},UZ:function(){return ne},Ue:function(){return P},VS:function(){return j},YQ:function(){return Q},bk:function(){return I},dI:function(){return X},gG:function(){return ie},j6:function(){return N},ni:function(){return O},o2:function(){return W},qf:function(){return A},uG:function(){return G},ut:function(){return q}});var i=n(74165),a=n(37762),r=n(15861),o=n(36721),s=n(80987),u=n(16889),l=n(68860),c=n(24204),h=n(50264),d=n(55364),p=n(13611),v=n(6644),f=n(53866),m=n(32238),y=n(848),g=n(79803),w=n(78952),_=n(91340),b=n(92975),k=180/Math.PI;function x(e){return e.wkid?e:e.spatialReference||w.Z.WGS84}function Z(e,t){return t.type?(0,p.t8)(e,t.x,t.y):(0,p.JG)(e,t)}function M(e){return(0,l.c9)(e)}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=e.width,a=e.height;if(0!==n){var r=(0,u.Vl)(n),o=Math.abs(Math.cos(r)),s=Math.abs(Math.sin(r));i=e.width*o+e.height*s,a=e.width*s+e.height*o}var l=Math.max(1,t[0]),c=Math.max(1,t[1]);return Math.max(i/l,a/c)*j(e.spatialReference)}function C(e,t,n,i){return T.apply(this,arguments)}function T(){return(T=(0,r.Z)((0,i.Z)().mark((function e(t,n,r,o){var u,l,c,h,d,p,v,w,b,k,x,Z,M,S,T,V,R,P,z,D,O,I,A,E,L,G,N,U,j,F,H,B,q;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:if(!Array.isArray(t)||t.length){e.next=4;break}return e.abrupt("return",null);case 4:if(s.Z.isCollection(t)&&(t=t.toArray()),!Array.isArray(t)||!t.length||"object"!=typeof t[0]){e.next=39;break}if(c=t.every((function(e){return"attributes"in e})),h=t.some((function(e){return!e.geometry})),d=t,!(c&&h&&n&&n.allLayerViews)){e.next=20;break}p=new Map,v=(0,a.Z)(t);try{for(v.s();!(w=v.n()).done;)b=w.value,k=b.layer,x=p.get(k)||[],null!=(Z=b.attributes[k.objectIdField])&&x.push(Z),p.set(k,x)}catch(i){v.e(i)}finally{v.f()}return M=[],p.forEach((function(e,t){var i=n.allLayerViews.find((function(e){return e.layer.id===t.id}));if(i&&"queryFeatures"in i){var a=t.createQuery();a.objectIds=e,a.returnGeometry=!0,M.push(i.queryFeatures(a))}})),e.next=15,Promise.all(M);case 15:S=e.sent,T=[],V=(0,a.Z)(S);try{for(V.s();!(R=V.n()).done;)if((P=R.value)&&P.features&&P.features.length){z=(0,a.Z)(P.features);try{for(z.s();!(D=z.n()).done;)null!=(O=D.value).geometry&&T.push(O.geometry)}catch(i){z.e(i)}finally{z.f()}}}catch(i){V.e(i)}finally{V.f()}d=T;case 20:I=(0,a.Z)(d),e.prev=21,I.s();case 23:if((A=I.n()).done){e.next=30;break}return E=A.value,e.next=27,C(E,n,r,o);case 27:o=e.sent;case 28:e.next=23;break;case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(21),I.e(e.t0);case 35:return e.prev=35,I.f(),e.finish(35);case 38:return e.abrupt("return",o);case 39:if(!Array.isArray(t)||2!==t.length||"number"!=typeof t[0]||"number"!=typeof t[1]){e.next=43;break}u=new y.Z(t),e.next=61;break;case 43:if(!(t instanceof m.Z)){e.next=47;break}u=t,e.next=61;break;case 47:if(!("geometry"in t)){e.next=61;break}if(!t.geometry){e.next=52;break}u=t.geometry,e.next=61;break;case 52:if(!t.layer){e.next=61;break}if(L=t.layer,G=n.allLayerViews.find((function(e){return e.layer.id===L.id})),!G||!("queryFeatures"in G)){e.next=61;break}return(j=L.createQuery()).objectIds=[t.attributes[L.objectIdField]],j.returnGeometry=!0,e.next=59,G.queryFeatures(j);case 59:F=e.sent,u=null===F||void 0===F||null===(N=F.features)||void 0===N||null===(U=N[0])||void 0===U?void 0:U.geometry;case 61:if(null!=u){e.next=63;break}return e.abrupt("return",null);case 63:e.t1=u.type,e.next="point"===e.t1?66:"extent"===e.t1||"multipoint"===e.t1||"polygon"===e.t1||"polyline"===e.t1?68:70;break;case 66:return l=new f.Z({xmin:u.x,ymin:u.y,xmax:u.x,ymax:u.y,spatialReference:u.spatialReference}),e.abrupt("break",71);case 68:return l=(0,_.wK)(u),e.abrupt("break",71);case 70:l=u.extent;case 71:if(l){e.next=73;break}return e.abrupt("return",null);case 73:if(e.t2=(0,g.isLoaded)()||(0,g.canProjectWithoutEngine)(l.spatialReference,r),e.t2){e.next=77;break}return e.next=77,(0,g.load)();case 77:if(H=(0,g.project)(l,r)){e.next=80;break}return e.abrupt("return",null);case 80:return o?(B=H.center,(q=B.clone()).x=(0,_.it)(B.x,o.center.x,r),q.x!==B.x&&H.centerAt(q),o=o.union(H)):o=H,e.abrupt("return",o);case 82:case"end":return e.stop()}}),e,null,[[21,32,35,38]])})))).apply(this,arguments)}function V(e){if(e&&(!Array.isArray(e)||"number"!=typeof e[0])&&("object"==typeof e||Array.isArray(e)&&"object"==typeof e[0])){var t;if("layer"in e&&null!=(null===(t=e.layer)||void 0===t?void 0:t.minScale)&&null!=e.layer.maxScale){var n=e.layer;return{min:n.minScale,max:n.maxScale}}if(Array.isArray(e)&&e.length&&e.every((function(e){return"layer"in e}))){var i,r=0,o=0,s=(0,a.Z)(e);try{for(s.s();!(i=s.n()).done;){var u=i.value.layer;(null===u||void 0===u?void 0:u.minScale)&&u.maxScale&&(r=u.minScale<r?u.minScale:r,o=u.maxScale>o?u.maxScale:o)}}catch(l){s.e(l)}finally{s.f()}return r&&o?{min:r,max:o}:null}}}function R(e,t){return(0,b.fS)(x(e),t)?e:(0,g.project)(e,t)}function P(e,t){return z.apply(this,arguments)}function z(){return(z=(0,r.Z)((0,i.Z)().mark((function e(t,n){var a,r,s,u,l,c,h,d,p,v,w,k,Z,M,T,P,z,D;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return",new o.Z({targetGeometry:new y.Z,scale:0,rotation:0}));case 2:if(l=n.spatialReference,c=n.constraints,h=n.padding,d=n.viewpoint,p=n.size,v=[h?p[0]-h.left-h.right:p[0],h?p[1]-h.top-h.bottom:p[1]],w=null,t instanceof o.Z?w=t:t.viewpoint?w=t.viewpoint:t.target&&"esri.Viewpoint"===t.target.declaredClass&&(w=t.target),k=null,null===(a=w)||void 0===a||!a.targetGeometry){e.next=11;break}k=w.targetGeometry,e.next=36;break;case 11:if(!(t instanceof f.Z)){e.next=15;break}k=t,e.next=36;break;case 15:if(!(t instanceof m.Z)){e.next=21;break}return e.next=18,C(t,n,l);case 18:k=e.sent,e.next=36;break;case 21:if(e.t0=t,!e.t0){e.next=36;break}return e.next=25,C(t.center,n,l);case 25:if(e.t2=e.sent,e.t2){e.next=30;break}return e.next=29,C(t.target,n,l);case 29:e.t2=e.sent;case 30:if(e.t1=e.t2,e.t1){e.next=35;break}return e.next=34,C(t,n,l);case 34:e.t1=e.sent;case 35:k=e.t1;case 36:if(!k&&null!==d&&void 0!==d&&d.targetGeometry?k=d.targetGeometry:!k&&n.extent&&(k=n.extent),l||(l=x(n.spatialReference||n.extent||k)),e.t3=(0,g.isLoaded)()||(0,b.fS)(k.spatialReference,l)||(0,g.canProjectWithoutEngine)(k.spatialReference,l),e.t3){e.next=42;break}return e.next=42,(0,g.load)();case 42:return Z=R(k,l),M="center"in Z?Z.center:Z,!1!==n.pickClosestTarget&&"point"===M.type&&"point"===(null===(r=d.targetGeometry)||void 0===r?void 0:r.type)&&(M.x=(0,_.it)(M.x,d.targetGeometry.x,M.spatialReference)),T=0,w?T=w.rotation:t.hasOwnProperty("rotation")?T=t.rotation:d&&(T=d.rotation),P=0,P=null!=(null===(s=w)||void 0===s?void 0:s.targetGeometry)&&"point"===w.targetGeometry.type?w.scale:"scale"in t&&t.scale?t.scale:"zoom"in t&&-1!==t.zoom&&c&&c.effectiveLODs?c.zoomToScale(t.zoom):Array.isArray(k)||"point"===k.type||"extent"===k.type&&0===k.width&&0===k.height?d.scale:S(R(k.extent,l),v,T),(z=V(null!==(u=t.target)&&void 0!==u?u:t))&&(z.min&&z.min<P?P=z.min:z.max&&z.max>P&&(P=z.max)),D=new o.Z({targetGeometry:M,scale:P,rotation:T}),e.abrupt("return",(c&&(D=c.fit(D),c.constrainByGeometry(D),c.rotationEnabled||(D.rotation=d.rotation)),D));case 52:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t){var n=e.targetGeometry,i=t.targetGeometry;return n.x=i.x,n.y=i.y,n.spatialReference=i.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function O(e,t,n){return n?(0,p.t8)(e,.5*(t[0]-n.right+n.left),.5*(t[1]-n.bottom+n.top)):(0,p.bA)(e,t,.5)}var I=function(){var e=(0,v.Ue)();return function(t,n,i){var a=n.targetGeometry;Z(e,a);var r=.5*G(n);return t.xmin=e[0]-r*i[0],t.ymin=e[1]-r*i[1],t.xmax=e[0]+r*i[0],t.ymax=e[1]+r*i[1],t.spatialReference=a.spatialReference,t}}();function A(e,t,n,i,a){var r;return W(e,t,n.center),e.scale=S(n,i),null!==a&&void 0!==a&&null!==(r=a.constraints)&&void 0!==r&&r.constrain(e),e}var E=function(){var e=(0,v.Ue)();return function(t,n,i){return(0,p.lu)(t,function(e,t){return(0,p.bA)(e,t,.5)}(t,n),O(e,n,i))}}(),L=function(){var e=(0,d.Ue)(),t=(0,v.Ue)();return function(n,i,a,r){var o=G(i),s=U(i);return(0,p.t8)(t,o,o),(0,h.xJ)(e,t),(0,h.U1)(e,e,s),(0,h.Iu)(e,e,E(t,a,r)),(0,h.Iu)(e,e,[0,r.top-r.bottom]),(0,p.t8)(n,e[4],e[5])}}();function G(e){var t;return e.scale*N(null===(t=e.targetGeometry)||void 0===t?void 0:t.spatialReference)}function N(e){return null!=e&&(0,b.JY)(e)?1/(39.37*M(e)*96):1}function U(e){return(0,c.c$)(e.rotation)||0}function j(e){return(0,b.JY)(e)?39.37*M(e)*96:1}var F=function(){var e=(0,v.Ue)(),t=(0,v.Ue)(),n=(0,v.Ue)();return function(i,a,r,o,s,u){return(0,p.tk)(e,a),(0,p.bA)(t,r,.5*u),(0,p.t8)(n,1/o*u,-1/o*u),(0,h.vc)(i,t),s&&(0,h.U1)(i,i,s),(0,h.bA)(i,i,n),(0,h.Iu)(i,i,e),i}}(),H=function(){var e=(0,v.Ue)();return function(t,n,i,a){var r=G(n),o=U(n);return Z(e,n.targetGeometry),F(t,e,i,r,o,a)}}(),B=function(){var e=(0,v.Ue)();return function(t,n,i,a){var r=G(n);return Z(e,n.targetGeometry),F(t,e,i,r,0,a)}}();function q(e){var t=(0,b.C5)(e);return t?t.valid[1]-t.valid[0]:0}function Y(e,t){return Math.round(q(e)/t)}var X=function(){var e=(0,v.Ue)(),t=(0,v.Ue)(),n=[0,0,0];return function(i,a,r){(0,p.$X)(e,i,a),(0,p.Fv)(e,e),(0,p.$X)(t,i,r),(0,p.Fv)(t,t),(0,p.kC)(n,e,t);var o=Math.acos((0,p.AK)(e,t)/((0,p.kE)(e)*(0,p.kE)(t)))*k;return n[2]<0&&(o=-o),isNaN(o)&&(o=0),o}}(),K=function(){var e=(0,v.Ue)();return function(t,n,i,a){var r=t.targetGeometry;return D(t,n),L(e,n,i,a),r.x+=e[0],r.y+=e[1],t}}(),W=function(e,t,n){D(e,t);var i=e.targetGeometry;return i.x=n.x,i.y=n.y,i.spatialReference=n.spatialReference,e},J=function(){var e=(0,v.Ue)();return function(t,n,i,a,r){r||(r="center"),(0,p.lu)(e,i,a),(0,p.bA)(e,e,.5);var o=e[0],s=e[1];switch(r){case"center":(0,p.t8)(e,0,0);break;case"left":(0,p.t8)(e,-o,0);break;case"top":(0,p.t8)(e,0,s);break;case"right":(0,p.t8)(e,o,0);break;case"bottom":(0,p.t8)(e,0,-s);break;case"top-left":(0,p.t8)(e,-o,s);break;case"bottom-left":(0,p.t8)(e,-o,-s);break;case"top-right":(0,p.t8)(e,o,s);break;case"bottom-right":(0,p.t8)(e,o,-s)}return oe(t,n,e),t}}();function $(e,t,n){return D(e,t),e.rotation+=n,e}function Q(e,t,n){return D(e,t),e.rotation=n,e}var ee=function(){var e=(0,v.Ue)();return function(t,n,i,a,r){return D(t,n),isNaN(i)||0===i||(ae(e,a,n,r),t.scale=n.scale*i,re(e,e,t,r),oe(t,t,(0,p.t8)(e,e[0]-a[0],a[1]-e[1]))),t}}();function te(e,t,n){return D(e,t),e.scale=n,e}var ne=function(){var e=(0,v.Ue)();return function(t,n,i,a,r,o){return D(t,n),isNaN(i)||0===i||(ae(e,r,n,o),t.scale=n.scale*i,t.rotation+=a,re(e,e,t,o),oe(t,t,(0,p.t8)(e,e[0]-r[0],r[1]-e[1]))),t}}(),ie=function(){var e=(0,v.Ue)(),t=(0,v.Ue)();return function(n,i,a,r,o,s,u){return E(t,s,u),(0,p.IH)(e,o,t),r?ne(n,i,a,r,e,s):ee(n,i,a,e,s)}}(),ae=function(){var e=(0,d.Ue)();return function(t,n,i,a){return(0,p.iu)(t,n,function(e,t,n,i){return H(e,t,n,i),(0,h.U_)(e,e)}(e,i,a,1))}}(),re=function(){var e=(0,d.Ue)();return function(t,n,i,a){return(0,p.iu)(t,n,H(e,i,a,1))}}(),oe=function(){var e=(0,v.Ue)(),t=(0,d.Ue)();return function(n,i,a){D(n,i);var r=G(i),o=n.targetGeometry;return(0,h.Us)(t,U(i)),(0,h.bA)(t,t,(0,v.al)(r,r)),(0,p.iu)(e,a,t),o.x+=e[0],o.y+=e[1],n}}()},86934:function(e,t,n){n.r(t),n.d(t,{default:function(){return Vn}});var i=n(29439),a=n(37762),r=n(4942),o=n(1413),s=n(74165),u=n(15671),l=n(43144),c=n(97326),h=n(88301),d=n(61120),p=n(60136),v=n(29388),f=n(15861),m=n(27366),y=n(36721),g=n(80987),w=n(77178),_=n(10064),b=n(93169),k=n(32718),x=n(92026),Z=n(94172),M=n(70431),S=n(49861),C=n(89125),T=(n(84936),n(69912)),V=n(25243),R=n(79803),P=n(22824),z=n(6003),D=n(42047),O=n(28435),I=n(91175),A=n(93433),E=(n(59486),n(7138)),L=n(99346),G=n(17842),N=n(38499),U=n(6644),j=n(9918),F=n(13611),H=n(86226),B=n(46784),q=n(24204),Y=n(50264),X=n(35609),K=n(55364),W=n(29303),J=n(8768),$=n(30932);function Q(e){return function(e){return e instanceof Float32Array&&e.length>=2}(e)||function(e){return Array.isArray(e)&&e.length>=2}(e)}var ee,te=n(91340),ne=n(53866),ie=n(848),ae=[0,0],re=ee=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(e){var i;return(0,u.Z)(this,n),(i=t.call(this,e))._viewpoint2D={center:(0,U.Ue)(),rotation:0,scale:0,spatialReference:void 0},i.center=[0,0],i.extent=new ne.Z,i.id=0,i.inverseTransform=(0,K.Ue)(),i.resolution=0,i.rotation=0,i.scale=0,i.transform=(0,K.Ue)(),i.transformNoRotation=(0,K.Ue)(),i.displayMat3=(0,J.Ue)(),i.displayViewMat3=(0,J.Ue)(),i.viewMat3=(0,J.Ue)(),i.viewMat2d=(0,X.Ue)(),i.worldScreenWidth=0,i.size=[0,0],i}return(0,l.Z)(n,[{key:"pixelRatio",set:function(e){this._set("pixelRatio",e),this._update()}},{key:"size",set:function(e){this._set("size",e),this._update()}},{key:"viewpoint",set:function(e){if(e){var t=this._viewpoint2D,n=e.targetGeometry;t.center[0]=n.x,t.center[1]=n.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=n.spatialReference}this._update()}},{key:"copy",value:function(e){var t=this.size,n=this.viewpoint;return n&&t?(this.viewpoint=(0,H.JG)(n,e.viewpoint),this._set("size",(0,F.JG)(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}},{key:"clone",value:function(){return new ee({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}},{key:"toMap",value:function(e,t,n){return Q(t)?(0,F.iu)(e,t,this.inverseTransform):(ae[0]=t,ae[1]=n,(0,F.iu)(e,ae,this.inverseTransform))}},{key:"toScreen",value:function(e,t,n){return Q(t)?(0,F.iu)(e,t,this.transform):(ae[0]=t,ae[1]=n,(0,F.iu)(e,ae,this.transform))}},{key:"toScreenNoRotation",value:function(e,t,n){return Q(t)?(0,F.iu)(e,t,this.transformNoRotation):(ae[0]=t,ae[1]=n,(0,F.iu)(e,ae,this.transformNoRotation))}},{key:"wrapMapCoordinate",value:function(e,t){(0,F.JG)(e,t);var n=(0,i.Z)(t,1)[0],a=(0,i.Z)(this.center,1)[0],r=this.extent,o=this.spatialReference,s=r.xmin,u=r.xmax;if(o.isWrappable){var l=(0,H.ut)(o)/2;s=Math.max(s,a-l),u=Math.min(u,a+l)}return(n<s||n>u)&&(e[0]=(0,te.it)(n,a,o)),e}},{key:"getScreenTransform",value:function(e,t){var n=this._viewpoint2D.center,i=this._get("pixelRatio")||1,a=this._get("size");return(0,H.Rb)(e,n,a,t,0,i),e}},{key:"_update",value:function(){var e=this._viewpoint2D,t=e.center,n=e.spatialReference,i=e.scale,a=e.rotation,r=this._get("pixelRatio")||1,o=this._get("size"),s=new y.Z({targetGeometry:new ie.Z(t[0],t[1],n),scale:i,rotation:a});if(this._set("viewpoint",s),o&&n&&i){this.resolution=(0,H.uG)(s),this.rotation=a,this.scale=i,this.spatialReference=n,(0,F.JG)(this.center,t);var u=0!==o[0]?2/o[0]:0,l=0!==o[1]?-2/o[1]:0;(0,W.t8)(this.displayMat3,u,0,0,0,l,0,-1,1,1);var c=(0,W.yR)(this.viewMat3),h=(0,$.al)(o[0]/2,o[1]/2),d=(0,$.al)(-o[0]/2,-o[1]/2),p=(0,q.c$)(a);(0,W.Iu)(c,c,h),(0,W.U1)(c,c,p),(0,W.Iu)(c,c,d),(0,W.Jp)(this.displayViewMat3,this.displayMat3,c);var v=(0,Y.vc)(this.viewMat2d,h);return(0,Y.U1)(v,v,p),(0,Y.Iu)(v,v,d),(0,H.bk)(this.extent,s,o),(0,H.Ck)(this.transform,s,o,r),(0,Y.U_)(this.inverseTransform,this.transform),(0,H.Jp)(this.transformNoRotation,s,o,r),this.worldScreenWidth=(0,H.L2)(this.spatialReference,this.resolution),this._set("id",this.id+1),this}}}]),n}(B.wq);(0,m._)([(0,S.Cb)({readOnly:!0})],re.prototype,"id",void 0),(0,m._)([(0,S.Cb)({value:1,json:{write:!0}})],re.prototype,"pixelRatio",null),(0,m._)([(0,S.Cb)({json:{write:!0}})],re.prototype,"size",null),(0,m._)([(0,S.Cb)()],re.prototype,"spatialReference",void 0),(0,m._)([(0,S.Cb)({type:y.Z,json:{write:!0}})],re.prototype,"viewpoint",null);var oe,se,ue=re=ee=(0,m._)([(0,T.j)("esri.views.2d.ViewState")],re),le=oe=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(){var e;return(0,u.Z)(this,n),(e=t.apply(this,arguments)).left=0,e.top=0,e.right=0,e.bottom=0,e}return(0,l.Z)(n,[{key:"clone",value:function(){return new oe({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}}]),n}(E.default);(0,m._)([(0,S.Cb)()],le.prototype,"left",void 0),(0,m._)([(0,S.Cb)()],le.prototype,"top",void 0),(0,m._)([(0,S.Cb)()],le.prototype,"right",void 0),(0,m._)([(0,S.Cb)()],le.prototype,"bottom",void 0),le=oe=(0,m._)([(0,T.j)("esri.views.2d.PaddedViewState.Padding")],le);var ce=se=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(){var e;(0,u.Z)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).paddedViewState=new ue,e._updateContent=function(){var t=(0,U.Ue)();return function(){var n=e._get("size"),i=e._get("padding");if(n&&i){var a=e.paddedViewState;(0,F.t8)(t,i.left+i.right,i.top+i.bottom),(0,F.$X)(t,n,t),(0,F.JG)(a.size,t);var r=a.viewpoint;r&&(e.viewpoint=r)}}}(),e.addHandles((0,Z.watch)((function(){return[e.size,e.padding]}),(function(){return e._updateContent()}),Z.sync)),e.padding=new le,e.size=[0,0],e}return(0,l.Z)(n,[{key:"padding",set:function(e){this._set("padding",e||new le)}},{key:"viewpoint",set:function(e){if(e){this.paddedViewState.viewpoint=e;var t=this._viewpoint2D;if(this._get("padding")){var n=e.clone();(0,H.H4)(n,e,this._get("size"),this._get("padding"));var i=n.targetGeometry;t.center[0]=i.x,t.center[1]=i.y,t.rotation=n.rotation,t.scale=n.scale,t.spatialReference=i.spatialReference}else{var a=e.targetGeometry;t.center[0]=a.x,t.center[1]=a.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=a.spatialReference}this._update()}}},{key:"clone",value:function(){return new se({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}}]),n}(ue);(0,m._)([(0,S.Cb)()],ce.prototype,"paddedViewState",void 0),(0,m._)([(0,S.Cb)({type:le})],ce.prototype,"padding",null),(0,m._)([(0,S.Cb)()],ce.prototype,"viewpoint",null);var he=ce=se=(0,m._)([(0,T.j)("esri.views.2d.PaddedViewState")],ce),de=n(53942),pe=n(16889),ve=n(41258),fe=function(){function e(t){(0,u.Z)(this,e),this._view=t,this.viewpoint=new y.Z({targetGeometry:new ie.Z,scale:0,rotation:0})}return(0,l.Z)(e,[{key:"view",get:function(){return this._view}},{key:"size",get:function(){var e=(0,i.Z)(this._view.size,2),t=e[0],n=e[1];return Math.sqrt(t*t+n*n)}},{key:"scale",get:function(){return this.viewpoint.scale}},{key:"rotation",get:function(){return this.viewpoint.rotation}},{key:"center",get:function(){return this.viewpoint.targetGeometry}},{key:"scaleToResolutionFactor",get:function(){return(0,H.j6)(this.center.spatialReference)}},{key:"pixelsPerPanAtZoom",value:function(e){return 1/(e*this.scaleToResolutionFactor)}},{key:"zoomAtPixelsPerPan",value:function(e){return 1/(e*this.scaleToResolutionFactor)}},{key:"pixelsPerRotateAtZoom",value:function(e){return this.size/2}},{key:"compareTo",value:function(e,t){t.pan=(0,ve.TE)(this.center,e.center);var n=Math.abs(e.rotation-this.rotation);n=n>=180?360-n:n,t.rotate=(0,pe.Vl)(n),t.sourceZoom=this.scale,t.targetZoom=e.scale}},{key:"interpolate",value:function(e,t,n){var i=n.pan,a=n.rotate,r=n.zoom,o=n.zoomOffset,s=this.center;s.spatialReference=e.center.spatialReference,s.x=(0,pe.t7)(e.center.x,t.center.x,i),s.y=(0,pe.t7)(e.center.y,t.center.y,i),this.viewpoint.scale=(0,pe.t7)(e.scale,t.scale+o,r);var u=e.rotation,l=t.rotation;Math.abs(l-u)>=180&&(u+=360*(u<l?1:-1)),this.viewpoint.rotation=(0,pe.t7)(u,l,a)}},{key:"copyFrom",value:function(e){(0,H.JG)(this.viewpoint,e.viewpoint),this._view=e.view}}]),e}(),me=n(90973),ye=n(20069),ge=2e3,we=function(){function e(t){var n=this;(0,u.Z)(this,e),this._view=t,this._animation=new me.f((function(){return new fe(n._view)})),this._current=new fe(this._view)}return(0,l.Z)(e,[{key:"_source",get:function(){return this._animation.definition.source}},{key:"_target",get:function(){return this._animation.definition.target}},{key:"duration",get:function(){return this._animation.time}},{key:"animation",get:function(){return this._animation}},{key:"update",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,H.JG)(this._current.viewpoint,e),(0,H.JG)(this._source.viewpoint,e),(0,H.JG)(this._target.viewpoint,t),this._animation.update(this._source,this._target,n)}},{key:"applyRatio",value:function(e,t){this._animation.cameraAt(t,this._current),(0,H.JG)(e,this._current.viewpoint)}}]),e}(),_e=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(e){var i;return(0,u.Z)(this,n),(i=t.call(this,e))._animation=null,i._destinationViewState=new he,i.updateFunction=null,i.easing=de.LI.ease,i.viewpoint=new y.Z({targetGeometry:new ie.Z,scale:0,rotation:0}),i._updateTask=(0,L.A)({postRender:i._postRender.bind((0,c.Z)(i))}),i._updateTask.pause(),i._transition=new we(e.view),i}return(0,l.Z)(n,[{key:"destroy",value:function(){this._updateTask=(0,x.hw)(this._updateTask)}},{key:"animation",get:function(){return this._animation},set:function(e){this._animation=e,this.view.animation=e}},{key:"animate",value:function(e,t,n){var i,a=this;this.stop();var r=this.viewpoint;(0,H.JG)(r,t);var o=("string"==typeof(null===n||void 0===n?void 0:n.easing)?(0,de.Qc)(n.easing):null===n||void 0===n?void 0:n.easing)||this.easing,s=e.target;this._transition.update(this.viewpoint,s,{apex:{maximumDistance:Math.min(64*Math.min(t.scale,s.scale),this.view.constraints.effectiveMinScale),desiredSlope:5e-8},duration:null===n||void 0===n?void 0:n.duration,maxDuration:"auto"===(null===n||void 0===n?void 0:n.animationMode)?(0,N.HA)(1/0):null!==(i=null===n||void 0===n?void 0:n.maxDuration)&&void 0!==i?i:ye.O.maxDuration,speedFactor:null===n||void 0===n?void 0:n.speedFactor,easing:"function"==typeof o?function(e){return o(e)}:void 0}),"auto"===(null===n||void 0===n?void 0:n.animationMode)&&(this._destinationViewState.copy(this.view.state),this._destinationViewState.viewpoint=s,function(e,t,n,i){var a;if(null!=(null===t||void 0===t?void 0:t.duration))return!0;var r=e.time,o=e.isLinear,s=(null===t||void 0===t?void 0:t.speedFactor)||1,u=null!==(a=null===t||void 0===t?void 0:t.maxDuration)&&void 0!==a?a:ye.O.maxDuration/s;if((0,b.Z)("esri-goto-debug")&&(console.log("speed factor:",s),console.log("adjusted duration:\t\t",r),console.log("adjusted max duration:\t",u),console.log("is linear:",o)),r>u)return(0,b.Z)("esri-goto-debug")&&console.warn('failed "auto" heuristic: animations must be shorter than '.concat(u/1e3,"s")),!1;if(o){var l=1.5,c=(0,U.Ue)(),h=G.vW.apply(void 0,(0,A.Z)(i.toScreen.apply(i,[c].concat((0,A.Z)(n.center))))),d=G.vW.apply(void 0,(0,A.Z)(n.toScreen.apply(n,[c].concat((0,A.Z)(i.center))))),p=null!=d&&d.x>-(l-.5)*n.size[0]&&d.x<(l+.5)*n.size[0]&&d.y>-(l-.5)*n.size[1]&&d.y<(l+.5)*n.size[1],v=null!=h&&h.x>-(l-.5)*i.size[0]&&h.x<(l+.5)*i.size[0]&&h.y>-(l-.5)*i.size[1]&&h.y<(l+.5)*i.size[1];if((0,b.Z)("esri-goto-debug")&&(console.log("dest is within ".concat(l," screens at start view:"),p),console.log("start is within ".concat(l," screens at dest view:"),v)),r>ge/s&&!p&&!v)return(0,b.Z)("esri-goto-debug")&&console.warn('failed "auto" heuristic: linear animations must be...\n  - shorter than '.concat(2/s,"s, or\n  - shorter than ").concat(u/1e3,"s and the destination is close enough to the starting screen, or\n  - shorter than ").concat(u/1e3,"s and the start point is close enough to the destination screen")),!1}return!0}(this._transition.animation,n,this.view.state,this._destinationViewState)||this._transition.update(this.viewpoint,s,{duration:(0,N.HA)(0)}));var u=function(){a.animation===e&&a._updateTask&&("finished"===e.state&&(a._transition.applyRatio(a.viewpoint,1),a.view.state&&(a.view.state.viewpoint=a.viewpoint.clone())),a.animation=null,a.updateFunction=null)};return e.when(u,u),this._startTime=performance.now(),this._updateTask.resume(),this.animation=e,e}},{key:"animateContinuous",value:function(e,t){var n=this;this.stop(),this.updateFunction=t,this.viewpoint=e;var i=new j.Z({target:e.clone()}),a=function(){n.animation===i&&n._updateTask&&(n.animation=null,n.updateFunction=null)};return i.when(a,a),this._startTime=performance.now(),this._updateTask.resume(),this.animation=i,i}},{key:"stop",value:function(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}},{key:"_postRender",value:function(e){var t=this.animation;if(t&&t.state!==j.Z.State.STOPPED){var n;if(this.updateFunction)this.updateFunction(this.viewpoint,e.deltaTime),null===(n=this.animation)||void 0===n||n.update(this.viewpoint);else{var i,a=performance.now()-this._startTime,r=this._transition.duration,o=r>0?a/r:1,s=o>=1;this._transition.applyRatio(this.viewpoint,o),s&&(null===(i=this.animation)||void 0===i||i.finish())}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}}]),n}(E.default);(0,m._)([(0,S.Cb)()],_e.prototype,"easing",void 0),(0,m._)([(0,S.Cb)()],_e.prototype,"view",void 0),(0,m._)([(0,S.Cb)()],_e.prototype,"viewpoint",void 0);var be=_e=(0,m._)([(0,T.j)("esri.views.2d.AnimationManager")],_e),ke=function(){function e(t){var n=this;(0,u.Z)(this,e),this.view=t,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this.stationary=!0,this.animationInProgress=!1,this.prepare=function(){n._updateParameters&&(n._updateParameters.state=n.view.state,n._updateParameters.stationary=n.view.stationary,n._updateParameters.pixelRatio=window.devicePixelRatio,n._updateParameters.renderingOptions=n.view.renderingOptions,n._updateParameters.targetState.copy(n.view.state),n.view.animation&&!("then"in n.view.animation.target)&&(n._updateParameters.targetState.viewpoint=n.view.animation.target))},this.update=function(){var e,t;if(n._updateRequested=!1,null===(e=n.view)||void 0===e||!e.destroyed){var i=n.view,a=i.allLayerViews,r=i.graphicsView,o=i.labelManager,s=i.state.id;a.forEach(n._updateLayerView,n),null!=o&&(o.lastUpdateId!==s&&(o.viewChange(),o.lastUpdateId=s),o.updateRequested&&o.processUpdate(n._updateParameters)),null!=r&&(r.lastUpdateId!==s&&(r.viewChange(),r.lastUpdateId=s),r.updateRequested&&r.processUpdate(n._updateParameters)),n.view.graphicsTileStore.setViewState(n._updateParameters.state),n.animationInProgress||n._updateRequested||null===(t=n._frameTaskHandle)||void 0===t||t.pause()}}}return(0,l.Z)(e,[{key:"destroy",value:function(){this.stop()}},{key:"start",value:function(){var e=this;if(!this._frameTaskHandle){var t=this.view;this.stationary=t.stationary,this._updateParameters={state:t.state,targetState:new he,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:t.renderingOptions},this._stationaryHandle=(0,Z.watch)((function(){return t.stationary}),(function(t){e.stationary=t,e.requestFrame()})),this._frameTaskHandle=(0,L.A)(this),this.requestUpdate()}}},{key:"stop",value:function(){var e;this._frameTaskHandle&&(this._updateRequested=!1,null!==(e=this._stationaryHandle)&&void 0!==e&&e.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}},{key:"requestUpdate",value:function(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}},{key:"requestFrame",value:function(){this._frameTaskHandle&&this._frameTaskHandle.resume()}},{key:"_updateLayerView",value:function(e){var t;if(e.attached){var n=this.view.state,i=e.lastUpdateId;null!=i&&(this.stationary||e.moving)||(e.moving=!0),i!==n.id&&e.viewChange(),this.stationary&&e.moving&&(e.moving=!1,e.moveEnd()),e.lastUpdateId=n.id,e.updateRequested&&e.processUpdate(this._updateParameters),"layerViews"in e&&(null===(t=e.layerViews)||void 0===t||t.forEach(this._updateLayerView,this))}else this.requestUpdate()}}]),e}(),xe=n(90193),Ze=n(66978),Me=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(e){var i;return(0,u.Z)(this,n),(i=t.call(this,e))._gotoTask=null,i}return(0,l.Z)(n,[{key:"destroy",value:function(){this._gotoTask=null}},{key:"goTo",value:function(){var e=(0,f.Z)((0,s.Z)().mark((function e(t,n){var i,a,r,u,l,c,h,d,p,v,f,m,y,g,w=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",void k.Z.getLogger(this).error("#goTo()","target cannot be null or undefined"));case 2:return u=new j.Z,this.view.animation=u,e.next=6,(0,Z.whenOnce)((function(){return w.view.ready}),n);case 6:return l=(0,o.Z)((0,o.Z)({},n),{},{animate:null!==(i=null===n||void 0===n?void 0:n.animate)&&void 0!==i?i:!(0,xe.n)(),animationMode:null!==(a=null===n||void 0===n?void 0:n.animationMode)&&void 0!==a?a:"auto"}),c=this.view,h=c.extent,d=c.spatialReference,p=c.size,v=c.viewpoint,f=c.constraints,m=c.padding,y=c.allLayerViews,g=(0,H.Ue)(t,{extent:h,spatialReference:d,size:p,viewpoint:v,constraints:f,padding:m,allLayerViews:y,pickClosestTarget:null===(r=null===n||void 0===n?void 0:n.pickClosestTarget)||void 0===r||r}),e.abrupt("return",(null!==u&&void 0!==u&&u.update(g),this._gotoTask={},l.animate?this._gotoAnimated(g,l):this._gotoImmediate(g,l)));case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_gotoImmediate",value:function(e,t){var n=this,i=this._gotoTask,a=this.view.animation,r=e.then((function(e){if((0,Ze.k_)(t),i!==n._gotoTask)throw new _.Z("view:goto-interrupted","Goto was interrupted");n.view.viewpoint=a.target=e,a.finish()}));return this._cancellableGoTo(i,a,r,t)}},{key:"_gotoAnimated",value:function(e,t){var n=this,i=this._gotoTask,a=this.view.animation;if(!a)return Promise.resolve();var r=e.then((function(e){if((0,Ze.k_)(t),i!==n._gotoTask)throw new _.Z("view:goto-interrupted","Goto was interrupted");return a.update(e),n.view.animationManager.animate(a,n.view.viewpoint,t),a.when().then((function(){}),(function(){}))}));return this._cancellableGoTo(i,a,r,t)}},{key:"_cancellableGoTo",value:function(e,t,n,i){var a=this;return(0,Ze.Hl)(n,i).finally((function(){e===a._gotoTask&&(t.done||t.stop())}))}}]),n}(E.default);function Se(){return Promise.all([Promise.all([n.e(57808),n.e(66732),n.e(60345)]).then(n.bind(n,60345)),Promise.all([n.e(83406),n.e(57808),n.e(45026),n.e(59008),n.e(66732),n.e(50242),n.e(33624),n.e(99201),n.e(65623),n.e(34697),n.e(78915),n.e(9892),n.e(66107),n.e(86438),n.e(87813),n.e(68714),n.e(24977),n.e(83111),n.e(85992),n.e(85377),n.e(51181),n.e(10329),n.e(86540),n.e(56130),n.e(62085)]).then(n.bind(n,34971))])}(0,m._)([(0,S.Cb)({constructOnly:!0})],Me.prototype,"view",void 0),Me=(0,m._)([(0,T.j)("esri.views.2d.GoToManager")],Me);var Ce=function(){return Se().then((function(){return Promise.all([n.e(83406),n.e(57808),n.e(45026),n.e(59008),n.e(66732),n.e(50242),n.e(33624),n.e(99201),n.e(51927),n.e(65623),n.e(34697),n.e(78915),n.e(9892),n.e(66107),n.e(86438),n.e(87813),n.e(68714),n.e(24977),n.e(83111),n.e(85992),n.e(51181),n.e(58985),n.e(10329),n.e(67472),n.e(70347)]).then(n.bind(n,70056))}))},Te=function(){return Se().then((function(){return Promise.all([n.e(83406),n.e(57808),n.e(66732),n.e(50242),n.e(33624),n.e(99201),n.e(51927),n.e(65623),n.e(34697),n.e(78915),n.e(9892),n.e(66107),n.e(86438),n.e(87813),n.e(68714),n.e(36690),n.e(24977),n.e(38848)]).then(n.bind(n,57898))}))},Ve={"base-dynamic":function(){return Se().then((function(){return Promise.all([n.e(83406),n.e(57808),n.e(66732),n.e(50242),n.e(33624),n.e(51927),n.e(65623),n.e(9892),n.e(66107),n.e(86438),n.e(18048),n.e(52662)]).then(n.bind(n,52662))}))},"base-tile":Ce,"bing-maps":Ce,catalog:function(){return Se().then((function(){return Promise.all([n.e(57808),n.e(33624),n.e(51927),n.e(70061)]).then(n.bind(n,36887))}))},"catalog-dynamic-group":function(){return Se().then((function(){return Promise.all([n.e(57808),n.e(33624),n.e(51927),n.e(41498)]).then(n.bind(n,68360))}))},"catalog-footprint":function(){return Se().then((function(){return Promise.all([n.e(83406),n.e(57808),n.e(66732),n.e(50242),n.e(33624),n.e(99201),n.e(51927),n.e(65623),n.e(34697),n.e(78915),n.e(9892),n.e(66107),n.e(86438),n.e(87813),n.e(68714),n.e(36690),n.e(24977),n.e(38848),n.e(9214)]).then(n.bind(n,9214))}))},csv:Te,"geo-rss":function(){return Se().then((function(){return Promise.all([n.e(83406),n.e(57808),n.e(45026),n.e(59008),n.e(66732),n.e(50242),n.e(33624),n.e(99201),n.e(51927),n.e(65623),n.e(34697),n.e(78915),n.e(9892),n.e(66107),n.e(86438),n.e(87813),n.e(68714),n.e(24977),n.e(83111),n.e(85992),n.e(53684)]).then(n.bind(n,53684))}))},feature:Te,geojson:Te,graphics:function(){return Se().then((function(){return Promise.all([n.e(83406),n.e(57808),n.e(45026),n.e(59008),n.e(66732),n.e(50242),n.e(33624),n.e(99201),n.e(51927),n.e(65623),n.e(34697),n.e(78915),n.e(9892),n.e(66107),n.e(86438),n.e(87813),n.e(68714),n.e(24977),n.e(83111),n.e(85992),n.e(73558)]).then(n.bind(n,73558))}))},group:function(){return Se().then((function(){return Promise.all([n.e(57808),n.e(33624),n.e(51927),n.e(11256)]).then(n.bind(n,74105))}))},imagery:function(){return Se().then((function(){return Promise.all([n.e(83406),n.e(57808),n.e(45026),n.e(59008),n.e(66732),n.e(50242),n.e(33624),n.e(99201),n.e(51927),n.e(65623),n.e(34697),n.e(78915),n.e(9892),n.e(66107),n.e(86438),n.e(87813),n.e(68714),n.e(24977),n.e(83111),n.e(85992),n.e(80394),n.e(35345),n.e(18048),n.e(25631),n.e(62358)]).then(n.bind(n,62358))}))},"imagery-tile":function(){return Se().then((function(){return Promise.all([n.e(83406),n.e(57808),n.e(66732),n.e(50242),n.e(33624),n.e(51927),n.e(65623),n.e(9892),n.e(66107),n.e(86438),n.e(80394),n.e(35345),n.e(25631),n.e(5954)]).then(n.bind(n,5954))}))},kml:function(){return Se().then((function(){return Promise.all([n.e(83406),n.e(57808),n.e(45026),n.e(59008),n.e(66732),n.e(50242),n.e(33624),n.e(99201),n.e(51927),n.e(65623),n.e(34697),n.e(78915),n.e(9892),n.e(66107),n.e(86438),n.e(87813),n.e(68714),n.e(24977),n.e(83111),n.e(85992),n.e(80394),n.e(85377),n.e(54229)]).then(n.bind(n,6326))}))},"knowledge-graph":function(){return Se().then((function(){return Promise.all([n.e(57808),n.e(33624),n.e(51927),n.e(14148)]).then(n.bind(n,83808))}))},"link-chart":function(){return Se().then((function(){return Promise.all([n.e(57808),n.e(33624),n.e(51927),n.e(14148)]).then(n.bind(n,83808))}))},"knowledge-graph-sublayer":Te,"map-image":function(){return Se().then((function(){return Promise.all([n.e(83406),n.e(57808),n.e(45026),n.e(59008),n.e(66732),n.e(50242),n.e(33624),n.e(99201),n.e(51927),n.e(65623),n.e(34697),n.e(78915),n.e(9892),n.e(66107),n.e(86438),n.e(87813),n.e(68714),n.e(24977),n.e(83111),n.e(85992),n.e(58985),n.e(18048),n.e(21881),n.e(38013)]).then(n.bind(n,57682))}))},"map-notes":function(){return Se().then((function(){return Promise.all([n.e(83406),n.e(57808),n.e(45026),n.e(59008),n.e(66732),n.e(50242),n.e(33624),n.e(99201),n.e(51927),n.e(65623),n.e(34697),n.e(78915),n.e(9892),n.e(66107),n.e(86438),n.e(87813),n.e(68714),n.e(24977),n.e(83111),n.e(85992),n.e(82186)]).then(n.bind(n,82186))}))},media:function(){return Se().then((function(){return Promise.all([n.e(83406),n.e(57808),n.e(45026),n.e(59008),n.e(66732),n.e(50242),n.e(33624),n.e(99201),n.e(51927),n.e(65623),n.e(34697),n.e(78915),n.e(9892),n.e(66107),n.e(86438),n.e(87813),n.e(68714),n.e(83111),n.e(85992),n.e(51181),n.e(10329),n.e(35803)]).then(n.bind(n,62613))}))},"ogc-feature":function(){return Se().then((function(){return Promise.all([n.e(83406),n.e(57808),n.e(66732),n.e(50242),n.e(33624),n.e(99201),n.e(51927),n.e(65623),n.e(34697),n.e(78915),n.e(9892),n.e(66107),n.e(86438),n.e(87813),n.e(68714),n.e(36690),n.e(24977),n.e(38848),n.e(58926)]).then(n.bind(n,58926))}))},"open-street-map":Ce,"oriented-imagery":Te,route:function(){return Se().then((function(){return Promise.all([n.e(83406),n.e(57808),n.e(45026),n.e(59008),n.e(66732),n.e(50242),n.e(33624),n.e(99201),n.e(51927),n.e(65623),n.e(34697),n.e(78915),n.e(9892),n.e(66107),n.e(86438),n.e(87813),n.e(68714),n.e(24977),n.e(83111),n.e(85992),n.e(72305),n.e(29417),n.e(58405)]).then(n.bind(n,58405))}))},stream:function(){return Se().then((function(){return Promise.all([n.e(83406),n.e(57808),n.e(66732),n.e(50242),n.e(33624),n.e(99201),n.e(51927),n.e(65623),n.e(34697),n.e(78915),n.e(9892),n.e(66107),n.e(86438),n.e(87813),n.e(68714),n.e(36690),n.e(24977),n.e(38848),n.e(50397)]).then(n.bind(n,50397))}))},"subtype-group":function(){return Se().then((function(){return Promise.all([n.e(83406),n.e(57808),n.e(66732),n.e(50242),n.e(33624),n.e(99201),n.e(51927),n.e(65623),n.e(34697),n.e(78915),n.e(9892),n.e(66107),n.e(86438),n.e(87813),n.e(68714),n.e(36690),n.e(24977),n.e(38848),n.e(13177)]).then(n.bind(n,13177))}))},tile:Ce,"vector-tile":function(){return Se().then((function(){return Promise.all([n.e(83406),n.e(57808),n.e(66732),n.e(50242),n.e(33624),n.e(99201),n.e(51927),n.e(65623),n.e(9892),n.e(66107),n.e(86438),n.e(30969),n.e(24098),n.e(29955),n.e(26250)]).then(n.bind(n,73028))}))},video:function(){return Se().then((function(){return Promise.all([n.e(83406),n.e(57808),n.e(45026),n.e(59008),n.e(66732),n.e(50242),n.e(33624),n.e(99201),n.e(51927),n.e(65623),n.e(34697),n.e(78915),n.e(9892),n.e(66107),n.e(86438),n.e(87813),n.e(68714),n.e(24977),n.e(83111),n.e(85992),n.e(52719)]).then(n.bind(n,52719))}))},wcs:function(){return Se().then((function(){return Promise.all([n.e(83406),n.e(57808),n.e(66732),n.e(50242),n.e(33624),n.e(51927),n.e(65623),n.e(9892),n.e(66107),n.e(86438),n.e(80394),n.e(35345),n.e(25631),n.e(5954)]).then(n.bind(n,5954))}))},"web-tile":Ce,wfs:Te,wms:function(){return Se().then((function(){return Promise.all([n.e(83406),n.e(57808),n.e(66732),n.e(50242),n.e(33624),n.e(51927),n.e(65623),n.e(9892),n.e(66107),n.e(86438),n.e(18048),n.e(76888),n.e(39332)]).then(n.bind(n,39332))}))},wmts:function(){return Se().then((function(){return Promise.all([n.e(83406),n.e(57808),n.e(66732),n.e(50242),n.e(33624),n.e(51927),n.e(65623),n.e(9892),n.e(66107),n.e(86438),n.e(67472),n.e(83329)]).then(n.bind(n,5738))}))},"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"integrated-mesh-3dtiles":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};var Re,Pe=function(e){return null!=Ve[e.type]},ze=function(e){var t=Ve[e.type];if(null==t)throw function(e){var t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",n=t.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new _.Z("".concat(n,":view-not-supported"),"".concat(t," is not supported in 2D"))}(e);return t(e)},De=n(59068),Oe=n(79056),Ie=n(34066),Ae=n(69662);var Ee,Le=Re=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(e){var i;return(0,u.Z)(this,n),(i=t.call(this,e)).geometry=null,i.spatialReference=null,i}return(0,l.Z)(n,[{key:"normalizedGeometry",get:function(){if(null==this.geometry||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return(0,R.project)(this.geometry,this.spatialReference)}catch(sn){return k.Z.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:sn}),null}return this.geometry}},{key:"constrain",value:function(e,t){if(null==this.normalizedGeometry)return e;var n=e.targetGeometry;if("extent"===this.normalizedGeometry.type?(0,Ie.aV)(this.normalizedGeometry,n):(0,Ie.CI)(this.normalizedGeometry,n))return e;var i=function(e,t){var n,i=t.spatialReference,r=[t.x,t.y],o=Number.POSITIVE_INFINITY,s=0,u=0,l=[0,0],c="extent"===e.type?[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]:e.rings,h=(0,a.Z)(c);try{for(h.s();!(n=h.n()).done;)for(var d=n.value,p=0;p<d.length-1;p++){(0,Ae.Tx)(l,r,d,p);var v=(0,F.TE)(r,l);v<o&&(o=v,s=l[0],u=l[1])}}catch(f){h.e(f)}finally{h.f()}return{coordinate:new ie.Z({x:s,y:u,spatialReference:i}),distance:o}}(this.normalizedGeometry,n),r=i.coordinate;return r?(e.targetGeometry=r,e):e}},{key:"clone",value:function(){var e,t;return new Re({geometry:null===(e=this.geometry)||void 0===e?void 0:e.clone(),spatialReference:null===(t=this.spatialReference)||void 0===t?void 0:t.clone()})}}]),n}((0,Oe.iv)(E.default));(0,m._)([(0,S.Cb)({constructOnly:!0})],Le.prototype,"geometry",void 0),(0,m._)([(0,S.Cb)({readOnly:!0})],Le.prototype,"normalizedGeometry",null),(0,m._)([(0,S.Cb)({constructOnly:!0})],Le.prototype,"spatialReference",void 0),Le=Re=(0,m._)([(0,T.j)("esri.views.2d.constraints.GeometryConstraint")],Le);var Ge=Ee=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(){var e;return(0,u.Z)(this,n),(e=t.apply(this,arguments)).enabled=!0,e.rotationEnabled=!0,e}return(0,l.Z)(n,[{key:"constrain",value:function(e,t){return this.enabled&&t?(this.rotationEnabled||(e.rotation=t.rotation),e):e}},{key:"clone",value:function(){return new Ee({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}}]),n}((0,Oe.iv)(E.default));(0,m._)([(0,S.Cb)()],Ge.prototype,"enabled",void 0),(0,m._)([(0,S.Cb)()],Ge.prototype,"rotationEnabled",void 0);var Ne,Ue=Ge=Ee=(0,m._)([(0,T.j)("esri.views.2d.constraints.RotationConstraint")],Ge),je=Ne=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(e){var i;return(0,u.Z)(this,n),(i=t.call(this,e))._lodByScale={},i._scales=[],i.effectiveLODs=null,i.effectiveMinZoom=-1,i.effectiveMaxZoom=-1,i.effectiveMinScale=0,i.effectiveMaxScale=0,i.lods=null,i.minZoom=-1,i.maxZoom=-1,i.minScale=0,i.maxScale=0,i.snapToZoom=!0,i}return(0,l.Z)(n,[{key:"initialize",value:function(){var e,t,n,i,r=this,o=this.lods,s=this.minScale,u=this.maxScale,l=this.minZoom,c=this.maxZoom,h=-1,d=-1,p=!1,v=!1;if(0!==s&&0!==u&&s<u&&(s=(e=[u,s])[0],u=e[1]),null===(t=o)||void 0===t||!t.length)return this._set("effectiveMinScale",s),void this._set("effectiveMaxScale",u);o=o.map((function(e){return e.clone()})),o.sort((function(e,t){return t.scale-e.scale})),o.forEach((function(e,t){return e.level=t}));var f,m=(0,a.Z)(o);try{for(m.s();!(f=m.n()).done;){var y=f.value;!p&&s>0&&s>=y.scale&&(h=y.level,p=!0),!v&&u>0&&u>=y.scale&&(d=i?i.level:-1,v=!0),i=y}}catch(g){m.e(g)}finally{m.f()}-1===l&&(l=0===s?0:h),-1===c&&(c=0===u?o.length-1:d),l=Math.max(l,0),l=Math.min(l,o.length-1),c=Math.max(c,0),l>(c=Math.min(c,o.length-1))&&(l=(n=[c,l])[0],c=n[1]),s=o[l].scale,u=o[c].scale,o.splice(0,l),o.splice(c-l+1,o.length),o.forEach((function(e,t){r._lodByScale[e.scale]=e,r._scales[t]=e.scale})),this._set("effectiveLODs",o),this._set("effectiveMinZoom",l),this._set("effectiveMaxZoom",c),this._set("effectiveMinScale",s),this._set("effectiveMaxScale",u)}},{key:"constrain",value:function(e,t){if(t&&e.scale===t.scale)return e;var n=this.effectiveMinScale,i=this.effectiveMaxScale,a=e.targetGeometry,r=t&&t.targetGeometry,o=0!==i&&e.scale<i,s=0!==n&&e.scale>n;if(o||s){var u=s?n:i;if(t&&r){var l=(u-t.scale)/(e.scale-t.scale);a.x=r.x+(a.x-r.x)*l,a.y=r.y+(a.y-r.y)*l}e.scale=u}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}},{key:"fit",value:function(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);var t=this.scaleToZoom(e.scale),n=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(n>.99?Math.round(t):Math.floor(t)),e}},{key:"zoomToScale",value:function(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);var t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];var n=Math.floor(e),i=Math.ceil(e);return t[n]+(e-n)*(t[i]-t[n])}},{key:"scaleToZoom",value:function(e){if(!this.effectiveLODs)return-1;var t,n,i=this._scales;if(e>=i[0])return this.effectiveMinZoom;if(e<=i[i.length-1])return this.effectiveMaxZoom;for(var a=0;a<i.length-1;a++){if(t=i[a],(n=i[a+1])===e)return a+this.effectiveMinZoom+1;if(t>e&&n<e)return a+this.effectiveMinZoom+1-(e-n)/(t-n)}return-1}},{key:"snapToClosestScale",value:function(e){if(!this.effectiveLODs)return e;var t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}},{key:"snapToNextScale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;if(!this.effectiveLODs)return e*t;var n=Math.round(this.scaleToZoom(e));return this.zoomToScale(n+1)}},{key:"snapToPreviousScale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!this.effectiveLODs)return e*t;var n=Math.round(this.scaleToZoom(e));return this.zoomToScale(n-1)}},{key:"clone",value:function(){return new Ne({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}},{key:"_getClosestScale",value:function(e){return this._lodByScale[e]||(e=this._scales.reduce((function(t,n){return Math.abs(n-e)<=Math.abs(t-e)?n:t}),this._scales[0])),this._lodByScale[e].scale}}]),n}((0,Oe.iv)(E.default));(0,m._)([(0,S.Cb)({readOnly:!0})],je.prototype,"effectiveLODs",void 0),(0,m._)([(0,S.Cb)({readOnly:!0})],je.prototype,"effectiveMinZoom",void 0),(0,m._)([(0,S.Cb)({readOnly:!0})],je.prototype,"effectiveMaxZoom",void 0),(0,m._)([(0,S.Cb)({readOnly:!0})],je.prototype,"effectiveMinScale",void 0),(0,m._)([(0,S.Cb)({readOnly:!0})],je.prototype,"effectiveMaxScale",void 0),(0,m._)([(0,S.Cb)()],je.prototype,"lods",void 0),(0,m._)([(0,S.Cb)()],je.prototype,"minZoom",void 0),(0,m._)([(0,S.Cb)()],je.prototype,"maxZoom",void 0),(0,m._)([(0,S.Cb)()],je.prototype,"minScale",void 0),(0,m._)([(0,S.Cb)()],je.prototype,"maxScale",void 0),(0,m._)([(0,S.Cb)()],je.prototype,"snapToZoom",void 0);var Fe=je=Ne=(0,m._)([(0,T.j)("esri.views.2d.constraints.ZoomConstraint")],je),He=n(80885),Be={base:null,key:"type",typeMap:{extent:ne.Z,polygon:He.Z}},qe=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(e){var i;return(0,u.Z)(this,n),(i=t.call(this,e)).lods=null,i.minScale=0,i.maxScale=0,i.minZoom=-1,i.maxZoom=-1,i.rotationEnabled=!0,i.snapToZoom=!0,i.customConstraints=new g.Z,i}return(0,l.Z)(n,[{key:"destroy",value:function(){this.view=null}},{key:"effectiveLODs",get:function(){return this._zoom.effectiveLODs}},{key:"effectiveMinScale",get:function(){return this._zoom.effectiveMinScale}},{key:"effectiveMaxScale",get:function(){return this._zoom.effectiveMaxScale}},{key:"effectiveMinZoom",get:function(){return this._zoom.effectiveMinZoom}},{key:"effectiveMaxZoom",get:function(){return this._zoom.effectiveMaxZoom}},{key:"geometry",set:function(e){e?this._set("geometry",e):this._set("geometry",null)}},{key:"version",get:function(){var e,t,n;return"".concat(null===(e=this._zoom)||void 0===e?void 0:e.uid,"/").concat(null===(t=this._rotation)||void 0===t?void 0:t.uid,"/").concat(null===(n=this._geometry)||void 0===n?void 0:n.uid)}},{key:"_geometry",get:function(){var e,t,n=this._get("_geometry");return n&&this.geometry===n.geometry&&(null===(e=this.view)||void 0===e?void 0:e.constraintsInfo.spatialReference)===n.spatialReference?n:new Le({geometry:this.geometry,spatialReference:null===(t=this.view)||void 0===t?void 0:t.constraintsInfo.spatialReference})}},{key:"_rotation",get:function(){return new Ue({rotationEnabled:this.rotationEnabled})}},{key:"_zoom",get:function(){var e,t=this._get("_zoom"),n=this.lods||(null===(e=this.view)||void 0===e?void 0:e.constraintsInfo.lods),i=this.minZoom,a=this.maxZoom,r=this.minScale,o=this.maxScale,s=this.snapToZoom;return t&&t.lods===n&&t.minZoom===i&&t.maxZoom===a&&t.minScale===r&&t.maxScale===o&&t.snapToZoom===s?t:new Fe({lods:n,minZoom:i,maxZoom:a,minScale:r,maxScale:o,snapToZoom:s})}},{key:"canZoomInTo",value:function(e){var t=this.effectiveMaxScale;return 0===t||e>=t}},{key:"canZoomOutTo",value:function(e){var t=this.effectiveMinScale;return 0===t||e<=t}},{key:"constrain",value:function(e,t){return this._zoom.constrain(e,t),this._rotation.constrain(e,t),this._geometry.constrain(e,t),this.customConstraints.forEach((function(n){return n.constrain(e,t)})),e}},{key:"constrainByGeometry",value:function(e){return this._geometry.constrain(e),this.customConstraints.forEach((function(t){var n;return null===(n=t.applyPanConstraint)||void 0===n?void 0:n.call(t,e)})),e}},{key:"fit",value:function(e){return this._zoom.fit(e)}},{key:"zoomToScale",value:function(e){return this._zoom.zoomToScale(e)}},{key:"scaleToZoom",value:function(e){return this._zoom.scaleToZoom(e)}},{key:"snapScale",value:function(e){return this._zoom.snapToClosestScale(e)}},{key:"snapToNextScale",value:function(e){return this._zoom.snapToNextScale(e)}},{key:"snapToPreviousScale",value:function(e){return this._zoom.snapToPreviousScale(e)}}]),n}(E.default);(0,m._)([(0,S.Cb)({readOnly:!0})],qe.prototype,"effectiveLODs",null),(0,m._)([(0,S.Cb)({readOnly:!0})],qe.prototype,"effectiveMinScale",null),(0,m._)([(0,S.Cb)({readOnly:!0})],qe.prototype,"effectiveMaxScale",null),(0,m._)([(0,S.Cb)({readOnly:!0})],qe.prototype,"effectiveMinZoom",null),(0,m._)([(0,S.Cb)({readOnly:!0})],qe.prototype,"effectiveMaxZoom",null),(0,m._)([(0,S.Cb)({types:Be,value:null})],qe.prototype,"geometry",null),(0,m._)([(0,S.Cb)({type:[De.Z]})],qe.prototype,"lods",void 0),(0,m._)([(0,S.Cb)()],qe.prototype,"minScale",void 0),(0,m._)([(0,S.Cb)()],qe.prototype,"maxScale",void 0),(0,m._)([(0,S.Cb)()],qe.prototype,"minZoom",void 0),(0,m._)([(0,S.Cb)()],qe.prototype,"maxZoom",void 0),(0,m._)([(0,S.Cb)()],qe.prototype,"rotationEnabled",void 0),(0,m._)([(0,S.Cb)()],qe.prototype,"snapToZoom",void 0),(0,m._)([(0,S.Cb)({type:g.Z})],qe.prototype,"customConstraints",void 0),(0,m._)([(0,S.Cb)()],qe.prototype,"view",void 0),(0,m._)([(0,S.Cb)({readOnly:!0})],qe.prototype,"version",null),(0,m._)([(0,S.Cb)({type:Le,readOnly:!0})],qe.prototype,"_geometry",null),(0,m._)([(0,S.Cb)({type:Ue})],qe.prototype,"_rotation",null),(0,m._)([(0,S.Cb)({readOnly:!0,type:Fe})],qe.prototype,"_zoom",null);var Ye=qe=(0,m._)([(0,T.j)("esri.views.2d.MapViewConstraints")],qe),Xe=n(37995),Ke=n(73828),We=(n(32344),n(85269),n(51370)),Je=n(15075),$e=n(92975),Qe=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(e){var i;return(0,u.Z)(this,n),(i=t.call(this,e)).constraints=null,i.ready=!1,i.resizeAlign="center",i.addHandles([(0,Z.watch)((function(){var e;return null===(e=i.constraints)||void 0===e?void 0:e.version}),(function(e){i.constraints&&e&&i.ready&&(i.state.viewpoint=i.constraints.fit(i.state.paddedViewState.viewpoint))}),Z.sync)]),i}return(0,l.Z)(n,[{key:"center",get:function(){if(!this.ready)return this._get("center");var e=this.state.paddedViewState,t=e.center,n=e.spatialReference;return this.state.commitProperty("id"),new ie.Z({x:t[0],y:t[1],spatialReference:n})},set:function(e){if(null!=e)if(this.ready){var t;try{t=this._project(e,this.state.spatialReference)}catch(nn){return void k.Z.getLogger(this).error(new _.Z("mapview:invalid-center","could not project the value in the view's spatial reference",{input:e,error:nn}))}var n=this.viewpoint;(0,H.o2)(n,n,t),this.viewpoint=n}else this._set("center",e)}},{key:"extent",get:function(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")},set:function(e){if(null!=e)if(e.width&&e.height){if(!this.ready)return this._set("extent",e),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);var t;try{t=this._project(e,this.state.spatialReference)}catch(nn){return void k.Z.getLogger(this).error(new _.Z("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:nn}))}var n=this.viewpoint;(0,H.qf)(n,n,t,this.state.size,{constraints:this.constraints}),this.viewpoint=n}else k.Z.getLogger(this).error(new _.Z("mapview:invalid-extent","invalid extent size"))}},{key:"padding",get:function(){return this.ready?this.state.padding:this._get("padding")},set:function(e){this.ready?(this.state.padding=e,this._set("padding",this.state.padding)):this._set("padding",e)}},{key:"resolution",get:function(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}},{key:"rotation",get:function(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")},set:function(e){if(!isNaN(e))if(this.ready){var t=this.viewpoint;(0,H.YQ)(t,t,e),this.viewpoint=t}else this._set("rotation",e)}},{key:"scale",get:function(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")},set:function(e){if(e&&!isNaN(e))if(this.ready){var t=this.viewpoint;(0,H.Hy)(t,t,e),this.viewpoint=t}else{this._set("scale",e),this._set("zoom",void 0);var n=this._get("extent");n&&(this._set("extent",void 0),this._set("center",n.center))}}},{key:"viewpoint",get:function(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")},set:function(e){var t;if(null!=e){if(!this.ready)return this._set("viewpoint",e),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);var n,i;try{n=this._project(e,this.state.spatialReference),!e.scale||isNaN(e.scale)?i=new _.Z("mapview:invalid-viewpoint","invalid scale value of ".concat(e.scale)):null==e.targetGeometry&&(i=new _.Z("mapview:invalid-viewpoint","geometry not defined"))}catch(fe){i=new _.Z("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:fe})}if(i)k.Z.getLogger(this).error(i);else{this._scaleBeforeChangingSpatialReference=null;var a=new y.Z({targetGeometry:new ie.Z,scale:0,rotation:0});(0,H.JG)(a,n),null!==(t=this.constraints)&&void 0!==t&&t.constrain(a,this.state.paddedViewState.viewpoint),this.state.viewpoint=a,this._set("viewpoint",a)}}}},{key:"zoom",get:function(){var e,t;return this.ready?null!==(e=null===(t=this.constraints)||void 0===t?void 0:t.scaleToZoom(this.scale))&&void 0!==e?e:-1:this._get("zoom")},set:function(e){var t,n,i,a;if(e>=0)if(this.ready){var r=null!==(t=null===(n=this.constraints)||void 0===n?void 0:n.zoomToScale(e))&&void 0!==t?t:0;if(r){var o=this.viewpoint;(0,H.Hy)(o,o,r),this.viewpoint=o,this._set("zoom",null!==(i=null===(a=this.constraints)||void 0===a?void 0:a.scaleToZoom(this.scale))&&void 0!==i?i:-1)}else this._set("zoom",-1)}else{this._set("zoom",e),this._set("scale",void 0);var s=this._get("extent");s&&(this._set("extent",void 0),this._set("center",s.center))}}},{key:"getUserStartupOptions",value:function(e){var t,n,i;if(!e[0]&&!e[1])return{center:void 0,rotation:void 0,scale:void 0};var a,r,o,s=this.padding,u=this.constraints,l=this._get("center"),c=this._get("extent"),h=this._get("scale"),d=this._get("rotation"),p=this._get("viewpoint"),v=this._get("zoom"),f=null!=v&&null!=u&&u.zoomToScale(v)||void 0,m=null===p||void 0===p?void 0:p.rotation,y=null===p||void 0===p?void 0:p.targetGeometry;"extent"===(null===y||void 0===y?void 0:y.type)?a=y:"point"===(null===y||void 0===y?void 0:y.type)&&(r=y,o=null===p||void 0===p?void 0:p.scale);var g=null!==c&&void 0!==c?c:a;return{center:null!==(t=null!==l&&void 0!==l?l:r)&&void 0!==t?t:null===g||void 0===g?void 0:g.center,rotation:null!==d&&void 0!==d?d:m,scale:(null!==(n=null!==(i=null!==h&&void 0!==h?h:f)&&void 0!==i?i:o)&&void 0!==n?n:g&&(0,H.EK)(g,[e[0]-s.left-s.right,e[1]-s.top-s.bottom]))||void 0}}},{key:"startup",value:function(e,t,n,i){var a,r=e.targetGeometry;try{this._project(e,n)}catch(o){k.Z.getLogger(this).warn(new We.Z("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:r.toJSON(),spatialReference:n,error:o})),e.targetGeometry=i||new ie.Z({x:0,y:0,spatialReference:n})}null!==(a=this.constraints)&&void 0!==a&&a.fit(e),this._set("state",new he({padding:this.padding,size:t,viewpoint:e})),this._set("ready",!0)}},{key:"teardown",value:function(){this._set("ready",!1);var e=this.state.paddedViewState,t=(0,i.Z)(e.center,2),n=t[0],a=t[1],r=e.spatialReference,o=e.rotation,s=e.scale,u=new ie.Z({x:n,y:a,spatialReference:r});this._set("viewpoint",null),this._set("extent",null),this._set("center",u),this._set("zoom",-1),this._set("rotation",o),this._set("scale",s),this._set("state",null)}},{key:"changeSpatialReference",value:function(e){var t,n=this.state.paddedViewState.clone();if(null==this._scaleBeforeChangingSpatialReference)this._scaleBeforeChangingSpatialReference=n.scale;else{var a=n.viewpoint.clone();a.scale=this._scaleBeforeChangingSpatialReference,n.viewpoint=a}var r=n.clone(),o=(0,i.Z)(n.center,2),s=o[0],u=o[1],l=null;try{l=this._project(new ie.Z({x:s,y:u,spatialReference:n.spatialReference}),e)}catch(Me){var c;(0,Je.i)()||k.Z.getLogger(this).warn(new We.Z("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:null===(c=l)||void 0===c?void 0:c.toJSON(),spatialReference:e,error:Me}))}l||(l=new ie.Z({x:0,y:0,spatialReference:e}));var h=(0,H.o2)(new y.Z({targetGeometry:new ie.Z,scale:0,rotation:0}),n.viewpoint,l);r.viewpoint=h;try{var d=[n.size[0]/2,n.size[1]/2],p=[d[0]+20,d[1]],v=n.toMap([0,0],p),f=this._project(new ie.Z({x:v[0],y:v[1],spatialReference:n.spatialReference}),e),m=f.x,g=f.y;v[0]=m,v[1]=g,r.toScreen(v,v);var w=(0,H.dI)(d,v,p),_=Math.hypot(v[0]-d[0],v[1]-d[1])/20;!Number.isFinite(_)||Math.abs(_)>4?(h.rotation=0,h.targetGeometry=new ie.Z({x:0,y:0,spatialReference:e})):(h.scale*=_,h.scale>(0,b.Z)("mapview-srswitch-adjust-rotation-scale-threshold")?h.rotation=0:h.rotation+=Number.isFinite(w)?w:0)}catch(x){}null!==(t=this._get("constraints"))&&void 0!==t&&t.constrain(h,void 0),this._get("state").viewpoint=h}},{key:"resize",value:function(e,t){var n,i;if(this.ready){var a=this.state,r=this.state.paddedViewState.viewpoint,o=this.state.paddedViewState.size.concat();a.size=[e,t],(0,H.SI)(r,r,o,this.state.paddedViewState.size,this.resizeAlign),r=null!==(n=null===(i=this.constraints)||void 0===i?void 0:i.constrain(r,void 0))&&void 0!==n?n:r,this.state.viewpoint=r}}},{key:"toMap",value:function(e){if(!this.ready)return null;var t=this.state.toMap([0,0],[e.x,e.y]),n=(0,i.Z)(t,2),a=n[0],r=n[1],o=this.state.spatialReference;return new ie.Z({x:a,y:r,spatialReference:o})}},{key:"toScreen",value:function(e,t){if(!this.ready)return null;var n=this._project(e,this.state.spatialReference),i=[n.x,n.y];return!1===(null===t||void 0===t?void 0:t.pickClosestTarget)||this.state.paddedViewState.wrapMapCoordinate(i,i),this.state.toScreen(i,i),(0,G.vW)(i[0],i[1])}},{key:"_project",value:function(e,t){var n,i=(null===e||void 0===e?void 0:e.targetGeometry)||e;if(!t)return e;if(!i)return null;if(t.imageCoordinateSystem||null!==(n=i.spatialReference)&&void 0!==n&&n.imageCoordinateSystem)return e;if((0,$e.fS)(t,i.spatialReference))return e;var a=(0,R.project)(i,t);if(!a)throw new _.Z("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:i,spatialReference:t});return function(e){return"esri.Viewpoint"===(null===e||void 0===e?void 0:e.declaredClass)}(e)?(e.targetGeometry=a,e):a}}]),n}(E.default);(0,m._)([(0,S.Cb)({type:ie.Z})],Qe.prototype,"center",null),(0,m._)([(0,S.Cb)()],Qe.prototype,"constraints",void 0),(0,m._)([(0,S.Cb)({type:ne.Z})],Qe.prototype,"extent",null),(0,m._)([(0,S.Cb)({value:{top:0,right:0,bottom:0,left:0},cast:function(e){return(0,o.Z)({top:0,right:0,bottom:0,left:0},e)}})],Qe.prototype,"padding",null),(0,m._)([(0,S.Cb)()],Qe.prototype,"ready",void 0),(0,m._)([(0,S.Cb)()],Qe.prototype,"resizeAlign",void 0),(0,m._)([(0,S.Cb)({readOnly:!0})],Qe.prototype,"resolution",null),(0,m._)([(0,S.Cb)({type:Number})],Qe.prototype,"rotation",null),(0,m._)([(0,S.Cb)({type:Number})],Qe.prototype,"scale",null),(0,m._)([(0,S.Cb)({readOnly:!0})],Qe.prototype,"state",void 0),(0,m._)([(0,S.Cb)({type:y.Z})],Qe.prototype,"viewpoint",null),(0,m._)([(0,S.Cb)()],Qe.prototype,"zoom",null),Qe=(0,m._)([(0,T.j)("esri.views.2d.ViewStateManager")],Qe);var et,tt=n(45371),nt=n(41722),it=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(e,i){var a;return(0,u.Z)(this,n),(a=t.call(this,!0))._view=e,a.registerIncoming("double-click",i,(function(e){return a._handleDoubleClick(e,i)})),a}return(0,l.Z)(n,[{key:"_handleDoubleClick",value:function(e,t){(0,nt.h)(e.data,"primary")&&(e.stopPropagation(),t?this._view.mapViewNavigation.zoomOut([e.data.x,e.data.y]):this._view.mapViewNavigation.zoomIn([e.data.x,e.data.y]))}}]),n}(tt.a),at=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(e,i,a){var r;return(0,u.Z)(this,n),(r=t.call(this,!0)).view=e,r.pointerType=i,r.registerIncoming("double-tap-drag",a,(function(e){return r._handleDoubleTapDrag(e)})),r}return(0,l.Z)(n,[{key:"_handleDoubleTapDrag",value:function(e){var t=e.data;if(t.pointerType===this.pointerType){e.stopPropagation();var n=t.action,i=t.delta,a=this.view,r=a.mapViewNavigation;switch(n){case"begin":var o=a.scale;this._startScale=o,this._currentScale=o,this._previousDelta=i,r.begin();break;case"update":if(this._previousDelta.y===i.y)return;this._previousDelta=i;var s=Math.pow(1.015,i.y),u=this._startScale*s,l=u/this._currentScale;r.setViewpointImmediate(l),this._currentScale=u;break;case"end":var c=a.constraints,h=c.effectiveLODs;if(!c.snapToZoom||!h)return void r.end();var d=c.snapScale(this._currentScale),p=(i.y>0?Math.max(d,c.snapToPreviousScale(this._startScale)):Math.min(d,c.snapToNextScale(this._startScale)))/this._currentScale;r.zoom(p).then((function(){r.end()}))}}}}]),n}(tt.a),rt=n(43308),ot=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(e,i,a){var r;return(0,u.Z)(this,n),(r=t.call(this,!0)).view=e,r.pointerAction=i,r.registerIncoming("drag",a,(function(e){return r._handleDrag(e)})),r.registerIncoming("pointer-down",(function(){return r.stopMomentumNavigation()})),r}return(0,l.Z)(n,[{key:"onInstall",value:function(e){var t=this;(0,h.Z)((0,d.Z)(n.prototype),"onInstall",this).call(this,e),this._dragEventSeparator=new rt.H({start:function(e,n){t.view.mapViewNavigation.pan.begin(t.view,n.data),n.stopPropagation()},update:function(e,n){t.view.mapViewNavigation.pan.update(t.view,n.data),n.stopPropagation()},end:function(e,n){t.view.mapViewNavigation.pan.end(t.view,n.data),n.stopPropagation()},condition:function(e,n){return 1===e&&(0,nt.h)(n.data,t.pointerAction)}})}},{key:"_handleDrag",value:function(e){var t=this.view.mapViewNavigation;t.pinch.zoomMomentum||t.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(e)}},{key:"stopMomentumNavigation",value:function(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}}]),n}(tt.a),st=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(e,i,a){var r;(0,u.Z)(this,n),(r=t.call(this,!0))._view=e,r.pointerAction=i;var o=r._view.mapViewNavigation;return r._dragEventSeparator=new rt.H({start:function(e,t){o.rotate.begin(r._view,t.data),t.stopPropagation()},update:function(e,t){o.rotate.update(r._view,t.data),t.stopPropagation()},end:function(e,t){o.rotate.end(),t.stopPropagation()},condition:function(e,t){return 1===e&&(0,nt.h)(t.data,r.pointerAction)}}),r.registerIncoming("drag",a,(function(e){return r._dragEventSeparator.handle(e)})),r}return(0,l.Z)(n)}(tt.a),ut=n(100),lt=n(73320),ct=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(e){var i;return(0,u.Z)(this,n),(i=t.call(this,!0))._view=e,i._frameTask=null,i._watchHandles=new ut.Z,i._currentDevice=null,i._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},i._handle=i.registerIncoming("gamepad",(function(e){return i._handleGamePadEvent(e)})),i._handle.pause(),i}return(0,l.Z)(n,[{key:"onInstall",value:function(e){var t=this;(0,h.Z)((0,d.Z)(n.prototype),"onInstall",this).call(this,e),this._watchHandles.add([(0,Z.watch)((function(){var e;return null===(e=t._view.navigation.gamepad)||void 0===e?void 0:e.enabled}),(function(e){e?(t._handle.resume(),t._frameTask||(t._frameTask=(0,L.A)({update:function(e){return t._frameUpdate(e.deltaTime)}}))):(t._handle.pause(),t._frameTask&&(t._frameTask.remove(),t._frameTask=null))}),Z.initial)])}},{key:"onUninstall",value:function(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),(0,h.Z)((0,d.Z)(n.prototype),"onUninstall",this).call(this)}},{key:"_handleGamePadEvent",value:function(e){var t=this._view.navigation.gamepad.device;t&&e.data.device!==t||this._currentDevice&&this._currentDevice!==e.data.device||("end"===e.data.action?(this._currentDevice=null,(0,lt.cm)(this._transformation)):(this._currentDevice=e.data.device,(0,lt.CY)(e.data,this._view.navigation.gamepad,this._transformation)))}},{key:"_frameUpdate",value:function(e){var t=this._transformation;if(!(0,lt._r)(t)){var n=this._view.viewpoint.clone(),i=this._view.navigation.gamepad.velocityFactor,a=dt*i*e;(0,H.Rx)(n,n,[t.translation[0]*a,-t.translation[1]*a]);var r=1+t.translation[2]*pt*e,o=this._view.constraints.rotationEnabled?-t.heading*ht*e:0,s=this._view.size,u=[s[0]/2,s[1]];(0,H.UZ)(n,n,r,o,u,s);var l=this._view.constraints.constrain(n,this._view.viewpoint);this._view.viewpoint=l}}}]),n}(tt.a),ht=.06,dt=.7,pt=6e-4,vt=n(65638),ft=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(e,i,a){var o,s;return(0,u.Z)(this,n),(s=t.call(this,!0)).view=e,s.keys=i,s._isSticky=!1,s._pressedKeys=new Set,s._timeout=void 0,s._currentDirection=void 0,s._stickyKeyDuration=200,s._handleKey=function(e){var t=s._keyMap[e.data.key];if(e.modifiers.has("Meta")||e.modifiers.has("Control"))s._stopMovement();else if(null!=t){e.stopPropagation(),e.preventDefault();var n="key-down"===e.type;if(s._pressedKeys[n?"add":"delete"](t),n){if(s._direction===t)return;s._direction=t,s._isSticky=!1,s._setTimeout((function(){s._isSticky&&s._handlePopKey()}))}else{var i=void 0===s._timeout,a=s._pressedKeys.size>0;i||a?s._handlePopKey():s._isSticky=!0}}},s._handlePopKey=function(){s._direction=Array.from(s._pressedKeys).pop(),null==s._direction&&s._stopMovement()},s._stopMovement=function(){s._isSticky=!1,s._direction=void 0,s._pressedKeys.clear(),s._setTimeout(void 0)},s._keyMap=(o={},(0,r.Z)(o,i.left,"left"),(0,r.Z)(o,i.right,"right"),(0,r.Z)(o,i.up,"up"),(0,r.Z)(o,i.down,"down"),o),s.registerIncoming("key-down",a,s._handleKey),s.registerIncoming("key-up",a,s._handleKey),s.registerIncoming("blur",a,s._stopMovement),s._visibilityHandle=(0,vt.$)((function(e){return e?null:s._stopMovement()})),s}return(0,l.Z)(n,[{key:"onUninstall",value:function(){var e;this._stopMovement(),null===(e=this._visibilityHandle)||void 0===e||e.remove()}},{key:"_direction",get:function(){return this._currentDirection},set:function(e){var t=null!=this._currentDirection;if(null!=e){if(t||this.view.mapViewNavigation.begin(),this._currentDirection!==e)switch(e){case"left":this.view.mapViewNavigation.continuousPanLeft();break;case"right":this.view.mapViewNavigation.continuousPanRight();break;case"up":this.view.mapViewNavigation.continuousPanUp();break;case"down":this.view.mapViewNavigation.continuousPanDown()}}else t&&this.view.mapViewNavigation.stop();this._currentDirection=e}},{key:"_setTimeout",value:function(e){var t=this;clearTimeout(this._timeout),this._timeout=void 0===e?void 0:setTimeout((function(){t._timeout=void 0,e()}),this._stickyKeyDuration)}}]),n}(tt.a),mt=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(e,i,a){var o,s;return(0,u.Z)(this,n),(s=t.call(this,!0)).view=e,s.keys=i,s._pressed=!1,s._keyToDirection=(o={},(0,r.Z)(o,i.clockwiseOption1,"clockwise"),(0,r.Z)(o,i.clockwiseOption2,"clockwise"),(0,r.Z)(o,i.counterClockwiseOption1,"counterClockwise"),(0,r.Z)(o,i.counterClockwiseOption2,"counterClockwise"),(0,r.Z)(o,i.resetOption1,"reset"),(0,r.Z)(o,i.resetOption2,"reset"),o),s.registerIncoming("key-down",a,(function(e){return s._handleKeyDown(e)})),s.registerIncoming("key-up",a,(function(e){return s._handleKeyUp(e)})),s.registerIncoming("blur",a,(function(){return s._handleStop()})),s._visibilityHandle=(0,vt.$)((function(e){return e?null:s._handleStop()})),s}return(0,l.Z)(n,[{key:"onUninstall",value:function(){var e;null!==(e=this._visibilityHandle)&&void 0!==e&&e.remove(),this._handleStop()}},{key:"_handleKeyDown",value:function(e){e.data.repeat||this._handleKey(e,!0)}},{key:"_handleKeyUp",value:function(e){this._handleKey(e,!1)}},{key:"_handleStop",value:function(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}},{key:"_handleKey",value:function(e,t){var n=e.modifiers;if(!(n.size>0&&!n.has("Shift")||!this.view.constraints.rotationEnabled)){var i=this._keyToDirection[e.data.key];if(this._pressed=null!=i,this._pressed){if(e.preventDefault(),t)switch(this.view.mapViewNavigation.begin(),i){case"clockwise":this.view.mapViewNavigation.continuousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();e.stopPropagation()}}}}]),n}(tt.a);!function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT"}(et||(et={}));var yt=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(e,i,a){var r;return(0,u.Z)(this,n),(r=t.call(this,!0)).view=e,r.keys=i,r._keysToZoomAction={},r.registerIncoming("key-down",a,(function(e){return r._handleKeyDown(e)})),i.zoomIn.forEach((function(e){return r._keysToZoomAction[e]=et.IN})),i.zoomOut.forEach((function(e){return r._keysToZoomAction[e]=et.OUT})),r}return(0,l.Z)(n,[{key:"_handleKeyDown",value:function(e){this._handleKey(e)}},{key:"_handleKey",value:function(e){var t=e.modifiers;if(!(t.size>0)||t.has("Shift")){var n=e.data.key;if(n in this._keysToZoomAction){var i=this._keysToZoomAction[n],a=this.view.mapViewNavigation,r=null;switch(i){case et.IN:r=a.zoomIn();break;case et.OUT:r=a.zoomOut();break;default:return}a.begin(),r.then((function(){return a.end()})),e.stopPropagation()}}}}]),n}(tt.a),gt=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(e,i){var a;return(0,u.Z)(this,n),(a=t.call(this,!0))._view=e,a._canZoom=!0,a.registerIncoming("mouse-wheel",i,(function(e){return a._handleMouseWheel(e)})),a}return(0,l.Z)(n,[{key:"_handleMouseWheel",value:function(e){var t=this;if(this._view.navigation.mouseWheelZoomEnabled&&(e.preventDefault(),e.stopPropagation(),this._canZoom)){var n=this._view.mapViewNavigation,i=e.data,a=i.x,r=i.y,o=i.deltaY,s=1/Math.pow(.6,1/60*o),u=n.zoom(s,[a,r]);u&&(this._canZoom=!1,u.catch((function(){})).then((function(){t._canZoom=!0,n.end()})))}}}]),n}(tt.a),wt=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(e){var i;(0,u.Z)(this,n),(i=t.call(this,!0)).view=e,i.registerIncoming("drag",(function(e){return i._handleDrag(e)})),i.registerIncoming("pointer-down",(function(){return i._stopMomentumNavigation()}));var a=i.view.mapViewNavigation;return i._dragEventSeparator=new rt.H({start:function(e,t){a.pinch.begin(i.view,t.data),t.stopPropagation()},update:function(e,t){a.pinch.update(i.view,t.data),t.stopPropagation()},end:function(e,t){a.pinch.end(i.view),t.stopPropagation()},condition:function(e){return e>=2}}),i}return(0,l.Z)(n,[{key:"_handleDrag",value:function(e){this._dragEventSeparator.handle(e)}},{key:"_stopMomentumNavigation",value:function(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}}]),n}(tt.a),_t=n(31822),bt=n(1614),kt=n(83659),xt=n(84702),Zt=n(77427),Mt=n(15646),St=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt.Mp.maximumDoubleClickDelay,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mt.Mp.maximumDoubleClickDistance,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mt.Mp.maximumDoubleTouchDelay,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Mt.Mp.maximumDoubleTouchDistance,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:xt.m;return(0,u.Z)(this,n),(e=t.call(this,!1))._maximumDoubleClickDelay=i,e._maximumDoubleClickDistance=a,e._maximumDoubleTouchDelay=r,e._maximumDoubleTouchDistance=o,e._clock=s,e._doubleTapDragReady=!1,e._doubleTapDragActive=!1,e._dragStartCenter=(0,G.vW)(0,0),e._pointerState=new Map,e._doubleTapDrag=e.registerOutgoing("double-tap-drag"),e._dragEventSeparator=new rt.H({start:function(t,n){return e._dragStart(t,n)},update:function(t,n){return e._dragUpdate(n)},end:function(t,n){return e._dragEnd(n)}}),e.registerIncoming("drag",(function(t){return e._dragEventSeparator.handle(t)})),e.registerIncoming("pointer-down",(function(t){return e._handlePointerDown(t)})),e.registerIncoming("pointer-up",(function(){return e._handlePointerUp()})),e}return(0,l.Z)(n,[{key:"onUninstall",value:function(){this._pointerState.forEach((function(e){e.doubleTapTimeout=(0,x.hw)(e.doubleTapTimeout)}))}},{key:"hasPendingInputs",get:function(){return(0,Zt.oE)(this._pointerState,(function(e){return null!=e.doubleTapTimeout}))}},{key:"_clearPointerDown",value:function(e){var t=this._pointerState.get(e);t&&(t.doubleTapTimeout=(0,x.hw)(t.doubleTapTimeout),this._pointerState.delete(e),this.refreshHasPendingInputs())}},{key:"_dragStart",value:function(e,t){if(this._doubleTapDragReady&&1===e){this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;var n=t.data,i=t.modifiers,a=n.center;this._dragStartCenter=a;var r=Ct("begin",(0,G.vW)(0,0),n);this._doubleTapDrag.emit(r,void 0,i),t.stopPropagation()}}},{key:"_dragUpdate",value:function(e){if(this._doubleTapDragActive){var t=e.data,n=e.modifiers,i=t.center,a=Ct("update",(0,G.vW)(i.x-this._dragStartCenter.x,i.y-this._dragStartCenter.y),t);this._doubleTapDrag.emit(a,void 0,n),e.stopPropagation()}}},{key:"_dragEnd",value:function(e){if(this._doubleTapDragActive){var t=e.data,n=e.modifiers,i=t.center,a=Ct("end",(0,G.vW)(i.x-this._dragStartCenter.x,i.y-this._dragStartCenter.y),t);this._doubleTapDrag.emit(a,void 0,n),this._doubleTapDragActive=!1,e.stopPropagation()}}},{key:"_handlePointerDown",value:function(e){var t=e.data,n=(0,Mt.au)(t),i=this._pointerState.get(n),a=t.native.pointerType;if(i){var r="touch"===a?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(n),(0,Mt.nk)(i.event.data,t)>r?this._storePointerDown(e):this._doubleTapDragReady=!0}else this._storePointerDown(e)}},{key:"_handlePointerUp",value:function(){this._doubleTapDragReady=!1}},{key:"_storePointerDown",value:function(e){var t=this,n=e.data,i=n.native.pointerType,a=(0,Mt.au)(n),r="touch"===i?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,o=this._clock.setTimeout((function(){return t._clearPointerDown(a)}),r);this._pointerState.set(a,{event:e,doubleTapTimeout:o}),this.refreshHasPendingInputs()}}]),n}(tt.a);function Ct(e,t,n){return{action:e,delta:t,button:n.button,buttons:n.buttons,pointer:n.pointer,pointers:n.pointers,pointerType:n.pointerType,timestamp:n.timestamp}}var Tt=n(33666),Vt=n(11802),Rt=n(64544),Pt=n(46525),zt="Control",Dt={left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},Ot={zoomIn:["=","+"],zoomOut:["-","_"]},It={clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"},At=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"initialize",value:function(){var e=this,t=function(){var t;return null===(t=e.view)||void 0===t?void 0:t.ready};this.addHandles([(0,Z.when)((function(){return!t()}),(function(){return e._disconnect()})),(0,Z.when)(t,(function(){return e._connect()}))])}},{key:"destroy",value:function(){this._disconnect()}},{key:"latestPointerType",get:function(){var e;return null===(e=this._inputManager)||void 0===e?void 0:e.latestPointerType}},{key:"latestPointerLocation",get:function(){var e;return null===(e=this._inputManager)||void 0===e?void 0:e.latestPointerLocation}},{key:"multiTouchActive",get:function(){var e,t;return null!==(e=null===(t=this._inputManager)||void 0===t?void 0:t.multiTouchActive)&&void 0!==e&&e}},{key:"isModifierKeyDown",value:function(e){var t,n;return null!==(t=null===(n=this._inputManager)||void 0===n?void 0:n.isModifierKeyDown(e))&&void 0!==t&&t}},{key:"_disconnect",value:function(){this.view.viewEvents.disconnect(),this._inputManager=(0,x.SC)(this._inputManager)}},{key:"_connect",value:function(){var e=this,t=this.view.surface,n=new _t.z(t,this.view.input),i=[new Vt.y,new Rt.e,new Pt.y,new Tt.n(this.view.navigation),new St],a=new bt.$({eventSource:n,recognizers:i});a.installHandlers("prevent-context-menu",[new kt.G],bt.f.INTERNAL),a.installHandlers("navigation",[new wt(this.view),new ct(this.view),new gt(this.view),new it(this.view),new it(this.view,[zt]),new ot(this.view,"primary"),new ft(this.view,Dt),new yt(this.view,Ot),new mt(this.view,It),new st(this.view,"secondary"),new at(this.view,"touch")],bt.f.INTERNAL),this.view.viewEvents.connect(a),this._source=n,this._inputManager=a,(0,Z.watch)((function(){var t,n;return null===(t=e.view)||void 0===t||null===(n=t.navigation)||void 0===n?void 0:n.browserTouchPanEnabled}),(function(t){e._source&&(e._source.browserTouchPanningEnabled=!t)}),Z.initial)}},{key:"test",get:function(){}}]),n}(E.default);(0,m._)([(0,S.Cb)()],At.prototype,"view",void 0),(0,m._)([(0,S.Cb)()],At.prototype,"latestPointerType",null),(0,m._)([(0,S.Cb)()],At.prototype,"latestPointerLocation",null),(0,m._)([(0,S.Cb)()],At.prototype,"multiTouchActive",null);var Et=At=(0,m._)([(0,T.j)("esri.views.2d.input.MapViewInputManager")],At),Lt=n(91505),Gt=n(31581),Nt=n(65156),Ut=n(67906),jt=n(48790),Ft={added:[],removed:[]},Ht=new Set,Bt=new Ke.Z(0,0,0,0);var qt=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(e){var i;return(0,u.Z)(this,n),(i=t.call(this))._tiles=new Map,i._index=(0,Gt.r)(9,(0,b.Z)("esri-csp-restrictions")?function(e){return{minX:e.bounds[0],minY:e.bounds[1],maxX:e.bounds[2],maxY:e.bounds[3]}}:[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),i.tiles=[],i.tileScheme=e,i}return(0,l.Z)(n,[{key:"destroy",value:function(){this.clear()}},{key:"clear",value:function(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}},{key:"has",value:function(e){return this._tiles.has(e)}},{key:"get",value:function(e){return this._tiles.get(e)}},{key:"getIntersectingTiles",value:function(e){if(!e||0===(0,Nt.d_)(e)||0===(0,Nt.Cb)(e))return[];var t=function(e,t){var n=(0,$e.C5)(t);if(!n)return null;var a=(0,i.Z)(n.valid,2),r=a[0],o=a[1];return e[2]>o?[(0,Nt.Ue)([e[0],e[1],o,e[3]]),(0,Nt.Ue)([r,e[1],r+e[2]-o,e[3]])]:e[0]<r?[(0,Nt.Ue)([r,e[1],e[2],e[3]]),(0,Nt.Ue)([o-(r-e[0]),e[1],o,e[3]])]:null}(e,this.tileScheme.spatialReference);return null!=t?(0,A.Z)(new Set([].concat((0,A.Z)(this.boundsIntersections(t[0])),(0,A.Z)(this.boundsIntersections(t[1]))))):this.boundsIntersections(e)}},{key:"boundsIntersections",value:function(e){return this._index.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]})}},{key:"updateTiles",value:function(e){var t,n=this,i={added:[],removed:[]},r=(0,a.Z)(e.added);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(!this.has(o)){var s=new Ut.n(this.tileScheme,o);this._tiles.set(o,s),this._index.insert(s),i.added.push(s)}}}catch(d){r.e(d)}finally{r.f()}var u,l=(0,a.Z)(e.removed);try{for(l.s();!(u=l.n()).done;){var c=u.value;if(this.has(c)){var h=this.get(c);this._tiles.delete(c),this._index.remove(h),i.removed.push(h)}}}catch(d){l.e(d)}finally{l.f()}this.tiles.length=0,this._tiles.forEach((function(e){return n.tiles.push(e)})),(i.added.length||i.removed.length)&&this.emit("update",i)}},{key:"setViewState",value:function(e){var t=this.tileScheme.getTileCoverage(e,0);if(t){var n=t.spans,i=t.lodInfo,r=i.level;if(n.length>0){var o,s=(0,a.Z)(n);try{for(s.s();!(o=s.n()).done;)for(var u=o.value,l=u.row,c=u.colFrom,h=u.colTo,d=c;d<=h;d++){var p=Bt.set(r,l,i.normalizeCol(d),i.getWorldForColumn(d)).id;if(Ht.add(p),!this.has(p)){var v=new Ut.n(this.tileScheme,p);this._tiles.set(p,v),this._index.insert(v),this.tiles.push(v),Ft.added.push(v)}}}catch(y){s.e(y)}finally{s.f()}}for(var f=this.tiles.length-1;f>=0;f--){var m=this.tiles[f];Ht.has(m.id)||(this._tiles.delete(m.id),this.tiles.splice(f,1),this._index.remove(m),Ft.removed.push(m))}(Ft.added.length||Ft.removed.length)&&this.emit("update",Ft),jt.Z.pool.release(t),Ht.clear(),Ft.added.length=0,Ft.removed.length=0}}}]),n}(Lt.Z),Yt=n(64634),Xt=n(52639),Kt=n(63780),Wt=n(83704),Jt=n(25501),$t=n(72612);function Qt(e,t,n){return en.apply(this,arguments)}function en(){return en=(0,f.Z)((0,s.Z)().mark((function e(t,n,i){var a,r,o,u,l,c,h,d,p;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(0,$t.Rw)(n)?(0,$t.s6)(t,n):n,t.ready&&!isNaN(a.x)&&!isNaN(a.y)){e.next=3;break}return e.abrupt("return",{screenPoint:a,results:[]});case 3:return r=new Set,o=new Set,u=!1,l=null,c=null,null!==i&&void 0!==i&&i.include?nn(i.include,tn(t,(function(e){r.add(e),rn(e,(function(e){return o.add(e)}))}),(function(e,t){o.add(e),r.add(t)}),(function(e){l||(l=new Set),l.add(e)}),(function(e){return r.add(e)}),(function(){return u=!0}))):(u=!0,(r=new Set(t.allLayerViews)).forEach((function(e){rn(e,(function(e){return o.add(e)}))}))),(null===i||void 0===i?void 0:i.exclude)&&nn(i.exclude,tn(t,(function(e){r.delete(e),rn(e,(function(e){return o.delete(e)}))}),(function(e){return o.delete(e)}),(function(e){c||(c=new Set),c.add(e)}))),h=t.toMap(a),d=t.allLayerViews.filter((function(e){return!e.suspended&&r.has(e)&&e.clips.every((function(e){return(0,Jt.A)(t,e,a,h)}))})).reverse(),e.t0=[],e.t1=(0,A.Z)(u?t.graphicsView.hitTest(h).map((function(e){return{type:"graphic",graphic:e,layer:null,mapPoint:h}})):[]),e.t2=A.Z,e.next=13,Promise.all(d.map((function(e){return e.hitTest(h,a)})).toArray());case 13:return e.t3=e.sent,e.t4=(0,e.t2)(e.t3),p=e.t0.concat.call(e.t0,e.t1,e.t4).filter(Kt.pC).flat().filter(Kt.pC),e.abrupt("return",(p=p.filter((function(e){var t;return"graphic"!==e.type||"subtype-group"!==(null===(t=e.layer)||void 0===t?void 0:t.type)||o.has(e.graphic.layer)})),l&&(p=p.filter((function(e){var t;return!("graphic"in e)||!e.graphic||(null===(t=l)||void 0===t?void 0:t.has(an(e.graphic)))}))),c&&(p=p.filter((function(e){var t;return!("graphic"in e)||!e.graphic||!(null!==(t=c)&&void 0!==t&&t.has(an(e.graphic)))}))),{screenPoint:a,results:p}));case 17:case"end":return e.stop()}}),e)}))),en.apply(this,arguments)}function tn(e,t,n,i,a,r){return function(o){if(o instanceof Xt.Z){if(o.layer===e)null===r||void 0===r||r();else{var s=e.allLayerViews.find((function(e){return e.layer===o.layer}));s&&(null===a||void 0===a||a(s))}i(an(o))}else if("layer"in o&&"element"in o);else if("subtype-sublayer"===o.type){var u=e.allLayerViews.find((function(e){return e.layer===o.parent}));u&&n(o,u)}else{var l=e.allLayerViews.find((function(e){return e.layer===o}));l&&t(l)}}}function nn(e,t){if(e)if((0,Wt.TW)(e)){var n,i=(0,a.Z)(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;if((0,Wt.TW)(r)){var o,s=(0,a.Z)(r);try{for(s.s();!(o=s.n()).done;){t(o.value)}}catch(u){s.e(u)}finally{s.f()}}else t(r)}}catch(u){i.e(u)}finally{i.f()}}else t(e)}function an(e){var t,n,i,a,r=e.getObjectId();return r?"".concat(null!==(t=null!==(n=null===(i=e.layer)||void 0===i?void 0:i.uid)&&void 0!==n?n:null===(a=e.sourceLayer)||void 0===a?void 0:a.uid)&&void 0!==t?t:"MapView","/").concat(r):'"MapView/'.concat(e.uid)}function rn(e,t){var n=e.layer;"subtype-group"===(null===n||void 0===n?void 0:n.type)&&n.sublayers.forEach((function(e){t(e)}))}var on=n(7796),sn={flipY:!0,premultipliedAlpha:!0};function un(e,t){return ln.apply(this,arguments)}function ln(){return ln=(0,f.Z)((0,s.Z)().mark((function e(t,n){var i,a,r,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dn(t,n);case 2:return i=e.sent,a=(0,on.LI)(null===n||void 0===n?void 0:n.format,null===n||void 0===n?void 0:n.quality),r=a.format,o=a.quality,e.abrupt("return",(0,on.cv)(i,{format:r,quality:o,rotation:0,disableDecorations:!1},sn));case 7:case"end":return e.stop()}}),e)}))),ln.apply(this,arguments)}function cn(e,t){return hn.apply(this,arguments)}function hn(){return hn=(0,f.Z)((0,s.Z)().mark((function e(t,n){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dn(t,n);case 2:return i=e.sent,e.abrupt("return",(0,on.v8)(i,sn));case 4:case"end":return e.stop()}}),e)}))),hn.apply(this,arguments)}function dn(e,t){var n=function(e,t,n,i){e.ignorePadding&&(i={left:0,right:0,top:0,bottom:0});var a=null;null!=e.width&&null!=e.height?a=[e.width,e.height]:null==e.width&&null!=e.height?a=[e.height,e.height]:null!=e.width&&null==e.height?a=[e.width,e.width]:null==e.width&&null==e.height&&(a=null);var r,o,s=n[0]-(i.left+i.right),u=n[1]-(i.top+i.bottom),l=e.area||{x:0,y:0,width:s,height:u};if(a){var c=s/u,h=a[0]/a[1];if(h>c){var d=l.width/h;l={x:l.x,y:Math.round(l.y+(l.height-d)/2),width:l.width,height:Math.round(d)}}else{var p=l.height*h;l={x:Math.round(l.x+(l.width-p)/2),y:l.y,width:Math.round(p),height:l.height}}}else a=[l.width,l.height];return a[0]>l.width?(r=Math.min(a[0]/l.width,t),o=a[0]/l.width/r):(r=1,o=a[0]/l.width),{cropArea:{x:Math.round((l.x+i.left)*r),y:Math.round((l.y+i.top)*r),width:Math.round(l.width*r),height:Math.round(l.height*r)},outputScale:o,resolutionScale:r}}(t||{},function(e,t){return Math.min(4,(0,on.RZ)(t,Math.min(4096,e.context.parameters.maxTextureSize)))}(e.stage,e.size),e.size,e.padding),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(!e.layers)return;var n=[];return e.layers.forEach((function(e){var i=t.find((function(t){return t.layer.id===e.id}));(null===i||void 0===i?void 0:i.container)&&n.push(i.container)})),n}(t,e.allLayerViews);return e.stage.takeScreenshot(n,i,e.backgroundColor,null===t||void 0===t?void 0:t.rotation)}var pn=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(){var e;return(0,u.Z)(this,n),(e=t.apply(this,arguments))._timer=void 0,e}return(0,l.Z)(n,[{key:"stationary",get:function(){return!this._timer}},{key:"flip",value:function(){var e=this;this._timestamp=performance.now(),null==this._timer&&(this._timer=setInterval((function(){performance.now()-e._timestamp>=160&&e.clear()}),160))}},{key:"clear",value:function(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}}]),n}(E.default);(0,m._)([(0,S.Cb)()],pn.prototype,"_timer",void 0),(0,m._)([(0,S.Cb)()],pn.prototype,"stationary",null),pn=(0,m._)([(0,T.j)("esri.views.2d.support.StationaryManager")],pn);var vn=n(84786),fn=n(87770),mn=n(33006),yn=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(e){var i;return(0,u.Z)(this,n),(i=t.call(this,e)).components=["attribution","zoom"],i}return(0,l.Z)(n)}(mn.Z);(0,m._)([(0,S.Cb)()],yn.prototype,"components",void 0);var gn,wn,_n,bn,kn,xn,Zn=yn=(0,m._)([(0,T.j)("esri.views.ui.2d.DefaultUI2D")],yn),Mn=n(38675),Sn=n(53042);function Cn(){return Cn=(0,f.Z)((0,s.Z)().mark((function e(){var t,a,r,o,u,l,c,h,d;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Promise.all([n.e(57808),n.e(66732),n.e(60345)]).then(n.bind(n,60345)),Promise.all([n.e(83406),n.e(57808),n.e(45026),n.e(59008),n.e(66732),n.e(50242),n.e(33624),n.e(99201),n.e(65623),n.e(34697),n.e(78915),n.e(9892),n.e(66107),n.e(86438),n.e(87813),n.e(68714),n.e(24977),n.e(83111),n.e(85992),n.e(85377),n.e(51181),n.e(10329),n.e(86540),n.e(56130),n.e(62085)]).then(n.bind(n,34971))]);case 2:t=e.sent,a=(0,i.Z)(t,2),r=a[1],o=r.GraphicsView2D,u=r.GraphicContainer,l=r.LabelManager,c=r.MapViewNavigation,h=r.MagnifierView2D,d=r.Stage,wn=o,_n=u,bn=l,kn=c,xn=h,gn=d;case 12:case"end":return e.stop()}}),e)}))),Cn.apply(this,arguments)}var Tn=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(e){var i;return(0,u.Z)(this,n),(i=t.call(this,e))._magnifierView=null,i.stage=null,i._resolveWhenReady=[],i.rootLayerViews=new w.Z({getCollections:function(){var e,t;return[null===(e=i.basemapView)||void 0===e?void 0:e.baseLayerViews,i.layerViews,null===(t=i.basemapView)||void 0===t?void 0:t.referenceLayerViews]},getChildrenFunction:function(){return null}}),i.featuresTilingScheme=null,i.fullOpacity=1,i.goToManager=new Me({view:(0,c.Z)(i)}),i.graphicsView=null,i.stateManager=new Qe({constraints:new Ye({view:(0,c.Z)(i)})}),i.stationaryManager=new pn,i.labelManager=null,i.mapViewNavigation=null,i.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},i.supersampleScreenshotsEnabled=!0,i.supportsGround=!1,i.frameTask=new ke((0,c.Z)(i)),i.floors=new g.Z,i.highlightOptions=new Yt.Z,i.inputManager=new Et({view:(0,c.Z)(i)}),i.map=null,i.spatialReferenceLocked=!1,i.timeline=new vn.T,i.type="2d",i.ui=new Zn,i.test={takeScreenshot:function(){var e=(0,f.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cn(i._getScreenshotView(t),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},i.padding={top:0,right:0,bottom:0,left:0},i.addHandles([(0,Z.watch)((function(){return i.viewpoint}),(function(){return i.stationaryManager.flip()}),Z.sync),i.on("resize",(function(e){return i.stateManager.resize(e.width,e.height)}))]),(0,M.j2)(),i}return(0,l.Z)(n,[{key:"destroy",value:function(){this.layerViewManager.clear(),this._set("preconditionsReady",!1),this.frameTask=(0,x.SC)(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}},{key:"graphicsTileStore",get:function(){return new qt(this.featuresTilingScheme)}},{key:"constraintsInfo",get:function(){var e,t,n=null===(e=this.defaultsFromMap)||void 0===e?void 0:e.tileInfo,i=this.spatialReference;return{lods:null!==n&&void 0!==n&&null!==(t=n.spatialReference)&&void 0!==t&&t.equals(i)?n.lods:null,spatialReference:i}}},{key:"state",get:function(){return this.stateManager.state}},{key:"initialExtentRequired",get:function(){var e;if(!this.stateManager)return!1;var t=this.scale,n=this.constraints,i=this.center,a=this.viewpoint,r=this.extent,o=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&null!==(e=this.map.initialViewProperties)&&void 0!==e&&e.viewpoint)&&!r&&(null!==n&&void 0!==n&&n.effectiveLODs||(o=-1),(!i||0===t&&-1===o)&&(null==(null===a||void 0===a?void 0:a.targetGeometry)||"extent"!==a.targetGeometry.type&&!a.scale))}},{key:"_defaultsFromMapSettings",get:function(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}},{key:"typeSpecificPreconditionsReady",get:function(){var e=this._getDefaultViewpoint();if(!e)return!1;var t=e.targetGeometry,n=this.spatialReference;return(0,R.isLoadedOrLoadFor)(t.spatialReference,n)}},{key:"animation",set:function(e){var t=this,n=this._get("animation");if(e!==n){if(n&&n.stop(),e!==this.animationManager.animation&&this.animationManager.stop(),!e||e.isFulfilled())return this._set("animation",null),void(this.frameTask.animationInProgress=!1);this._set("animation",e),this.frameTask.animationInProgress=!0;var i=function(){var n;t.destroyed||(e===t._get("animation")&&(t._set("animation",null),null!==(n=t.frameTask)&&void 0!==n&&n.requestFrame()),t.frameTask.animationInProgress=!1)};e.when(i,i)}}},{key:"background",get:function(){return(0,Mn.s)(this.map)?this.map.initialViewProperties.background:null},set:function(e){this._override("background",e)}},{key:"center",get:function(){var e,t;return null!==(e=null===(t=this.stateManager)||void 0===t?void 0:t.center)&&void 0!==e?e:null},set:function(e){this.stateManager.center=e}},{key:"constraints",get:function(){var e;return null===(e=this.stateManager)||void 0===e?void 0:e.constraints},set:function(e){e.view=this;var t=this.stateManager.constraints;this.stateManager.constraints=e,null===t||void 0===t||t.destroy()}},{key:"extent",get:function(){var e,t;return null!==(e=null===(t=this.stateManager)||void 0===t?void 0:t.extent)&&void 0!==e?e:null},set:function(e){this.stateManager.extent=e}},{key:"padding",get:function(){var e;return null===(e=this.stateManager)||void 0===e?void 0:e.padding},set:function(e){this.stateManager&&(this.stateManager.padding=e)}},{key:"rendering",get:function(){var e,t;return null!==(e=null===(t=this.stage)||void 0===t?void 0:t.renderRequested)&&void 0!==e&&e}},{key:"resizeAlign",get:function(){return this.stateManager.resizeAlign},set:function(e){this.stateManager.resizeAlign=e}},{key:"resolution",get:function(){var e;return null!==(e=this.stateManager.resolution)&&void 0!==e?e:0}},{key:"rotation",get:function(){var e;return null!==(e=this.stateManager.rotation)&&void 0!==e?e:0},set:function(e){var t=this.constraints.rotationEnabled;this.constraints.rotationEnabled=!0,this.stateManager.rotation=e,this.constraints.rotationEnabled=t}},{key:"scale",get:function(){var e,t;return null!==(e=null===(t=this.stateManager)||void 0===t?void 0:t.scale)&&void 0!==e?e:0},set:function(e){this.stateManager&&(this.stateManager.scale=e)}},{key:"stationary",get:function(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}},{key:"tileInfo",get:function(){var e;return null===(e=this.featuresTilingScheme)||void 0===e?void 0:e.tileInfo}},{key:"updating",get:function(){var e,t=!(!this.magnifier.visible||null===this.magnifier.position||null===(e=this._magnifierView)||void 0===e||!e.updatingHandles.updating),n=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||!0===this.layerViewManager.updating||!0===this.labelManager.updating||!0===this.graphicsView.updating||this.allLayerViews.some((function(e){return!e.destroyed&&!("layerViews"in e)&&!0===e.updating}))||t);if((0,b.Z)("esri-2d-log-updating")){var i,a,s,u=this.allLayerViews.reduce((function(e,t){return(0,o.Z)((0,o.Z)({},e),{},(0,r.Z)({},"".concat(t.layer.id,"(").concat(t.layer.type,")"),!t.destroyed&&!("layerViews"in t)&&t.updating))}),{});console.log("Updating MapView: ".concat(n,"\n-> Null LayerViewManager: ").concat(!this.layerViewManager,"\n-> Null LabelManager: ").concat(!this.labelManager,"\n-> Null GraphicsView: ").concat(!this.graphicsView,"\n-> layerViewManager.updating: ").concat(null===(i=this.layerViewManager)||void 0===i?void 0:i.updating,"\n-> labelManager.updating: ").concat(null===(a=this.labelManager)||void 0===a?void 0:a.updating,"\n-> graphicsView.updating: ").concat(null===(s=this.graphicsView)||void 0===s?void 0:s.updating,"\n-> allLayerViews: ").concat(JSON.stringify(u),"\n-> updatingMagnifier: ").concat(t,"\n"))}return n}},{key:"viewpoint",get:function(){var e;return null!==(e=this.stateManager.viewpoint)&&void 0!==e?e:null},set:function(e){this.stateManager.viewpoint=e,this.frameTask.requestFrame()}},{key:"zoom",get:function(){var e;return null!==(e=this.stateManager.zoom)&&void 0!==e?e:-1},set:function(e){this.stateManager.zoom=e}},{key:"navigating",get:function(){var e,t;return null!==(e=null===(t=this.mapViewNavigation)||void 0===t?void 0:t.interacting)&&void 0!==e&&e}},{key:"goTo",value:function(e,t){return this.goToManager.goTo(e,t)}},{key:"hitTest",value:function(){var e=(0,f.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qt(this,t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"takeScreenshot",value:function(){var e=(0,f.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",un(this._getScreenshotView(t),t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"toMap",value:function(e){if(!this.ready)return null;var t=(0,$t.Rw)(e)?(0,$t.s6)(this,e):e;return this.stateManager.toMap(t)}},{key:"toScreen",value:function(e,t){return this.stateManager.toScreen(e,t)}},{key:"on",value:function(e,t,i,a){return this.inputManager&&this.viewEvents.on(e,t,i,a)||(0,h.Z)((0,d.Z)(n.prototype),"on",this).call(this,e,t)}},{key:"hasEventListener",value:function(e){return(0,h.Z)((0,d.Z)(n.prototype),"hasEventListener",this).call(this,e)||this.viewEvents.hasHandler(e)}},{key:"whenLayerView",value:function(e){return(0,h.Z)((0,d.Z)(n.prototype),"whenLayerView",this).call(this,e)}},{key:"graphicChanged",value:function(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}},{key:"whenReady",value:function(){var e=this;return new Promise((function(t){e.ready?t(e):e._resolveWhenReady.push(t)}))}},{key:"forceDOMReadyCycle",value:function(){this.forceReadyCycle()}},{key:"getDefaultSpatialReference",value:function(){var e,t,n;return this.map&&"initialViewProperties"in this.map&&(null===(e=this.map)||void 0===e||null===(t=e.initialViewProperties)||void 0===t?void 0:t.spatialReference)||(null===(n=this.defaultsFromMap)||void 0===n?void 0:n.spatialReference)||null}},{key:"getDefaultTimeZone",value:function(){return(0,Mn.s)(this.map)?this.map.initialViewProperties.timeZone:null}},{key:"hasLayerViewModule",value:function(e){return Pe(e)}},{key:"importLayerView",value:function(e){return ze(e)}},{key:"pixelSizeAt",value:function(){return this.ready?this.resolution:(k.Z.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}},{key:"popupHitTest",value:function(){var e=(0,f.Z)((0,s.Z)().mark((function e(t){var n,i,a,r,o,u,l,c,h,d,p,v;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.toMap(t),e.next=3,this.hitTest(t);case 3:i=e.sent,a=this.allLayerViews.toArray().reverse(),r=new globalThis.Map(a.map((function(e){return[e.layer.uid,e]}))),o=[],u=0,l=0;case 8:if(!(u<i.results.length||l<a.length)){e.next=17;break}if(!(d=i.results.at(u))||"graphic"===d.type){e.next=13;break}return++u,e.abrupt("continue",15);case 13:p=r.get(null===(c=null!==(h=null===d||void 0===d?void 0:d.layer)&&void 0!==h?h:null===d||void 0===d?void 0:d.graphic.layer)||void 0===c?void 0:c.uid),(!d||p)&&l<a.length&&a.at(l)!==p?("fetchPopupFeaturesAtLocation"in(v=a.at(l))&&o.push({mapPoint:n,layerView:v}),++l):d&&(o.push({graphic:d.graphic,layerView:p}),++u);case 15:e.next=8;break;case 17:return e.abrupt("return",{hits:o,location:n});case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"requestUpdate",value:function(){this.ready&&this.frameTask.requestUpdate()}},{key:"validate",value:function(){var e=(0,f.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,fn.B)(this.type),(0,b.Z)("safari")&&(0,b.Z)("safari")<9&&(t=new _.Z("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:(0,b.Z)("safari")})),null==t){e.next=3;break}throw k.Z.getLogger(this).warn("#validate()",t.message),t;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadAsyncDependencies",value:function(){return function(){return Cn.apply(this,arguments)}()}},{key:"_getDefaultViewpoint",value:function(){var e,t,n,i,a,r,o=this.constraints,s=this.initialExtent,u=this.map,l=this.padding,c=this.size;if(!o)return null;var h=u&&"initialViewProperties"in u?u.initialViewProperties:void 0,d=this.stateManager.getUserStartupOptions(this.size),p=null===h||void 0===h?void 0:h.viewpoint,v=null!==(e=null===p||void 0===p||null===(t=p.targetGeometry)||void 0===t?void 0:t.extent)&&void 0!==e?e:s,f=null===v||void 0===v?void 0:v.center,m=null!==(n=null===p||void 0===p?void 0:p.rotation)&&void 0!==n?n:0,g=(null===p||void 0===p?void 0:p.scale)||v&&(0,H.EK)(v,[c[0]-l.left-l.right,c[1]-l.top-l.bottom]),w=null!==(i=d.center)&&void 0!==i?i:f,_=null!==(a=d.rotation)&&void 0!==a?a:m,b=null!==(r=d.scale)&&void 0!==r?r:g;return w&&b?new y.Z({targetGeometry:w,scale:b,rotation:_}):null}},{key:"_startup",value:function(){var e,t=this;this.timeline.begin("MapView Startup");var n=this._getDefaultViewpoint();this.stateManager.startup(n,this.size,this.spatialReference,null===(e=this.defaultsFromMap.extent)||void 0===e?void 0:e.center),this.graphics.owner=this;var i=new gn(this.surface,{canvas:this.renderCanvas,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this.stage=i,this._magnifierView=new xn,this._magnifierView.magnifier=this.magnifier;var a=new bn({view:this});this._set("labelManager",a);var r=new be({view:this});this._set("animationManager",r);var o=new kn({view:this,animationManager:r});this._set("mapViewNavigation",o),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",(function(){return t._updateStageChildren()})),i.on("webgl-error",(function(e){return t.fatalError=e.error})),(0,Z.watch)((function(){return t.stationary}),(function(e){return i.stationary=e}),Z.syncAndInitial),(0,Z.watch)((function(){return t.background}),(function(e){i.backgroundColor=null===e||void 0===e?void 0:e.color,t._magnifierView.backgroundColor=null===e||void 0===e?void 0:e.color}),Z.syncAndInitial),(0,Z.watch)((function(){return t.magnifier}),(function(e){return t._magnifierView.magnifier=e}),Z.syncAndInitial),(0,Z.watch)((function(){return t.renderingOptions}),(function(e){return i.renderingOptions=e}),Z.syncAndInitial),(0,Z.watch)((function(){return t.highlightOptions}),(function(e){return i.highlightOptions=e}),Z.syncAndInitial),(0,Z.watch)((function(){return t.state.id}),(function(){return i.state=t.state}),Z.syncAndInitial)],"map-view"),this._updateStageChildren();var s=this._resolveWhenReady;this._resolveWhenReady=[],s.forEach((function(e){return e(t)})),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}},{key:"_teardown",value:function(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animation=null,this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown()}},{key:"_updateStageChildren",value:function(){var e=this;this.stage.removeAllChildren(),this.rootLayerViews.forEach((function(t){e.stage.addChild(t.container)}));var t=this.graphicsView;this.stage.addChild(t.container),this.stage.addChild(this._magnifierView)}},{key:"_setupSpatialReferenceDependentProperties",value:function(){var e=this,t=new Xe.Z(P.Z.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",t);var n=new wn({view:this,graphics:this.graphics,requestUpdateCallback:function(){return e.requestUpdate()},container:new _n(t)});this._set("graphicsView",n)}},{key:"_destroySpatialReferenceDependentProperties",value:function(){var e=this.graphicsView;this._set("graphicsView",null),e.destroy(),this._set("featuresTilingScheme",null)}},{key:"_getScreenshotView",value:function(e){var t,n=this.allLayerViews,i=this.padding,a=this.size,r=this.stage;return{allLayerViews:n,backgroundColor:null!==e&&void 0!==e&&e.ignoreBackground?null:null===(t=this.background)||void 0===t?void 0:t.color,padding:i,size:a,stage:r}}},{key:"_spatialReferenceChanged",value:function(e){if(this.ready){this.frameTask.stop();var t,n=(0,a.Z)(this.allLayerViews);try{for(n.s();!(t=n.n()).done;){t.value.processDetach()}}catch(o){n.e(o)}finally{n.f()}this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(e),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();var i,r=(0,a.Z)(this.allLayerViews);try{for(r.s();!(i=r.n()).done;){i.value.processAttach()}}catch(o){r.e(o)}finally{r.f()}this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}}]),n}((0,z.g)((0,O.u)((0,D.f)(I.Z))));Tn.type="2d",(0,m._)([(0,S.Cb)({readOnly:!0})],Tn.prototype,"animationManager",void 0),(0,m._)([(0,S.Cb)({constructOnly:!0})],Tn.prototype,"deactivatedWebGLExtensions",void 0),(0,m._)([(0,S.Cb)({constructOnly:!0})],Tn.prototype,"debugWebGLExtensions",void 0),(0,m._)([(0,S.Cb)({readOnly:!0})],Tn.prototype,"featuresTilingScheme",void 0),(0,m._)([(0,S.Cb)({readOnly:!0})],Tn.prototype,"fullOpacity",void 0),(0,m._)([(0,S.Cb)()],Tn.prototype,"goToManager",void 0),(0,m._)([(0,S.Cb)({readOnly:!0})],Tn.prototype,"graphicsTileStore",null),(0,m._)([(0,S.Cb)()],Tn.prototype,"graphicsView",void 0),(0,m._)([(0,S.Cb)()],Tn.prototype,"stateManager",void 0),(0,m._)([(0,S.Cb)()],Tn.prototype,"constraintsInfo",null),(0,m._)([(0,S.Cb)({readOnly:!0})],Tn.prototype,"state",null),(0,m._)([(0,S.Cb)()],Tn.prototype,"initialExtentRequired",null),(0,m._)([(0,S.Cb)()],Tn.prototype,"labelManager",void 0),(0,m._)([(0,S.Cb)({readOnly:!0})],Tn.prototype,"mapViewNavigation",void 0),(0,m._)([(0,S.Cb)({constructOnly:!0})],Tn.prototype,"renderCanvas",void 0),(0,m._)([(0,S.Cb)()],Tn.prototype,"renderingOptions",void 0),(0,m._)([(0,S.Cb)({constructOnly:!0})],Tn.prototype,"supersampleScreenshotsEnabled",void 0),(0,m._)([(0,S.Cb)({readOnly:!0})],Tn.prototype,"supportsGround",void 0),(0,m._)([(0,S.Cb)()],Tn.prototype,"_defaultsFromMapSettings",null),(0,m._)([(0,S.Cb)({readOnly:!0})],Tn.prototype,"typeSpecificPreconditionsReady",null),(0,m._)([(0,S.Cb)()],Tn.prototype,"animation",null),(0,m._)([(0,S.Cb)({type:Sn.Z})],Tn.prototype,"background",null),(0,m._)([(0,S.Cb)()],Tn.prototype,"center",null),(0,m._)([(0,S.Cb)({type:Ye})],Tn.prototype,"constraints",null),(0,m._)([(0,S.Cb)()],Tn.prototype,"extent",null),(0,m._)([(0,S.Cb)()],Tn.prototype,"floors",void 0),(0,m._)([(0,S.Cb)({type:Yt.Z})],Tn.prototype,"highlightOptions",void 0),(0,m._)([(0,S.Cb)({readOnly:!0})],Tn.prototype,"inputManager",void 0),(0,m._)([(0,S.Cb)()],Tn.prototype,"map",void 0),(0,m._)([(0,S.Cb)()],Tn.prototype,"padding",null),(0,m._)([(0,S.Cb)({readOnly:!0})],Tn.prototype,"rendering",null),(0,m._)([(0,S.Cb)()],Tn.prototype,"resizeAlign",null),(0,m._)([(0,S.Cb)({readOnly:!0})],Tn.prototype,"resolution",null),(0,m._)([(0,S.Cb)()],Tn.prototype,"rotation",null),(0,m._)([(0,S.Cb)()],Tn.prototype,"scale",null),(0,m._)([(0,S.Cb)({constructOnly:!0})],Tn.prototype,"spatialReferenceLocked",void 0),(0,m._)([(0,S.Cb)()],Tn.prototype,"stationary",null),(0,m._)([(0,S.Cb)({readOnly:!0})],Tn.prototype,"tileInfo",null),(0,m._)([(0,S.Cb)({type:vn.T,readOnly:!0})],Tn.prototype,"timeline",void 0),(0,m._)([(0,S.Cb)({readOnly:!0})],Tn.prototype,"type",void 0),(0,m._)([(0,S.Cb)({readOnly:!0})],Tn.prototype,"updating",null),(0,m._)([(0,S.Cb)()],Tn.prototype,"viewpoint",null),(0,m._)([(0,S.Cb)()],Tn.prototype,"zoom",null),(0,m._)([(0,S.Cb)({readOnly:!0})],Tn.prototype,"navigating",null),(0,m._)([(0,S.Cb)(),(0,C.p)((function(e){return e instanceof mn.Z?e:(0,V.TJ)(Zn,e)}))],Tn.prototype,"ui",void 0);var Vn=Tn=(0,m._)([(0,T.j)("esri.views.MapView")],Tn)},53042:function(e,t,n){n.d(t,{Z:function(){return f}});var i,a=n(15671),r=n(43144),o=n(60136),s=n(29388),u=n(27366),l=n(51995),c=n(46784),h=n(84652),d=n(49861),p=(n(93169),n(32718),n(69912)),v=i=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var i;return(0,a.Z)(this,n),(i=t.call(this,e)).color=new l.Z([0,0,0,1]),i}return(0,r.Z)(n,[{key:"clone",value:function(){return new i((0,h.d9)({color:this.color}))}}]),n}(c.wq);(0,u._)([(0,d.Cb)({type:l.Z,json:{write:!0}})],v.prototype,"color",void 0);var f=v=i=(0,u._)([(0,p.j)("esri.webmap.background.ColorBackground")],v)},38675:function(e,t,n){function i(e){return null!=e&&"object"==typeof e&&"declaredClass"in e&&"esri.WebMap"===e.declaredClass}n.d(t,{s:function(){return i}})}}]);
//# sourceMappingURL=86934.450c8ab0.chunk.js.map