"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[33513,93655],{68748:function(e,t,r){r.d(t,{a:function(){return c},z:function(){return d}});var n=r(37762),i=r(15671),a=r(43144),o=r(60136),l=r(29388),u=r(27366),s=r(80987),y=r(60354),p=(r(93169),r(32718),r(49861)),f=(r(84936),r(69912)),c=function(e){(0,o.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).addHandles([n.on("before-add",(function(e){null==e.item&&e.preventDefault()})),n.on("after-add",(function(e){return n._own(e.item)})),n.on("after-remove",(function(e){return n._release(e.item)}))]),n}return(0,a.Z)(r,[{key:"owner",get:function(){return this._get("owner")},set:function(e){e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}},{key:"_ownAll",value:function(){var e,t=(0,n.Z)(this.items);try{for(t.s();!(e=t.n()).done;){var r=e.value;this._own(r)}}catch(i){t.e(i)}finally{t.f()}}},{key:"_releaseAll",value:function(){var e,t=(0,n.Z)(this.items);try{for(t.s();!(e=t.n()).done;){var r=e.value;this._release(r)}}catch(i){t.e(i)}finally{t.f()}}},{key:"_createNewInstance",value:function(e){return this.itemType?new(s.Z.ofType(this.itemType.Type))(e):new s.Z(e)}}]),r}(s.Z);function d(e,t){return{type:e,cast:y.R,set:function(r){var n=(0,y.Z)(r,this._get(t),e);n.owner=this,this._set(t,n)}}}(0,u._)([(0,p.Cb)()],c.prototype,"owner",null),c=(0,u._)([(0,f.j)("esri.core.support.OwningCollection")],c)},91340:function(e,t,r){r.d(t,{it:function(){return j},wK:function(){return R},aX:function(){return L},or:function(){return I},hR:function(){return k}});var n=r(74165),i=r(29439),a=r(15861),o=r(37762),l=r(42265),u=r(10064),s=r(32718),y=r(80885),p=r(29909),f=r(76335),c=r(92975),d=r(81753),v=r(1413),h=(r(59486),r(76200)),m=r(77981),g=r(23084);function b(e,t,r,n){return Z.apply(this,arguments)}function Z(){return Z=(0,a.Z)((0,n.Z)().mark((function e(t,r,i,a){var o,l,u,s,y,p,f,d;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(0,g.en)(t),l=r[0].spatialReference,u=(0,v.Z)((0,v.Z)({},a),{},{responseType:"json",query:(0,v.Z)((0,v.Z)({},o.query),{},{f:"json",sr:(0,c.B9)(l),target:JSON.stringify({geometryType:(0,m.Ji)(r[0]),geometries:r}),cutter:JSON.stringify(i)})}),e.next=5,(0,h.Z)(o.path+"/cut",u);case 5:return s=e.sent,y=s.data,p=y.cutIndexes,f=y.geometries,d=void 0===f?[]:f,e.abrupt("return",{cutIndexes:p,geometries:d.map((function(e){var t=(0,m.im)(e);return t.spatialReference=l,t}))});case 11:case"end":return e.stop()}}),e)}))),Z.apply(this,arguments)}var S=r(35995),w=r(35594);function x(e,t,r){return _.apply(this,arguments)}function _(){return _=(0,a.Z)((0,n.Z)().mark((function e(t,r,i){var a,o,l,u,s,y;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="string"==typeof t?(0,S.mN)(t):t,o=r[0].spatialReference,l=(0,m.Ji)(r[0]),u=(0,v.Z)((0,v.Z)({},i),{},{query:(0,v.Z)((0,v.Z)({},a.query),{},{f:"json",sr:(0,c.B9)(o),geometries:JSON.stringify((0,w.F)(r))})}),e.next=6,(0,h.Z)(a.path+"/simplify",u);case 6:return s=e.sent,y=s.data,e.abrupt("return",(0,w.o)(y.geometries,l,o));case 9:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}var C=function(){return s.Z.getLogger("esri.geometry.support.normalizeUtils")};function O(e){for(var t=[],r=0,n=0,i=0;i<e.length;i++){for(var a=e[i],o=null,l=0;l<a.length;l++)o=a[l],t.push(o),0===l?n=r=o[0]:(r=Math.min(r,o[0]),n=Math.max(n,o[0]));o&&t.push([(r+n)/2,0])}return t}function k(e,t){if(!(e instanceof p.Z||e instanceof y.Z)){var r="straightLineDensify: the input geometry is neither polyline nor polygon";throw C().error(r),new u.Z(r)}var n,i=(0,f.x3)(e),a=[],l=(0,o.Z)(i);try{for(l.s();!(n=l.n()).done;){var s=n.value,c=[];a.push(c),c.push([s[0][0],s[0][1]]);for(var d=0;d<s.length-1;d++){var v=s[d][0],h=s[d][1],m=s[d+1][0],g=s[d+1][1],b=Math.sqrt((m-v)*(m-v)+(g-h)*(g-h)),Z=(g-h)/b,S=(m-v)/b,w=b/t;if(w>1){for(var x=1;x<=w-1;x++){var _=x*t,O=S*_+v,k=Z*_+h;c.push([O,k])}var N=(b+Math.floor(w-1)*t)/2,M=S*N+v,J=Z*N+h;c.push([M,J])}c.push([m,g])}}}catch(L){l.e(L)}finally{l.f()}return function(e){return"polygon"===e.type}(e)?new y.Z({rings:a,spatialReference:e.spatialReference}):new p.Z({paths:a,spatialReference:e.spatialReference})}function N(e,t,r){if(t){var n=k(e,1e6);e=(0,d.Sx)(n,!0)}return r&&(e=(0,f.Sy)(e,r)),e}function M(e,t,r){if(Array.isArray(e)){var n=e[0];if(n>t){var i=(0,f.XZ)(n,t);e[0]=n+i*(-2*t)}else if(n<r){var a=(0,f.XZ)(n,r);e[0]=n+a*(-2*r)}}else{var o=e.x;if(o>t){var l=(0,f.XZ)(o,t);e=e.clone().offset(l*(-2*t),0)}else if(o<r){var u=(0,f.XZ)(o,r);e=e.clone().offset(u*(-2*r),0)}}return e}function J(e,t){for(var r=-1,n=function(n){for(var i=t.cutIndexes[n],a=t.geometries[n],l=(0,f.x3)(a),u=function(e){var t=l[e];t.some((function(r){if(r[0]<180)return!0;for(var n=0,i=0;i<t.length;i++){var o=t[i][0];n=o>n?o:n}n=Number(n.toFixed(9));for(var l=-360*(0,f.XZ)(n,180),u=0;u<t.length;u++){var s=a.getPoint(e,u);a.setPoint(e,u,s.clone().offset(l,0))}return!0}))},s=0;s<l.length;s++)u(s);if(i===r){if(function(e){return"polygon"===e[0].type}(e)){var y,p=(0,o.Z)((0,f.x3)(a));try{for(p.s();!(y=p.n()).done;){var c=y.value;e[i]=e[i].addRing(c)}}catch(m){p.e(m)}finally{p.f()}}else if(function(e){return"polyline"===e[0].type}(e)){var d,v=(0,o.Z)((0,f.x3)(a));try{for(v.s();!(d=v.n()).done;){var h=d.value;e[i]=e[i].addPath(h)}}catch(m){v.e(m)}finally{v.f()}}}else r=i,e[i]=a},i=0;i<t.cutIndexes.length;i++)n(i);return e}function L(e,t,r){return T.apply(this,arguments)}function T(){return T=(0,a.Z)((0,n.Z)().mark((function e(t,r,i){var a,u,s,v,h,m,g,Z,S,w,_,O,k,T,R,j,I,E,P,D,X,A,G,F,q,z,B,U,W,H,K,$,Q,V,Y,ee,te,re,ne,ie,ae,oe,le;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)){e.next=2;break}return e.abrupt("return",L([t],r));case 2:r&&"string"!=typeof r&&C().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead"),u="string"==typeof r?r:null!==(a=null===r||void 0===r?void 0:r.url)&&void 0!==a?a:l.Z.geometryServiceUrl,_=0,O=[],k=[],T=(0,o.Z)(t);try{for(T.s();!(R=T.n()).done;)null!=(j=R.value)?(s||(s=j.spatialReference,v=(0,c.C5)(s),h=s.isWebMercator,Z=h?102100:4326,m=f.UZ[Z].maxX,g=f.UZ[Z].minX,S=f.UZ[Z].plus180Line,w=f.UZ[Z].minus180Line),v?"mesh"===j.type?k.push(j):"point"===j.type?k.push(M(j.clone(),m,g)):"multipoint"===j.type?((I=j.clone()).points=I.points.map((function(e){return M(e,m,g)})),k.push(I)):"extent"===j.type?(E=j.clone()._normalize(!1,!1,v),k.push(E.rings?new y.Z(E):E)):j.extent?(P=j.extent,D=(0,f.XZ)(P.xmin,g)*(2*m),X=0===D?j.clone():(0,f.Sy)(j.clone(),D),P.offset(D,0),A=P.xmin,G=P.xmax,A=Number(A.toFixed(9)),G=Number(G.toFixed(9)),P.intersects(S)&&G!==m?(_=G>_?G:_,X=N(X,h),O.push(X),k.push("cut")):P.intersects(w)&&A!==g?(_=G*(2*m)>_?G*(2*m):_,X=N(X,h,360),O.push(X),k.push("cut")):k.push(X)):k.push(j.clone()):k.push(j)):k.push(j)}catch(n){T.e(n)}finally{T.f()}for(F=(0,f.XZ)(_,m),q=-90,z=F,B=new p.Z;F>0;)U=360*F-180,B.addPath([[U,q],[U,-1*q]]),q*=-1,F--;if(!(O.length>0&&z>0)){e.next=29;break}return e.t0=J,e.t1=O,e.next=16,b(u,O,B,i);case 16:for(e.t2=e.sent,W=(0,e.t0)(e.t1,e.t2),H=[],K=[],$=0;$<k.length;$++)"cut"!==(Q=k[$])?K.push(Q):(V=W.shift(),null!=(Y=t[$])&&"polygon"===Y.type&&Y.rings&&Y.rings.length>1&&V.rings.length>=Y.rings.length?(H.push(V),K.push("simplify")):K.push(h?(0,d.$)(V):V));if(H.length){e.next=23;break}return e.abrupt("return",K);case 23:return e.next=25,x(u,H,i);case 25:for(ee=e.sent,te=[],re=0;re<K.length;re++)"simplify"!==(ne=K[re])?te.push(ne):te.push(h?(0,d.$)(ee.shift()):ee.shift());return e.abrupt("return",te);case 29:for(ie=[],ae=0;ae<k.length;ae++)"cut"!==(oe=k[ae])?ie.push(oe):(le=O.shift(),ie.push(!0===h?(0,d.$)(le):le));return e.abrupt("return",ie);case 32:case"end":return e.stop()}}),e)}))),T.apply(this,arguments)}function R(e){var t;if(!e)return null;var r=e.extent;if(!r)return null;var n=e.spatialReference&&(0,c.C5)(e.spatialReference);if(!n)return r;var a,o=(0,i.Z)(n.valid,2),l=o[0],u=o[1],s=2*u,y=r.width,p=r.xmin,f=r.xmax;if(p=(t=[f,p])[0],f=t[1],"extent"===e.type||0===y||y<=u||y>s||p<l||f>u)return r;switch(e.type){case"polygon":if(!(e.rings.length>1))return r;a=O(e.rings);break;case"polyline":if(!(e.paths.length>1))return r;a=O(e.paths);break;case"multipoint":a=e.points}for(var d=r.clone(),v=0;v<a.length;v++){var h=a[v][0];h<0?(h+=u,f=Math.max(h,f)):(h-=u,p=Math.min(h,p))}return d.xmin=p,d.xmax=f,d.width<y?(d.xmin-=u,d.xmax-=u,d):r}function j(e,t,r){var n=(0,c.C5)(r);if(null==n)return e;var a=(0,i.Z)(n.valid,2),o=a[0],l=a[1],u=2*l,s=0,y=0;t>l?s=Math.ceil(Math.abs(t-l)/u):t<o&&(s=-Math.ceil(Math.abs(t-o)/u)),e>l?y=Math.ceil(Math.abs(e-l)/u):e<o&&(y=-Math.ceil(Math.abs(e-o)/u));var p=e+(s-y)*u,f=p-t;return f>l?p-=u:f<o&&(p+=u),p}function I(e,t){var r=(0,c.C5)(t);if(r){var n=(0,i.Z)(r.valid,2),a=n[0],o=n[1],l=o-a;if(e<a)for(;e<a;)e+=l;if(e>o)for(;e>o;)e-=l}return e}},76335:function(e,t,r){r.d(t,{Sy:function(){return s},UZ:function(){return l},XZ:function(){return u},x3:function(){return y}});var n=r(37762),i=r(29909),a=r(78952),o=r(77981),l={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new i.Z({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:a.Z.WebMercator}),minus180Line:new i.Z({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:a.Z.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new i.Z({paths:[[[180,-180],[180,180]]],spatialReference:a.Z.WGS84}),minus180Line:new i.Z({paths:[[[-180,-180],[-180,180]]],spatialReference:a.Z.WGS84})}};function u(e,t){return Math.ceil((e-t)/(2*t))}function s(e,t){var r,i=y(e),a=(0,n.Z)(i);try{for(a.s();!(r=a.n()).done;){var o,l=r.value,u=(0,n.Z)(l);try{for(u.s();!(o=u.n()).done;){o.value[0]+=t}}catch(s){u.e(s)}finally{u.f()}}}catch(s){a.e(s)}finally{a.f()}return e}function y(e){return(0,o.oU)(e)?e.rings:e.paths}},93655:function(e,t,r){r.r(t),r.d(t,{default:function(){return b}});var n=r(15671),i=r(43144),a=r(88301),o=r(61120),l=r(60136),u=r(29388),s=r(27366),y=r(49861),p=(r(93169),r(32718),r(84936),r(69912)),f=r(68748),c=r(30651),d=r(6693),v=r(56811),h=r(78983),m=r(64575),g=function(e){(0,l.Z)(r,e);var t=(0,u.Z)(r);function r(e){var i;return(0,n.Z)(this,r),(i=t.call(this,e)).elevationInfo=null,i.graphics=new h.J,i.screenSizePerspectiveEnabled=!0,i.type="graphics",i.internal=!1,i}return(0,i.Z)(r,[{key:"destroy",value:function(){this.removeAll(),this.graphics.destroy()}},{key:"add",value:function(e){return this.graphics.add(e),this}},{key:"addMany",value:function(e){return this.graphics.addMany(e),this}},{key:"removeAll",value:function(){return this.graphics.removeAll(),this}},{key:"remove",value:function(e){this.graphics.remove(e)}},{key:"removeMany",value:function(e){this.graphics.removeMany(e)}},{key:"on",value:function(e,t){return(0,a.Z)((0,o.Z)(r.prototype),"on",this).call(this,e,t)}},{key:"graphicChanged",value:function(e){this.emit("graphic-update",e)}}]),r}((0,d.h7)((0,v.M)(c.Z)));(0,s._)([(0,y.Cb)({type:m.Z})],g.prototype,"elevationInfo",void 0),(0,s._)([(0,y.Cb)((0,f.z)(h.J,"graphics"))],g.prototype,"graphics",void 0),(0,s._)([(0,y.Cb)({type:["show","hide"]})],g.prototype,"listMode",void 0),(0,s._)([(0,y.Cb)()],g.prototype,"screenSizePerspectiveEnabled",void 0),(0,s._)([(0,y.Cb)({readOnly:!0})],g.prototype,"type",void 0),(0,s._)([(0,y.Cb)({constructOnly:!0})],g.prototype,"internal",void 0);var b=g=(0,s._)([(0,p.j)("esri.layers.GraphicsLayer")],g)},33513:function(e,t,r){r.r(t),r.d(t,{default:function(){return Y}});var n=r(1413),i=r(74165),a=r(15861),o=r(97326),l=r(88301),u=r(61120),s=r(37762),y=r(15671),p=r(43144),f=r(60136),c=r(29388),d=r(27366),v=(r(59486),r(52639)),h=(r(51508),r(80987)),m=r(10064),g=r(84652),b=r(97642),Z=r(18202),S=r(51370),w=r(49861),x=(r(93169),r(32718),r(38511)),_=r(69912),C=r(31201),O=r(79803),k=r(65156),N=r(91340),M=r(92975),J=r(64326),L=r(93655),T=r(30651),R=r(25820),j=r(6693),I=r(6061),E=r(29598),P=r(56811),D=r(83040),X=r(61459),A=r(14404),G=r(16072),F=r(58009),q=r(78952),z=r(53866);function B(e){return"markup"===e.featureCollectionType||e.layers.some((function(e){return null!=e.layerDefinition.visibilityField||!U(e)}))}function U(e){var t,r=e.layerDefinition,n=e.featureSet,i=null!==(t=r.geometryType)&&void 0!==t?t:n.geometryType;return Q.find((function(e){var t,n,a;return i===e.geometryTypeJSON&&(null===(t=r.drawingInfo)||void 0===t||null===(n=t.renderer)||void 0===n||null===(a=n.symbol)||void 0===a?void 0:a.type)===e.identifyingSymbol.type}))}function W(){return new z.Z({xmin:-180,ymin:-90,xmax:180,ymax:90})}var H=new D.Z({name:"OBJECTID",alias:"OBJECTID",type:"oid",nullable:!1,editable:!1}),K=new D.Z({name:"title",alias:"Title",type:"string",nullable:!0,editable:!0,length:255}),$=function(e){(0,f.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,y.Z)(this,r),(n=t.call(this,e)).visibilityMode="inherited",n}return(0,p.Z)(r,[{key:"initialize",value:function(){var e,t=this,r=(0,s.Z)(this.graphics);try{for(r.s();!(e=r.n()).done;){e.value.sourceLayer=this.layer}}catch(n){r.e(n)}finally{r.f()}this.graphics.on("after-add",(function(e){e.item.sourceLayer=t.layer})),this.graphics.on("after-remove",(function(e){e.item.sourceLayer=null}))}},{key:"fullExtent",get:function(){var e,t=null===(e=this.layer)||void 0===e?void 0:e.spatialReference,r=this.fullBounds;return t?null==r?(0,O.projectOrLoad)(W(),t).geometry:(0,k.HH)(r,t):null}},{key:"fullBounds",get:function(){var e,t=null===(e=this.layer)||void 0===e?void 0:e.spatialReference;if(!t)return null;var r=(0,k.cS)();return this.graphics.forEach((function(e){var n=null!=e.geometry?(0,O.projectOrLoad)(e.geometry,t).geometry:null;null!=n&&(0,k.jn)(r,"point"===n.type?n:n.extent,r)})),(0,k.fS)(r,k.G_)?null:r}},{key:"sublayers",get:function(){return this.graphics}}]),r}(L.default);(0,d._)([(0,w.Cb)({readOnly:!0})],$.prototype,"fullExtent",null),(0,d._)([(0,w.Cb)({readOnly:!0})],$.prototype,"fullBounds",null),(0,d._)([(0,w.Cb)({readOnly:!0})],$.prototype,"sublayers",null),(0,d._)([(0,w.Cb)()],$.prototype,"layer",void 0),(0,d._)([(0,w.Cb)()],$.prototype,"layerId",void 0),(0,d._)([(0,w.Cb)({readOnly:!0})],$.prototype,"visibilityMode",void 0),$=(0,d._)([(0,_.j)("esri.layers.MapNotesLayer.MapNotesSublayer")],$);var Q=[{geometryType:"polygon",geometryTypeJSON:"esriGeometryPolygon",id:"polygonLayer",layerId:0,title:"Polygons",identifyingSymbol:(new X.default).toJSON()},{geometryType:"polyline",geometryTypeJSON:"esriGeometryPolyline",id:"polylineLayer",layerId:1,title:"Polylines",identifyingSymbol:(new A.default).toJSON()},{geometryType:"multipoint",geometryTypeJSON:"esriGeometryMultipoint",id:"multipointLayer",layerId:2,title:"Multipoints",identifyingSymbol:(new G.default).toJSON()},{geometryType:"point",geometryTypeJSON:"esriGeometryPoint",id:"pointLayer",layerId:3,title:"Points",identifyingSymbol:(new G.default).toJSON()},{geometryType:"point",geometryTypeJSON:"esriGeometryPoint",id:"textLayer",layerId:4,title:"Text",identifyingSymbol:(new F.Z).toJSON()}],V=function(e){(0,f.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,y.Z)(this,r),(n=t.call(this,e)).capabilities={operations:{supportsMapNotesEditing:!0}},n.featureCollections=null,n.featureCollectionJSON=null,n.featureCollectionType="notes",n.legendEnabled=!1,n.listMode="hide-children",n.minScale=0,n.maxScale=0,n.spatialReference=q.Z.WGS84,n.sublayers=new h.Z(Q.map((function(e){return new $({id:e.id,layerId:e.layerId,title:e.title,layer:(0,o.Z)(n)})}))),n.title="Map Notes",n.type="map-notes",n.visibilityMode="inherited",n}return(0,p.Z)(r,[{key:"readCapabilities",value:function(e,t,r){return{operations:{supportsMapNotesEditing:!B(t)&&"portal-item"!==(null===r||void 0===r?void 0:r.origin)}}}},{key:"readFeatureCollections",value:function(e,t,r){if(!B(t))return null;var n=t.layers.map((function(e){var t=new J.default;return t.read(e,r),t}));return new h.Z({items:n})}},{key:"readLegacyfeatureCollectionJSON",value:function(e,t){return B(t)?(0,g.d9)(t.featureCollection):null}},{key:"fullExtent",get:function(){var e,t=this.spatialReference,r=(0,k.cS)();return null!=this.sublayers?this.sublayers.forEach((function(e){var t=e.fullBounds;return null!=t?(0,k.jn)(r,t,r):r}),r):null!==(e=this.featureCollectionJSON)&&void 0!==e&&e.layers.some((function(e){return e.layerDefinition.extent}))&&this.featureCollectionJSON.layers.forEach((function(e){var n=(0,O.projectOrLoad)(e.layerDefinition.extent,t).geometry;null!=n&&(0,k.jn)(r,n,r)})),(0,k.fS)(r,k.G_)?(0,O.projectOrLoad)(W(),t).geometry:(0,k.HH)(r,t)}},{key:"readMinScale",value:function(e,t){var r,n=(0,s.Z)(t.layers);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(null!=i.layerDefinition.minScale)return i.layerDefinition.minScale}}catch(a){n.e(a)}finally{n.f()}return 0}},{key:"readMaxScale",value:function(e,t){var r,n=(0,s.Z)(t.layers);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(null!=i.layerDefinition.maxScale)return i.layerDefinition.maxScale}}catch(a){n.e(a)}finally{n.f()}return 0}},{key:"multipointLayer",get:function(){return this._findSublayer("multipointLayer")}},{key:"pointLayer",get:function(){return this._findSublayer("pointLayer")}},{key:"polygonLayer",get:function(){return this._findSublayer("polygonLayer")}},{key:"polylineLayer",get:function(){return this._findSublayer("polylineLayer")}},{key:"readSpatialReference",value:function(e,t){return t.layers.length?q.Z.fromJSON(t.layers[0].layerDefinition.spatialReference):q.Z.WGS84}},{key:"readSublayers",value:function(e,t,r){if(B(t))return null;var n,i=[],a=t.layers.reduce((function(e,t){var r;return Math.max(e,null!==(r=t.layerDefinition.id)&&void 0!==r?r:-1)}),-1)+1,o=(0,s.Z)(t.layers);try{for(o.s();!(n=o.n()).done;){var l,u=n.value,y=u.layerDefinition,p=u.featureSet,f=null!==(l=y.id)&&void 0!==l?l:a++,c=U(u);if(null!=c){var d=new $({id:c.id,title:y.name,layerId:f,layer:this,graphics:p.features.map((function(e){var t=e.geometry,r=e.symbol,n=e.attributes,i=e.popupInfo;return v.Z.fromJSON({attributes:n,geometry:t,symbol:r,popupTemplate:i})}))});i.push(d)}}}catch(m){o.e(m)}finally{o.f()}return new h.Z(i)}},{key:"writeSublayers",value:function(e,t,r,n){var i,a=this,o=this.minScale,l=this.maxScale;if(null!=e){var u=e.some((function(e){return e.graphics.length>0}));if(this.capabilities.operations.supportsMapNotesEditing){var y,p=[],f=this.spatialReference.toJSON(),c=(0,s.Z)(e);try{e:for(c.s();!(y=c.n()).done;){var d,v=y.value,h=(0,s.Z)(v.graphics);try{for(h.s();!(d=h.n()).done;){var g=d.value;if(null!=g.geometry){f=g.geometry.spatialReference.toJSON();break e}}}catch(x){h.e(x)}finally{h.f()}}}catch(x){c.e(x)}finally{c.f()}for(var b=function(){var t=w[S],r=e.find((function(e){return t.id===e.id}));a._writeMapNoteSublayer(p,r,t,o,l,f,n)},S=0,w=Q;S<w.length;S++)b();(0,Z.RB)("featureCollection.layers",p,t)}else u&&(null===n||void 0===n||null===(i=n.messages)||void 0===i||i.push(new m.Z("map-notes-layer:editing-not-supported","New map notes cannot be added to this layer")))}}},{key:"textLayer",get:function(){return this._findSublayer("textLayer")}},{key:"load",value:function(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Collection"]},e)),Promise.resolve(this)}},{key:"read",value:function(e,t){"featureCollection"in e&&(e=(0,g.d9)(e),Object.assign(e,e.featureCollection)),(0,l.Z)((0,u.Z)(r.prototype),"read",this).call(this,e,t)}},{key:"beforeSave",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var t,r,n,a,o,l,u,y,p,f;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.sublayers){e.next=2;break}return e.abrupt("return");case 2:t=null,r=[],n=(0,s.Z)(this.sublayers),e.prev=5,n.s();case 7:if((a=n.n()).done){e.next=40;break}o=a.value,l=(0,s.Z)(o.graphics),e.prev=10,l.s();case 12:if((u=l.n()).done){e.next=30;break}if(null==(y=u.value).geometry){e.next=28;break}if(p=y.geometry,!t){e.next=26;break}if(e.t0=(0,M.fS)(p.spatialReference,t),e.t0){e.next=24;break}if(e.t1=(0,O.canProjectWithoutEngine)(p.spatialReference,t)||(0,O.isLoaded)(),e.t1){e.next=23;break}return e.next=23,(0,O.load)();case 23:y.geometry=(0,O.project)(p,t);case 24:e.next=27;break;case 26:t=p.spatialReference;case 27:r.push(y);case 28:e.next=12;break;case 30:e.next=35;break;case 32:e.prev=32,e.t2=e.catch(10),l.e(e.t2);case 35:return e.prev=35,l.f(),e.finish(35);case 38:e.next=7;break;case 40:e.next=45;break;case 42:e.prev=42,e.t3=e.catch(5),n.e(e.t3);case 45:return e.prev=45,n.f(),e.finish(45);case 48:return e.next=50,(0,N.aX)(r.map((function(e){return e.geometry})));case 50:f=e.sent,r.forEach((function(e,t){return e.geometry=f[t]}));case 52:case"end":return e.stop()}}),e,this,[[5,42,45,48],[10,32,35,38]])})));return function(){return e.apply(this,arguments)}}()},{key:"_findSublayer",value:function(e){var t,r;return null==this.sublayers?null:null!==(t=null===(r=this.sublayers)||void 0===r?void 0:r.find((function(t){return t.id===e})))&&void 0!==t?t:null}},{key:"_writeMapNoteSublayer",value:function(e,t,r,n,i,a,o){var l=[];if(null!=t){var u,y=(0,s.Z)(t.graphics);try{for(y.s();!(u=y.n()).done;){var p=u.value;this._writeMapNote(l,p,r.geometryType,o)}}catch(f){y.e(f)}finally{y.f()}this._normalizeObjectIds(l,H),e.push({layerDefinition:{name:t.title,drawingInfo:{renderer:{type:"simple",symbol:(0,g.d9)(r.identifyingSymbol)}},id:t.layerId,geometryType:r.geometryTypeJSON,minScale:n,maxScale:i,objectIdField:"OBJECTID",fields:[H.toJSON(),K.toJSON()],spatialReference:a},featureSet:{features:l,geometryType:r.geometryTypeJSON}})}}},{key:"_writeMapNote",value:function(e,t,r,i){var a,o;if(null!=t){var l=t.geometry,u=t.symbol,s=t.popupTemplate;if(null!=l)if(l.type===r)if(null!=u){var y={attributes:(0,n.Z)({},t.attributes),geometry:l.toJSON(),symbol:u.toJSON()};null!=s&&(y.popupInfo=s.toJSON()),e.push(y)}else null===i||void 0===i||null===(o=i.messages)||void 0===o||o.push(new S.Z("map-notes-layer:no-symbol","Skipping map notes with no symbol",{graphic:t}));else null===i||void 0===i||null===(a=i.messages)||void 0===a||a.push(new S.Z("map-notes-layer:invalid-geometry-type",'Geometry "'.concat(l.type,'" cannot be saved in "').concat(r,'" layer'),{graphic:t}))}}},{key:"_normalizeObjectIds",value:function(e,t){var r,n=t.name,i=(0,R.S)(n,e)+1,a=new Set,o=(0,s.Z)(e);try{for(o.s();!(r=o.n()).done;){var l=r.value;l.attributes||(l.attributes={});var u=l.attributes;(null==u[n]||a.has(u[n]))&&(u[n]=i++),a.add(u[n])}}catch(y){o.e(y)}finally{o.f()}}}]),r}((0,j.h7)((0,P.M)((0,I.q)((0,E.I)((0,b.R)(T.Z))))));(0,d._)([(0,w.Cb)({readOnly:!0})],V.prototype,"capabilities",void 0),(0,d._)([(0,x.r)(["portal-item","web-map"],"capabilities",["layers"])],V.prototype,"readCapabilities",null),(0,d._)([(0,w.Cb)({readOnly:!0})],V.prototype,"featureCollections",void 0),(0,d._)([(0,x.r)(["web-map","portal-item"],"featureCollections",["layers"])],V.prototype,"readFeatureCollections",null),(0,d._)([(0,w.Cb)({readOnly:!0,json:{origins:{"web-map":{write:{enabled:!0,target:"featureCollection"}}}}})],V.prototype,"featureCollectionJSON",void 0),(0,d._)([(0,x.r)(["web-map","portal-item"],"featureCollectionJSON",["featureCollection"])],V.prototype,"readLegacyfeatureCollectionJSON",null),(0,d._)([(0,w.Cb)({readOnly:!0,json:{read:!0,write:{enabled:!0,ignoreOrigin:!0}}})],V.prototype,"featureCollectionType",void 0),(0,d._)([(0,w.Cb)({readOnly:!0})],V.prototype,"fullExtent",null),(0,d._)([(0,w.Cb)({readOnly:!0,json:{origins:{"web-map":{write:{target:"featureCollection.showLegend",overridePolicy:function(){return{enabled:null!=this.featureCollectionJSON}}}}}}})],V.prototype,"legendEnabled",void 0),(0,d._)([(0,w.Cb)({type:["show","hide","hide-children"]})],V.prototype,"listMode",void 0),(0,d._)([(0,w.Cb)({type:Number,nonNullable:!0,json:{write:!1}})],V.prototype,"minScale",void 0),(0,d._)([(0,x.r)(["web-map","portal-item"],"minScale",["layers"])],V.prototype,"readMinScale",null),(0,d._)([(0,w.Cb)({type:Number,nonNullable:!0,json:{write:!1}})],V.prototype,"maxScale",void 0),(0,d._)([(0,x.r)(["web-map","portal-item"],"maxScale",["layers"])],V.prototype,"readMaxScale",null),(0,d._)([(0,w.Cb)({readOnly:!0})],V.prototype,"multipointLayer",null),(0,d._)([(0,w.Cb)({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],V.prototype,"operationalLayerType",void 0),(0,d._)([(0,w.Cb)({readOnly:!0})],V.prototype,"pointLayer",null),(0,d._)([(0,w.Cb)({readOnly:!0})],V.prototype,"polygonLayer",null),(0,d._)([(0,w.Cb)({readOnly:!0})],V.prototype,"polylineLayer",null),(0,d._)([(0,w.Cb)({type:q.Z})],V.prototype,"spatialReference",void 0),(0,d._)([(0,x.r)(["web-map","portal-item"],"spatialReference",["layers"])],V.prototype,"readSpatialReference",null),(0,d._)([(0,w.Cb)({readOnly:!0,json:{origins:{"web-map":{write:{ignoreOrigin:!0}}}}})],V.prototype,"sublayers",void 0),(0,d._)([(0,x.r)("web-map","sublayers",["layers"])],V.prototype,"readSublayers",null),(0,d._)([(0,C.c)("web-map","sublayers")],V.prototype,"writeSublayers",null),(0,d._)([(0,w.Cb)({readOnly:!0})],V.prototype,"textLayer",null),(0,d._)([(0,w.Cb)()],V.prototype,"title",void 0),(0,d._)([(0,w.Cb)({readOnly:!0,json:{read:!1}})],V.prototype,"type",void 0);var Y=V=(0,d._)([(0,_.j)("esri.layers.MapNotesLayer")],V)},25820:function(e,t,r){r.d(t,{S:function(){return a},X:function(){return i}});var n=r(37762),i=1;function a(e,t){var r,i=0,a=(0,n.Z)(t);try{for(a.s();!(r=a.n()).done;){var o,l=null===(o=r.value.attributes)||void 0===o?void 0:o[e];"number"==typeof l&&isFinite(l)&&(i=Math.max(i,l))}}catch(u){a.e(u)}finally{a.f()}return i}},35594:function(e,t,r){r.d(t,{F:function(){return i},o:function(){return a}});var n=r(77981);function i(e){return{geometryType:(0,n.Ji)(e[0]),geometries:e.map((function(e){return e.toJSON()}))}}function a(e,t,r){var i=(0,n.q9)(t);return e.map((function(e){var t=i.fromJSON(e);return t.spatialReference=r,t}))}},23084:function(e,t,r){r.d(t,{LP:function(){return f},cv:function(){return p},en:function(){return y},lA:function(){return s}});var n=r(1413),i=r(42265),a=r(19545),o=r(84652),l=r(35995),u=r(66660);function s(e,t){return t?(0,n.Z)((0,n.Z)({},t),{},{query:(0,n.Z)((0,n.Z)({},null!==e&&void 0!==e?e:{}),t.query)}):{query:e}}function y(e){return"string"==typeof e?(0,l.mN)(e):(0,o.d9)(e)}function p(e,t,r){var n={};for(var i in e)if("declaredClass"!==i){var a=e[i];if(null!=a&&"function"!=typeof a)if(Array.isArray(a))n[i]=a.map((function(e){return p(e)}));else if("object"==typeof a)if(a.toJSON){var o=a.toJSON(null===r||void 0===r?void 0:r[i]);n[i]=t?o:JSON.stringify(o)}else n[i]=t?a:JSON.stringify(a);else n[i]=a}return n}function f(e,t){var r;return e?(0,u.r)(e)&&(t||i.Z.apiKey)?t||i.Z.apiKey:null===a.id||void 0===a.id||null===(r=a.id.findCredential(e))||void 0===r?void 0:r.token:null}},78983:function(e,t,r){r.d(t,{J:function(){return f}});var n=r(15671),i=r(43144),a=r(60136),o=r(29388),l=r(27366),u=r(52639),s=(r(32718),r(25243)),y=(r(84936),r(93169),r(10064),r(42017)),p=r(69912),f=function(e){(0,a.Z)(r,e);var t=(0,o.Z)(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"_own",value:function(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}},{key:"_release",value:function(e){e.layer===this.owner&&(e.layer=null)}}]),r}(r(68748).a);(0,l._)([(0,y.c)({Type:u.Z,ensureType:(0,s.se)(u.Z)})],f.prototype,"itemType",void 0),f=(0,l._)([(0,p.j)("esri.support.GraphicsCollection")],f)}}]);
//# sourceMappingURL=33513.bcec29ff.chunk.js.map