"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[86540],{93592:function(e,t,r){r.d(t,{c:function(){return i},f:function(){return a}});var n=r(643);function a(e,t){var r;if("string"==typeof e)r=(0,n.hP)(e+"-seed(".concat(t,")"));else{var a=12;r=e^t;do{r=107*(r>>8^r)+a|0}while(0!=--a)}return(1+r/(1<<31))/2}function i(e){return Math.floor(a(e,s)*o)}var s=53290320,o=10},86540:function(e,t,r){r.d(t,{a:function(){return pe}});var n=r(74165),a=r(15861),i=r(15671),s=r(43144),o=r(29660),u=r(755),c=r(94538),l=r(61669),h=r(11486),f=r(35783),d=r(72516),v=r(5964),m=r(69986),p=r(37762),y=r(29439),_=r(60136),x=r(29388),g=r(77427),k=r(17842),b=r(50264),P=r(35609),M=r(13611),w=r(30932),Z=r(6644),I=r(83406),L=r(80457),S=r(38999),z=r(84328),E=r(28289),B=r(86001),A=r(51750);function D(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function F(e,t){return Math.sqrt(e*e+t*t)}function G(e){var t=F(e[0],e[1]);e[0]/=t,e[1]/=t}function O(e,t){return F(e[0]-t[0],e[1]-t[1])}function R(e,t){return e[t+1]}function T(e){return e.length-1}function C(e){for(var t=0,r=0;r<T(e);r++)t+=W(e,r);return t}function W(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=R(e,t),i=(0,y.Z)(a,2),s=i[0],o=i[1];return s=(r=[Math.round(s),Math.round(o)])[0],o=r[1],Math.sqrt(s*s+o*o)*n}var V=function(){function e(t,r,n,a,s){(0,i.Z)(this,e),this._segments=t,this._index=r,this._distance=n,this._xStart=a,this._yStart=s,this._done=!1}return(0,s.Z)(e,[{key:"clone",value:function(){return new e(this._segments,this._index,this._distance,this.xStart,this.yStart)}},{key:"equals",value:function(e){return this._index===e._index||e._index===this._index-1&&(0===this._distance||1===e._distance)||e._index===this._index+1&&(1===this._distance||0===e._distance)}},{key:"leq",value:function(e){return this._index<e._index||this._index===e._index&&this._distance<=e._distance}},{key:"geq",value:function(e){return this._index>e._index||this._index===e._index&&this._distance>=e._distance}},{key:"_segment",get:function(){return this._segments[this._index+1]}},{key:"angle",get:function(){var e=this.dy,t=(0*e+-1*-this.dx)/(1*this.length),r=Math.acos(t);return e>0&&(r=2*Math.PI-r),r}},{key:"xStart",get:function(){return this._xStart}},{key:"yStart",get:function(){return this._yStart}},{key:"x",get:function(){return this.xStart+this.distance*this.dx}},{key:"y",get:function(){return this.yStart+this.distance*this.dy}},{key:"dx",get:function(){return this._segment[0]}},{key:"dy",get:function(){return this._segment[1]}},{key:"xMidpoint",get:function(){return this.xStart+.5*this.dx}},{key:"yMidpoint",get:function(){return this.yStart+.5*this.dy}},{key:"xEnd",get:function(){return this.xStart+this.dx}},{key:"yEnd",get:function(){return this.yStart+this.dy}},{key:"length",get:function(){var e=this.dx,t=this.dy;return Math.sqrt(e*e+t*t)}},{key:"remainingLength",get:function(){return this.length*(1-this._distance)}},{key:"backwardLength",get:function(){return this.length*this._distance}},{key:"distance",get:function(){return this._distance}},{key:"done",get:function(){return this._done}},{key:"hasPrev",value:function(){return this._index-1>=0}},{key:"hasNext",value:function(){return this._index+1<T(this._segments)}},{key:"next",value:function(){return this.hasNext()?(this._xStart+=this.dx,this._yStart+=this.dy,this._distance=0,this._index+=1,this):null}},{key:"prev",value:function(){return this.hasPrev()?(this._index-=1,this._xStart-=this.dx,this._yStart-=this.dy,this._distance=1,this):(this._done=!0,null)}},{key:"_seekBackwards",value:function(e,t){var r=this.backwardLength;if(e<=r)return this._distance=(r-e)/this.length,this;for(var n=this.backwardLength;this.prev();){if(n+this.length>e)return this._seekBackwards(e-n);n+=this.length}return this._distance=0,t?this:null}},{key:"seek",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e<0)return this._seekBackwards(Math.abs(e),t);if(e<=this.remainingLength)return this._distance=(this.backwardLength+e)/this.length,this;for(var r=this.remainingLength;this.next();){if(r+this.length>e)return this.seek(e-r,t);r+=this.length}return this._distance=1,t?this:null}}],[{key:"create",value:function(t){return new e(t,0,0,t[0][0],t[0][1])}}]),e}();function j(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=C(e),i=V.create(e),s=a/2;if(!n)return i.seek(s),void(Math.abs(i.x)<A.L&&Math.abs(i.y)<A.L&&r(i.clone(),0,s+0*t,a));var o=Math.max((a-t)/2,0),u=Math.floor(o/t),c=s-u*t;i.seek(c);for(var l=-u;l<=u;l++)Math.abs(i.x)<A.L&&Math.abs(i.y)<A.L&&r(i.clone(),l,s+l*t,a),i.seek(t)}function q(e,t){for(var r=t,n=0;n<e.length;n++){var a=e[n];N(a,r);var i=[];i.push(a[0]);for(var s=1;s<a.length;s++){var o=(0,y.Z)(a[s-1],2),u=o[0],c=o[1],l=(0,y.Z)(a[s],2),h=l[0]-u,f=l[1]-c;i.push([h,f])}e[n]=i,a=i}return e}function N(e,t){var r=1e-6;if(!(t<=0)){var n=e.length;if(!(n<3)){var a=[],i=0;a.push(0);for(var s=1;s<n;s++)i+=O(e[s],e[s-1]),a.push(i);t=Math.min(t,.2*i);var o=[];o.push(e[0][0]),o.push(e[0][1]);var u=e[n-1][0],c=e[n-1][1],l=D([0,0],e[0],e[1]);G(l),e[0][0]+=t*l[0],e[0][1]+=t*l[1],D(l,e[n-1],e[n-2]),G(l),e[n-1][0]+=t*l[0],e[n-1][1]+=t*l[1];for(var h=1;h<n;h++)a[h]+=t;a[n-1]+=t;for(var f=.5*t,d=1;d<n-1;d++){for(var v=0,m=0,p=0,y=d-1;y>=0&&!(a[y+1]<a[d]-f);y--){var _=f+a[y+1]-a[d],x=a[y+1]-a[y],g=a[d]-a[y]<f?1:_/x;if(Math.abs(g)<r)break;var k=g*g,b=g*_-.5*k*x,P=g*x/t,M=e[y+1],w=e[y][0]-M[0],Z=e[y][1]-M[1];v+=P/b*(M[0]*g*_+.5*k*(_*w-x*M[0])-k*g*x*w/3),m+=P/b*(M[1]*g*_+.5*k*(_*Z-x*M[1])-k*g*x*Z/3),p+=P}for(var I=d+1;I<n&&!(a[I-1]>a[d]+f);I++){var L=f-a[I-1]+a[d],S=a[I]-a[I-1],z=a[I]-a[d]<f?1:L/S;if(Math.abs(z)<r)break;var E=z*z,B=z*L-.5*E*S,A=z*S/t,F=e[I-1],R=e[I][0]-F[0],T=e[I][1]-F[1];v+=A/B*(F[0]*z*L+.5*E*(L*R-S*F[0])-E*z*S*R/3),m+=A/B*(F[1]*z*L+.5*E*(L*T-S*F[1])-E*z*S*T/3),p+=A}o.push(v/p),o.push(m/p)}o.push(u),o.push(c);for(var C=0,W=0;C<n;C++)e[C][0]=o[W++],e[C][1]=o[W++]}}}var U=r(81308),H=r(24799),X=(0,g.HP)((function(e){var t=0;if(0===e)return 1/0;for(;!(e%2);)t++,e/=2;return t})),Y=function(e){(0,_.Z)(r,e);var t=(0,x.Z)(r);function r(){var e;return(0,i.Z)(this,r),(e=t.apply(this,arguments))._zoomLevel=0,e}return(0,s.Z)(r,[{key:"_write",value:function(e,t,r,n){if(this._zoomLevel=n||0,null!=r)throw new Error("InternalError: EffectGeometry not support for LabelMeshWriter");switch(t.geometryType){case"esriGeometryPoint":var a=t.readXForDisplay(),i=t.readYForDisplay();return this._writePoint(e,a,i,t);case"esriGeometryEnvelope":case"esriGeometryPolygon":case"esriGeometryMultipoint":var s=t.readCentroidForDisplay();if(!s)return;var o=(0,y.Z)(s.coords,2),u=o[0],c=o[1];return this._writePoint(e,u,c,t);case"esriGeometryPolyline":this._writeLines(e,t)}}},{key:"_writePoint",value:function(e,t,r,n){var a,i,s,o,u=this._getShaping();if(u){var c=this._getPointReferenceBounds();c||(c={offsetX:0,offsetY:0,size:0});var l=u.boundsT,h=(0,S.kH)(this.evaluatedMeshParams.horizontalAlignment),f=(0,S.b7)(this.evaluatedMeshParams.verticalAlignment),d=null!==(a=null===(i=this.evaluatedMeshParams.scaleInfo)||void 0===i?void 0:i.maxScale)&&void 0!==a?a:0,v=null!==(s=null===(o=this.evaluatedMeshParams.scaleInfo)||void 0===o?void 0:o.minScale)&&void 0!==s?s:0,m=(0,z.jL)(n.getDisplayId());e.metricStart(new B.O(m,t,r,h,f,d,v,c)),e.metricBoxWrite(l),this._writeGlyphs(e,n.getDisplayId(),t,r,u,0,c),e.metricEnd()}}},{key:"_getPointReferenceBounds",value:function(){if(!this._references)return null;var e,t=(0,p.Z)(this._references);try{for(t.s();!(e=t.n()).done;){var r=e.value.getBoundsInfo();if(r)return r}}catch(n){t.e(n)}finally{t.f()}return null}},{key:"_writeLines",value:function(e,t){var r=this,n=this.evaluatedMeshParams,a=n.scaleInfo,i=n.verticalAlignment,s=this.evaluatedMeshParams.repeatLabelDistance||128,o=this._getShaping("middle");if(o){var u=function(e,t,n,a){return r._placeSubdivGlyphs(e,t,n,a)},c=(o.bounds.width+s)/2;this._current={out:e,id:t.getDisplayId(),shaping:o,zoomRange:(0,U._f)(a,this.getTileInfo()),referenceBounds:this._getPointReferenceBounds()||{offsetX:0,offsetY:0,size:0},offsetDirection:null},this._verticalPlacement="bottom"===i?"above":"top"===i?"below":null,this._verticalPlacement?this._writeAboveAndBelowAlong(t,u,c):this._writeCenterAlong(t,u,c)}}},{key:"_writeAboveAndBelowAlong",value:function(e,t,r){var n=this.evaluatedMeshParams,a=n.repeatLabel,i=n.fontSize,s=this._current.shaping,o=(0,k.F2)(i),u=e.readGeometryForDisplay();if(u){var c=new L.Z;(0,I.zj)(c,u,!1,!1,"esriGeometryPolyline",1);var l=J(new L.Z,c,o),h=J(new L.Z,c,-o),f=(0,I.di)(h,"esriGeometryPolyline",!1,!1),d=q((0,I.di)(l,"esriGeometryPolyline",!1,!1).paths,s.bounds.width),v=q(f.paths,s.bounds.width);this._current.offsetDirection="above";var m,y=(0,p.Z)(d);try{for(y.s();!(m=y.n()).done;){j(m.value,r,t,!!a)}}catch(g){y.e(g)}finally{y.f()}this._current.offsetDirection="below";var _,x=(0,p.Z)(v);try{for(x.s();!(_=x.n()).done;){j(_.value,r,t,!!a)}}catch(g){x.e(g)}finally{x.f()}}}},{key:"_writeCenterAlong",value:function(e,t,r){var n,a=this.evaluatedMeshParams.repeatLabel,i=this._current.shaping,s=q(e.readLegacyGeometryForDisplay().paths,i.bounds.width),o=(0,p.Z)(s);try{for(o.s();!(n=o.n()).done;){j(n.value,r,t,!!a)}}catch(u){o.e(u)}finally{o.f()}}},{key:"_placeSubdivGlyphs",value:function(e,t,r,n){var a=this.evaluatedMeshParams,i=a.allowOverrun,s=a.labelPosition,o=a.repeatLabelDistance,u=this._current.zoomRange[0],c=X(t),l=this._current.shaping.bounds.width/2,h=Math.sqrt(o||128)/2,f=Math.min(r,n-r),d=this._current.shaping.isMultiline?H.PW:Math.log2(f/(h+l/2)),v=0===t?d:Math.min(c,d),m=Math.max(u,this._zoomLevel+1-v),p=this._zoomLevel-m,y=this._current.shaping.bounds.width/2*Math.pow(2,p);this._current.shaping.isMultiline?0===t&&this._placeStraight(e,m):i&&p<0?this._placeStraightAlong(e,u):"parallel"===s?this._placeStraightAlong(e,m):"curved"===s&&this._placeCurved(e,m,y)}},{key:"_placeStraight",value:function(e,t){var r,n,a,i,s=this._current,o=s.out,u=s.id,c=s.shaping,l=s.referenceBounds,h=e.x,f=e.y,d=(0,z.jL)(u),v=null!==(r=null===(n=this.evaluatedMeshParams.scaleInfo)||void 0===n?void 0:n.maxScale)&&void 0!==r?r:0,m=null!==(a=null===(i=this.evaluatedMeshParams.scaleInfo)||void 0===i?void 0:i.minScale)&&void 0!==a?a:0;o.metricStart(new B.O(d,e.x,e.y,0,0,v,m,null)),o.metricBoxWrite(c.boundsT);var p=e.angle*(180/Math.PI)%360,y=(e.angle*(180/Math.PI)+180)%360;this._writeGlyphs(o,u,h,f,c,0,l,{clipAngle:p,mapAligned:!0,isLineLabel:!0,minZoom:t}),this._writeGlyphs(o,u,h,f,c,0,l,{clipAngle:y,mapAligned:!0,isLineLabel:!0,minZoom:t}),o.metricEnd()}},{key:"_placeCurved",value:function(e,t,r){var n,a,i,s,o=this._current,u=o.out,c=o.id,l=e.clone(),h=e.angle*(180/Math.PI)%360,f=(e.angle*(180/Math.PI)+180)%360,d=(0,z.jL)(c),v=null!==(n=null===(a=this.evaluatedMeshParams.scaleInfo)||void 0===a?void 0:a.maxScale)&&void 0!==n?n:0,m=null!==(i=null===(s=this.evaluatedMeshParams.scaleInfo)||void 0===s?void 0:s.minScale)&&void 0!==i?i:0;u.metricStart(new B.O(d,e.x,e.y,0,0,v,m,null)),this._verticalPlacement&&this._verticalPlacement!==this._current.offsetDirection||(this._placeFirst(l,t,1,h),this._placeBack(e,l,t,r,1,h),this._placeForward(e,l,t,r,1,h)),this._verticalPlacement&&this._verticalPlacement===this._current.offsetDirection||(this._placeFirst(l,t,0,f),this._placeBack(e,l,t,r,0,f),this._placeForward(e,l,t,r,0,f)),u.metricEnd()}},{key:"_placeStraightAlong",value:function(e,t){var r,n,a,i,s=this._current,o=s.out,u=s.id,c=s.shaping,l=s.zoomRange,h=s.referenceBounds,f=this.evaluatedMeshParams,d=f.boxBorderLineColor,v=f.boxBackgroundColor,m=e.clone(),p=e.angle*(180/Math.PI)%360,_=(e.angle*(180/Math.PI)+180)%360;if(c.glyphs.length>0&&(d||v)){var x=Math.max(t,l[0],0),g=Math.min(H.PW,l[1]),M=(0,b.Us)((0,P.Ue)(),-e.angle),Z={minZoom:x,maxZoom:g,clipAngle:p,mapAligned:!0,isLineLabel:!0},I=(0,k.F2)(this.evaluatedMeshParams.offsetX),L=(0,k.F2)(this.evaluatedMeshParams.offsetY);if(!this._verticalPlacement||this._verticalPlacement===this._current.offsetDirection){var S=(0,w.al)(I,-1*L),E=c.shapeBackground((0,b.Iu)((0,P.Ue)(),M,S)),A=(0,y.Z)(E,2),D=A[0],F=A[1];o.recordStart(this.instanceId,this.attributeLayout,c.glyphs[0].textureBinding);var G=2*Math.max(D.width,D.height);o.recordBounds(e.x+D.x,e.y+D.y,G,G),this._writeTextBox(o,u,e.x,e.y,F,h,Z),o.recordEnd()}if(!this._verticalPlacement||this._verticalPlacement!==this._current.offsetDirection){var O=(0,w.al)(I,L),R=c.shapeBackground((0,b.Iu)((0,P.Ue)(),M,O)),T=(0,y.Z)(R,2),C=T[0],W=T[1];Z.clipAngle=_,o.recordStart(this.instanceId,this.attributeLayout,c.glyphs[0].textureBinding);var V=2*Math.max(C.width,C.height);o.recordBounds(e.x+C.x,e.y+C.y,V,V),this._writeTextBox(o,u,e.x,e.y,W,h,Z),o.recordEnd()}}var j=(0,z.jL)(u),q=null!==(r=null===(n=this.evaluatedMeshParams.scaleInfo)||void 0===n?void 0:n.maxScale)&&void 0!==r?r:0,N=null!==(a=null===(i=this.evaluatedMeshParams.scaleInfo)||void 0===i?void 0:i.minScale)&&void 0!==a?a:0;o.metricStart(new B.O(j,e.x,e.y,0,0,q,N,null)),this._verticalPlacement&&this._verticalPlacement!==this._current.offsetDirection||this._placeFirst(m,t,1,p,!0),this._verticalPlacement&&this._verticalPlacement===this._current.offsetDirection||this._placeFirst(m,t,0,_,!0),o.metricEnd()}},{key:"_placeBack",value:function(e,t,r,n,a,i){for(var s=e.clone(),o=e.backwardLength+0;s.prev()&&!(o>=n);)this._placeOnSegment(s,t,o,r,-1,a,i),o+=s.length+0}},{key:"_placeForward",value:function(e,t,r,n,a,i){for(var s=e.clone(),o=e.remainingLength+0;s.next()&&!(o>=n);)this._placeOnSegment(s,t,o,r,1,a,i),o+=s.length+0}},{key:"_placeFirst",value:function(e,t,r,n){var a,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=this._current,o=s.out,u=s.id,c=s.shaping,l=s.zoomRange,h=s.referenceBounds,f=c.glyphs,d=(0,p.Z)(f);try{for(d.s();!(a=d.n()).done;){var v=a.value,m=v.x>c.bounds.x?r:1-r,y=m*e.remainingLength+(1-m)*e.backwardLength,_=Math.abs(v.x+v.width/2-c.bounds.x),x=Math.max(0,this._zoomLevel+Math.log2(_/(y+0))),g=Math.max(t,i?0:x);v.maxZoom=Math.min(l[1],H.PW),v.angle=e.angle+(1-r)*Math.PI,v.minZoom=Math.max(l[0],g),this._writeLineGlyph(o,u,e.x,e.y,c.bounds,v,n,h,!0),r&&this._isVisible(v.minZoom,v.maxZoom)&&o.metricBoxWrite(v.bounds)}}catch(k){d.e(k)}finally{d.f()}}},{key:"_placeOnSegment",value:function(e,t,r,n,a,i,s){var o,u=this._current,c=u.out,l=u.id,h=u.shaping,f=u.referenceBounds,d=h.glyphs,v=e.dx/e.length,m=e.dy/e.length,y={x:e.x+r*-a*v,y:e.y+r*-a*m},_=(0,p.Z)(d);try{for(_.s();!(o=_.n()).done;){var x=o.value,g=x.x>h.bounds.x?i:1-i;if(g&&1===a||!g&&-1===a){var k=Math.abs(x.x+x.width/2-h.bounds.x),b=Math.max(0,this._zoomLevel+Math.log2(k/r)-.1),P=Math.max(n,this._zoomLevel+Math.log2(k/(r+e.length+0)));if(0!==b&&(x.angle=e.angle+(1-i)*Math.PI,x.minZoom=P,x.maxZoom=b,this._writeLineGlyph(c,l,y.x,y.y,h.bounds,x,s,f,!0),i&&this._isVisible(x.minZoom,x.maxZoom))){var M=x.bounds,w=e.x-t.x,Z=e.y-t.y,I=new E.Z(M.center[0]+w,M.center[1]+Z,M.width,M.height);c.metricBoxWrite(I)}}}}catch(L){_.e(L)}finally{_.f()}}},{key:"_writeLineGlyph",value:function(e,t,r,n,a,i,s,o,u){var c=r+a.x,l=n+a.y,h=2*(this.evaluatedMeshParams.minPixelBuffer?this.evaluatedMeshParams.minPixelBuffer/this._textMeshTransformProps.fontSize:1),f=Math.max(a.width,a.height)*h;e.recordStart(this.instanceId,this.attributeLayout,i.textureBinding),e.recordBounds(c,l,f,f);var d=i.texcoords,v=i.offsets,m=this._textMeshTransformProps.fontSize;this._writeQuad(e,t,r,n,{texcoords:d,offsets:v,fontSize:m,color:(0,U.G7)(this.evaluatedMeshParams.color),isBackground:!1,referenceBounds:o,minZoom:Math.max(this._current.zoomRange[0],i.minZoom),maxZoom:Math.min(this._current.zoomRange[1],i.maxZoom),clipAngle:s,mapAligned:u,isLineLabel:!0}),e.recordEnd()}},{key:"_isVisible",value:function(e,t){var r=this._zoomLevel;return e<=r&&r<=t}}]),r}(H.lW);function J(e,t,r){for(var n=t.coords,a=t.lengths,i=(0,Z.Ue)(),s=(0,Z.Ue)(),o=(0,Z.Ue)(),u=(0,Z.Ue)(),c=(0,Z.Ue)(),l=(0,Z.Ue)(),h=0,f=0;f<a.length;f++){for(var d=a[f],v=0;v<d;v++){var m=2*(v+h-1),p=2*(v+h),y=2*(v+h+1);v>0?(0,M.t8)(i,n[m],n[m+1]):(0,M.t8)(i,0,0),(0,M.t8)(s,n[p],n[p+1]),v<d-1?(0,M.t8)(o,n[y],n[y+1]):(0,M.t8)(o,0,0),0===v?(0,M.t8)(u,0,0):((0,M.lu)(u,s,i),(0,M.Fv)(u,u),(0,M.t8)(u,u[1],-u[0])),v===d-1?(0,M.t8)(c,0,0):((0,M.lu)(c,o,s),(0,M.Fv)(c,c),(0,M.t8)(c,c[1],-c[0])),(0,M.IH)(l,u,c),(0,M.Fv)(l,l);var _=l[0]*c[0]+l[1]*c[1];0!==_&&(0,M.bA)(l,l,_),(0,M.bA)(l,l,r),e.coords.push(s[0]+l[0],s[1]+l[1])}e.lengths.push(d),h+=d}return e}var Q=r(7467),K=r(4297),$=r(99536),ee=r(1413),te=r(63780),re=r(10064),ne=r(84652),ae=r(32718),ie=r(93592),se=r(89226),oe=r(1919);function ue(e,t){return ce.apply(this,arguments)}function ce(){return ce=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,i,s,o,u,c,l=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=l.length>2&&void 0!==l[2]&&l[2],i=r.defaultValue,s=r.valueExpressionInfo,o=r.value,!s){e.next=8;break}return u=s.expression,e.next=6,t.createComputedField({expression:u},a);case 6:return c=e.sent,e.abrupt("return",c?(0,ee.Z)((0,ee.Z)({},r),{},{computed:c,defaultValue:i}):null);case 8:return e.abrupt("return",(0,ee.Z)((0,ee.Z)({},r),{},{computed:new oe.J(o),defaultValue:i}));case 9:case"end":return e.stop()}}),e)}))),ce.apply(this,arguments)}function le(e,t){return he.apply(this,arguments)}function he(){return he=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,i,s,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.defaultValue,i=r.valueExpressionInfo,s=i.expression,e.next=5,t.createComputedField({expression:s});case 5:return o=e.sent,e.abrupt("return",o?(0,ee.Z)((0,ee.Z)({},r),{},{computed:o,defaultValue:a}):null);case 7:case"end":return e.stop()}}),e)}))),he.apply(this,arguments)}var fe=function(e){return"boolean"!=typeof e&&"number"!=typeof e&&"valueExpressionInfo"in e},de=function(e){return e.some((function(e){for(var t in e){var r=e[t];if(fe(r))return!0}return!1}))},ve=function(){function e(t,r,n,a,s,o,u){(0,i.Z)(this,e),this.inputMeshParams=t,this._resolvedMeshParams=r,this._dynamicProperties=n,this._dynamicEffectProperties=a,this._dynamicPlacementProperties=s,this._dynamicAsyncProperties=o,this._dynamicTransformProperties=u,this.evaluator=function(e){return e}}return(0,s.Z)(e,[{key:"hasDynamicProperties",get:function(){return!!(this._dynamicProperties.size||this._dynamicAsyncProperties.size||this._dynamicEffectProperties.size||this._dynamicTransformProperties.size||this._dynamicPlacementProperties.size)}},{key:"evaluatedMeshParams",get:function(){return this._evaluatedMeshParams||(this._evaluatedMeshParams=this.evaluator(this._resolvedMeshParams)),this._evaluatedMeshParams}},{key:"enqueueRequest",value:function(e,t,r){var n,a=(0,p.Z)(this._dynamicAsyncProperties.values());try{for(a.s();!(n=a.n()).done;){var i=n.value,s=(0,ne.d9)(i.rasterizationParam.resource);"animated"===i.rasterizationParam.resource.type&&i.rasterizationParam.resource.randomizeStartTime&&(s.primitiveName="__RESERVED__PRIMITIVE__NAME__",s.startGroup=(0,ie.c)(t.getObjectId()||0));var o,u=(0,p.Z)(i.compiledOverrides);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=c.primitiveName,h=c.propertyName,f=c.computed,d=c.defaultValue,v=c.valueExpressionInfo;try{var m="animated"===i.rasterizationParam.resource.type?s.primitiveName:l;(0,se.mx)(s,m,h,f,t,r,d)}catch(W){ae.Z.getLogger("esri.views.2d.engine.webgl.shaderGraph.techniques.mesh.MeshWriterInputEvaluator").errorOnce(new re.Z("invalid-arcade-expression","Encountered an error when evaluating the arcade expression '".concat(null===v||void 0===v?void 0:v.expression,"' (primitive: '").concat(l,"', property: '").concat(h,"')"),W))}}}catch(_){u.e(_)}finally{u.f()}var y=e.enqueueRequest({type:"cim-rasterization-info",resource:s});i.objectIdToResourceId.set(t.getObjectId(),y)}}catch(_){a.e(_)}finally{a.f()}}},{key:"evaluateMeshParams",value:function(e,t,r){var n,a=(0,p.Z)(this._dynamicProperties.entries());try{for(a.s();!(n=a.n()).done;){var i=(0,y.Z)(n.value,2),s=i[0],o=i[1];this._resolvedMeshParams[s]=o.computed.readWithDefault(t,r,o.defaultValue)}}catch(se){a.e(se)}finally{a.f()}var u,c=(0,p.Z)(this._dynamicPlacementProperties.entries());try{for(c.s();!(u=c.n()).done;){var l,h=(0,y.Z)(u.value,2),f=h[0],d=h[1],v=(0,p.Z)(d.compiledOverrides);try{for(v.s();!(l=v.n()).done;){var m=l.value,_=m.computed,x=m.defaultValue,g=m.propertyName,k=_.readWithDefault(t,r,x);d.placementInfo.placement[g]=k,this._resolvedMeshParams[f]=d.placementInfo.placement}}catch(se){v.e(se)}finally{v.f()}}}catch(se){c.e(se)}finally{c.f()}var b,P=(0,p.Z)(this._dynamicEffectProperties.entries());try{for(P.s();!(b=P.n()).done;){var M,w=(0,y.Z)(b.value,2),Z=w[0],I=w[1],L=(0,p.Z)(I.effects);try{for(L.s();!(M=L.n()).done;){var S,z=M.value,E=(0,p.Z)(z.compiledOverrides);try{for(E.s();!(S=E.n()).done;){var B=S.value,A=B.computed,D=B.defaultValue,F=B.propertyName,G=A.readWithDefault(t,r,D);z.effect[F]=G}}catch(se){E.e(se)}finally{E.f()}this._resolvedMeshParams[Z]=I.effects.map((function(e){return e.effect}))}}catch(se){L.e(se)}finally{L.f()}}}catch(se){P.e(se)}finally{P.f()}var O,R=(0,p.Z)(this._dynamicTransformProperties.entries());try{for(R.s();!(O=R.n()).done;){var T,C=(0,y.Z)(O.value,2),W=C[0],V=C[1],j={type:"cim-marker-transform-info",infos:[]},q=(0,p.Z)(V.compiledMarkerInfos);try{for(q.s();!(T=q.n()).done;){var N=T.value,U=(0,ee.Z)({},N.props);if(N.compiledExpressionMap){var H,X=(0,p.Z)(N.compiledExpressionMap);try{for(X.s();!(H=X.n()).done;){var Y=(0,y.Z)(H.value,2),J=Y[0],Q=Y[1],K=Q.computed.readWithDefault(t,r,Q.defaultValue);U[J]="number"==typeof K||"boolean"==typeof K?K:Q.defaultValue}}catch(se){X.e(se)}finally{X.f()}}j.infos.push(U)}}catch(se){q.e(se)}finally{q.f()}this._resolvedMeshParams[W]=j}}catch(se){R.e(se)}finally{R.f()}var $,te=(0,p.Z)(this._dynamicAsyncProperties.entries());try{for(te.s();!($=te.n()).done;){var re=(0,y.Z)($.value,2),ne=re[0],ae=re[1].objectIdToResourceId.get(t.getObjectId());if(null!=ae){var ie=e.getResource(ae);this._resolvedMeshParams[ne]=ie}}}catch(se){te.e(se)}finally{te.f()}return this._evaluatedMeshParams=this.evaluator(this._resolvedMeshParams),this.evaluatedMeshParams}}],[{key:"create",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r,i,s){var o,u,c,l,h,f,d,v;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o={},u=new Map,c=new Map,l=new Map,h=new Map,f=new Map,d=(0,n.Z)().mark((function e(t){var d,v,m,p,y,_,x,g,k,b;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(d=s[t])||"object"!=typeof d){e.next=115;break}if(!Array.isArray(d)){e.next=8;break}if("object"!=typeof d[0]){e.next=5;break}throw new Error("InternalError: Cannot handle ".concat(t,". Nested array params are not supported"));case 5:o[t]=d,e.next=113;break;case 8:if(!("valueExpressionInfo"in d)){e.next=21;break}if(!d.value){e.next=12;break}return o[t]=d.value,e.abrupt("return","continue");case 12:return e.next=14,le(r,d);case 14:if(v=e.sent){e.next=18;break}return o[t]=d.defaultValue,e.abrupt("return","continue");case 18:u.set(t,v),o[t]=null,e.next=113;break;case 21:e.t0=d.type,e.next="cim-effect-infos"===e.t0?24:"cim-marker-placement-param"===e.t0?35:"text-rasterization-param"===e.t0?47:"sprite-rasterization-param"===e.t0?73:"cim-marker-transform-param"===e.t0?102:112;break;case 24:if(!d.effectInfos.some((function(e){return e.overrides.length}))){e.next=33;break}return e.t1=c,e.t2=t,e.next=29,Promise.all(d.effectInfos.map(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.overrides.map((function(e){return ue(r,e)})),e.t0=t.effect,e.next=4,Promise.all(a);case 4:return e.t1=e.sent.filter(te.pC),e.abrupt("return",{effect:e.t0,compiledOverrides:e.t1});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 29:return e.t3=e.sent,e.t4={effects:e.t3},e.t1.set.call(e.t1,e.t2,e.t4),e.abrupt("break",113);case 33:return o[t]=d.effectInfos.map((function(e){return e.effect})),e.abrupt("break",113);case 35:if(e.t5=d.overrides.length,!e.t5){e.next=45;break}return e.t6=l,e.t7=t,e.t8=d,e.next=42,Promise.all(d.overrides.map((function(e){return ue(r,e)})));case 42:e.t9=e.sent.filter(te.pC),e.t10={placementInfo:e.t8,compiledOverrides:e.t9},e.t6.set.call(e.t6,e.t7,e.t10);case 45:return o[t]=d.placement,e.abrupt("break",113);case 47:if(!d.overrides.length){e.next=59;break}return p=d.overrides.map((function(e){return ue(r,e,d.useLegacyLabelEvaluationRules)})),e.t11=h,e.t12=t,e.next=53,Promise.all(p);case 53:return e.t13=e.sent.filter(te.pC),e.t14=d,e.t15=new Map,e.t16={compiledOverrides:e.t13,rasterizationParam:e.t14,objectIdToResourceId:e.t15},e.t11.set.call(e.t11,e.t12,e.t16),e.abrupt("return","continue");case 59:return y={type:"cim-rasterization-info",resource:d.resource},e.next=62,i.fetchResourceImmediate(y);case 62:if(e.t18=m=e.sent,e.t17=null!==e.t18,!e.t17){e.next=66;break}e.t17=void 0!==m;case 66:if(!e.t17){e.next=70;break}e.t19=m,e.next=71;break;case 70:e.t19=null;case 71:return o[t]=e.t19,e.abrupt("break",113);case 73:if(!d.overrides.length){e.next=85;break}return x=d.overrides.map((function(e){return ue(r,e)})),e.t20=h,e.t21=t,e.next=79,Promise.all(x);case 79:return e.t22=e.sent.filter(te.pC),e.t23=d,e.t24=new Map,e.t25={compiledOverrides:e.t22,rasterizationParam:e.t23,objectIdToResourceId:e.t24},e.t20.set.call(e.t20,e.t21,e.t25),e.abrupt("return","continue");case 85:if("animated"!==d.resource.type){e.next=88;break}return h.set(t,{compiledOverrides:[],rasterizationParam:d,objectIdToResourceId:new Map}),e.abrupt("return","continue");case 88:return g={type:"cim-rasterization-info",resource:d.resource},e.next=91,i.fetchResourceImmediate(g);case 91:if(e.t27=_=e.sent,e.t26=null!==e.t27,!e.t26){e.next=95;break}e.t26=void 0!==_;case 95:if(!e.t26){e.next=99;break}e.t28=_,e.next=100;break;case 99:e.t28=null;case 100:return o[t]=e.t28,e.abrupt("break",113);case 102:if(k=d.params,!de(k)){e.next=110;break}return b={compiledMarkerInfos:[]},e.next=107,Promise.all(k.map(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var a,i,s,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={props:{}},e.t0=(0,n.Z)().keys(t);case 2:if((e.t1=e.t0()).done){e.next=16;break}if(i=e.t1.value,!fe(t[i])){e.next=13;break}return e.next=7,le(r,t[i]);case 7:s=e.sent,a.compiledExpressionMap||(a.compiledExpressionMap=new Map),o=a.compiledExpressionMap,s&&o.set(i,s),e.next=14;break;case 13:a.props[i]=t[i];case 14:e.next=2;break;case 16:b.compiledMarkerInfos.push(a);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 107:f.set(t,b),e.next=111;break;case 110:o[t]={type:"cim-marker-transform-info",infos:k};case 111:return e.abrupt("break",113);case 112:o[t]=d;case 113:e.next=116;break;case 115:o[t]=d;case 116:case"end":return e.stop()}}),e)})),t.t0=(0,n.Z)().keys(s);case 3:if((t.t1=t.t0()).done){t.next=11;break}return v=t.t1.value,t.delegateYield(d(v),"t2",6);case 6:if("continue"!==t.t2){t.next=9;break}return t.abrupt("continue",3);case 9:t.next=3;break;case 11:return t.abrupt("return",new e(s,o,u,c,l,h,f));case 12:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()}]),e}(),me=r(16336),pe=function(){function e(){(0,i.Z)(this,e)}return(0,s.Z)(e,[{key:"createMeshWriter",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r,a,i){var s,o,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this._getMeshWriter(i.techniqueType),e.next=3,ve.create(t,r,i.inputParams);case 3:return o=e.sent,u=new s(i.id,o,i.optionalAttributes,a),e.next=7,u.loadDependencies();case 7:return e.abrupt("return",u);case 8:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"_getMeshWriter",value:function(e){switch(e){case o.t.Fill:return h.Q;case o.t.DotDensity:return u.Z;case o.t.ComplexFill:return c.h5;case o.t.PatternFill:return d.H;case o.t.OutlineFill:return f.nT;case o.t.PatternOutlineFill:return v.i;case o.t.ComplexOutlineFill:return l.f;case o.t.Marker:return $.A;case o.t.PieChart:return me.q;case o.t.Text:return H.lW;case o.t.Line:return Q.ti;case o.t.TexturedLine:return K.I;case o.t.Heatmap:return m.E;case o.t.Label:return Y;case o.t.Test:throw new Error("Internal Error: Found invalid mesh writer")}}}]),e}()},1919:function(e,t,r){r.d(t,{J:function(){return o}});var n=r(15671),a=r(43144),i=r(60136),s=r(29388),o=function(e){(0,i.Z)(r,e);var t=(0,s.Z)(r);function r(e){var a;return(0,n.Z)(this,r),(a=t.call(this))._value=e,a}return(0,a.Z)(r,[{key:"resize",value:function(e){}},{key:"read",value:function(e,t){return this._value}},{key:"readWithDefault",value:function(e,t,r){return this._value}},{key:"referencesScale",value:function(){return!1}},{key:"referencesGeometry",value:function(){return!1}}]),r}(r(16639).X)}}]);
//# sourceMappingURL=86540.a16d78c5.chunk.js.map