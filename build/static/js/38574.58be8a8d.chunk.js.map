{"version":3,"file":"static/js/38574.58be8a8d.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/rasterTransforms/IdentityTransform.js","../node_modules/@arcgis/core/layers/support/rasterTransforms/utils.js","../node_modules/@arcgis/core/layers/support/RasterWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/Logger.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import\"../../../core/Error.js\";import{enumeration as o}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"./BaseRasterTransform.js\";var e;let a=e=class extends t{constructor(){super(...arguments),this.type=\"identity\"}clone(){return new e}};r([o({IdentityXform:\"identity\"})],a.prototype,\"type\",void 0),a=e=r([s(\"esri.layers.support.rasterTransforms.IdentityTransform\")],a);const p=a;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport r from\"./GCSShiftTransform.js\";import t from\"./IdentityTransform.js\";import n from\"./PolynomialTransform.js\";const o={GCSShiftXform:r,IdentityXform:t,PolynomialXform:n},e=Object.keys(o);function f(r){const t=r?.type;return!r||e.includes(t)}function i(r){const t=r?.type;if(!t)return null;const n=o[r?.type];if(n){const t=new n;return t.read(r),t}return null}export{f as isTransformSupported,i as readTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import r from\"../../geometry/support/GeographicTransformation.js\";import e from\"./PixelBlock.js\";import{decode as t}from\"./rasterFormats/RasterCodec.js\";import{split as s,clipTile as o,mosaic as i,approximateTransform as n,getLocalArithmeticNorthRotations as a}from\"./rasterFunctions/pixelUtils.js\";import{create as l}from\"./rasterFunctions/rasterFunctionHelper.js\";import{requirePE as m,load as c,getProjectionOffsetGrid as f}from\"./rasterFunctions/rasterProjectionHelper.js\";import{computeStatisticsHistograms as p,estimateStatisticsHistograms as u}from\"./rasterFunctions/stretchUtils.js\";import{convertVectorFieldData as S,convertToLocalDirections as d}from\"./rasterFunctions/vectorFieldUtils.js\";import{readTransform as x}from\"./rasterTransforms/utils.js\";import y from\"../../renderers/support/RasterSymbolizer.js\";import{createFlowMesh as O}from\"../../views/2d/engine/flow/dataUtils.js\";import h from\"../../geometry/Extent.js\";import N from\"../../geometry/Point.js\";class J{convertVectorFieldData(r){const t=e.fromJSON(r.pixelBlock),s=S(t,r.type);return Promise.resolve(null!=s?s.toJSON():null)}computeStatisticsHistograms(r){const t=e.fromJSON(r.pixelBlock),s=p(t);return Promise.resolve(s)}async decode(r){const e=await t(r.data,r.options);return e&&e.toJSON()}symbolize(r){r.pixelBlock=e.fromJSON(r.pixelBlock),r.extent=r.extent?h.fromJSON(r.extent):null;const t=this.symbolizer.symbolize(r);return Promise.resolve(null!=t?t.toJSON():null)}async updateSymbolizer(r){this.symbolizer=y.fromJSON(r.symbolizerJSON),r.histograms&&\"rasterStretch\"===this.symbolizer?.rendererJSON.type&&(this.symbolizer.rendererJSON.histograms=r.histograms)}async updateRasterFunction(r){this.rasterFunction=l(r.rasterFunctionJSON)}async process(r){const t=this.rasterFunction.process({extent:h.fromJSON(r.extent),primaryPixelBlocks:r.primaryPixelBlocks.map((r=>null!=r?e.fromJSON(r):null)),primaryPixelSizes:r.primaryPixelSizes?.map((r=>null!=r?N.fromJSON(r):null)),primaryRasterIds:r.primaryRasterIds});return null!=t?t.toJSON():null}stretch(r){const t=this.symbolizer.simpleStretch(e.fromJSON(r.srcPixelBlock),r.stretchParams);return Promise.resolve(t?.toJSON())}estimateStatisticsHistograms(r){const t=u(e.fromJSON(r.srcPixelBlock));return Promise.resolve(t)}split(r){const t=s(e.fromJSON(r.srcPixelBlock),r.tileSize,r.maximumPyramidLevel??0,!1===r.useBilinear);return t&&t.forEach(((r,e)=>{t.set(e,r?.toJSON())})),Promise.resolve(t)}clipTile(r){const t=e.fromJSON(r.pixelBlock),s=o({...r,pixelBlock:t});return Promise.resolve(s?.toJSON())}async mosaicAndTransform(r){const t=r.srcPixelBlocks.map((r=>r?new e(r):null)),s=i(t,r.srcMosaicSize,{blockWidths:r.blockWidths,alignmentInfo:r.alignmentInfo,clipOffset:r.clipOffset,clipSize:r.clipSize});let o,l=s;return r.coefs&&(l=n(s,r.destDimension,r.coefs,r.sampleSpacing,r.interpolation)),r.projectDirections&&r.gcsGrid&&(o=a(r.destDimension,r.gcsGrid),l=d(l,r.isUV?\"vector-uv\":\"vector-magdir\",o)),{pixelBlock:l?.toJSON(),localNorthDirections:o}}async createFlowMesh(r,e){const t={data:new Float32Array(r.flowData.buffer),mask:new Uint8Array(r.flowData.maskBuffer),width:r.flowData.width,height:r.flowData.height},{vertexData:s,indexData:o}=await O(r.meshType,r.simulationSettings,t,e.signal);return{result:{vertexBuffer:s.buffer,indexBuffer:o.buffer},transferList:[s.buffer,o.buffer]}}async getProjectionOffsetGrid(e){const t=h.fromJSON(e.projectedExtent),s=h.fromJSON(e.srcBufferExtent);let o=null;e.datumTransformationSteps&&(o=new r({steps:e.datumTransformationSteps})),(e.includeGCSGrid||m(t.spatialReference,s.spatialReference,o))&&await c();const i=e.rasterTransform?x(e.rasterTransform):null;return f({...e,projectedExtent:t,srcBufferExtent:s,datumTransformation:o,rasterTransform:i})}}export{J as default};\n"],"names":["e","a","_t","_inherits","_super","_createSuper","_this","_classCallCheck","apply","arguments","type","_createClass","key","value","t","r","o","IdentityXform","prototype","p","s","GCSShiftXform","PolynomialXform","n","Object","keys","i","read","J","pixelBlock","S","Promise","resolve","toJSON","_decode","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","data","options","sent","abrupt","stop","_x","extent","h","this","symbolizer","symbolize","_updateSymbolizer","_callee2","_this$symbolizer","_context2","y","symbolizerJSON","histograms","rendererJSON","_x2","_updateRasterFunction","_callee3","_context3","rasterFunction","l","rasterFunctionJSON","_x3","_process","_callee4","_r$primaryPixelSizes","_context4","process","primaryPixelBlocks","map","primaryPixelSizes","N","primaryRasterIds","_x4","simpleStretch","srcPixelBlock","stretchParams","u","_r$maximumPyramidLeve","tileSize","maximumPyramidLevel","useBilinear","forEach","set","_objectSpread","_mosaicAndTransform","_callee5","_l","_context5","srcPixelBlocks","srcMosaicSize","blockWidths","alignmentInfo","clipOffset","clipSize","coefs","destDimension","sampleSpacing","interpolation","projectDirections","gcsGrid","d","isUV","localNorthDirections","_x5","_createFlowMesh","_callee6","_yield$O","_context6","Float32Array","flowData","buffer","mask","Uint8Array","maskBuffer","width","height","O","meshType","simulationSettings","signal","vertexData","indexData","result","vertexBuffer","indexBuffer","transferList","_x6","_x7","_getProjectionOffsetGrid","_callee7","_context7","projectedExtent","srcBufferExtent","datumTransformationSteps","steps","t0","includeGCSGrid","m","spatialReference","c","rasterTransform","x","f","datumTransformation","_x8"],"sourceRoot":""}