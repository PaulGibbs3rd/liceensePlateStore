{"version":3,"file":"static/js/63017.f3f9eb75.chunk.js","mappings":"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","sources":["../node_modules/@esri/calcite-components/dist/components/src/components/combobox-item/resources.ts","../node_modules/@esri/calcite-components/dist/components/src/components/combobox-item/combobox-item.tsx","../node_modules/@esri/calcite-components/dist/components/src/components/combobox-item/combobox-item.scss?tag=calcite-combobox-item&encapsulation=shadow","../node_modules/@esri/calcite-components/dist/components/src/components/functional/XButton.tsx","../node_modules/@esri/calcite-components/dist/components/src/components/combobox/combobox.tsx","../node_modules/@esri/calcite-components/dist/components/src/components/combobox/combobox.scss?tag=calcite-combobox&encapsulation=shadow","../node_modules/@esri/calcite-components/dist/components/src/utils/conditionalSlot.ts","../node_modules/@esri/calcite-components/dist/calcite-design-tokens/dist/es6/core.js","../node_modules/@esri/calcite-components/dist/components/src/components/combobox/resources.ts","../node_modules/@esri/calcite-components/dist/components/src/components/combobox/utils.ts"],"sourcesContent":["import { Scale } from \"../interfaces\";\n\nexport const CSS = {\n  active: \"label--active\",\n  centerContent: \"center-content\",\n  container: \"container\",\n  custom: \"icon--custom\",\n  description: \"description\",\n  dot: \"icon--dot\",\n  filterMatch: \"filter-match\",\n  icon: \"icon\",\n  iconActive: \"icon--active\",\n  label: \"label\",\n  scale: (scale: Scale) => `scale--${scale}` as const,\n  selected: \"label--selected\",\n  shortText: \"short-text\",\n  single: \"label--single\",\n  textContainer: \"text-container\",\n  title: \"title\",\n};\n\nexport const SLOTS = {\n  contentEnd: \"content-end\",\n};\n","import {\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Prop,\n  VNode,\n  Watch,\n} from \"@stencil/core\";\nimport {\n  ConditionalSlotComponent,\n  connectConditionalSlotComponent,\n  disconnectConditionalSlotComponent,\n} from \"../../utils/conditionalSlot\";\nimport { getSlotted } from \"../../utils/dom\";\nimport { guid } from \"../../utils/guid\";\nimport {\n  connectInteractive,\n  disconnectInteractive,\n  InteractiveComponent,\n  InteractiveContainer,\n  updateHostInteraction,\n} from \"../../utils/interactive\";\nimport { ComboboxChildElement } from \"../combobox/interfaces\";\nimport { getAncestors, getDepth, isSingleLike } from \"../combobox/utils\";\nimport { Scale, SelectionMode } from \"../interfaces\";\nimport { getIconScale } from \"../../utils/component\";\nimport { IconNameOrString } from \"../icon/interfaces\";\nimport { CSS, SLOTS } from \"./resources\";\n\n/**\n * @slot - A slot for adding nested `calcite-combobox-item`s.\n * @slot content-end - A slot for adding non-actionable elements after the component's content.\n */\n@Component({\n  tag: \"calcite-combobox-item\",\n  styleUrl: \"combobox-item.scss\",\n  shadow: true,\n})\nexport class ComboboxItem implements ConditionalSlotComponent, InteractiveComponent {\n  // --------------------------------------------------------------------------\n  //\n  //  Properties\n  //\n  // --------------------------------------------------------------------------\n\n  /** When `true`, the component is active. */\n  @Prop({ reflect: true }) active = false;\n\n  /** Specifies the parent and grandparent items, which are set on `calcite-combobox`. */\n  @Prop({ mutable: true }) ancestors: ComboboxChildElement[];\n\n  /**\n   * A description for the component, which displays below the label.\n   */\n  @Prop() description: string;\n\n  /** When `true`, interaction is prevented and the component is displayed with lower opacity. */\n  @Prop({ reflect: true }) disabled = false;\n\n  @Watch(\"disabled\")\n  @Watch(\"textLabel\")\n  handleComboboxItemPropsChange(): void {\n    this.calciteInternalComboboxItemChange.emit();\n  }\n\n  /**\n   * When `true`, omits the component from the `calcite-combobox` filtered search results.\n   */\n  @Prop({ reflect: true }) filterDisabled: boolean;\n\n  /**\n   * Pattern for highlighting filter text matches.\n   *\n   * @internal\n   */\n  @Prop({ reflect: true }) filterTextMatchPattern: RegExp;\n\n  /** The `id` attribute of the component. When omitted, a globally unique identifier is used. */\n  @Prop({ reflect: true }) guid = guid();\n\n  /** Specifies an icon to display. */\n  @Prop({ reflect: true }) icon: IconNameOrString;\n\n  /** When `true`, the icon will be flipped when the element direction is right-to-left (`\"rtl\"`). */\n  @Prop({ reflect: true }) iconFlipRtl = false;\n\n  @Watch(\"selected\")\n  selectedWatchHandler(): void {\n    this.calciteComboboxItemChange.emit();\n  }\n\n  /**\n   * Provides additional metadata to the component used in filtering.\n   */\n  @Prop() metadata: Record<string, unknown>;\n\n  /**\n   * Specifies the size of the component inherited from the `calcite-combobox`, defaults to `m`.\n   *\n   * @internal\n   */\n  @Prop() scale: Scale = \"m\";\n\n  /**\n   * When `true`, the component is selected.\n   */\n  @Prop({ reflect: true, mutable: true }) selected = false;\n\n  /**\n   * Specifies the selection mode of the component, where:\n   *\n   * `\"multiple\"` allows any number of selections,\n   *\n   * `\"single\"` allows only one selection,\n   *\n   * `\"single-persist\"` allows one selection and prevents de-selection, and\n   *\n   * `\"ancestors\"` allows multiple selections, but shows ancestors of selected items as selected, with only deepest children shown in chips.\n   *\n   * @internal\n   */\n  @Prop({ reflect: true }) selectionMode: Extract<\n    \"single\" | \"single-persist\" | \"ancestors\" | \"multiple\",\n    SelectionMode\n  > = \"multiple\";\n\n  /**\n   * The component's short heading.\n   *\n   * When provided, the short heading will be displayed in the component's selection.\n   *\n   * It is recommended to use 5 characters or fewer.\n   */\n  @Prop() shortHeading: string;\n\n  /** The component's text. */\n  @Prop() heading: string;\n\n  /**\n   * The component's text.\n   *\n   * @deprecated Use `heading` instead.\n   */\n  @Prop({ reflect: true }) textLabel!: string;\n\n  /** The component's value. */\n  @Prop() value!: any;\n\n  /** The component's label. */\n  @Prop() label: any;\n\n  // --------------------------------------------------------------------------\n  //\n  //  Private Properties\n  //\n  // --------------------------------------------------------------------------\n\n  @Element() el: HTMLCalciteComboboxItemElement;\n\n  // --------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  // --------------------------------------------------------------------------\n\n  connectedCallback(): void {\n    this.ancestors = getAncestors(this.el);\n    connectConditionalSlotComponent(this);\n    connectInteractive(this);\n  }\n\n  disconnectedCallback(): void {\n    disconnectConditionalSlotComponent(this);\n    disconnectInteractive(this);\n  }\n\n  componentDidRender(): void {\n    updateHostInteraction(this);\n  }\n\n  // --------------------------------------------------------------------------\n  //\n  //  Events\n  //\n  // --------------------------------------------------------------------------\n\n  /**\n   * Fires whenever the component is selected or unselected.\n   *\n   */\n  @Event({ cancelable: false }) calciteComboboxItemChange: EventEmitter<void>;\n\n  /**\n   * Fires whenever a property the parent combobox needs to know about is changed.\n   *\n   * @internal\n   */\n  @Event({ cancelable: false }) calciteInternalComboboxItemChange: EventEmitter<void>;\n\n  // --------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  // --------------------------------------------------------------------------\n\n  toggleSelected(): Promise<void> {\n    const isSinglePersistSelect = this.selectionMode === \"single-persist\";\n\n    if (this.disabled || (isSinglePersistSelect && this.selected)) {\n      return;\n    }\n\n    this.selected = !this.selected;\n  }\n\n  private itemClickHandler = (): void => {\n    this.toggleSelected();\n  };\n\n  // --------------------------------------------------------------------------\n  //\n  //  Render Methods\n  //\n  // --------------------------------------------------------------------------\n\n  renderIcon(iconPath: IconNameOrString): VNode {\n    return this.icon ? (\n      <calcite-icon\n        class={{\n          [CSS.custom]: !!this.icon,\n          [CSS.iconActive]: this.icon && this.selected,\n        }}\n        flipRtl={this.iconFlipRtl}\n        icon={this.icon || iconPath}\n        key=\"icon\"\n        scale={getIconScale(this.scale)}\n      />\n    ) : null;\n  }\n\n  renderSelectIndicator(showDot: boolean): VNode;\n  renderSelectIndicator(showDot: boolean, iconPath: IconNameOrString): VNode;\n  renderSelectIndicator(showDot: boolean, iconPath?: IconNameOrString): VNode {\n    return showDot ? (\n      <span\n        class={{\n          [CSS.icon]: true,\n          [CSS.dot]: true,\n        }}\n      />\n    ) : (\n      <calcite-icon\n        class={{\n          [CSS.icon]: true,\n          [CSS.iconActive]: this.selected,\n        }}\n        flipRtl={this.iconFlipRtl}\n        icon={iconPath}\n        key=\"indicator\"\n        scale={getIconScale(this.scale)}\n      />\n    );\n  }\n\n  renderChildren(): VNode {\n    if (getSlotted(this.el)) {\n      return (\n        <ul key=\"default-slot-container\">\n          <slot />\n        </ul>\n      );\n    }\n\n    return null;\n  }\n\n  render(): VNode {\n    const { disabled, heading, label, textLabel, value } = this;\n    const isSingleSelect = isSingleLike(this.selectionMode);\n    const defaultIcon = isSingleSelect ? undefined : \"check\";\n    const headingText = heading || textLabel;\n    const iconPath = disabled ? undefined : defaultIcon;\n    const itemLabel = label || value;\n    const showDot = isSingleSelect && !disabled;\n\n    const classes = {\n      [CSS.label]: true,\n      [CSS.selected]: this.selected,\n      [CSS.active]: this.active,\n      [CSS.single]: isSingleSelect,\n    };\n    const depth = getDepth(this.el) + 1;\n\n    return (\n      <Host aria-hidden=\"true\" aria-label={itemLabel}>\n        <InteractiveContainer disabled={disabled}>\n          <div\n            class={{\n              [CSS.container]: true,\n              [CSS.scale(this.scale)]: true,\n            }}\n            style={{ \"--calcite-combobox-item-spacing-indent-multiplier\": `${depth}` }}\n          >\n            <li class={classes} id={this.guid} onClick={this.itemClickHandler}>\n              {this.renderSelectIndicator(showDot, iconPath)}\n              {this.renderIcon(iconPath)}\n              <div class={CSS.centerContent}>\n                <div class={CSS.title}>{this.renderTextContent(headingText)}</div>\n                {this.description ? (\n                  <div class={CSS.description}>{this.renderTextContent(this.description)}</div>\n                ) : null}\n              </div>\n              {this.shortHeading ? (\n                <div class={CSS.shortText}>{this.renderTextContent(this.shortHeading)}</div>\n              ) : null}\n              <slot name={SLOTS.contentEnd} />\n            </li>\n            {this.renderChildren()}\n          </div>\n        </InteractiveContainer>\n      </Host>\n    );\n  }\n\n  private renderTextContent(text: string): string | (string | VNode)[] {\n    const pattern = this.filterTextMatchPattern;\n\n    if (!pattern || !text) {\n      return text;\n    }\n\n    const parts: (string | VNode)[] = text.split(pattern);\n\n    if (parts.length > 1) {\n      // we only highlight the first match\n      parts[1] = <mark class={CSS.filterMatch}>{parts[1]}</mark>;\n    }\n\n    return parts;\n  }\n}\n","@include base-component();\n\n.scale--s {\n  @apply text-n2h;\n  --calcite-combobox-item-spacing-unit-l: theme(\"spacing.2\");\n  --calcite-combobox-item-spacing-unit-s: theme(\"spacing.1\");\n  --calcite-combobox-item-spacing-indent: theme(\"spacing.2\");\n  --calcite-combobox-item-selector-icon-size: theme(\"spacing.4\");\n  --calcite-internal-combobox-item-description-font-size: var(--calcite-font-size-xs);\n}\n\n.scale--m {\n  @apply text-n1h;\n  --calcite-combobox-item-spacing-unit-l: theme(\"spacing.3\");\n  --calcite-combobox-item-spacing-unit-s: theme(\"spacing[1.5]\");\n  --calcite-combobox-item-spacing-indent: theme(\"spacing.3\");\n  --calcite-combobox-item-selector-icon-size: theme(\"spacing.4\");\n  --calcite-internal-combobox-item-description-font-size: var(--calcite-font-size-sm);\n}\n\n.scale--l {\n  @apply text-0h;\n  --calcite-combobox-item-spacing-unit-l: theme(\"spacing.4\");\n  --calcite-combobox-item-spacing-unit-s: theme(\"spacing[2.5]\");\n  --calcite-combobox-item-spacing-indent: theme(\"spacing.4\");\n  --calcite-combobox-item-selector-icon-size: theme(\"spacing.6\");\n  --calcite-internal-combobox-item-description-font-size: var(--calcite-font-size);\n}\n\n.container {\n  --calcite-combobox-item-indent-value: calc(\n    var(--calcite-combobox-item-spacing-indent) * var(--calcite-combobox-item-spacing-indent-multiplier)\n  );\n}\n\n:host(:focus) {\n  @apply shadow-none;\n}\n\n@include disabled();\n\n:host,\nul {\n  @apply m-0 flex flex-col p-0;\n}\n\n:host(:focus),\nul:focus {\n  @apply outline-none;\n}\n\n.label {\n  @apply text-color-3\n  focus-base\n  relative\n  box-border\n  flex\n  w-full\n  min-w-full\n  cursor-pointer\n  items-center\n  no-underline\n  duration-150\n  ease-in-out;\n  @include word-break();\n  justify-content: space-around;\n  gap: var(--calcite-combobox-item-spacing-unit-l);\n  padding-block: var(--calcite-combobox-item-spacing-unit-s);\n  padding-inline: var(--calcite-combobox-item-spacing-unit-l);\n  padding-inline-start: var(--calcite-combobox-item-indent-value);\n}\n\n:host([disabled]) .label {\n  @apply cursor-default;\n}\n\n// selected state\n.label--selected {\n  @apply text-color-1;\n\n  .title {\n    @apply font-medium;\n  }\n}\n\n.label--active {\n  @apply focus-inset;\n}\n\n.label:hover,\n.label:active {\n  @apply text-color-1\n    bg-foreground-2\n    no-underline\n    shadow-none;\n}\n\n.icon {\n  @apply inline-flex\n    opacity-0\n    duration-150\n    ease-in-out;\n  color: theme(\"borderColor.color.1\");\n}\n\n.icon--custom {\n  margin-block-start: -1px;\n  @apply text-color-3;\n}\n\n.icon--active {\n  @apply text-color-1;\n}\n\n.icon--dot {\n  @apply flex justify-center;\n  min-inline-size: var(--calcite-combobox-item-selector-icon-size);\n}\n\n.icon--dot::before {\n  text-align: start;\n  content: \"\\2022\";\n}\n\n.label--active .icon {\n  @apply opacity-100;\n}\n\n.label--selected .icon {\n  @apply opacity-100;\n  color: theme(\"backgroundColor.brand\");\n}\n\n:host(:hover[disabled]) .icon {\n  @apply opacity-100;\n}\n\n.filter-match {\n  font-weight: var(--calcite-font-weight-bold);\n  color: var(--calcite-color-text-1);\n  background-color: var(--calcite-color-foreground-current);\n}\n\n.center-content {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  padding-block: 0;\n}\n\n.description {\n  font-size: var(--calcite-internal-combobox-item-description-font-size);\n}\n\n:host([selected]),\n:host(:hover) {\n  .description {\n    color: var(--calcite-color-text-2);\n  }\n}\n\n.short-text {\n  color: var(--calcite-color-text-3);\n  white-space: nowrap;\n}\n\n.title {\n  color: var(--calcite-color-text-1);\n}\n\n.title,\n.description,\n.short-text {\n  line-height: var(--calcite-font-line-height-relative-snug);\n}\n","import { FunctionalComponent, h, VNode } from \"@stencil/core\";\nimport { JSXAttributes, JSXBase } from \"@stencil/core/internal\";\nimport { Scale } from \"../interfaces\";\nimport { getIconScale } from \"../../utils/component\";\n\nexport interface XButtonProps extends JSXAttributes {\n  disabled: boolean;\n  label: string;\n  scale: Scale;\n  onClick?: JSXBase.DOMAttributes<HTMLElement>[\"onClick\"];\n}\n\nexport const CSS = {\n  button: \"x-button\",\n};\n\nexport const XButton: FunctionalComponent<XButtonProps> = ({\n  disabled,\n  key,\n  label,\n  onClick,\n  ref,\n  scale,\n}): VNode => (\n  <button\n    aria-label={label}\n    class={CSS.button}\n    disabled={disabled}\n    key={key}\n    onClick={onClick}\n    ref={ref}\n    tabIndex={-1}\n    type=\"button\"\n  >\n    <calcite-icon icon=\"x\" scale={getIconScale(scale)} />\n  </button>\n);\n","import {\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Listen,\n  Method,\n  Prop,\n  State,\n  VNode,\n  Watch,\n} from \"@stencil/core\";\nimport { debounce, escapeRegExp } from \"lodash-es\";\nimport { calciteSize48 } from \"@esri/calcite-design-tokens/dist/es6/core.js\";\nimport { filter } from \"../../utils/filter\";\nimport { getElementWidth, getTextWidth, toAriaBoolean } from \"../../utils/dom\";\nimport {\n  connectFloatingUI,\n  defaultMenuPlacement,\n  disconnectFloatingUI,\n  filterValidFlipPlacements,\n  FlipPlacement,\n  FloatingCSS,\n  FloatingUIComponent,\n  LogicalPlacement,\n  OverlayPositioning,\n  reposition,\n} from \"../../utils/floating-ui\";\nimport {\n  afterConnectDefaultValueSet,\n  connectForm,\n  disconnectForm,\n  FormComponent,\n  HiddenFormInputSlot,\n  MutableValidityState,\n  submitForm,\n} from \"../../utils/form\";\nimport { guid } from \"../../utils/guid\";\nimport {\n  connectInteractive,\n  disconnectInteractive,\n  InteractiveComponent,\n  InteractiveContainer,\n  updateHostInteraction,\n} from \"../../utils/interactive\";\nimport { connectLabel, disconnectLabel, getLabelText, LabelableComponent } from \"../../utils/label\";\nimport {\n  componentFocusable,\n  componentLoaded,\n  LoadableComponent,\n  setComponentLoaded,\n  setUpLoadableComponent,\n} from \"../../utils/loadable\";\nimport { connectLocalized, disconnectLocalized } from \"../../utils/locale\";\nimport { createObserver } from \"../../utils/observers\";\nimport { onToggleOpenCloseComponent, OpenCloseComponent } from \"../../utils/openCloseComponent\";\nimport { DEBOUNCE } from \"../../utils/resources\";\nimport {\n  connectMessages,\n  disconnectMessages,\n  setUpMessages,\n  T9nComponent,\n  updateMessages,\n} from \"../../utils/t9n\";\nimport { Scale, SelectionMode, Status } from \"../interfaces\";\nimport { CSS as XButtonCSS, XButton } from \"../functional/XButton\";\nimport { componentOnReady, getIconScale } from \"../../utils/component\";\nimport { Validation } from \"../functional/Validation\";\nimport { IconNameOrString } from \"../icon/interfaces\";\nimport { ComboboxMessages } from \"./assets/combobox/t9n\";\nimport { ComboboxChildElement, SelectionDisplay } from \"./interfaces\";\nimport { ComboboxChildSelector, ComboboxItem, ComboboxItemGroup, CSS, IDS } from \"./resources\";\nimport {\n  getItemAncestors,\n  getItemChildren,\n  getLabel,\n  hasActiveChildren,\n  isSingleLike,\n} from \"./utils\";\n\ninterface ItemData {\n  description: string;\n  label: string;\n  metadata: Record<string, unknown>;\n  shortHeading: string;\n  value: string;\n}\n\nconst isGroup = (el: ComboboxChildElement): el is HTMLCalciteComboboxItemGroupElement =>\n  el.tagName === ComboboxItemGroup;\n\nconst itemUidPrefix = \"combobox-item-\";\nconst chipUidPrefix = \"combobox-chip-\";\nconst labelUidPrefix = \"combobox-label-\";\nconst listboxUidPrefix = \"combobox-listbox-\";\nconst inputUidPrefix = \"combobox-input-\";\n\n/**\n * @slot - A slot for adding `calcite-combobox-item`s.\n */\n@Component({\n  tag: \"calcite-combobox\",\n  styleUrl: \"combobox.scss\",\n  shadow: true,\n  assetsDirs: [\"assets\"],\n})\nexport class Combobox\n  implements\n    LabelableComponent,\n    FormComponent,\n    InteractiveComponent,\n    OpenCloseComponent,\n    FloatingUIComponent,\n    T9nComponent,\n    LoadableComponent\n{\n  //--------------------------------------------------------------------------\n  //\n  //  Public Properties\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * When `true`, the value-clearing will be disabled.\n   */\n  @Prop({ reflect: true }) clearDisabled = false;\n\n  /**\n   * Text for the component's filter input field.\n   */\n  @Prop({ reflect: true, mutable: true }) filterText = \"\";\n\n  @Watch(\"filterText\")\n  filterTextChange(value: string): void {\n    this.updateActiveItemIndex(-1);\n    this.filterItems(value, true);\n  }\n\n  /**\n   * When `selectionMode` is `\"ancestors\"` or `\"multiple\"`, specifies the display of multiple `calcite-combobox-item` selections, where:\n   *\n   * `\"all\"` displays all selections with individual `calcite-chip`s,\n   *\n   * `\"fit\"` displays individual `calcite-chip`s that scale to the component's size, including a non-closable `calcite-chip`, which provides the number of additional `calcite-combobox-item` selections not visually displayed, and\n   *\n   * `\"single\"` displays one `calcite-chip` with the total number of selections.\n   */\n  @Prop({ reflect: true }) selectionDisplay: SelectionDisplay = \"all\";\n\n  /**When `true`, displays and positions the component. */\n  @Prop({ reflect: true, mutable: true }) open = false;\n\n  @Watch(\"open\")\n  openHandler(): void {\n    onToggleOpenCloseComponent(this);\n\n    if (this.disabled) {\n      this.open = false;\n      return;\n    }\n\n    this.setMaxScrollerHeight();\n  }\n\n  /** When `true`, interaction is prevented and the component is displayed with lower opacity. */\n  @Prop({ reflect: true }) disabled = false;\n\n  @Watch(\"disabled\")\n  handleDisabledChange(value: boolean): void {\n    if (!value) {\n      this.open = false;\n    }\n  }\n\n  /**\n   * The `id` of the form that will be associated with the component.\n   *\n   * When not set, the component will be associated with its ancestor form element, if any.\n   */\n  @Prop({ reflect: true }) form: string;\n\n  /** Accessible name for the component. */\n  @Prop() label!: string;\n\n  /** Specifies the placeholder text for the input. */\n  @Prop() placeholder: string;\n\n  /** Specifies the placeholder icon for the input. */\n  @Prop({ reflect: true }) placeholderIcon: IconNameOrString;\n\n  /** When `true`, the icon will be flipped when the element direction is right-to-left (`\"rtl\"`). */\n  @Prop({ reflect: true }) placeholderIconFlipRtl = false;\n\n  /** Specifies the maximum number of `calcite-combobox-item`s (including nested children) to display before displaying a scrollbar. */\n  @Prop({ reflect: true }) maxItems = 0;\n\n  @Watch(\"maxItems\")\n  maxItemsHandler(): void {\n    this.setMaxScrollerHeight();\n  }\n\n  /** Specifies the validation message to display under the component. */\n  @Prop() validationMessage: string;\n\n  /** Specifies the validation icon to display under the component. */\n  @Prop({ reflect: true }) validationIcon: IconNameOrString | boolean;\n\n  /**\n   * The current validation state of the component.\n   *\n   * @readonly\n   * @mdn [ValidityState](https://developer.mozilla.org/en-US/docs/Web/API/ValidityState)\n   */\n  // eslint-disable-next-line @stencil-community/strict-mutable -- updated in form util when syncing hidden input\n  @Prop({ mutable: true }) validity: MutableValidityState = {\n    valid: false,\n    badInput: false,\n    customError: false,\n    patternMismatch: false,\n    rangeOverflow: false,\n    rangeUnderflow: false,\n    stepMismatch: false,\n    tooLong: false,\n    tooShort: false,\n    typeMismatch: false,\n    valueMissing: false,\n  };\n\n  /**\n   * Specifies the name of the component.\n   *\n   * Required to pass the component's `value` on form submission.\n   */\n  @Prop({ reflect: true }) name: string;\n\n  /** When `true`, allows entry of custom values, which are not in the original set of items. */\n  @Prop({ reflect: true }) allowCustomValues: boolean;\n\n  /**\n   * Determines the type of positioning to use for the overlaid content.\n   *\n   * Using `\"absolute\"` will work for most cases. The component will be positioned inside of overflowing parent containers and will affect the container's layout.\n   *\n   * `\"fixed\"` should be used to escape an overflowing parent container, or when the reference element's `position` CSS property is `\"fixed\"`.\n   *\n   */\n  @Prop({ reflect: true }) overlayPositioning: OverlayPositioning = \"absolute\";\n\n  @Watch(\"overlayPositioning\")\n  overlayPositioningHandler(): void {\n    this.reposition(true);\n  }\n\n  /** When `true`, the component must have a value in order for the form to submit. */\n  @Prop({ reflect: true }) required = false;\n\n  /**\n   * Specifies the selection mode of the component, where:\n   *\n   * `\"multiple\"` allows any number of selections,\n   *\n   * `\"single\"` allows only one selection,\n   *\n   * `\"single-persist\"` allows one selection and prevents de-selection, and\n   *\n   * `\"ancestors\"` allows multiple selections, but shows ancestors of selected items as selected, with only deepest children shown in chips.\n   */\n  @Prop({ reflect: true }) selectionMode: Extract<\n    \"single\" | \"single-persist\" | \"ancestors\" | \"multiple\",\n    SelectionMode\n  > = \"multiple\";\n\n  /** Specifies the size of the component. */\n  @Prop({ reflect: true }) scale: Scale = \"m\";\n\n  /** Specifies the status of the input field, which determines message and icons. */\n  @Prop({ reflect: true }) status: Status = \"idle\";\n\n  @Watch(\"selectionMode\")\n  @Watch(\"scale\")\n  handlePropsChange(): void {\n    this.updateItems();\n  }\n\n  /** The component's value(s) from the selected `calcite-combobox-item`(s). */\n  @Prop({ mutable: true }) value: string | string[] = null;\n\n  @Watch(\"value\")\n  valueHandler(value: string | string[]): void {\n    if (!this.internalValueChangeFlag) {\n      const items = this.getItems();\n      if (Array.isArray(value)) {\n        items.forEach((item) => (item.selected = value.includes(item.value)));\n      } else if (value) {\n        items.forEach((item) => (item.selected = value === item.value));\n      } else {\n        items.forEach((item) => (item.selected = false));\n      }\n      this.updateItems();\n    }\n  }\n\n  /**\n   * Defines the available placements that can be used when a flip occurs.\n   */\n  @Prop() flipPlacements: FlipPlacement[];\n\n  /**\n   * Made into a prop for testing purposes only\n   *\n   * @internal\n   */\n  // eslint-disable-next-line @stencil-community/strict-mutable -- updated by t9n module\n  @Prop({ mutable: true }) messages: ComboboxMessages;\n\n  /**\n   * Use this property to override individual strings used by the component.\n   */\n  // eslint-disable-next-line @stencil-community/strict-mutable -- updated by t9n module\n  @Prop({ mutable: true }) messageOverrides: Partial<ComboboxMessages>;\n\n  @Watch(\"messageOverrides\")\n  onMessagesChange(): void {\n    /*  wired up by t9n util */\n  }\n\n  @Watch(\"flipPlacements\")\n  flipPlacementsHandler(): void {\n    this.setFilteredPlacements();\n    this.reposition(true);\n  }\n\n  /**\n   * Specifies the component's selected items.\n   *\n   * @readonly\n   */\n  @Prop({ mutable: true }) selectedItems: HTMLCalciteComboboxItemElement[] = [];\n\n  @Watch(\"selectedItems\")\n  selectedItemsHandler(): void {\n    this.internalValueChangeFlag = true;\n    this.value = this.getValue();\n    this.internalValueChangeFlag = false;\n  }\n\n  /**\n   * Specifies the component's filtered items.\n   *\n   * @readonly\n   */\n  @Prop({ mutable: true }) filteredItems: HTMLCalciteComboboxItemElement[] = [];\n\n  /**\n   * When `true`, the component's value can be read, but controls are not accessible and the value cannot be modified.\n   */\n  @Prop({ reflect: true }) readOnly = false;\n\n  //--------------------------------------------------------------------------\n  //\n  //  Event Listeners\n  //\n  //--------------------------------------------------------------------------\n\n  @Listen(\"click\", { target: \"document\" })\n  async documentClickHandler(event: PointerEvent): Promise<void> {\n    if (this.disabled || event.composedPath().includes(this.el)) {\n      return;\n    }\n\n    await componentOnReady(this.el);\n\n    if (!this.allowCustomValues && this.filterText) {\n      this.clearInputValue();\n      this.filterItems(\"\");\n      this.updateActiveItemIndex(-1);\n    }\n\n    if (this.allowCustomValues && this.filterText.trim().length) {\n      this.addCustomChip(this.filterText);\n    }\n\n    this.open = false;\n  }\n\n  @Listen(\"calciteComboboxItemChange\")\n  calciteComboboxItemChangeHandler(event: CustomEvent<HTMLCalciteComboboxItemElement>): void {\n    if (this.ignoreSelectedEventsFlag) {\n      return;\n    }\n\n    const target = event.target as HTMLCalciteComboboxItemElement;\n    const newIndex = this.filteredItems.indexOf(target);\n    this.updateActiveItemIndex(newIndex);\n    this.toggleSelection(target, target.selected);\n  }\n\n  @Listen(\"calciteInternalComboboxItemChange\")\n  calciteInternalComboboxItemChangeHandler(\n    event: CustomEvent<HTMLCalciteComboboxItemElement>,\n  ): void {\n    event.stopPropagation();\n    this.updateItems();\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * Updates the position of the component.\n   *\n   * @param delayed Reposition the component after a delay\n   * @returns Promise\n   */\n  @Method()\n  async reposition(delayed = false): Promise<void> {\n    const { floatingEl, referenceEl, placement, overlayPositioning, filteredFlipPlacements } = this;\n\n    return reposition(\n      this,\n      {\n        floatingEl,\n        referenceEl,\n        overlayPositioning,\n        placement,\n        flipPlacements: filteredFlipPlacements,\n        type: \"menu\",\n      },\n      delayed,\n    );\n  }\n\n  /** Sets focus on the component. */\n  @Method()\n  async setFocus(): Promise<void> {\n    await componentFocusable(this);\n\n    this.textInput?.focus();\n    this.activeChipIndex = -1;\n    this.activeItemIndex = -1;\n  }\n\n  // --------------------------------------------------------------------------\n  //\n  //  Events\n  //\n  // --------------------------------------------------------------------------\n\n  /**\n   * Fires when the selected item(s) changes.\n   */\n  @Event({ cancelable: false }) calciteComboboxChange: EventEmitter<void>;\n\n  /** Fires when text is added to filter the options list. */\n  @Event({ cancelable: false }) calciteComboboxFilterChange: EventEmitter<void>;\n\n  /**\n   * Fires when a selected item in the component is closed via its `calcite-chip`.\n   */\n  @Event({ cancelable: false }) calciteComboboxChipClose: EventEmitter<void>;\n\n  /** Fires when the component is requested to be closed, and before the closing transition begins. */\n  @Event({ cancelable: false }) calciteComboboxBeforeClose: EventEmitter<void>;\n\n  /** Fires when the component is closed and animation is complete. */\n  @Event({ cancelable: false }) calciteComboboxClose: EventEmitter<void>;\n\n  /** Fires when the component is added to the DOM but not rendered, and before the opening transition begins. */\n  @Event({ cancelable: false }) calciteComboboxBeforeOpen: EventEmitter<void>;\n\n  /** Fires when the component is open and animation is complete. */\n  @Event({ cancelable: false }) calciteComboboxOpen: EventEmitter<void>;\n\n  // --------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  // --------------------------------------------------------------------------\n\n  connectedCallback(): void {\n    connectInteractive(this);\n    connectLocalized(this);\n    connectMessages(this);\n    connectLabel(this);\n    connectForm(this);\n\n    this.internalValueChangeFlag = true;\n    this.value = this.getValue();\n    this.internalValueChangeFlag = false;\n    this.mutationObserver?.observe(this.el, { childList: true, subtree: true });\n\n    this.updateItems();\n    this.setFilteredPlacements();\n\n    if (this.open) {\n      this.openHandler();\n      onToggleOpenCloseComponent(this);\n    }\n\n    connectFloatingUI(this, this.referenceEl, this.floatingEl);\n  }\n\n  async componentWillLoad(): Promise<void> {\n    setUpLoadableComponent(this);\n    this.updateItems();\n    await setUpMessages(this);\n    this.filterItems(this.filterText, false, false);\n  }\n\n  componentDidLoad(): void {\n    afterConnectDefaultValueSet(this, this.getValue());\n    connectFloatingUI(this, this.referenceEl, this.floatingEl);\n    setComponentLoaded(this);\n  }\n\n  componentDidRender(): void {\n    if (this.el.offsetHeight !== this.inputHeight) {\n      this.reposition(true);\n      this.inputHeight = this.el.offsetHeight;\n    }\n\n    updateHostInteraction(this);\n  }\n\n  componentDidUpdate(): void {\n    this.refreshSelectionDisplay();\n  }\n\n  disconnectedCallback(): void {\n    this.mutationObserver?.disconnect();\n    this.resizeObserver?.disconnect();\n    disconnectInteractive(this);\n    disconnectLabel(this);\n    disconnectForm(this);\n    disconnectFloatingUI(this, this.referenceEl, this.floatingEl);\n    disconnectLocalized(this);\n    disconnectMessages(this);\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private State/Props\n  //\n  //--------------------------------------------------------------------------\n\n  @Element() el: HTMLCalciteComboboxElement;\n\n  private allSelectedIndicatorChipEl: HTMLCalciteChipElement;\n\n  private filterTextMatchPattern: RegExp;\n\n  placement: LogicalPlacement = defaultMenuPlacement;\n\n  filteredFlipPlacements: FlipPlacement[];\n\n  internalValueChangeFlag = false;\n\n  labelEl: HTMLCalciteLabelElement;\n\n  formEl: HTMLFormElement;\n\n  defaultValue: Combobox[\"value\"];\n\n  @State() items: HTMLCalciteComboboxItemElement[] = [];\n\n  @State() groupItems: HTMLCalciteComboboxItemGroupElement[] = [];\n\n  @State() needsIcon: boolean;\n\n  @State() activeItemIndex = -1;\n\n  @State() activeChipIndex = -1;\n\n  @State() activeDescendant = \"\";\n\n  @State() compactSelectionDisplay = false;\n\n  @State() selectedHiddenChipsCount = 0;\n\n  @State() selectedVisibleChipsCount = 0;\n\n  @State() effectiveLocale: string;\n\n  @Watch(\"effectiveLocale\")\n  effectiveLocaleChange(): void {\n    updateMessages(this, this.effectiveLocale);\n  }\n\n  @State() defaultMessages: ComboboxMessages;\n\n  textInput: HTMLInputElement = null;\n\n  private data: ItemData[];\n\n  mutationObserver = createObserver(\"mutation\", () => this.updateItems());\n\n  private resizeObserver = createObserver(\"resize\", () => {\n    this.setMaxScrollerHeight();\n    this.refreshSelectionDisplay();\n  });\n\n  private guid = guid();\n\n  private inputHeight = 0;\n\n  private floatingEl: HTMLDivElement;\n\n  private referenceEl: HTMLDivElement;\n\n  private chipContainerEl: HTMLDivElement;\n\n  private listContainerEl: HTMLDivElement;\n\n  private ignoreSelectedEventsFlag = false;\n\n  private maxCompactBreakpoint: number;\n\n  openTransitionProp = \"opacity\";\n\n  private selectedIndicatorChipEl: HTMLCalciteChipElement;\n\n  transitionEl: HTMLDivElement;\n\n  // --------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  // --------------------------------------------------------------------------\n\n  private clearValue(): void {\n    this.ignoreSelectedEventsFlag = true;\n    this.items.forEach((el) => (el.selected = false));\n    this.ignoreSelectedEventsFlag = false;\n    this.selectedItems = [];\n    this.emitComboboxChange();\n    this.open = false;\n    this.updateActiveItemIndex(-1);\n    this.resetText();\n    this.filterItems(\"\");\n    this.setFocus();\n  }\n\n  private clearInputValue(): void {\n    this.textInput.value = \"\";\n    this.filterText = \"\";\n  }\n\n  setFilteredPlacements = (): void => {\n    const { el, flipPlacements } = this;\n\n    this.filteredFlipPlacements = flipPlacements\n      ? filterValidFlipPlacements(flipPlacements, el)\n      : null;\n  };\n\n  getValue = (): string | string[] => {\n    const items = this.selectedItems.map((item) => item?.value?.toString());\n    return items?.length ? (items.length > 1 ? items : items[0]) : \"\";\n  };\n\n  onLabelClick = (): void => {\n    this.setFocus();\n  };\n\n  private comboboxInViewport(): boolean {\n    const bounding = this.el.getBoundingClientRect();\n    return (\n      bounding.top >= 0 &&\n      bounding.left >= 0 &&\n      bounding.right <= (window.innerWidth || document.documentElement.clientWidth) &&\n      bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight)\n    );\n  }\n\n  private keyDownHandler = (event: KeyboardEvent): void => {\n    if (this.readOnly) {\n      return;\n    }\n\n    const { key } = event;\n\n    switch (key) {\n      case \"Tab\":\n        this.activeChipIndex = -1;\n        this.activeItemIndex = -1;\n        if (this.allowCustomValues && this.filterText) {\n          this.addCustomChip(this.filterText, true);\n          event.preventDefault();\n        } else if (this.open) {\n          this.open = false;\n          event.preventDefault();\n        } else if (!this.allowCustomValues && this.filterText) {\n          this.clearInputValue();\n          this.filterItems(\"\");\n          this.updateActiveItemIndex(-1);\n        }\n        break;\n      case \"ArrowLeft\":\n        if (this.activeChipIndex !== -1 || this.textInput.selectionStart === 0) {\n          this.previousChip();\n          event.preventDefault();\n        }\n        break;\n      case \"ArrowRight\":\n        if (this.activeChipIndex !== -1) {\n          this.nextChip();\n          event.preventDefault();\n        }\n        break;\n      case \"ArrowUp\":\n        if (this.filteredItems.length) {\n          event.preventDefault();\n          if (this.open) {\n            this.shiftActiveItemIndex(-1);\n          }\n\n          if (!this.comboboxInViewport()) {\n            this.el.scrollIntoView();\n          }\n        }\n        break;\n      case \"ArrowDown\":\n        if (this.filteredItems.length) {\n          event.preventDefault();\n          if (this.open) {\n            this.shiftActiveItemIndex(1);\n          } else {\n            this.open = true;\n            this.ensureRecentSelectedItemIsActive();\n          }\n\n          if (!this.comboboxInViewport()) {\n            this.el.scrollIntoView();\n          }\n        }\n        break;\n      case \" \":\n        if (!this.textInput.value && !event.defaultPrevented) {\n          if (!this.open) {\n            this.open = true;\n            this.shiftActiveItemIndex(1);\n          }\n          event.preventDefault();\n        }\n        break;\n      case \"Home\":\n        if (!this.open) {\n          return;\n        }\n        event.preventDefault();\n        this.updateActiveItemIndex(0);\n        this.scrollToActiveItem();\n        if (!this.comboboxInViewport()) {\n          this.el.scrollIntoView();\n        }\n        break;\n      case \"End\":\n        if (!this.open) {\n          return;\n        }\n        event.preventDefault();\n        this.updateActiveItemIndex(this.filteredItems.length - 1);\n        this.scrollToActiveItem();\n        if (!this.comboboxInViewport()) {\n          this.el.scrollIntoView();\n        }\n        break;\n      case \"Escape\":\n        if (!this.clearDisabled && !this.open) {\n          this.clearValue();\n        }\n\n        this.open = false;\n        event.preventDefault();\n        break;\n      case \"Enter\":\n        if (this.open && this.activeItemIndex > -1) {\n          this.toggleSelection(this.filteredItems[this.activeItemIndex]);\n          event.preventDefault();\n        } else if (this.activeChipIndex > -1) {\n          this.removeActiveChip();\n          event.preventDefault();\n        } else if (this.allowCustomValues && this.filterText) {\n          this.addCustomChip(this.filterText, true);\n          event.preventDefault();\n        } else if (!event.defaultPrevented) {\n          if (submitForm(this)) {\n            event.preventDefault();\n          }\n        }\n        break;\n      case \"Delete\":\n      case \"Backspace\": {\n        const notDeletable =\n          this.selectionDisplay === \"single\" ||\n          (this.selectionDisplay === \"fit\" && this.selectedHiddenChipsCount > 0);\n        if (notDeletable) {\n          return;\n        }\n        if (this.activeChipIndex > -1) {\n          event.preventDefault();\n          this.removeActiveChip();\n        } else if (!this.filterText && this.isMulti()) {\n          event.preventDefault();\n          this.removeLastChip();\n        }\n        break;\n      }\n    }\n  };\n\n  private toggleCloseEnd = (): void => {\n    this.open = false;\n    this.el.removeEventListener(\"calciteComboboxClose\", this.toggleCloseEnd);\n  };\n\n  private toggleOpenEnd = (): void => {\n    this.open = false;\n    this.el.removeEventListener(\"calciteComboboxOpen\", this.toggleOpenEnd);\n  };\n\n  onBeforeOpen(): void {\n    this.scrollToActiveItem();\n    this.calciteComboboxBeforeOpen.emit();\n  }\n\n  onOpen(): void {\n    this.calciteComboboxOpen.emit();\n  }\n\n  onBeforeClose(): void {\n    this.calciteComboboxBeforeClose.emit();\n  }\n\n  onClose(): void {\n    this.calciteComboboxClose.emit();\n  }\n\n  setMaxScrollerHeight = async (): Promise<void> => {\n    const { listContainerEl, open, referenceEl } = this;\n\n    if (!listContainerEl || !open) {\n      return;\n    }\n\n    await this.reposition(true);\n    const maxScrollerHeight = this.getMaxScrollerHeight();\n    listContainerEl.style.maxHeight = maxScrollerHeight > 0 ? `${maxScrollerHeight}px` : \"\";\n    listContainerEl.style.minWidth = `${referenceEl.clientWidth}px`;\n    await this.reposition(true);\n  };\n\n  calciteChipCloseHandler = (comboboxItem: HTMLCalciteComboboxItemElement): void => {\n    this.open = false;\n\n    const selection = this.items.find((item) => item === comboboxItem);\n\n    if (selection) {\n      this.toggleSelection(selection, false);\n    }\n\n    this.calciteComboboxChipClose.emit();\n  };\n\n  clickHandler = (event: MouseEvent): void => {\n    if (this.readOnly) {\n      return;\n    }\n\n    const composedPath = event.composedPath();\n\n    if (composedPath.some((node: HTMLElement) => node.tagName === \"CALCITE-CHIP\")) {\n      this.open = false;\n      event.preventDefault();\n      return;\n    }\n\n    if (composedPath.some((node: HTMLElement) => node.classList?.contains(XButtonCSS.button))) {\n      this.clearValue();\n      event.preventDefault();\n      return;\n    }\n\n    this.open = !this.open;\n    this.ensureRecentSelectedItemIsActive();\n  };\n\n  private ensureRecentSelectedItemIsActive(): void {\n    const { selectedItems } = this;\n    const targetIndex =\n      selectedItems.length === 0 ? 0 : this.items.indexOf(selectedItems[selectedItems.length - 1]);\n\n    this.updateActiveItemIndex(targetIndex);\n  }\n\n  private hideChip(chipEl: HTMLCalciteChipElement): void {\n    chipEl.classList.add(CSS.chipInvisible);\n  }\n\n  private showChip(chipEl: HTMLCalciteChipElement): void {\n    chipEl.classList.remove(CSS.chipInvisible);\n  }\n\n  private refreshChipDisplay({\n    chipEls,\n    availableHorizontalChipElSpace,\n    chipContainerElGap,\n  }): void {\n    chipEls.forEach((chipEl: HTMLCalciteChipElement) => {\n      if (!chipEl.selected) {\n        this.hideChip(chipEl);\n      } else {\n        const chipElWidth = getElementWidth(chipEl);\n        if (chipElWidth && chipElWidth < availableHorizontalChipElSpace) {\n          availableHorizontalChipElSpace -= chipElWidth + chipContainerElGap;\n          this.showChip(chipEl);\n          return;\n        }\n      }\n      this.hideChip(chipEl);\n    });\n  }\n\n  private refreshSelectionDisplay = async () => {\n    await componentLoaded(this);\n\n    if (isSingleLike(this.selectionMode)) {\n      return;\n    }\n\n    if (!this.textInput) {\n      return;\n    }\n\n    const {\n      allSelectedIndicatorChipEl,\n      chipContainerEl,\n      selectionDisplay,\n      placeholder,\n      selectedIndicatorChipEl,\n      textInput,\n    } = this;\n\n    const chipContainerElGap = parseInt(getComputedStyle(chipContainerEl).gap.replace(\"px\", \"\"));\n    const chipContainerElWidth = getElementWidth(chipContainerEl);\n    const { fontSize, fontFamily } = getComputedStyle(textInput);\n    const inputTextWidth = getTextWidth(placeholder, `${fontSize} ${fontFamily}`);\n    const inputWidth = (inputTextWidth || parseInt(calciteSize48)) + chipContainerElGap;\n    const allSelectedIndicatorChipElWidth = getElementWidth(allSelectedIndicatorChipEl);\n    const selectedIndicatorChipElWidth = getElementWidth(selectedIndicatorChipEl);\n    const largestSelectedIndicatorChipWidth = Math.max(\n      allSelectedIndicatorChipElWidth,\n      selectedIndicatorChipElWidth,\n    );\n\n    this.setCompactSelectionDisplay({\n      chipContainerElGap,\n      chipContainerElWidth,\n      inputWidth,\n      largestSelectedIndicatorChipWidth,\n    });\n\n    if (selectionDisplay === \"fit\") {\n      const chipEls = Array.from(this.el.shadowRoot.querySelectorAll(\"calcite-chip\")).filter(\n        (chipEl) => chipEl.closable,\n      );\n\n      const availableHorizontalChipElSpace = Math.round(\n        chipContainerElWidth -\n          ((this.selectedHiddenChipsCount > 0 ? selectedIndicatorChipElWidth : 0) +\n            chipContainerElGap +\n            inputWidth +\n            chipContainerElGap),\n      );\n\n      this.refreshChipDisplay({ availableHorizontalChipElSpace, chipContainerElGap, chipEls });\n      this.setVisibleAndHiddenChips(chipEls);\n    }\n  };\n\n  setFloatingEl = (el: HTMLDivElement): void => {\n    this.floatingEl = el;\n    connectFloatingUI(this, this.referenceEl, this.floatingEl);\n  };\n\n  private setCompactSelectionDisplay({\n    chipContainerElGap,\n    chipContainerElWidth,\n    inputWidth,\n    largestSelectedIndicatorChipWidth,\n  }): void {\n    const newCompactBreakpoint = Math.round(\n      largestSelectedIndicatorChipWidth + chipContainerElGap + inputWidth,\n    );\n    if (!this.maxCompactBreakpoint || this.maxCompactBreakpoint < newCompactBreakpoint) {\n      this.maxCompactBreakpoint = newCompactBreakpoint;\n    }\n    this.compactSelectionDisplay = chipContainerElWidth < this.maxCompactBreakpoint;\n  }\n\n  setContainerEl = (el: HTMLDivElement): void => {\n    this.resizeObserver.observe(el);\n    this.listContainerEl = el;\n    this.transitionEl = el;\n  };\n\n  setChipContainerEl = (el: HTMLDivElement): void => {\n    this.resizeObserver.observe(el);\n    this.chipContainerEl = el;\n  };\n\n  setReferenceEl = (el: HTMLDivElement): void => {\n    this.referenceEl = el;\n    connectFloatingUI(this, this.referenceEl, this.floatingEl);\n  };\n\n  setAllSelectedIndicatorChipEl = (el: HTMLCalciteChipElement): void => {\n    this.allSelectedIndicatorChipEl = el;\n  };\n\n  setSelectedIndicatorChipEl = (el: HTMLCalciteChipElement): void => {\n    this.selectedIndicatorChipEl = el;\n  };\n\n  private setVisibleAndHiddenChips(chipEls: HTMLCalciteChipElement[]): void {\n    let newSelectedVisibleChipsCount = 0;\n    chipEls.forEach((chipEl) => {\n      if (chipEl.selected && !chipEl.classList.contains(CSS.chipInvisible)) {\n        newSelectedVisibleChipsCount++;\n      }\n    });\n    if (newSelectedVisibleChipsCount !== this.selectedVisibleChipsCount) {\n      this.selectedVisibleChipsCount = newSelectedVisibleChipsCount;\n    }\n    const newSelectedHiddenChipsCount =\n      this.getSelectedItems().length - newSelectedVisibleChipsCount;\n    if (newSelectedHiddenChipsCount !== this.selectedHiddenChipsCount) {\n      this.selectedHiddenChipsCount = newSelectedHiddenChipsCount;\n    }\n  }\n\n  private getMaxScrollerHeight(): number {\n    const items = this.getItemsAndGroups().filter((item) => !item.hidden);\n\n    const { maxItems } = this;\n\n    let itemsToProcess = 0;\n    let maxScrollerHeight = 0;\n\n    if (items.length > maxItems) {\n      items.forEach((item) => {\n        if (itemsToProcess < maxItems) {\n          const height = this.calculateScrollerHeight(item);\n          if (height > 0) {\n            maxScrollerHeight += height;\n            itemsToProcess++;\n          }\n        }\n      });\n    }\n\n    return maxScrollerHeight;\n  }\n\n  private calculateScrollerHeight(item: ComboboxChildElement): number {\n    if (!item) {\n      return;\n    }\n\n    // if item has children items, don't count their height twice\n    const parentHeight = item.getBoundingClientRect().height;\n    const childrenTotalHeight = Array.from(\n      item.querySelectorAll<ComboboxChildElement>(ComboboxChildSelector),\n    ).reduce((total, child) => total + child.getBoundingClientRect().height, 0);\n\n    return parentHeight - childrenTotalHeight;\n  }\n\n  inputHandler = (event: Event): void => {\n    const value = (event.target as HTMLInputElement).value;\n    this.filterText = value;\n  };\n\n  getItemsAndGroups(): ComboboxChildElement[] {\n    return [...this.groupItems, ...this.items];\n  }\n\n  private filterItems = (() => {\n    const find = (item: ComboboxChildElement, filteredData: ItemData[]) =>\n      item &&\n      filteredData.some(({ label, value }) =>\n        isGroup(item) ? label === item.label : value === item.value && label === item.textLabel,\n      );\n\n    return debounce((text: string, setOpenToEmptyState = false, emit = true): void => {\n      const filteredData = filter(this.data, text);\n      const itemsAndGroups = this.getItemsAndGroups();\n\n      const matchAll = text === \"\";\n\n      itemsAndGroups.forEach((item) => {\n        if (matchAll) {\n          item.hidden = false;\n          return;\n        }\n\n        const hidden = !find(item, filteredData);\n        item.hidden = hidden;\n        const [parent, grandparent] = item.ancestors;\n\n        if (find(parent, filteredData) || find(grandparent, filteredData)) {\n          item.hidden = false;\n        }\n\n        if (!hidden) {\n          item.ancestors.forEach((ancestor) => (ancestor.hidden = false));\n        }\n      });\n\n      this.filterTextMatchPattern =\n        this.filterText && new RegExp(`(${escapeRegExp(this.filterText)})`, \"i\");\n\n      this.filteredItems = this.getFilteredItems();\n      this.filteredItems.forEach((item) => {\n        item.filterTextMatchPattern = this.filterTextMatchPattern;\n      });\n\n      if (setOpenToEmptyState) {\n        this.open = this.filterText.trim().length > 0 && this.filteredItems.length > 0;\n      }\n\n      if (emit) {\n        this.calciteComboboxFilterChange.emit();\n      }\n    }, DEBOUNCE.filter);\n  })();\n\n  internalComboboxChangeEvent = (): void => {\n    this.calciteComboboxChange.emit();\n  };\n\n  private emitComboboxChange = debounce(this.internalComboboxChangeEvent, 0);\n\n  toggleSelection(item: HTMLCalciteComboboxItemElement, value = !item.selected): void {\n    if (\n      !item ||\n      (this.selectionMode === \"single-persist\" && item.selected && item.value === this.value)\n    ) {\n      return;\n    }\n\n    if (this.isMulti()) {\n      item.selected = value;\n      this.updateAncestors(item);\n      this.selectedItems = this.getSelectedItems();\n      this.emitComboboxChange();\n      this.resetText();\n      this.filterItems(\"\");\n    } else {\n      this.ignoreSelectedEventsFlag = true;\n      this.items.forEach((el) => (el.selected = el === item ? value : false));\n      this.ignoreSelectedEventsFlag = false;\n      this.selectedItems = this.getSelectedItems();\n      this.emitComboboxChange();\n\n      if (this.textInput) {\n        this.textInput.value = getLabel(item);\n      }\n      this.open = false;\n      this.updateActiveItemIndex(-1);\n      this.resetText();\n      this.filterItems(\"\");\n    }\n  }\n\n  updateAncestors(item: HTMLCalciteComboboxItemElement): void {\n    if (this.selectionMode !== \"ancestors\") {\n      return;\n    }\n    const ancestors = getItemAncestors(item);\n    const children = getItemChildren(item);\n    if (item.selected) {\n      ancestors.forEach((el) => {\n        (el as HTMLCalciteComboboxItemElement).selected = true;\n      });\n    } else {\n      children.forEach((el) => (el.selected = false));\n      [...ancestors].forEach((el) => {\n        if (!hasActiveChildren(el)) {\n          el.selected = false;\n        }\n      });\n    }\n  }\n\n  getFilteredItems(): HTMLCalciteComboboxItemElement[] {\n    return this.filterText === \"\" ? this.items : this.items.filter((item) => !item.hidden);\n  }\n\n  private getSelectedItems = (): HTMLCalciteComboboxItemElement[] => {\n    if (!this.isMulti()) {\n      const match = this.items.find(({ selected }) => selected);\n      return match ? [match] : [];\n    }\n\n    return (\n      this.items\n        .filter(\n          (item) =>\n            item.selected && (this.selectionMode !== \"ancestors\" || !hasActiveChildren(item)),\n        )\n        /** Preserve order of entered tags */\n        .sort((a, b) => {\n          const aIdx = this.selectedItems.indexOf(a);\n          const bIdx = this.selectedItems.indexOf(b);\n          if (aIdx > -1 && bIdx > -1) {\n            return aIdx - bIdx;\n          }\n          return bIdx - aIdx;\n        })\n    );\n  };\n\n  private updateItems = (): void => {\n    this.items = this.getItems();\n    this.groupItems = this.getGroupItems();\n    this.data = this.getData();\n    this.selectedItems = this.getSelectedItems();\n    this.filteredItems = this.getFilteredItems();\n    this.needsIcon = this.getNeedsIcon();\n\n    this.items.forEach((item) => {\n      item.selectionMode = this.selectionMode;\n      item.scale = this.scale;\n    });\n\n    if (!this.allowCustomValues) {\n      this.setMaxScrollerHeight();\n    }\n\n    this.groupItems.forEach((groupItem, index, items) => {\n      if (index === 0) {\n        groupItem.afterEmptyGroup = false;\n      }\n\n      const nextGroupItem = items[index + 1];\n\n      if (nextGroupItem) {\n        nextGroupItem.afterEmptyGroup = groupItem.children.length === 0;\n      }\n    });\n  };\n\n  getData(): ItemData[] {\n    return this.items.map((item) => ({\n      description: item.description,\n      filterDisabled: item.filterDisabled,\n      label: item.textLabel,\n      metadata: item.metadata,\n      shortHeading: item.shortHeading,\n      value: item.value,\n    }));\n  }\n\n  getNeedsIcon(): boolean {\n    return isSingleLike(this.selectionMode) && this.items.some((item) => item.icon);\n  }\n\n  resetText(): void {\n    if (this.textInput) {\n      this.textInput.value = \"\";\n    }\n    this.filterText = \"\";\n  }\n\n  getItems(): HTMLCalciteComboboxItemElement[] {\n    const items: HTMLCalciteComboboxItemElement[] = Array.from(\n      this.el.querySelectorAll(ComboboxItem),\n    );\n    return items.filter((item) => !item.disabled);\n  }\n\n  getGroupItems(): HTMLCalciteComboboxItemGroupElement[] {\n    return Array.from(this.el.querySelectorAll(ComboboxItemGroup));\n  }\n\n  addCustomChip(value: string, focus?: boolean): void {\n    const existingItem = this.items.find((el) => el.textLabel === value);\n    if (existingItem) {\n      this.toggleSelection(existingItem, true);\n    } else {\n      if (!this.isMulti()) {\n        this.toggleSelection(this.selectedItems[this.selectedItems.length - 1], false);\n      }\n      const item = document.createElement(\"calcite-combobox-item\");\n      item.value = value;\n      item.textLabel = value;\n      item.selected = true;\n      this.el.prepend(item);\n      this.resetText();\n      if (focus) {\n        this.setFocus();\n      }\n      this.updateItems();\n      this.filterItems(\"\");\n      this.open = true;\n      this.emitComboboxChange();\n    }\n  }\n\n  removeActiveChip(): void {\n    this.toggleSelection(this.selectedItems[this.activeChipIndex], false);\n    this.setFocus();\n  }\n\n  removeLastChip(): void {\n    this.toggleSelection(this.selectedItems[this.selectedItems.length - 1], false);\n    this.setFocus();\n  }\n\n  previousChip(): void {\n    const length = this.selectedItems.length - 1;\n    const active = this.activeChipIndex;\n    this.activeChipIndex = active === -1 ? length : Math.max(active - 1, 0);\n    this.updateActiveItemIndex(-1);\n    this.focusChip();\n  }\n\n  nextChip(): void {\n    const last = this.selectedItems.length - 1;\n    const newIndex = this.activeChipIndex + 1;\n    if (newIndex > last) {\n      this.activeChipIndex = -1;\n      this.setFocus();\n    } else {\n      this.activeChipIndex = newIndex;\n      this.focusChip();\n    }\n    this.updateActiveItemIndex(-1);\n  }\n\n  focusChip(): void {\n    const guid = this.selectedItems[this.activeChipIndex]?.guid;\n\n    const chip = guid\n      ? this.referenceEl.querySelector<HTMLCalciteChipElement>(`#${chipUidPrefix}${guid}`)\n      : null;\n    chip?.setFocus();\n  }\n\n  private scrollToActiveItem = (): void => {\n    const activeItem = this.filteredItems[this.activeItemIndex];\n\n    if (!activeItem) {\n      return;\n    }\n\n    const height = this.calculateScrollerHeight(activeItem);\n    const { offsetHeight, scrollTop } = this.listContainerEl;\n    if (offsetHeight + scrollTop < activeItem.offsetTop + height) {\n      this.listContainerEl.scrollTop = activeItem.offsetTop - offsetHeight + height;\n    } else if (activeItem.offsetTop < scrollTop) {\n      this.listContainerEl.scrollTop = activeItem.offsetTop;\n    }\n  };\n\n  shiftActiveItemIndex(delta: number): void {\n    const { length } = this.filteredItems;\n    const newIndex = (this.activeItemIndex + length + delta) % length;\n    this.updateActiveItemIndex(newIndex);\n    this.scrollToActiveItem();\n  }\n\n  updateActiveItemIndex(index: number): void {\n    this.activeItemIndex = index;\n    let activeDescendant: string = null;\n    this.filteredItems.forEach((el, i) => {\n      if (i === index) {\n        el.active = true;\n        activeDescendant = `${itemUidPrefix}${el.guid}`;\n      } else {\n        el.active = false;\n      }\n    });\n    this.activeDescendant = activeDescendant;\n    if (this.activeItemIndex > -1) {\n      this.activeChipIndex = -1;\n    }\n  }\n\n  private isAllSelected(): boolean {\n    return this.getItems().length === this.getSelectedItems().length;\n  }\n\n  isMulti(): boolean {\n    return !isSingleLike(this.selectionMode);\n  }\n\n  comboboxFocusHandler = (): void => {\n    if (this.disabled) {\n      return;\n    }\n\n    this.textInput?.focus();\n  };\n\n  //--------------------------------------------------------------------------\n  //\n  //  Render Methods\n  //\n  //--------------------------------------------------------------------------\n\n  renderChips(): VNode[] {\n    const { activeChipIndex, readOnly, scale, selectionMode, messages } = this;\n    return this.selectedItems.map((item, i) => {\n      const chipClasses = {\n        chip: true,\n        \"chip--active\": activeChipIndex === i,\n      };\n      const ancestors = [...getItemAncestors(item)].reverse();\n      const itemLabel = getLabel(item);\n      const pathLabel = [...ancestors, item].map((el) => getLabel(el));\n      const label = selectionMode !== \"ancestors\" ? itemLabel : pathLabel.join(\" / \");\n\n      return (\n        <calcite-chip\n          appearance={readOnly ? \"outline\" : \"solid\"}\n          class={chipClasses}\n          closable={!readOnly}\n          data-test-id={`chip-${i}`}\n          icon={item.icon}\n          iconFlipRtl={item.iconFlipRtl}\n          id={item.guid ? `${chipUidPrefix}${item.guid}` : null}\n          key={itemLabel}\n          messageOverrides={{ dismissLabel: messages.removeTag }}\n          onCalciteChipClose={() => this.calciteChipCloseHandler(item)}\n          onFocusin={() => (this.activeChipIndex = i)}\n          scale={scale}\n          selected={item.selected}\n          tabindex={activeChipIndex === i ? 0 : -1}\n          title={label}\n          value={item.value}\n        >\n          {label}\n        </calcite-chip>\n      );\n    });\n  }\n\n  renderAllSelectedIndicatorChip(): VNode {\n    const {\n      compactSelectionDisplay,\n      scale,\n      selectedVisibleChipsCount,\n      setAllSelectedIndicatorChipEl,\n    } = this;\n    const label = this.messages.allSelected;\n    return (\n      <calcite-chip\n        class={{\n          chip: true,\n          [CSS.chipInvisible]: !(\n            this.isAllSelected() &&\n            !selectedVisibleChipsCount &&\n            !compactSelectionDisplay\n          ),\n        }}\n        ref={setAllSelectedIndicatorChipEl}\n        scale={scale}\n        title={label}\n        value=\"\"\n      >\n        {label}\n      </calcite-chip>\n    );\n  }\n\n  renderAllSelectedIndicatorChipCompact(): VNode {\n    const { compactSelectionDisplay, scale, selectedVisibleChipsCount } = this;\n    const label = this.messages.all || \"All\";\n    return (\n      <calcite-chip\n        class={{\n          chip: true,\n          [CSS.chipInvisible]: !(\n            this.isAllSelected() &&\n            !selectedVisibleChipsCount &&\n            compactSelectionDisplay\n          ),\n        }}\n        scale={scale}\n        title={label}\n        value=\"\"\n      >\n        {label}\n      </calcite-chip>\n    );\n  }\n\n  renderSelectedIndicatorChip(): VNode {\n    const {\n      compactSelectionDisplay,\n      selectionDisplay,\n      getSelectedItems,\n      scale,\n      selectedHiddenChipsCount,\n      selectedVisibleChipsCount,\n      setSelectedIndicatorChipEl,\n    } = this;\n    let chipInvisible: boolean;\n    let label: string;\n\n    if (compactSelectionDisplay) {\n      chipInvisible = true;\n    } else {\n      if (selectionDisplay === \"single\") {\n        const selectedItemsCount = getSelectedItems().length;\n        if (this.isAllSelected()) {\n          chipInvisible = true;\n        } else if (selectedItemsCount > 0) {\n          chipInvisible = false;\n        } else {\n          chipInvisible = true;\n        }\n        label = `${selectedItemsCount} ${this.messages.selected}`;\n      } else if (selectionDisplay === \"fit\") {\n        chipInvisible = !!(\n          (this.isAllSelected() && selectedVisibleChipsCount === 0) ||\n          selectedHiddenChipsCount === 0\n        );\n        label =\n          selectedVisibleChipsCount > 0\n            ? `+${selectedHiddenChipsCount}`\n            : `${selectedHiddenChipsCount} ${this.messages.selected}`;\n      }\n    }\n    return (\n      <calcite-chip\n        class={{\n          chip: true,\n          [CSS.chipInvisible]: chipInvisible,\n        }}\n        ref={setSelectedIndicatorChipEl}\n        scale={scale}\n        title={label}\n        value=\"\"\n      >\n        {label}\n      </calcite-chip>\n    );\n  }\n\n  renderSelectedIndicatorChipCompact(): VNode {\n    const {\n      compactSelectionDisplay,\n      selectionDisplay,\n      getSelectedItems,\n      scale,\n      selectedHiddenChipsCount,\n    } = this;\n    let chipInvisible: boolean;\n    let label: string;\n\n    if (compactSelectionDisplay) {\n      const selectedItemsCount = getSelectedItems().length;\n      if (this.isAllSelected()) {\n        chipInvisible = true;\n      } else if (selectionDisplay === \"fit\") {\n        chipInvisible = !(selectedHiddenChipsCount > 0);\n        label = `${selectedHiddenChipsCount || 0}`;\n      } else if (selectionDisplay === \"single\") {\n        chipInvisible = !(selectedItemsCount > 0);\n        label = `${selectedItemsCount}`;\n      }\n    } else {\n      chipInvisible = true;\n    }\n    return (\n      <calcite-chip\n        class={{\n          chip: true,\n          [CSS.chipInvisible]: chipInvisible,\n        }}\n        scale={scale}\n        title={label}\n        value=\"\"\n      >\n        {label}\n      </calcite-chip>\n    );\n  }\n\n  private get showingInlineIcon(): boolean {\n    const { placeholderIcon, selectionMode, selectedItems, open } = this;\n    const selectedItem = selectedItems[0];\n    const selectedIcon = selectedItem?.icon;\n    const singleSelectionMode = isSingleLike(selectionMode);\n\n    return !open && selectedItem\n      ? !!selectedIcon && singleSelectionMode\n      : !!placeholderIcon && (!selectedItem || singleSelectionMode);\n  }\n\n  private renderInput(): VNode {\n    const { guid, disabled, placeholder, selectionMode, selectedItems, open } = this;\n    const single = isSingleLike(selectionMode);\n    const selectedItem = selectedItems[0];\n    const showLabel = !open && single && !!selectedItem;\n\n    return (\n      <span\n        class={{\n          \"input-wrap\": true,\n          \"input-wrap--single\": single,\n        }}\n      >\n        {showLabel && (\n          <span\n            class={{\n              label: true,\n              \"label--icon\": !!selectedItem?.icon,\n            }}\n            key=\"label\"\n          >\n            {getLabel(selectedItem)}\n          </span>\n        )}\n        <input\n          aria-activedescendant={this.activeDescendant}\n          aria-autocomplete=\"list\"\n          aria-controls={`${listboxUidPrefix}${guid}`}\n          aria-errormessage={IDS.validationMessage}\n          aria-expanded={toAriaBoolean(open)}\n          aria-haspopup=\"listbox\"\n          aria-invalid={toAriaBoolean(this.status === \"invalid\")}\n          aria-label={getLabelText(this)}\n          aria-owns={`${listboxUidPrefix}${guid}`}\n          class={{\n            [CSS.input]: true,\n            \"input--single\": true,\n            \"input--hidden\": showLabel,\n            \"input--icon\": this.showingInlineIcon && !!this.placeholderIcon,\n          }}\n          data-test-id=\"input\"\n          disabled={disabled}\n          id={`${inputUidPrefix}${guid}`}\n          key=\"input\"\n          onFocus={this.comboboxFocusHandler}\n          onInput={this.inputHandler}\n          placeholder={placeholder}\n          readOnly={this.readOnly}\n          ref={(el) => (this.textInput = el as HTMLInputElement)}\n          role=\"combobox\"\n          tabindex={this.activeChipIndex === -1 ? 0 : -1}\n          type=\"text\"\n          value={this.filterText}\n        />\n      </span>\n    );\n  }\n\n  renderListBoxOptions(): VNode[] {\n    return this.filteredItems.map((item) => (\n      <li\n        aria-selected={toAriaBoolean(item.selected)}\n        id={item.guid ? `${itemUidPrefix}${item.guid}` : null}\n        role=\"option\"\n        tabindex=\"-1\"\n      >\n        {item.textLabel}\n      </li>\n    ));\n  }\n\n  renderFloatingUIContainer(): VNode {\n    const { setFloatingEl, setContainerEl, open } = this;\n    const classes = {\n      [CSS.listContainer]: true,\n      [FloatingCSS.animation]: true,\n      [FloatingCSS.animationActive]: open,\n    };\n\n    return (\n      <div\n        aria-hidden=\"true\"\n        class={{\n          \"floating-ui-container\": true,\n          \"floating-ui-container--active\": open,\n        }}\n        ref={setFloatingEl}\n      >\n        <div class={classes} ref={setContainerEl}>\n          <ul class={{ list: true, \"list--hide\": !open }}>\n            <slot />\n          </ul>\n        </div>\n      </div>\n    );\n  }\n\n  renderSelectedOrPlaceholderIcon(): VNode {\n    const { open, placeholderIcon, placeholderIconFlipRtl, selectedItems } = this;\n    const selectedItem = selectedItems[0];\n    const selectedIcon = selectedItem?.icon;\n    const showPlaceholder = placeholderIcon && (open || !selectedItem);\n\n    return (\n      this.showingInlineIcon && (\n        <span class=\"icon-start\" key=\"selected-placeholder-icon\">\n          <calcite-icon\n            class={{\n              [CSS.selectedIcon]: !showPlaceholder,\n              [CSS.placeholderIcon]: showPlaceholder,\n            }}\n            flipRtl={showPlaceholder ? placeholderIconFlipRtl : selectedItem.iconFlipRtl}\n            icon={showPlaceholder ? placeholderIcon : selectedIcon}\n            scale={getIconScale(this.scale)}\n          />\n        </span>\n      )\n    );\n  }\n\n  renderChevronIcon(): VNode {\n    const { open } = this;\n    return (\n      <span class=\"icon-end\" key=\"chevron\">\n        <calcite-icon\n          class={CSS.icon}\n          icon={open ? \"chevron-up\" : \"chevron-down\"}\n          scale={getIconScale(this.scale)}\n        />\n      </span>\n    );\n  }\n\n  render(): VNode {\n    const { selectionDisplay, guid, label, open, readOnly } = this;\n    const singleSelectionMode = isSingleLike(this.selectionMode);\n    const allSelectionDisplay = selectionDisplay === \"all\";\n    const singleSelectionDisplay = selectionDisplay === \"single\";\n    const fitSelectionDisplay = !singleSelectionMode && selectionDisplay === \"fit\";\n    const isClearable = !this.clearDisabled && this.value?.length > 0;\n\n    return (\n      <Host onClick={this.comboboxFocusHandler}>\n        <InteractiveContainer disabled={this.disabled}>\n          <div\n            aria-live=\"polite\"\n            class={{\n              wrapper: true,\n              \"wrapper--single\": singleSelectionMode || !this.selectedItems.length,\n              \"wrapper--active\": open,\n            }}\n            onClick={this.clickHandler}\n            onKeyDown={this.keyDownHandler}\n            ref={this.setReferenceEl}\n          >\n            {this.renderSelectedOrPlaceholderIcon()}\n            <div\n              class={{\n                \"grid-input\": true,\n                [CSS.selectionDisplayFit]: fitSelectionDisplay,\n                [CSS.selectionDisplaySingle]: singleSelectionDisplay,\n              }}\n              key=\"grid\"\n              ref={this.setChipContainerEl}\n            >\n              {!singleSelectionMode && !singleSelectionDisplay && this.renderChips()}\n              {!singleSelectionMode &&\n                !allSelectionDisplay && [\n                  this.renderSelectedIndicatorChip(),\n                  this.renderSelectedIndicatorChipCompact(),\n                  this.renderAllSelectedIndicatorChip(),\n                  this.renderAllSelectedIndicatorChipCompact(),\n                ]}\n              <label\n                class=\"screen-readers-only\"\n                htmlFor={`${inputUidPrefix}${guid}`}\n                id={`${labelUidPrefix}${guid}`}\n              >\n                {label}\n              </label>\n              {this.renderInput()}\n            </div>\n            {!readOnly && isClearable ? (\n              <XButton\n                disabled={this.disabled}\n                key=\"close-button\"\n                label={this.messages.clear}\n                scale={this.scale}\n              />\n            ) : null}\n            {!readOnly && this.renderChevronIcon()}\n          </div>\n          <ul\n            aria-labelledby={`${labelUidPrefix}${guid}`}\n            aria-multiselectable=\"true\"\n            class=\"screen-readers-only\"\n            id={`${listboxUidPrefix}${guid}`}\n            role=\"listbox\"\n            tabIndex={-1}\n          >\n            {this.renderListBoxOptions()}\n          </ul>\n          {this.renderFloatingUIContainer()}\n          <HiddenFormInputSlot component={this} />\n          {this.validationMessage && this.status === \"invalid\" ? (\n            <Validation\n              icon={this.validationIcon}\n              id={IDS.validationMessage}\n              message={this.validationMessage}\n              scale={this.scale}\n              status={this.status}\n            />\n          ) : null}\n        </InteractiveContainer>\n      </Host>\n    );\n  }\n}\n","/**\n * CSS Custom Properties\n *\n * These properties can be overridden using the component's tag as selector.\n *\n * @prop --calcite-combobox-input-height: Specifies the height of the component's input.\n */\n\n:host {\n  @apply relative block;\n}\n\n@include disabled();\n@include x-button();\n\n:host([scale=\"s\"]) {\n  @apply text-n2;\n  --calcite-combobox-item-spacing-unit-l: theme(\"spacing.2\");\n  --calcite-combobox-item-spacing-unit-s: theme(\"spacing.1\");\n  --calcite-combobox-input-height: theme(\"spacing.4\");\n  --calcite-internal-combobox-input-margin-block: calc(theme(\"spacing.1\") - theme(\"borderWidth.DEFAULT\"));\n\n  .x-button {\n    margin-inline: theme(\"spacing.2\");\n  }\n}\n\n:host([scale=\"m\"]) {\n  @apply text-n1;\n  --calcite-combobox-item-spacing-unit-l: theme(\"spacing.3\");\n  --calcite-combobox-item-spacing-unit-s: theme(\"spacing.2\");\n  --calcite-combobox-input-height: theme(\"spacing.4\");\n  --calcite-internal-combobox-input-margin-block: calc(theme(\"spacing.2\") - theme(\"borderWidth.DEFAULT\"));\n\n  .x-button {\n    margin-inline-end: theme(\"spacing.3\");\n  }\n}\n\n:host([scale=\"l\"]) {\n  @apply text-0;\n  --calcite-combobox-item-spacing-unit-l: theme(\"spacing.4\");\n  --calcite-combobox-item-spacing-unit-s: theme(\"spacing.3\");\n  --calcite-combobox-input-height: theme(\"spacing.6\");\n  --calcite-internal-combobox-input-margin-block: calc(theme(\"spacing[2.5]\") - theme(\"borderWidth.DEFAULT\"));\n\n  .x-button {\n    margin-inline-end: theme(\"spacing.4\");\n  }\n}\n\n.wrapper {\n  @apply bg-foreground-1\n    text-color-1\n    focus-base\n    flex\n    border-color-input\n    border\n    border-solid;\n  padding-block: calc(var(--calcite-combobox-item-spacing-unit-s) / 4);\n  padding-inline: var(--calcite-combobox-item-spacing-unit-l);\n\n  &:hover {\n    .icon {\n      color: var(--calcite-color-text-1);\n    }\n  }\n}\n\n:host(:focus-within) .wrapper,\n.wrapper--active {\n  @apply focus-inset;\n}\n\n:host([read-only]) {\n  .wrapper {\n    background-color: var(--calcite-color-background);\n  }\n\n  .label {\n    font-weight: var(--calcite-font-weight-medium);\n  }\n}\n\n:host([status=\"invalid\"]) .wrapper {\n  @apply border-color-danger;\n}\n\n:host([status=\"invalid\"]:focus-within) .wrapper {\n  @apply focus-inset-danger;\n}\n\n.wrapper--single {\n  padding-block: 0;\n  padding-inline: var(--calcite-combobox-item-spacing-unit-l);\n  @apply cursor-pointer flex-nowrap;\n}\n\n.grid-input {\n  @apply flex\n    flex-grow\n    flex-wrap\n    items-center\n    relative\n    truncate\n    p-0;\n\n  gap: var(--calcite-combobox-item-spacing-unit-s);\n  margin-inline-end: var(--calcite-combobox-item-spacing-unit-s);\n\n  &.selection-display-fit,\n  &.selection-display-single {\n    @apply flex-nowrap overflow-hidden;\n  }\n}\n\n.input {\n  @apply appearance-none\n  bg-transparent\n  border-none\n  flex-grow\n  font-inherit\n  text-color-1\n  text-ellipsis\n  overflow-hidden\n  p-0;\n  font-size: inherit;\n  block-size: var(--calcite-combobox-input-height);\n  line-height: var(--calcite-combobox-input-height);\n  inline-size: 100%;\n  margin-block-end: var(--calcite-combobox-item-spacing-unit-s);\n  min-inline-size: 4.8125rem;\n  &:focus {\n    @apply outline-none;\n  }\n\n  &:placeholder-shown {\n    @apply text-ellipsis;\n  }\n}\n\n.input--single {\n  @apply p-0;\n  margin-block: var(--calcite-internal-combobox-input-margin-block);\n}\n\n.wrapper--active .input-single {\n  @apply cursor-text;\n}\n\n.input--hidden {\n  @apply pointer-events-none\n  w-0\n  min-w-0\n  opacity-0;\n}\n\n.input--icon {\n  padding-block: 0;\n  padding-inline: var(--calcite-combobox-item-spacing-unit-l);\n}\n\n.placeholder-icon {\n  color: var(--calcite-color-text-3);\n}\n\n.input-wrap {\n  @apply flex flex-grow items-center;\n}\n\n.input-wrap--single {\n  @apply flex-1 overflow-hidden;\n}\n\n.label {\n  @apply pointer-events-none\n    max-w-full\n    flex-auto\n    truncate\n    p-0\n    font-normal;\n  block-size: var(--calcite-combobox-input-height);\n  line-height: var(--calcite-combobox-input-height);\n}\n\n.label--icon {\n  padding-inline: var(--calcite-combobox-item-spacing-unit-l);\n}\n\n.icon-end,\n.icon-start {\n  @apply flex cursor-pointer items-center;\n}\n\n.icon-end {\n  @apply flex-none;\n\n  .icon {\n    color: var(--calcite-color-text-3);\n  }\n}\n\n.floating-ui-container {\n  --calcite-floating-ui-z-index: theme(\"zIndex.dropdown\");\n  @include floating-ui-container();\n  @include floating-ui-wrapper();\n}\n\n@include floating-ui-elem-anim(\".floating-ui-container\");\n\n.floating-ui-container--active {\n  @include floating-ui-wrapper-active();\n}\n\n@media (forced-colors: active) {\n  .wrapper,\n  .floating-ui-container--active {\n    border: 1px solid canvasText;\n  }\n}\n\n.screen-readers-only {\n  @apply sr-only;\n}\n\n.list-container {\n  @apply bg-foreground-1\n    max-h-menu\n    overflow-y-auto;\n  inline-size: var(--calcite-dropdown-width, 100%);\n}\n\n.list {\n  @apply m-0 block p-0;\n}\n\n.list--hide {\n  @apply h-0 overflow-hidden;\n}\n\ncalcite-chip {\n  --calcite-animation-timing: 0;\n}\n\n.chip {\n  margin-block: calc(var(--calcite-combobox-item-spacing-unit-s) / 4);\n  max-inline-size: 100%;\n}\n\n.chip--active {\n  @apply bg-foreground-3;\n}\n\n.chip--invisible {\n  @apply absolute invisible;\n}\n\n.item {\n  @apply block;\n}\n\n@include form-validation-message();\n@include hidden-form-input();\n@include base-component();\n\n::slotted(calcite-combobox-item-group:not(:first-child)) {\n  padding-block-start: var(--calcite-combobox-item-spacing-unit-l);\n}\n","import { forceUpdate } from \"@stencil/core\";\nimport { createObserver, ExtendedMutationObserver } from \"./observers\";\n\n/**\n * Defines interface for components with a dynamically changing slot.\n *\n * @deprecated Use `onSlotchange` event with `slotChangeHasAssignedElement` DOM utility instead.\n *\n * ```\n * <slot onSlotchange={(event) => this.mySlotHasElement = slotChangeHasAssignedElement(event)} />}\n * ```\n */\nexport interface ConditionalSlotComponent {\n  /**\n   * The host element.\n   */\n  readonly el: HTMLElement;\n}\n\nlet mutationObserver: ExtendedMutationObserver;\nconst observerOptions: Pick<Parameters<MutationObserver[\"observe\"]>[1], \"childList\"> = { childList: true };\n\n/**\n * Helper to set up a conditional slot component on connectedCallback.\n *\n * @param component\n * @deprecated Use `onSlotchange` event with `slotChangeHasAssignedElement` DOM utility instead.\n *\n * ```\n * <slot onSlotchange={(event) => this.mySlotHasElement = slotChangeHasAssignedElement(event)} />}\n * ```\n */\nexport function connectConditionalSlotComponent(component: ConditionalSlotComponent): void {\n  if (!mutationObserver) {\n    mutationObserver = createObserver(\"mutation\", processMutations);\n  }\n\n  mutationObserver.observe(component.el, observerOptions);\n}\n\n/**\n * Helper to tear down a conditional slot component on disconnectedCallback.\n *\n * @param component\n * @deprecated Use `onSlotchange` event with `slotChangeHasAssignedElement` DOM utility instead.\n *\n * ```\n * <slot onSlotchange={(event) => this.mySlotHasElement = slotChangeHasAssignedElement(event)} />}\n * ```\n */\nexport function disconnectConditionalSlotComponent(component: ConditionalSlotComponent): void {\n  mutationObserver.unobserve(component.el);\n}\n\nfunction processMutations(mutations: MutationRecord[]): void {\n  mutations.forEach(({ target }) => {\n    forceUpdate(target);\n  });\n}\n","/**\n * Do not edit directly\n * Generated on Wed, 28 Aug 2024 03:13:55 GMT\n */\n\nexport const calciteColorNeutralBlk000 = \"#ffffff\";\nexport const calciteColorNeutralBlk005 = \"#f8f8f8\";\nexport const calciteColorNeutralBlk010 = \"#f3f3f3\";\nexport const calciteColorNeutralBlk020 = \"#eaeaea\";\nexport const calciteColorNeutralBlk030 = \"#dfdfdf\";\nexport const calciteColorNeutralBlk040 = \"#d4d4d4\";\nexport const calciteColorNeutralBlk050 = \"#cacaca\";\nexport const calciteColorNeutralBlk060 = \"#bfbfbf\";\nexport const calciteColorNeutralBlk070 = \"#b5b5b5\";\nexport const calciteColorNeutralBlk080 = \"#aaaaaa\";\nexport const calciteColorNeutralBlk090 = \"#9f9f9f\";\nexport const calciteColorNeutralBlk100 = \"#949494\";\nexport const calciteColorNeutralBlk110 = \"#8a8a8a\";\nexport const calciteColorNeutralBlk120 = \"#808080\";\nexport const calciteColorNeutralBlk130 = \"#757575\";\nexport const calciteColorNeutralBlk140 = \"#6a6a6a\";\nexport const calciteColorNeutralBlk150 = \"#606060\";\nexport const calciteColorNeutralBlk160 = \"#555555\";\nexport const calciteColorNeutralBlk170 = \"#4a4a4a\";\nexport const calciteColorNeutralBlk180 = \"#404040\";\nexport const calciteColorNeutralBlk190 = \"#353535\";\nexport const calciteColorNeutralBlk200 = \"#2b2b2b\";\nexport const calciteColorNeutralBlk210 = \"#202020\";\nexport const calciteColorNeutralBlk220 = \"#151515\";\nexport const calciteColorNeutralBlk230 = \"#0b0b0b\";\nexport const calciteColorNeutralBlk235 = \"#060606\";\nexport const calciteColorNeutralBlk240 = \"#000000\";\nexport const calciteColorHighSaturationBlueHBb010 = \"#c7eaff\";\nexport const calciteColorHighSaturationBlueHBb020 = \"#9fd4f3\";\nexport const calciteColorHighSaturationBlueHBb030 = \"#77bde7\";\nexport const calciteColorHighSaturationBlueHBb040 = \"#50a7da\";\nexport const calciteColorHighSaturationBlueHBb050 = \"#2890ce\";\nexport const calciteColorHighSaturationBlueHBb060 = \"#007ac2\";\nexport const calciteColorHighSaturationBlueHBb070 = \"#00619b\";\nexport const calciteColorHighSaturationBlueHBb080 = \"#004874\";\nexport const calciteColorHighSaturationBlueHBb090 = \"#00304d\";\nexport const calciteColorHighSaturationBlueHBb100 = \"#001726\";\nexport const calciteColorHighSaturationGreenBlueHGb010 = \"#cef5f4\";\nexport const calciteColorHighSaturationGreenBlueHGb020 = \"#afedec\";\nexport const calciteColorHighSaturationGreenBlueHGb030 = \"#8fe6e5\";\nexport const calciteColorHighSaturationGreenBlueHGb040 = \"#5ae0de\";\nexport const calciteColorHighSaturationGreenBlueHGb050 = \"#28cecb\";\nexport const calciteColorHighSaturationGreenBlueHGb060 = \"#00bab5\";\nexport const calciteColorHighSaturationGreenBlueHGb070 = \"#009b98\";\nexport const calciteColorHighSaturationGreenBlueHGb080 = \"#007472\";\nexport const calciteColorHighSaturationGreenBlueHGb090 = \"#004d4c\";\nexport const calciteColorHighSaturationGreenBlueHGb100 = \"#002625\";\nexport const calciteColorHighSaturationGreenHGg010 = \"#bdf2c4\";\nexport const calciteColorHighSaturationGreenHGg020 = \"#a2e4ab\";\nexport const calciteColorHighSaturationGreenHGg030 = \"#87d692\";\nexport const calciteColorHighSaturationGreenHGg040 = \"#6bc878\";\nexport const calciteColorHighSaturationGreenHGg050 = \"#50ba5f\";\nexport const calciteColorHighSaturationGreenHGg060 = \"#35ac46\";\nexport const calciteColorHighSaturationGreenHGg070 = \"#288835\";\nexport const calciteColorHighSaturationGreenHGg080 = \"#1a6324\";\nexport const calciteColorHighSaturationGreenHGg090 = \"#0d3f14\";\nexport const calciteColorHighSaturationGreenHGg100 = \"#001a03\";\nexport const calciteColorHighSaturationYellowGreenHYg010 = \"#e5f7b4\";\nexport const calciteColorHighSaturationYellowGreenHYg020 = \"#d9ef9f\";\nexport const calciteColorHighSaturationYellowGreenHYg030 = \"#cde78a\";\nexport const calciteColorHighSaturationYellowGreenHYg040 = \"#c2e075\";\nexport const calciteColorHighSaturationYellowGreenHYg050 = \"#b6d860\";\nexport const calciteColorHighSaturationYellowGreenHYg060 = \"#aad04b\";\nexport const calciteColorHighSaturationYellowGreenHYg070 = \"#84a338\";\nexport const calciteColorHighSaturationYellowGreenHYg080 = \"#5e7526\";\nexport const calciteColorHighSaturationYellowGreenHYg090 = \"#384813\";\nexport const calciteColorHighSaturationYellowGreenHYg100 = \"#121a00\";\nexport const calciteColorHighSaturationYellowHYy010 = \"#fff7cc\";\nexport const calciteColorHighSaturationYellowHYy020 = \"#fef3ad\";\nexport const calciteColorHighSaturationYellowHYy030 = \"#fcee8d\";\nexport const calciteColorHighSaturationYellowHYy040 = \"#fbea6e\";\nexport const calciteColorHighSaturationYellowHYy050 = \"#f9e54e\";\nexport const calciteColorHighSaturationYellowHYy060 = \"#edd317\";\nexport const calciteColorHighSaturationYellowHYy070 = \"#d9bc00\";\nexport const calciteColorHighSaturationYellowHYy080 = \"#bfa200\";\nexport const calciteColorHighSaturationYellowHYy090 = \"#8c7500\";\nexport const calciteColorHighSaturationYellowHYy100 = \"#5c4e00\";\nexport const calciteColorHighSaturationOrangeYellowHOy010 = \"#ffe2bf\";\nexport const calciteColorHighSaturationOrangeYellowHOy020 = \"#fed3a1\";\nexport const calciteColorHighSaturationOrangeYellowHOy030 = \"#fcc582\";\nexport const calciteColorHighSaturationOrangeYellowHOy040 = \"#fbb664\";\nexport const calciteColorHighSaturationOrangeYellowHOy050 = \"#f9a845\";\nexport const calciteColorHighSaturationOrangeYellowHOy060 = \"#f89927\";\nexport const calciteColorHighSaturationOrangeYellowHOy070 = \"#c67718\";\nexport const calciteColorHighSaturationOrangeYellowHOy080 = \"#9a5b10\";\nexport const calciteColorHighSaturationOrangeYellowHOy090 = \"#6d3f08\";\nexport const calciteColorHighSaturationOrangeYellowHOy100 = \"#402300\";\nexport const calciteColorHighSaturationOrangeHOo010 = \"#ffd8bf\";\nexport const calciteColorHighSaturationOrangeHOo020 = \"#fdc39f\";\nexport const calciteColorHighSaturationOrangeHOo030 = \"#faae7f\";\nexport const calciteColorHighSaturationOrangeHOo040 = \"#f89960\";\nexport const calciteColorHighSaturationOrangeHOo050 = \"#f58440\";\nexport const calciteColorHighSaturationOrangeHOo060 = \"#f36f20\";\nexport const calciteColorHighSaturationOrangeHOo070 = \"#c65a18\";\nexport const calciteColorHighSaturationOrangeHOo080 = \"#9a4410\";\nexport const calciteColorHighSaturationOrangeHOo090 = \"#6d2f08\";\nexport const calciteColorHighSaturationOrangeHOo100 = \"#401900\";\nexport const calciteColorHighSaturationRedOrangeHRo010 = \"#ffc7b3\";\nexport const calciteColorHighSaturationRedOrangeHRo020 = \"#f8af95\";\nexport const calciteColorHighSaturationRedOrangeHRo030 = \"#f09677\";\nexport const calciteColorHighSaturationRedOrangeHRo040 = \"#e97e5a\";\nexport const calciteColorHighSaturationRedOrangeHRo050 = \"#e1653c\";\nexport const calciteColorHighSaturationRedOrangeHRo060 = \"#da4d1e\";\nexport const calciteColorHighSaturationRedOrangeHRo070 = \"#ad3c16\";\nexport const calciteColorHighSaturationRedOrangeHRo080 = \"#802c0f\";\nexport const calciteColorHighSaturationRedOrangeHRo090 = \"#531b07\";\nexport const calciteColorHighSaturationRedOrangeHRo100 = \"#260a00\";\nexport const calciteColorHighSaturationRedHRr010 = \"#ffc6bf\";\nexport const calciteColorHighSaturationRedHRr020 = \"#ffaaa1\";\nexport const calciteColorHighSaturationRedHRr030 = \"#f2877b\";\nexport const calciteColorHighSaturationRedHRr040 = \"#f07062\";\nexport const calciteColorHighSaturationRedHRr050 = \"#e65240\";\nexport const calciteColorHighSaturationRedHRr060 = \"#d83020\";\nexport const calciteColorHighSaturationRedHRr070 = \"#a82b1e\";\nexport const calciteColorHighSaturationRedHRr080 = \"#7c1d13\";\nexport const calciteColorHighSaturationRedHRr090 = \"#4f0e08\";\nexport const calciteColorHighSaturationRedHRr100 = \"#210300\";\nexport const calciteColorHighSaturationPinkHPk010 = \"#ffd1ef\";\nexport const calciteColorHighSaturationPinkHPk020 = \"#fabee4\";\nexport const calciteColorHighSaturationPinkHPk030 = \"#f2a5d6\";\nexport const calciteColorHighSaturationPinkHPk040 = \"#eb8dc9\";\nexport const calciteColorHighSaturationPinkHPk050 = \"#e673bb\";\nexport const calciteColorHighSaturationPinkHPk060 = \"#e04ea6\";\nexport const calciteColorHighSaturationPinkHPk070 = \"#ba2f7e\";\nexport const calciteColorHighSaturationPinkHPk080 = \"#851b52\";\nexport const calciteColorHighSaturationPinkHPk090 = \"#590b32\";\nexport const calciteColorHighSaturationPinkHPk100 = \"#260404\";\nexport const calciteColorHighSaturationVioletRedHVr010 = \"#fadbff\";\nexport const calciteColorHighSaturationVioletRedHVr020 = \"#e4beeb\";\nexport const calciteColorHighSaturationVioletRedHVr030 = \"#cfa1d7\";\nexport const calciteColorHighSaturationVioletRedHVr040 = \"#b983c3\";\nexport const calciteColorHighSaturationVioletRedHVr050 = \"#a466af\";\nexport const calciteColorHighSaturationVioletRedHVr060 = \"#8e499b\";\nexport const calciteColorHighSaturationVioletRedHVr070 = \"#73377e\";\nexport const calciteColorHighSaturationVioletRedHVr080 = \"#572561\";\nexport const calciteColorHighSaturationVioletRedHVr090 = \"#3c1243\";\nexport const calciteColorHighSaturationVioletRedHVr100 = \"#200026\";\nexport const calciteColorHighSaturationVioletHVv010 = \"#e8d9ff\";\nexport const calciteColorHighSaturationVioletHVv020 = \"#cdb9eb\";\nexport const calciteColorHighSaturationVioletHVv030 = \"#b39ad7\";\nexport const calciteColorHighSaturationVioletHVv040 = \"#987ac3\";\nexport const calciteColorHighSaturationVioletHVv050 = \"#7e5baf\";\nexport const calciteColorHighSaturationVioletHVv060 = \"#633b9b\";\nexport const calciteColorHighSaturationVioletHVv070 = \"#4e2c7e\";\nexport const calciteColorHighSaturationVioletHVv080 = \"#3a1e61\";\nexport const calciteColorHighSaturationVioletHVv090 = \"#250f43\";\nexport const calciteColorHighSaturationVioletHVv100 = \"#100026\";\nexport const calciteColorVibrantBlueVBb120 = \"#59d6ff\";\nexport const calciteColorVibrantBlueVBb140 = \"#3db8ff\";\nexport const calciteColorVibrantBlueVBb160 = \"#009af2\";\nexport const calciteColorVibrantBlueVBb180 = \"#009af2\";\nexport const calciteColorVibrantGreenBlueVGb120 = \"#59fffc\";\nexport const calciteColorVibrantGreenBlueVGb140 = \"#00f7f3\";\nexport const calciteColorVibrantGreenBlueVGb160 = \"#00e6e2\";\nexport const calciteColorVibrantGreenBlueVGb180 = \"#00cfca\";\nexport const calciteColorVibrantGreenVGg120 = \"#73ff84\";\nexport const calciteColorVibrantGreenVGg140 = \"#3bed52\";\nexport const calciteColorVibrantGreenVGg160 = \"#00b81b\";\nexport const calciteColorVibrantGreenVGg180 = \"#00a118\";\nexport const calciteColorVibrantYellowGreenVYg120 = \"#d7ff73\";\nexport const calciteColorVibrantYellowGreenVYg140 = \"#bbed3b\";\nexport const calciteColorVibrantYellowGreenVYg160 = \"#96cc00\";\nexport const calciteColorVibrantYellowGreenVYg180 = \"#7fab00\";\nexport const calciteColorVibrantYellowVYy120 = \"#fff766\";\nexport const calciteColorVibrantYellowVYy140 = \"#ffee33\";\nexport const calciteColorVibrantYellowVYy160 = \"#f5d000\";\nexport const calciteColorVibrantYellowVYy180 = \"#ebba17\";\nexport const calciteColorVibrantOrangeYellowVOy120 = \"#ffb54d\";\nexport const calciteColorVibrantOrangeYellowVOy140 = \"#ff9500\";\nexport const calciteColorVibrantOrangeYellowVOy160 = \"#e68600\";\nexport const calciteColorVibrantOrangeYellowVOy180 = \"#d17300\";\nexport const calciteColorVibrantRedOrangeVRo120 = \"#ff824d\";\nexport const calciteColorVibrantRedOrangeVRo140 = \"#ff4d00\";\nexport const calciteColorVibrantRedOrangeVRo160 = \"#de4300\";\nexport const calciteColorVibrantRedOrangeVRo180 = \"#c93b00\";\nexport const calciteColorVibrantRedVRr120 = \"#ff624d\";\nexport const calciteColorVibrantRedVRr140 = \"#ff0015\";\nexport const calciteColorVibrantRedVRr160 = \"#d90012\";\nexport const calciteColorVibrantRedVRr180 = \"#b3000f\";\nexport const calciteColorVibrantPinkVPk120 = \"#ff66c2\";\nexport const calciteColorVibrantPinkVPk140 = \"#ff19a4\";\nexport const calciteColorVibrantPinkVPk160 = \"#d11486\";\nexport const calciteColorVibrantPinkVPk180 = \"#c00073\";\nexport const calciteColorVibrantVioletRedVVr120 = \"#ea80ff\";\nexport const calciteColorVibrantVioletRedVVr140 = \"#dd33ff\";\nexport const calciteColorVibrantVioletRedVVr160 = \"#ac08cc\";\nexport const calciteColorVibrantVioletRedVVr180 = \"#83009e\";\nexport const calciteColorVibrantVioletVVv120 = \"#b580ff\";\nexport const calciteColorVibrantVioletVVv140 = \"#974dff\";\nexport const calciteColorVibrantVioletVVv160 = \"#8129ff\";\nexport const calciteColorVibrantVioletVVv180 = \"#6a0be6\";\nexport const calciteColorDarkGreenDGg410 = \"#44ed51\";\nexport const calciteColorDarkGreenDGg420 = \"#36da43\";\nexport const calciteColorDarkGreenDGg430 = \"#36da43\";\nexport const calciteColorDarkYellowDYy410 = \"#ffe24d\";\nexport const calciteColorDarkYellowDYy420 = \"#ffc900\";\nexport const calciteColorDarkYellowDYy430 = \"#f4b000\";\nexport const calciteColorDarkRedDRr410 = \"#ff7465\";\nexport const calciteColorDarkRedDRr420 = \"#fe583e\";\nexport const calciteColorDarkRedDRr430 = \"#f3381b\";\nexport const calciteColorDarkBlueDBb410 = \"#47bbff\";\nexport const calciteColorDarkBlueDBb420 = \"#00a0ff\";\nexport const calciteColorDarkBlueDBb430 = \"#0087d7\";\nexport const calciteContainerSize0 = \"0\";\nexport const calciteContainerSize154 = \"154px\";\nexport const calciteContainerSize320 = \"320px\";\nexport const calciteContainerSize328 = \"328px\";\nexport const calciteContainerSize476 = \"476px\";\nexport const calciteContainerSize504 = \"504px\";\nexport const calciteContainerSize678 = \"678px\";\nexport const calciteContainerSize768 = \"768px\";\nexport const calciteContainerSize854 = \"854px\";\nexport const calciteContainerSize1152 = \"1152px\";\nexport const calciteContainerSize1440 = \"1440px\";\nexport const calciteFontFamilyAndaleMono = \"Andale Mono\"; // Fallback for Monaco\nexport const calciteFontFamilyAvenirNextPro = \"Avenir Next LT Pro\";\nexport const calciteFontFamilyAvenirNextWorld = \"Avenir Next World\";\nexport const calciteFontFamilyAvenirNext = \"Avenir Next\"; // Primary font family\nexport const calciteFontFamilyAvenir = \"Avenir\"; // Fallback for Avenir Next\nexport const calciteFontFamilyConsolas = \"Consolas\"; // Fallback for Monaco\nexport const calciteFontFamilyHelveticaNeue = \"Helvetica Neue\"; // Fallback for Avenir Next\nexport const calciteFontFamilyLucidaConsole = \"Lucida Console\"; // Fallback for Monaco\nexport const calciteFontFamilyMonaco = \"Monaco\";\nexport const calciteFontFamilyMonospace = \"monospace\"; // Fallback for Monaco\nexport const calciteFontFamilySansSerif = \"sans-serif\"; // Fallback for Avenir Next\nexport const calciteFontStyleItalic = \"italic\"; // used in ratings\nexport const calciteFontWeightUltralight = \"200\"; // only for Avenir Next World (secondary font family)\nexport const calciteFontWeightThin = \"100\";\nexport const calciteFontWeightLight = \"300\"; // only for Avenir Next World (secondary font family)\nexport const calciteFontWeightRegular = \"400\";\nexport const calciteFontWeightMedium = \"500\";\nexport const calciteFontWeightMediumItalic = \"Medium Italic\";\nexport const calciteFontWeightDemi = \"600\";\nexport const calciteFontWeightBold = \"700\";\nexport const calciteFontWeightExtrabold = \"800\"; // only for Avenir Next World (secondary font family)\nexport const calciteFontWeightBlack = \"900\"; // only for Avenir Next World (secondary font family)\nexport const calciteFontWeightHeavy = \"900\";\nexport const calciteFontTextDecorationNone = \"none\";\nexport const calciteFontTextDecorationUnderline = \"underline\";\nexport const calciteFontTextCaseNone = \"none\";\nexport const calciteFontTextCaseUppercase = \"uppercase\";\nexport const calciteFontTextCaseLowercase = \"lowercase\";\nexport const calciteFontTextCaseCapitalize = \"capitalize\";\nexport const calciteOpacity0 = \"0\";\nexport const calciteOpacity4 = \"0.04\";\nexport const calciteOpacity8 = \"0.08\";\nexport const calciteOpacity10 = \"0.1\";\nexport const calciteOpacity20 = \"0.2\";\nexport const calciteOpacity30 = \"0.3\";\nexport const calciteOpacity40 = \"0.4\";\nexport const calciteOpacity50 = \"0.5\";\nexport const calciteOpacity60 = \"0.6\";\nexport const calciteOpacity70 = \"0.7\";\nexport const calciteOpacity80 = \"0.8\";\nexport const calciteOpacity85 = \"0.85\";\nexport const calciteOpacity90 = \"0.9\";\nexport const calciteOpacity92 = \"0.92\";\nexport const calciteOpacity96 = \"0.96\";\nexport const calciteOpacity100 = \"1\";\nexport const calciteShadow0 = {\"x\":\"0\",\"y\":\"0\",\"blur\":\"0\",\"spread\":\"0\",\"color\":\"rgba(#000000, 0)\"};\nexport const calciteShadow1 = {\"x\":\"0\",\"y\":\"2\",\"blur\":\"8\",\"spread\":\"0\",\"color\":\"rgba(#000000, 0.04)\"};\nexport const calciteShadow2 = {\"x\":\"0\",\"y\":\"4\",\"blur\":\"16\",\"spread\":\"0\",\"color\":\"rgba(#000000, 0.08)\"};\nexport const calciteShadow3 = {\"x\":\"0\",\"y\":\"4\",\"blur\":\"20\",\"spread\":\"0\",\"color\":\"rgba(#000000, 0.08)\"};\nexport const calciteShadow4 = {\"x\":\"0\",\"y\":\"12\",\"blur\":\"32\",\"spread\":\"-2\",\"color\":\"rgba(#000000, 0.1)\"};\nexport const calciteSize1 = \"1px\";\nexport const calciteSize2 = \"2px\";\nexport const calciteSize4 = \"4px\";\nexport const calciteSize6 = \"6px\";\nexport const calciteSize8 = \"8px\";\nexport const calciteSize10 = \"10px\";\nexport const calciteSize12 = \"12px\";\nexport const calciteSize14 = \"14px\";\nexport const calciteSize16 = \"16px\";\nexport const calciteSize20 = \"20px\";\nexport const calciteSize24 = \"24px\";\nexport const calciteSize28 = \"28px\";\nexport const calciteSize32 = \"32px\";\nexport const calciteSize36 = \"36px\";\nexport const calciteSize40 = \"40px\";\nexport const calciteSize44 = \"44px\";\nexport const calciteSize48 = \"48px\";\nexport const calciteSize56 = \"56px\";\nexport const calciteSize64 = \"64px\";\nexport const calciteSize72 = \"72px\";\nexport const calciteSize80 = \"80px\";\nexport const calciteSize96 = \"96px\";\nexport const calciteSize112 = \"112px\";\nexport const calciteSize128 = \"128px\";\nexport const calciteSize144 = \"144px\";\nexport const calciteSize160 = \"160px\";\nexport const calciteSize192 = \"192px\";\nexport const calciteSize224 = \"224px\";\nexport const calciteSize256 = \"256px\";\nexport const calciteSize288 = \"288px\";\nexport const calciteSizeNone = \"0\";\nexport const calciteSizeRelative50 = \"50%\";\nexport const calciteSizeRelative100 = \"100%\";\nexport const calciteSizeRelative125 = \"125%\";\nexport const calciteSizeRelative137 = \"137.5%\";\nexport const calciteSizeRelative150 = \"150%\";\nexport const calciteSizeRelative162 = \"162.5%\";\nexport const calciteSizeRelative200 = \"200%\";\nexport const calciteSizeRelativeAuto = \"auto\";\nexport const calciteZIndex0 = \"-999999\";\nexport const calciteZIndex1 = \"1\";\nexport const calciteZIndex3 = \"300\";\nexport const calciteZIndex4 = \"400\";\nexport const calciteZIndex5 = \"500\";\nexport const calciteZIndex6 = \"600\";\nexport const calciteZIndex7 = \"700\";\nexport const calciteZIndex8 = \"800\";\nexport const calciteZIndex9 = \"900\";\n","export const ComboboxItem = \"CALCITE-COMBOBOX-ITEM\";\nexport const ComboboxItemGroup = \"CALCITE-COMBOBOX-ITEM-GROUP\";\nexport const ComboboxChildSelector = `${ComboboxItem}, ${ComboboxItemGroup}`;\n\nexport const CSS = {\n  input: \"input\",\n  chipInvisible: \"chip--invisible\",\n  selectionDisplayFit: \"selection-display-fit\",\n  selectionDisplaySingle: \"selection-display-single\",\n  listContainer: \"list-container\",\n  icon: \"icon\",\n  placeholderIcon: \"placeholder-icon\",\n  selectedIcon: \"selected-icon\",\n};\n\nexport const IDS = {\n  validationMessage: \"comboboxValidationMessage\",\n};\n","import { nodeListToArray } from \"../../utils/dom\";\nimport { isBrowser } from \"../../utils/browser\";\nimport { ComboboxChildElement } from \"./interfaces\";\nimport { ComboboxChildSelector } from \"./resources\";\nimport { Combobox } from \"./combobox\";\n\nexport function getAncestors(element: HTMLElement): ComboboxChildElement[] {\n  const parent: ComboboxChildElement = element.parentElement?.closest(ComboboxChildSelector);\n  const grandparent: ComboboxChildElement = parent?.parentElement?.closest(ComboboxChildSelector);\n  return [parent, grandparent].filter((el) => el);\n}\n\nexport function getItemAncestors(item: HTMLCalciteComboboxItemElement): HTMLCalciteComboboxItemElement[] {\n  return (\n    (item.ancestors?.filter((el) => el.nodeName === \"CALCITE-COMBOBOX-ITEM\") as HTMLCalciteComboboxItemElement[]) || []\n  );\n}\n\nexport function getItemChildren(item: HTMLCalciteComboboxItemElement): HTMLCalciteComboboxItemElement[] {\n  return nodeListToArray(item.querySelectorAll(\"calcite-combobox-item\"));\n}\n\nexport function hasActiveChildren(node: HTMLCalciteComboboxItemElement): boolean {\n  const items = nodeListToArray(node.querySelectorAll(\"calcite-combobox-item\"));\n  return items.filter((item) => item.selected).length > 0;\n}\n\nexport function getDepth(element: HTMLElement): number {\n  if (!isBrowser()) {\n    return 0;\n  }\n\n  const result = document.evaluate(\n    \"ancestor::calcite-combobox-item | ancestor::calcite-combobox-item-group\",\n    element,\n    null,\n    XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,\n    null,\n  );\n\n  return result.snapshotLength;\n}\n\nexport function isSingleLike(selectionMode: Combobox[\"selectionMode\"]): boolean {\n  return selectionMode.includes(\"single\");\n}\n\nexport function getLabel(item: HTMLCalciteComboboxItemElement): string {\n  return item.shortHeading || item.textLabel;\n}\n"],"names":["CSS","scale","SLOTS","ComboboxItem","_inherits","_this","toggleSelected","guid","this","calciteInternalComboboxItemChange","emit","key","value","calciteComboboxItemChange","ancestors","getAncestors","el","connectConditionalSlotComponent","connectInteractive","disconnectConditionalSlotComponent","disconnectInteractive","updateHostInteraction","isSinglePersistSelect","selectionMode","disabled","selected","iconPath","icon","h","class","flipRtl","iconFlipRtl","getIconScale","showDot","getSlotted","heading","label","textLabel","isSingleSelect","isSingleLike","headingText","undefined","itemLabel","classes","active","depth","getDepth","Host","InteractiveContainer","style","id","onClick","itemClickHandler","renderSelectIndicator","renderIcon","renderTextContent","description","shortHeading","name","renderChildren","text","pattern","filterTextMatchPattern","parts","split","length","get","HTMLElement","XButton","ref","tabIndex","type","itemUidPrefix","chipUidPrefix","labelUidPrefix","listboxUidPrefix","inputUidPrefix","Combobox","defaultMenuPlacement","createObserver","updateItems","setMaxScrollerHeight","refreshSelectionDisplay","flipPlacements","filteredFlipPlacements","filterValidFlipPlacements","items","selectedItems","map","item","_item$value","toString","setFocus","event","readOnly","activeChipIndex","activeItemIndex","allowCustomValues","filterText","addCustomChip","preventDefault","open","clearInputValue","filterItems","updateActiveItemIndex","textInput","selectionStart","previousChip","nextChip","filteredItems","shiftActiveItemIndex","comboboxInViewport","scrollIntoView","ensureRecentSelectedItemIsActive","defaultPrevented","scrollToActiveItem","clearDisabled","clearValue","toggleSelection","removeActiveChip","submitForm","selectionDisplay","selectedHiddenChipsCount","isMulti","removeLastChip","removeEventListener","toggleCloseEnd","toggleOpenEnd","_assertThisInitialize2","listContainerEl","referenceEl","_context","reposition","maxScrollerHeight","getMaxScrollerHeight","maxHeight","minWidth","clientWidth","comboboxItem","selection","find","calciteComboboxChipClose","composedPath","some","node","tagName","classList","_node$classList","contains","XButtonCSS","_context2","componentLoaded","_assertThisInitialize3","allSelectedIndicatorChipEl","chipContainerEl","placeholder","selectedIndicatorChipEl","chipContainerElGap","parseInt","getComputedStyle","gap","replace","chipContainerElWidth","getElementWidth","_getComputedStyle","fontSize","fontFamily","inputTextWidth","getTextWidth","inputWidth","calciteSize48","allSelectedIndicatorChipElWidth","selectedIndicatorChipElWidth","largestSelectedIndicatorChipWidth","Math","max","setCompactSelectionDisplay","chipEls","Array","from","shadowRoot","querySelectorAll","filter","chipEl","closable","availableHorizontalChipElSpace","round","refreshChipDisplay","setVisibleAndHiddenChips","floatingEl","connectFloatingUI","resizeObserver","observe","transitionEl","target","filteredData","ComboboxItemGroup","debounce","setOpenToEmptyState","data","itemsAndGroups","getItemsAndGroups","matchAll","forEach","hidden","parent","grandparent","ancestor","RegExp","escapeRegExp","getFilteredItems","trim","calciteComboboxFilterChange","DEBOUNCE","calciteComboboxChange","internalComboboxChangeEvent","match","hasActiveChildren","sort","a","b","aIdx","indexOf","bIdx","getItems","groupItems","getGroupItems","getData","getSelectedItems","needsIcon","getNeedsIcon","groupItem","index","afterEmptyGroup","nextGroupItem","children","activeItem","height","calculateScrollerHeight","offsetHeight","scrollTop","offsetTop","_this$textInput","focus","valid","badInput","customError","patternMismatch","rangeOverflow","rangeUnderflow","stepMismatch","tooLong","tooShort","typeMismatch","valueMissing","onToggleOpenCloseComponent","internalValueChangeFlag","isArray","includes","setFilteredPlacements","getValue","_context3","componentOnReady","ignoreSelectedEventsFlag","newIndex","stopPropagation","placement","overlayPositioning","_args4","delayed","_context5","componentFocusable","_this$textInput2","connectLocalized","connectMessages","connectLabel","connectForm","mutationObserver","_this$mutationObserve","childList","subtree","openHandler","setUpLoadableComponent","_context6","setUpMessages","afterConnectDefaultValueSet","setComponentLoaded","inputHeight","_this$mutationObserve2","disconnect","_this$resizeObserver","disconnectLabel","disconnectForm","disconnectFloatingUI","disconnectLocalized","disconnectMessages","updateMessages","effectiveLocale","emitComboboxChange","resetText","bounding","getBoundingClientRect","top","left","right","window","innerWidth","document","documentElement","bottom","innerHeight","clientHeight","calciteComboboxBeforeOpen","calciteComboboxOpen","calciteComboboxBeforeClose","calciteComboboxClose","targetIndex","add","remove","chipElWidth","_this2","showChip","hideChip","newCompactBreakpoint","maxCompactBreakpoint","compactSelectionDisplay","newSelectedVisibleChipsCount","selectedVisibleChipsCount","newSelectedHiddenChipsCount","maxItems","itemsToProcess","_this3","ComboboxChildSelector","reduce","total","child","updateAncestors","getLabel","getItemAncestors","getItemChildren","_toConsumableArray","filterDisabled","metadata","existingItem","createElement","prepend","focusChip","last","_this$selectedItems$t","chip","querySelector","delta","activeDescendant","i","messages","chipClasses","reverse","pathLabel","join","appearance","messageOverrides","dismissLabel","removeTag","onCalciteChipClose","_this4","calciteChipCloseHandler","onFocusin","tabindex","title","setAllSelectedIndicatorChipEl","allSelected","isAllSelected","all","chipInvisible","setSelectedIndicatorChipEl","selectedItemsCount","placeholderIcon","selectedItem","selectedIcon","singleSelectionMode","_this5","single","showLabel","IDS","toAriaBoolean","status","getLabelText","showingInlineIcon","onFocus","comboboxFocusHandler","onInput","inputHandler","role","setFloatingEl","setContainerEl","FloatingCSS","list","placeholderIconFlipRtl","showPlaceholder","allSelectionDisplay","singleSelectionDisplay","fitSelectionDisplay","isClearable","_this$value","wrapper","clickHandler","onKeyDown","keyDownHandler","setReferenceEl","renderSelectedOrPlaceholderIcon","setChipContainerEl","renderChips","renderSelectedIndicatorChip","renderSelectedIndicatorChipCompact","renderAllSelectedIndicatorChip","renderAllSelectedIndicatorChipCompact","htmlFor","renderInput","clear","renderChevronIcon","renderListBoxOptions","renderFloatingUIContainer","HiddenFormInputSlot","component","validationMessage","Validation","validationIcon","message","observerOptions","processMutations","unobserve","mutations","forceUpdate","calciteSize24","calciteSize32","calciteSize44","input","selectionDisplayFit","selectionDisplaySingle","listContainer","element","parentElement","_element$parentElemen","closest","_parent$parentElement","_item$ancestors","nodeName","nodeListToArray","isBrowser","evaluate","XPathResult","UNORDERED_NODE_SNAPSHOT_TYPE","snapshotLength"],"sourceRoot":""}