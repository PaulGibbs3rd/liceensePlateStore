"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[65069],{77178:function(e,t,r){r.d(t,{Z:function(){return p}});var n=r(37762),i=r(15671),a=r(43144),o=r(60136),l=r(29388),s=r(27366),u=r(80987),c=(r(14921),r(10064),r(32718),r(3073),r(27088)),d=r(49861),f=r(69912),y=function(e){(0,o.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).getCollections=null,n}return(0,a.Z)(r,[{key:"initialize",value:function(){var e=this;this.addHandles((0,c.EH)((function(){return e._refresh()})))}},{key:"destroy",value:function(){this.getCollections=null}},{key:"_refresh",value:function(){var e=null!=this.getCollections?this.getCollections():null;if(null!=e){var t,r=0,i=(0,n.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;null!=a&&(r=this._processCollection(r,a))}}catch(o){i.e(o)}finally{i.f()}this.splice(r,this.length)}else this.removeAll()}},{key:"_createNewInstance",value:function(e){return new u.Z(e)}},{key:"_processCollection",value:function(e,t){var r;if(!t)return e;var i,a=null!==(r=this.itemFilterFunction)&&void 0!==r?r:function(e){return!!e},o=(0,n.Z)(t);try{for(o.s();!(i=o.n()).done;){var l=i.value;if(l){if(a(l)){var s=this.indexOf(l,e);s>=0?s!==e&&this.reorder(l,e):this.add(l,e),++e}if(this.getChildrenFunction){var u=this.getChildrenFunction(l);if(Array.isArray(u)){var c,d=(0,n.Z)(u);try{for(d.s();!(c=d.n()).done;){var f=c.value;e=this._processCollection(e,f)}}catch(y){d.e(y)}finally{d.f()}}else e=this._processCollection(e,u)}}}}catch(y){o.e(y)}finally{o.f()}return e}}]),r}(u.Z);(0,s._)([(0,d.Cb)()],y.prototype,"getCollections",void 0),(0,s._)([(0,d.Cb)()],y.prototype,"getChildrenFunction",void 0),(0,s._)([(0,d.Cb)()],y.prototype,"itemFilterFunction",void 0);var p=y=(0,s._)([(0,f.j)("esri.core.CollectionFlattener")],y)},93002:function(e,t,r){r.d(t,{G:function(){return u},w:function(){return d}});var n=r(93433),i=r(74165),a=r(15861),o=r(14921),l=r(80987),s=r(54472);function u(e,t){return c.apply(this,arguments)}function c(){return(c=(0,a.Z)((0,i.Z)().mark((function e(t,r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load();case 2:return e.abrupt("return",d(t,r));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return f.apply(this,arguments)}function f(){return f=(0,a.Z)((0,i.Z)().mark((function e(t,r){var u,c,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=[],c=function e(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var c=o[a];null!=c&&(Array.isArray(c)?e.apply(void 0,(0,n.Z)(c)):l.Z.isCollection(c)?c.forEach((function(t){return e(t)})):s.Z.isLoadable(c)&&u.push(c))}},r(c),d=null,e.next=5,(0,o.UI)(u,function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.q6)(y(t)?t.loadAll():t.load());case 2:!1!==(r=e.sent).ok||d||(d=r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:if(!d){e.next=7;break}throw d.error;case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function y(e){return"loadAll"in e&&"function"==typeof e.loadAll}},65069:function(e,t,r){r.r(t),r.d(t,{default:function(){return j}});var n=r(74165),i=r(15861),a=r(15671),o=r(43144),l=r(97326),s=r(60136),u=r(29388),c=r(27366),d=r(77178),f=r(93002),y=r(32718),p=r(97642),v=r(66978),h=r(94172),b=r(49861),m=(r(93169),r(84936),r(23879)),g=r(38511),w=r(69912),Z=r(31201),k=r(25265),_=r(30651),C=r(6693),x=r(6061),L=r(29598),S=r(56811),I=r(19610),A=r(98995),M=r(30219),O=r(84938),E=r(16791),P=r(83217),F=r(84933),T=r(9634),V=r(41190),R=function(e){(0,s.Z)(c,e);var t=(0,u.Z)(c);function c(e){var o;return(0,a.Z)(this,c),(o=t.call(this,e)).allLayers=new d.Z({getCollections:function(){return[o.layers]},getChildrenFunction:function(e){return"layers"in e?e.layers:null}}),o.allTables=(0,M.a)((0,l.Z)(o)),o.fullExtent=void 0,o.operationalLayerType="GroupLayer",o.spatialReference=void 0,o.type="group",o._debouncedSaveOperations=(0,v.Ds)(function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t,i,a){var s,u,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(89035),r.e(80907)]).then(r.bind(r,80907));case 2:s=e.sent,u=s.save,c=s.saveAs,e.t0=t,e.next=e.t0===F.x.SAVE?8:e.t0===F.x.SAVE_AS?9:10;break;case 8:return e.abrupt("return",u((0,l.Z)(o),i));case 9:return e.abrupt("return",c((0,l.Z)(o),a,i));case 10:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()),o}return(0,o.Z)(c,[{key:"initialize",value:function(){var e=this;this._enforceVisibility(this.visibilityMode,this.visible),this.addHandles([(0,h.watch)((function(){for(var t=e.parent;t&&"parent"in t&&t.parent;)t=t.parent;return t&&P.x in t}),(function(t){var r="prevent-adding-tables";e.removeHandles(r),t&&(e.tables.removeAll(),e.addHandles((0,h.on)((function(){return e.tables}),"before-add",(function(t){t.preventDefault(),y.Z.getLogger(e).errorOnce("tables","tables in group layers in a webscene are not supported. Please move the tables from the group layer to the webscene if you want to persist them.")})),r))}),h.syncAndInitial),(0,h.watch)((function(){return e.visible}),this._onVisibilityChange.bind(this),h.sync)])}},{key:"destroy",value:function(){this.allLayers.destroy(),this.allTables.destroy()}},{key:"sourceIsPortalItem",get:function(){return this.portalItem&&this.originIdOf("portalItem")===k.s3.USER}},{key:"_writeLayers",value:function(e,t,r,n){var i=[];if(!e)return i;e.forEach((function(e){var t=(0,V.Nw)(e,n.webmap?n.webmap.getLayerJSONFromResourceInfo(e):null,n);(null===t||void 0===t?void 0:t.layerType)&&i.push(t)})),t.layers=i}},{key:"portalItem",set:function(e){this._set("portalItem",e)}},{key:"readPortalItem",value:function(e,t,r){var n=t.itemId;if("GroupLayer"===t.layerType&&n)return new A.default({id:n,portal:null===r||void 0===r?void 0:r.portal})}},{key:"writePortalItem",value:function(e,t){(null===e||void 0===e?void 0:e.id)&&(t.itemId=e.id)}},{key:"visibilityMode",set:function(e){var t=this._get("visibilityMode")!==e;this._set("visibilityMode",e),t&&this._enforceVisibility(e,this.visible)}},{key:"beforeSave",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,T.P)(this));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"load",value:function(e){var t=this,r=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Group Layer","Scene Service"],layerModuleTypeMap:I.T},e).catch((function(e){if((0,v.r9)(e),t.sourceIsPortalItem)throw e}));return this.addResolvingPromise(r),Promise.resolve(this)}},{key:"loadAll",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t=this;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.G)(this,(function(e){e(t.layers,t.tables)})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._debouncedSaveOperations(F.x.SAVE,t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"saveAs",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t,r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._debouncedSaveOperations(F.x.SAVE_AS,r,t));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"layerAdded",value:function(e){var t=this;e.visible&&"exclusive"===this.visibilityMode?this._turnOffOtherLayers(e):"inherited"===this.visibilityMode&&(e.visible=this.visible),this.hasHandles(e.uid)?console.error("Layer read to Grouplayer: uid=".concat(e.uid)):this.addHandles((0,h.watch)((function(){return e.visible}),(function(r){return t._onChildVisibilityChange(e,r)}),h.sync),e.uid)}},{key:"layerRemoved",value:function(e){this.removeHandles(e.uid),this._enforceVisibility(this.visibilityMode,this.visible)}},{key:"_turnOffOtherLayers",value:function(e){this.layers.forEach((function(t){t!==e&&(t.visible=!1)}))}},{key:"_enforceVisibility",value:function(e,t){if((0,m.vw)(this).initialized){var r=this.layers,n=r.find((function(e){return e.visible}));switch(e){case"exclusive":r.length&&!n&&((n=r.at(0)).visible=!0),this._turnOffOtherLayers(n);break;case"inherited":r.forEach((function(e){e.visible=t}))}}}},{key:"_onVisibilityChange",value:function(e){"inherited"===this.visibilityMode&&this.layers.forEach((function(t){t.visible=e}))}},{key:"_onChildVisibilityChange",value:function(e,t){switch(this.visibilityMode){case"exclusive":t?this._turnOffOtherLayers(e):this._isAnyLayerVisible()||(e.visible=!0);break;case"inherited":e.visible=this.visible}}},{key:"_isAnyLayerVisible",value:function(){return this.layers.some((function(e){return e.visible}))}}]),c}((0,C.h7)((0,S.M)((0,x.q)((0,L.I)((0,E.Q)((0,O.K)((0,p.R)(_.Z))))))));(0,c._)([(0,b.Cb)({readOnly:!0,dependsOn:[]})],R.prototype,"allLayers",void 0),(0,c._)([(0,b.Cb)({readOnly:!0})],R.prototype,"allTables",void 0),(0,c._)([(0,b.Cb)({json:{read:!0,write:!0}})],R.prototype,"blendMode",void 0),(0,c._)([(0,b.Cb)()],R.prototype,"fullExtent",void 0),(0,c._)([(0,b.Cb)({readOnly:!0})],R.prototype,"sourceIsPortalItem",null),(0,c._)([(0,b.Cb)({json:{read:!1,write:{ignoreOrigin:!0}}})],R.prototype,"layers",void 0),(0,c._)([(0,Z.c)("layers")],R.prototype,"_writeLayers",null),(0,c._)([(0,b.Cb)({type:["GroupLayer"]})],R.prototype,"operationalLayerType",void 0),(0,c._)([(0,b.Cb)({json:{origins:{"web-map":{read:!1,write:{overridePolicy:function(e,t,r){return{enabled:"Group Layer"===(null===e||void 0===e?void 0:e.type)&&(null===r||void 0===r?void 0:r.initiator)!==this}}}},"web-scene":{read:!1,write:!1}}}})],R.prototype,"portalItem",null),(0,c._)([(0,g.r)("web-map","portalItem",["itemId"])],R.prototype,"readPortalItem",null),(0,c._)([(0,Z.c)("web-map","portalItem",{itemId:{type:String}})],R.prototype,"writePortalItem",null),(0,c._)([(0,b.Cb)()],R.prototype,"spatialReference",void 0),(0,c._)([(0,b.Cb)({json:{read:!1},readOnly:!0,value:"group"})],R.prototype,"type",void 0),(0,c._)([(0,b.Cb)({type:["independent","inherited","exclusive"],value:"independent",json:{write:!0,origins:{"web-map":{type:["independent","exclusive"],write:function(e,t,r){"inherited"!==e&&(t[r]=e)}}}}})],R.prototype,"visibilityMode",null);var j=R=(0,c._)([(0,w.j)("esri.layers.GroupLayer")],R)},84938:function(e,t,r){r.d(t,{K:function(){return m}});var n=r(37762),i=r(15671),a=r(43144),o=r(97326),l=r(60136),s=r(29388),u=r(27366),c=r(80987),d=r(60354),f=r(32718),y=r(66978),p=r(49861),v=(r(93169),r(84936),r(69912)),h=r(30651);function b(e,t,r){var n,i;if(e)for(var a=0,o=e.length;a<o;a++){var l,s;if((null===(l=n=e.at(a))||void 0===l?void 0:l[t])===r)return n;if("group"===(null===(s=n)||void 0===s?void 0:s.type)&&(i=b(n.layers,t,r)))return i}}var m=function(e){var t=function(e){(0,l.Z)(r,e);var t=(0,s.Z)(r);function r(){var e;(0,i.Z)(this,r);for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];(e=t.call.apply(t,[this].concat(a))).layers=new c.Z;var s=function(e){e.parent&&"remove"in e.parent&&e.parent.remove(e)},u=function(t){t.parent=(0,o.Z)(e),e.layerAdded(t),"elevation"!==t.type&&"base-elevation"!==t.type||f.Z.getLogger((0,o.Z)(e)).error("Layer 'title:".concat(t.title,", id:").concat(t.id,"' of type '").concat(t.type,"' is not supported as an operational layer and will therefore be ignored."))},d=function(t){t.parent=null,e.layerRemoved(t)};return e.addHandles([e.layers.on("before-add",(function(t){if(t.item===(0,o.Z)(e))return t.preventDefault(),void f.Z.getLogger((0,o.Z)(e)).error("#add()","Cannot add layer to itself.");s(t.item)})),e.layers.on("after-add",(function(e){return u(e.item)})),e.layers.on("after-remove",(function(e){return d(e.item)}))]),e}return(0,a.Z)(r,[{key:"destroy",value:function(){var e,t=this.layers.toArray(),r=(0,n.Z)(t);try{for(r.s();!(e=r.n()).done;){e.value.destroy()}}catch(i){r.e(i)}finally{r.f()}this.layers.destroy()}},{key:"layers",set:function(e){this._set("layers",(0,d.Z)(e,this._get("layers")))}},{key:"add",value:function(e,t){var r=this,n=this.layers;if(t=n.getNextIndex(t),e instanceof h.Z){var i=e;i.parent===this?this.reorder(i,t):n.add(i,t)}else(0,y.y8)(e)?e.then((function(e){r.destroyed||r.add(e,t)})):f.Z.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}},{key:"addMany",value:function(e,t){var r=this,n=this.layers,i=n.getNextIndex(t);e.slice().forEach((function(e){e.parent!==r?(n.add(e,i),i+=1):r.reorder(e,i)}))}},{key:"findLayerById",value:function(e){return b(this.layers,"id",e)}},{key:"findLayerByUid",value:function(e){return b(this.layers,"uid",e)}},{key:"remove",value:function(e){return this.layers.remove(e)}},{key:"removeMany",value:function(e){return this.layers.removeMany(e)}},{key:"removeAll",value:function(){return this.layers.removeAll()}},{key:"reorder",value:function(e,t){return this.layers.reorder(e,t)}},{key:"layerAdded",value:function(e){}},{key:"layerRemoved",value:function(e){}}]),r}(e);return(0,u._)([(0,p.Cb)()],t.prototype,"layers",null),t=(0,u._)([(0,v.j)("esri.support.LayersMixin")],t)}},16791:function(e,t,r){r.d(t,{Q:function(){return h}});var n=r(37762),i=r(15671),a=r(43144),o=r(97326),l=r(60136),s=r(29388),u=r(27366),c=r(80987),d=r(60354),f=r(32718),y=r(49861),p=(r(93169),r(84936),r(69912));function v(e,t,r){if(e)for(var n=0,i=e.length;n<i;n++){var a=e.at(n);if(a[t]===r)return a;if("group"===(null===a||void 0===a?void 0:a.type)){var o=v(a.tables,t,r);if(o)return o}}}var h=function(e){var t=function(e){(0,l.Z)(r,e);var t=(0,s.Z)(r);function r(){var e;(0,i.Z)(this,r);for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))).tables=new c.Z,e.addHandles([e.tables.on("after-add",(function(t){var r=t.item;r.parent&&r.parent!==(0,o.Z)(e)&&"tables"in r.parent&&r.parent.tables.remove(r),r.parent=(0,o.Z)(e),"feature"!==r.type&&f.Z.getLogger((0,o.Z)(e)).error("Layer 'title:".concat(r.title,", id:").concat(r.id,"' of type '").concat(r.type,"' is not supported as a table and will therefore be ignored."))})),e.tables.on("after-remove",(function(e){e.item.parent=null}))]),e}return(0,a.Z)(r,[{key:"destroy",value:function(){var e,t=this.tables.toArray(),r=(0,n.Z)(t);try{for(r.s();!(e=r.n()).done;){e.value.destroy()}}catch(i){r.e(i)}finally{r.f()}this.tables.destroy()}},{key:"tables",set:function(e){this._set("tables",(0,d.Z)(e,this._get("tables")))}},{key:"findTableById",value:function(e){return v(this.tables,"id",e)}},{key:"findTableByUid",value:function(e){return v(this.tables,"uid",e)}}]),r}(e);return(0,u._)([(0,y.Cb)()],t.prototype,"tables",null),t=(0,u._)([(0,p.j)("esri.support.TablesMixin")],t)}},30219:function(e,t,r){r.d(t,{O:function(){return o},a:function(){return a}});var n=r(37762),i=r(77178);function a(e){return new i.Z({getCollections:function(){return[e.tables,e.layers]},getChildrenFunction:function(e){var t=[];return"tables"in e&&t.push(e.tables),"layers"in e&&t.push(e.layers),t},itemFilterFunction:function(e){var t=e.parent;return!!t&&"tables"in t&&t.tables.includes(e)}})}function o(e){var t,r=(0,n.Z)(e.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;null===i||void 0===i||i.destroy()}}catch(a){r.e(a)}finally{r.f()}e.clear()}},83217:function(e,t,r){r.d(t,{x:function(){return n}});var n=Symbol("WebScene")},9634:function(e,t,r){r.d(t,{P:function(){return l},z:function(){return c}});var n=r(74165),i=r(37762),a=r(15861),o=r(10064);function l(e){return s.apply(this,arguments)}function s(){return s=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,o,l,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],a=(0,i.Z)(t.allLayers);try{for(a.s();!(o=a.n()).done;)"beforeSave"in(l=o.value)&&"function"==typeof l.beforeSave&&(s=l.beforeSave())&&r.push(s)}catch(n){a.e(n)}finally{a.f()}return e.next=5,Promise.allSettled(r);case 5:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}var u=new Set(["layer:unsupported","property:unsupported","symbol:unsupported","symbol-layer:unsupported","url:unsupported"]);function c(e,t,r){var n,i=(null!==(n=e.messages)&&void 0!==n?n:[]).filter((function(e){return"error"===e.type})).map((function(e){var t=e.name,r=e.message,n=e.details;return new o.Z(t,r,n)}));if(e.blockedRelativeUrls&&(i=i.concat(e.blockedRelativeUrls.map((function(e){return new o.Z("url:unsupported","Relative url '".concat(e,"' is not supported"))})))),r){var a=r.ignoreUnsupported,l=r.supplementalUnsupportedErrors,s=void 0===l?[]:l,c=r.requiredPropertyChecksDisabled;a&&(i=i.filter((function(e){var t=e.name;return!(u.has(t)||s.includes(t))}))),c&&(i=i.filter((function(e){return"web-document-write:property-required"!==e.name})))}if(i.length>0)throw new o.Z(t.errorName,"Failed to save due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:i})}},41190:function(e,t,r){r.d(t,{Nw:function(){return y}});var n=r(10064),i=r(84652),a=r(18202),o=r(13922),l=r(37933),s=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),u=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function c(e,t){if(t.restrictedWebMapWriting){var r=function(e){return"basemap"===e.layerContainerType?s:"operational-layers"===e.layerContainerType?u:null}(t);return null==r||r.has(e.type)&&!(0,l.rQ)(e)}return!0}function d(e,t){var r,n;"maxScale"in e&&(t.maxScale=null!==(r=(0,o.k)(e.maxScale))&&void 0!==r?r:void 0),"minScale"in e&&(t.minScale=null!==(n=(0,o.k)(e.minScale))&&void 0!==n?n:void 0)}function f(e,t){var r;if(function(e,t){if(t)if((0,l.rQ)(e)){var r,n=(0,a.hS)("featureCollection.layers",t),i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r.layerDefinition;i&&d(e,i)}else"group"!==e.type&&d(e,t)}(e,t),t&&(t.id=e.id,"blendMode"in e&&(t.blendMode=e.blendMode,"normal"===t.blendMode&&delete t.blendMode),t.opacity=null!==(r=(0,o.k)(e.opacity))&&void 0!==r?r:void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&"wmts"!==e.type))if((0,l.rQ)(e)){var n=t.featureCollection;n&&(n.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function y(e,t,r){if(!e.persistenceEnabled)return null;if(!("write"in e)||!e.write)return null!==r&&void 0!==r&&r.messages&&r.messages.push(new n.Z("layer:unsupported","Layers (".concat(e.title,", ").concat(e.id,") of type '").concat(e.declaredClass,"' cannot be persisted"),{layer:e})),null;if((0,l.rQ)(e)&&!e.isTable)t=e.resourceInfo;else if(c(e,r)){var a={};return e.write(a,r)?a:null}return null!=t&&f(e,t=(0,i.d9)(t)),t}}}]);
//# sourceMappingURL=65069.46d18662.chunk.js.map