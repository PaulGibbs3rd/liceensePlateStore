{"version":3,"file":"static/js/96026.0001b5ee.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/LaserlinePath.glsl.js","../node_modules/@arcgis/core/chunks/Laserlines.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlinePathTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlinePathData.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlinePathTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlineTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlineTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserLineRenderer.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LaserlineVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElement.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{translate as e}from\"../core/libs/gl-matrix-2/math/mat4.js\";import{create as i}from\"../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as o}from\"../core/libs/gl-matrix-2/math/vec2.js\";import{create as t}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{Laserline as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js\";import{Float2PassUniform as a}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{FloatPassUniform as s}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as l}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Matrix4PassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js\";import{ShaderBuilder as d}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as c}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function v(i){const t=new d;t.include(r,i);const{vertex:v,fragment:w}=t;return v.uniforms.add(new n(\"modelView\",((i,{camera:o})=>e(p,o.viewMatrix,i.origin))),new n(\"proj\",((e,{camera:i})=>i.projectionMatrix)),new s(\"glowWidth\",((e,{camera:i})=>e.glowWidth*i.pixelRatio)),new a(\"pixelToNDC\",((e,{camera:i})=>o(m,2/i.fullViewport[2],2/i.fullViewport[3])))),t.attributes.add(c.START,\"vec3\"),t.attributes.add(c.END,\"vec3\"),t.attributes.add(c.UP,\"vec3\"),t.attributes.add(c.EXTRUDE,\"vec2\"),t.varyings.add(\"uv\",\"vec2\"),t.varyings.add(\"vViewStart\",\"vec3\"),t.varyings.add(\"vViewEnd\",\"vec3\"),t.varyings.add(\"vViewPlane\",\"vec4\"),v.code.add(l`void main() {\nvec3 pos = mix(start, end, extrude.x);\nvec4 viewPos = modelView * vec4(pos, 1);\nvec4 projPos = proj * viewPos;\nvec2 ndcPos = projPos.xy / projPos.w;\nvec3 viewUp = (modelView * vec4(extrude.y * up, 0)).xyz;\nvec4 projPosUp = proj * vec4(viewPos.xyz + viewUp, 1);\nvec2 projExtrudeDir = normalize(projPosUp.xy / projPosUp.w - ndcPos);\nvec2 lxy = abs(sign(projExtrudeDir) - ndcPos);\nndcPos += length(lxy) * projExtrudeDir;\nvec3 worldPlaneNormal = normalize(cross(up, normalize(end - start)));\nvec3 viewPlaneNormal = (modelView * vec4(worldPlaneNormal, 0)).xyz;\nvViewStart = (modelView * vec4(start, 1)).xyz;\nvViewEnd = (modelView * vec4(end, 1)).xyz;\nvViewPlane = vec4(viewPlaneNormal, -dot(viewPlaneNormal, vViewStart));\nfloat xPaddingPixels = sign(dot(viewPlaneNormal, viewPos.xyz)) * (extrude.x * 2.0 - 1.0) * glowWidth;\nndcPos.x += xPaddingPixels * pixelToNDC.x;\nuv = ndcPos * 0.5 + 0.5;\ngl_Position = vec4(ndcPos, 0, 1);\n}`),w.uniforms.add(new s(\"perScreenPixelRatio\",((e,i)=>i.camera.perScreenPixelRatio))),w.code.add(l`float planeDistancePixels(vec4 plane, vec3 pos, vec3 start, vec3 end) {\nvec3 origin = mix(start, end, 0.5);\nvec3 basis = end - origin;\nvec3 posAtOrigin = pos - origin;\nfloat x = dot(normalize(basis), posAtOrigin);\nfloat y = dot(plane.xyz, posAtOrigin);\nfloat dx = max(abs(x) - length(basis), 0.0);\nfloat dy = y;\nfloat dist = length(vec2(dx, dy));\nfloat width = fwidth(y);\nfloat maxPixelDistance = length(pos) * perScreenPixelRatio * 2.0;\nfloat pixelDist = dist / min(width, maxPixelDistance);\nreturn abs(pixelDist);\n}\nvoid main() {\nvec3 dEndStart = vViewEnd - vViewStart;\nif (dot(dEndStart, dEndStart) < 1e-5) {\ndiscard;\n}\nvec3 pos;\nvec3 normal;\nfloat angleCutoffAdjust;\nfloat depthDiscontinuityAlpha;\nif (!laserlineReconstructFromDepth(pos, normal, angleCutoffAdjust, depthDiscontinuityAlpha)) {\ndiscard;\n}\nfloat distance = planeDistancePixels(vViewPlane, pos, vViewStart, vViewEnd);\nvec4 color = laserlineProfile(distance);\nfloat alpha = (1.0 - smoothstep(0.995 - angleCutoffAdjust, 0.999 - angleCutoffAdjust, abs(dot(normal, vViewPlane.xyz))));\nfragColor = laserlineOutput(color * alpha * depthDiscontinuityAlpha);\n}`),t}const m=t(),p=i(),w=Object.freeze(Object.defineProperty({__proto__:null,build:v},Symbol.toStringTag,{value:\"Module\"}));export{w as L,v as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../core/mathUtils.js\";import{set as i}from\"../core/libs/gl-matrix-2/math/vec2.js\";import{create as t}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{f as n,n as a,l as o,p as r,h as l,c as s,b as c,g as d}from\"./vec32.js\";import{create as f}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{t as p}from\"./vec42.js\";import{create as g}from\"../core/libs/gl-matrix-2/factories/vec4f64.js\";import{pointAt as h}from\"../geometry/support/lineSegment.js\";import{create as m,fromPositionAndNormal as u}from\"../geometry/support/plane.js\";import{g as x,c as w}from\"./sphere.js\";import{Laserline as P}from\"../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js\";import{ScreenSpacePass as b}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{Float2PassUniform as v}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{Float3PassUniform as D}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{Float4PassUniform as M}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatPassUniform as S}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as C}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as L}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";const A=e(6);function j(e){const i=new L;i.include(b),i.include(P,e);const t=i.fragment;if(e.lineVerticalPlaneEnabled||e.heightManifoldEnabled)if(t.uniforms.add(new S(\"maxPixelDistance\",((i,t)=>e.heightManifoldEnabled?2*t.camera.computeScreenPixelSizeAt(i.heightManifoldTarget):2*t.camera.computeScreenPixelSizeAt(i.lineVerticalPlaneSegment.origin)))),t.code.add(C`float planeDistancePixels(vec4 plane, vec3 pos) {\nfloat dist = dot(plane.xyz, pos) + plane.w;\nfloat width = fwidth(dist);\ndist /= min(width, maxPixelDistance);\nreturn abs(dist);\n}`),e.spherical){const e=(e,i,t)=>l(e,i.heightManifoldTarget,t.camera.viewMatrix),i=(e,i)=>l(e,[0,0,0],i.camera.viewMatrix);t.uniforms.add(new M(\"heightManifoldOrigin\",((t,r)=>(e(R,t,r),i(F,r),n(F,F,R),a(G,F),G[3]=o(F),G))),new D(\"globalOrigin\",((e,t)=>i(R,t))),new S(\"cosSphericalAngleThreshold\",((e,i)=>1-Math.max(2,r(i.camera.eye,e.heightManifoldTarget)*i.camera.perRenderPixelRatio)/o(e.heightManifoldTarget)))),t.code.add(C`float globeDistancePixels(float posInGlobalOriginLength) {\nfloat dist = abs(posInGlobalOriginLength - heightManifoldOrigin.w);\nfloat width = fwidth(dist);\ndist /= min(width, maxPixelDistance);\nreturn abs(dist);\n}\nfloat heightManifoldDistancePixels(vec4 heightPlane, vec3 pos) {\nvec3 posInGlobalOriginNorm = normalize(globalOrigin - pos);\nfloat cosAngle = dot(posInGlobalOriginNorm, heightManifoldOrigin.xyz);\nvec3 posInGlobalOrigin = globalOrigin - pos;\nfloat posInGlobalOriginLength = length(posInGlobalOrigin);\nfloat sphericalDistance = globeDistancePixels(posInGlobalOriginLength);\nfloat planarDistance = planeDistancePixels(heightPlane, pos);\nreturn cosAngle < cosSphericalAngleThreshold ? sphericalDistance : planarDistance;\n}`)}else t.code.add(C`float heightManifoldDistancePixels(vec4 heightPlane, vec3 pos) {\nreturn planeDistancePixels(heightPlane, pos);\n}`);if(e.pointDistanceEnabled&&(t.uniforms.add(new S(\"maxPixelDistance\",((e,i)=>2*i.camera.computeScreenPixelSizeAt(e.pointDistanceTarget)))),t.code.add(C`float sphereDistancePixels(vec4 sphere, vec3 pos) {\nfloat dist = distance(sphere.xyz, pos) - sphere.w;\nfloat width = fwidth(dist);\ndist /= min(width, maxPixelDistance);\nreturn abs(dist);\n}`)),e.intersectsLineEnabled&&(t.uniforms.add(new S(\"perScreenPixelRatio\",((e,i)=>i.camera.perScreenPixelRatio))),t.code.add(C`float lineDistancePixels(vec3 start, vec3 dir, float radius, vec3 pos) {\nfloat dist = length(cross(dir, pos - start)) / (length(pos) * perScreenPixelRatio);\nreturn abs(dist) - radius;\n}`)),(e.lineVerticalPlaneEnabled||e.intersectsLineEnabled)&&t.code.add(C`bool pointIsWithinLine(vec3 pos, vec3 start, vec3 end) {\nvec3 dir = end - start;\nfloat t2 = dot(dir, pos - start);\nfloat l2 = dot(dir, dir);\nreturn t2 >= 0.0 && t2 <= l2;\n}`),t.code.add(C`void main() {\nvec3 pos;\nvec3 normal;\nfloat angleCutoffAdjust;\nfloat depthDiscontinuityAlpha;\nif (!laserlineReconstructFromDepth(pos, normal, angleCutoffAdjust, depthDiscontinuityAlpha)) {\ndiscard;\n}\nvec4 color = vec4(0, 0, 0, 0);`),e.heightManifoldEnabled){t.uniforms.add(new v(\"angleCutoff\",(e=>V(e))),new M(\"heightPlane\",((e,i)=>I(e.heightManifoldTarget,e.renderCoordsHelper.worldUpAtPosition(e.heightManifoldTarget,R),i.camera.viewMatrix))));const i=e.spherical?C`normalize(globalOrigin - pos)`:C`heightPlane.xyz`;t.code.add(C`\n    {\n      vec2 angleCutoffAdjusted = angleCutoff - angleCutoffAdjust;\n\n      // Fade out laserlines on flat surfaces\n      float heightManifoldAlpha = 1.0 - smoothstep(angleCutoffAdjusted.x, angleCutoffAdjusted.y, abs(dot(normal, ${i})));\n\n      vec4 heightManifoldColor = laserlineProfile(heightManifoldDistancePixels(heightPlane, pos));\n      color = max(color, heightManifoldColor * heightManifoldAlpha);\n    }\n    `)}return e.pointDistanceEnabled&&(t.uniforms.add(new v(\"angleCutoff\",(e=>V(e))),new M(\"pointDistanceSphere\",((e,i)=>y(e,i)))),t.code.add(C`{\nfloat pointDistanceSphereDistance = sphereDistancePixels(pointDistanceSphere, pos);\nvec4 pointDistanceSphereColor = laserlineProfile(pointDistanceSphereDistance);\nfloat pointDistanceSphereAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, normalize(pos - pointDistanceSphere.xyz))));\ncolor = max(color, pointDistanceSphereColor * pointDistanceSphereAlpha);\n}`)),e.lineVerticalPlaneEnabled&&(t.uniforms.add(new v(\"angleCutoff\",(e=>V(e))),new M(\"lineVerticalPlane\",((e,i)=>O(e,i))),new D(\"lineVerticalStart\",((e,i)=>E(e,i))),new D(\"lineVerticalEnd\",((e,i)=>z(e,i)))),t.code.add(C`{\nif (pointIsWithinLine(pos, lineVerticalStart, lineVerticalEnd)) {\nfloat lineVerticalDistance = planeDistancePixels(lineVerticalPlane, pos);\nvec4 lineVerticalColor = laserlineProfile(lineVerticalDistance);\nfloat lineVerticalAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, lineVerticalPlane.xyz)));\ncolor = max(color, lineVerticalColor * lineVerticalAlpha);\n}\n}`)),e.intersectsLineEnabled&&(t.uniforms.add(new v(\"angleCutoff\",(e=>V(e))),new D(\"intersectsLineStart\",((e,i)=>l(R,e.lineStartWorld,i.camera.viewMatrix))),new D(\"intersectsLineEnd\",((e,i)=>l(R,e.lineEndWorld,i.camera.viewMatrix))),new D(\"intersectsLineDirection\",((e,i)=>(s(G,e.intersectsLineSegment.vector),G[3]=0,a(R,p(G,G,i.camera.viewMatrix))))),new S(\"intersectsLineRadius\",(e=>e.intersectsLineRadius))),t.code.add(C`{\nif (pointIsWithinLine(pos, intersectsLineStart, intersectsLineEnd)) {\nfloat intersectsLineDistance = lineDistancePixels(intersectsLineStart, intersectsLineDirection, intersectsLineRadius, pos);\nvec4 intersectsLineColor = laserlineProfile(intersectsLineDistance);\nfloat intersectsLineAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, 1.0 - abs(dot(normal, intersectsLineDirection)));\ncolor = max(color, intersectsLineColor * intersectsLineAlpha);\n}\n}`)),t.code.add(C`fragColor = laserlineOutput(color * depthDiscontinuityAlpha);\n}`),i}function V(t){return i(T,Math.cos(t.angleCutoff),Math.cos(Math.max(0,t.angleCutoff-e(2))))}function y(e,i){return l(x(_),e.pointDistanceOrigin,i.camera.viewMatrix),_[3]=r(e.pointDistanceOrigin,e.pointDistanceTarget),_}function O(e,i){const t=h(e.lineVerticalPlaneSegment,.5,R),n=e.renderCoordsHelper.worldUpAtPosition(t,U),o=a(F,e.lineVerticalPlaneSegment.vector),r=c(R,n,o);return a(r,r),I(e.lineVerticalPlaneSegment.origin,r,i.camera.viewMatrix)}function E(e,i){const t=s(R,e.lineVerticalPlaneSegment.origin);return e.renderCoordsHelper.setAltitude(t,0),l(t,t,i.camera.viewMatrix)}function z(e,i){const t=d(R,e.lineVerticalPlaneSegment.origin,e.lineVerticalPlaneSegment.vector);return e.renderCoordsHelper.setAltitude(t,0),l(t,t,i.camera.viewMatrix)}function I(e,i,t){return l(W,e,t),s(G,i),G[3]=0,p(G,G,t),u(W,G,H)}const T=t(),R=f(),G=g(),U=f(),F=f(),W=f(),H=m(),_=w(),N=Object.freeze(Object.defineProperty({__proto__:null,build:j,defaultAngleCutoff:A},Symbol.toStringTag,{value:\"Module\"}));export{N as L,j as b,A as d};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{Program as i}from\"../../lib/Program.js\";import{VertexAttribute as t}from\"../../lib/VertexAttribute.js\";import{L as o}from\"../../../../../chunks/LaserlinePath.glsl.js\";import{BlendFactor as s}from\"../../../../webgl/enums.js\";import{makePipelineState as a,simpleBlendingParams as n,defaultColorWriteParams as l}from\"../../../../webgl/renderState.js\";class m extends r{initializeProgram(e){return new i(e.rctx,m.shader.get().build(this.configuration),h)}initializePipeline(){return a({blending:n(s.ONE,s.ONE_MINUS_SRC_ALPHA),colorWrite:l})}}m.shader=new e(o,(()=>import(\"../../shaders/LaserlinePath.glsl.js\")));const h=new Map([[t.START,0],[t.END,1],[t.UP,2],[t.EXTRUDE,3]]);export{m as LaserlinePathTechnique,h as attributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{s as e,f as t}from\"../../../../../chunks/vec32.js\";import{create as r}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{newDoubleArray as s}from\"../../../../../geometry/support/DoubleArray.js\";import{glLayout as i}from\"../../../support/buffer/glUtil.js\";import{newLayout as o}from\"../../../support/buffer/InterleavedLayout.js\";import{attributeLocations as u}from\"./LaserlinePathTechnique.js\";import{VertexArrayObject as f}from\"../../lib/VertexArrayObject.js\";import{VertexAttribute as n}from\"../../lib/VertexAttribute.js\";import{BufferObject as a}from\"../../../../webgl/BufferObject.js\";import{PrimitiveType as l,Usage as c}from\"../../../../webgl/enums.js\";class h{constructor(e){this._renderCoordsHelper=e,this._buffers=null,this._origin=r(),this._dirty=!1,this._count=0,this._vao=null}set vertices(e){const t=s(3*e.length);let r=0;for(const s of e)t[r++]=s[0],t[r++]=s[1],t[r++]=s[2];this.buffers=[t]}set buffers(t){if(this._buffers=t,this._buffers.length>0){const t=this._buffers[0],r=3*Math.floor(t.length/3/2);e(this._origin,t[r],t[r+1],t[r+2])}else e(this._origin,0,0,0);this._dirty=!0}get origin(){return this._origin}draw(e){const t=this._ensureVAO(e);null!=t&&(e.bindVAO(t),e.drawArrays(l.TRIANGLES,0,this._count))}dispose(){null!=this._vao&&this._vao.dispose()}_ensureVAO(e){return null==this._buffers?null:(null==this._vao&&(this._vao=this._createVAO(e,this._buffers)),this._ensureVertexData(this._vao,this._buffers),this._vao)}_createVAO(e,t){const r=this._createDataBuffer(t);return this._dirty=!1,new f(e,u,{data:i(V)},{data:a.createVertex(e,c.STATIC_DRAW,r)})}_ensureVertexData(e,t){if(!this._dirty)return;const r=this._createDataBuffer(t);e.vertexBuffers.data?.setData(r),this._dirty=!1}_createDataBuffer(r){const s=r.reduce(((e,t)=>e+_(t)),0);this._count=s;const i=V.createBuffer(s),o=this._origin;let u=0,f=0;for(const n of r){for(let r=0;r<n.length;r+=3){const s=e(p,n[r],n[r+1],n[r+2]);0===r?f=this._renderCoordsHelper.getAltitude(s):this._renderCoordsHelper.setAltitude(s,f);const a=this._renderCoordsHelper.worldUpAtPosition(s,d),l=u+2*r,c=t(p,s,o);if(r<n.length-3){i.up.setVec(l,a),i.up.setVec(l+3,a),i.up.setVec(l+5,a);for(let e=0;e<6;e++)i.start.setVec(l+e,c);i.extrude.setValues(l,0,-1),i.extrude.setValues(l+1,1,-1),i.extrude.setValues(l+2,1,1),i.extrude.setValues(l+3,0,-1),i.extrude.setValues(l+4,1,1),i.extrude.setValues(l+5,0,1)}if(r>0){i.up.setVec(l-2,a),i.up.setVec(l-4,a),i.up.setVec(l-5,a);for(let e=-6;e<0;e++)i.end.setVec(l+e,c)}}u+=_(n)}return i.buffer}}function _(e){return 3*(2*(e.length/3-1))}const d=r(),p=r(),V=o().vec3f(n.START).vec3f(n.END).vec3f(n.UP).vec2f(n.EXTRUDE);export{h as LaserlinePathData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../../chunks/tslib.es6.js\";import{ShaderTechniqueConfiguration as r,parameter as t}from\"../../core/shaderTechnique/ShaderTechniqueConfiguration.js\";class e extends r{constructor(){super(...arguments),this.contrastControlEnabled=!1}}o([t()],e.prototype,\"contrastControlEnabled\",void 0);export{e as LaserlinePathTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../../../../../core/mathUtils.js\";import{fromValues as t,create as i}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as r}from\"../../../../../geometry/support/lineSegment.js\";import{NoParameters as s}from\"../../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as o}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as l}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as n}from\"../../lib/DefaultVertexAttributeLocations.js\";import{Program as a}from\"../../lib/Program.js\";import{L as h}from\"../../../../../chunks/Laserlines.glsl.js\";import{BlendFactor as m}from\"../../../../webgl/enums.js\";import{makePipelineState as c,simpleBlendingParams as g,defaultColorWriteParams as d}from\"../../../../webgl/renderState.js\";class f extends s{constructor(){super(...arguments),this.innerColor=t(1,1,1),this.innerWidth=1,this.glowColor=t(1,.5,0),this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=.75,this.globalAlphaContrastBoost=2,this.angleCutoff=e(6),this.pointDistanceOrigin=i(),this.pointDistanceTarget=i(),this.lineVerticalPlaneSegment=r(),this.intersectsLineSegment=r(),this.intersectsLineRadius=3,this.heightManifoldTarget=i(),this.lineStartWorld=i(),this.lineEndWorld=i()}}class p extends l{initializeProgram(e){return new a(e.rctx,p.shader.get().build(this.configuration),n)}initializePipeline(){return c({blending:g(m.ONE,m.ONE_MINUS_SRC_ALPHA),colorWrite:d})}}p.shader=new o(h,(()=>import(\"../../shaders/Laserlines.glsl.js\")));export{f as LaserlinePassParameters,p as LaserlineTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{parameter as i}from\"../../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{LaserlinePathTechniqueConfiguration as t}from\"./LaserlinePathTechniqueConfiguration.js\";class n extends t{constructor(){super(...arguments),this.heightManifoldEnabled=!1,this.pointDistanceEnabled=!1,this.lineVerticalPlaneEnabled=!1,this.intersectsLineEnabled=!1,this.spherical=!1}}e([i()],n.prototype,\"heightManifoldEnabled\",void 0),e([i()],n.prototype,\"pointDistanceEnabled\",void 0),e([i()],n.prototype,\"lineVerticalPlaneEnabled\",void 0),e([i()],n.prototype,\"intersectsLineEnabled\",void 0),e([i()],n.prototype,\"spherical\",void 0);export{n as LaserlineTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{releaseMaybe as t,disposeMaybe as i}from\"../../../../../core/maybe.js\";import{property as s}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{c as r,g as a}from\"../../../../../chunks/vec32.js\";import{create as h,fromRay as l,getStart as o,getEnd as c}from\"../../../../../geometry/support/clipRay.js\";import{intersectClipRay as d}from\"../../../../../geometry/support/frustum.js\";import{copy as p}from\"../../../../../geometry/support/lineSegment.js\";import{wrap as _}from\"../../../../../geometry/support/ray.js\";import{ViewingMode as u}from\"../../../../ViewingMode.js\";import{SyncPrepareRenderPlugin as m,ConsumesDepth as g}from\"../RenderPlugin.js\";import{LaserlinePathData as P}from\"./LaserlinePathData.js\";import{LaserlinePathTechnique as b}from\"./LaserlinePathTechnique.js\";import{LaserlinePathTechniqueConfiguration as f}from\"./LaserlinePathTechniqueConfiguration.js\";import{LaserlinePassParameters as E,LaserlineTechnique as q}from\"./LaserlineTechnique.js\";import{LaserlineTechniqueConfiguration as L}from\"./LaserlineTechniqueConfiguration.js\";import{RenderSlot as V}from\"../../lib/RenderSlot.js\";import{updateParameters as D}from\"../../materials/internal/MaterialUtil.js\";let R=class extends m{constructor(e){super(e),this._technique=null,this._heightManifoldEnabled=!1,this._pointDistanceEnabled=!1,this._lineVerticalPlaneEnabled=!1,this._intersectsLineEnabled=!1,this._intersectsLineInfinite=!1,this._pathVerticalPlaneEnabled=!1,this._pathVerticalPlaneData=null,this._pathTechnique=null,this._passParameters=new E,this.produces=new Map([[V.LASERLINES,()=>!this.contrastControlEnabled],[V.LASERLINES_CONTRAST_CONTROL,()=>this.contrastControlEnabled]])}initialize(){this._passParameters.renderCoordsHelper=this.renderCoordsHelper}consumes(){return g}get isDecoration(){return this._isDecoration}get heightManifoldEnabled(){return this._heightManifoldEnabled}set heightManifoldEnabled(e){this._heightManifoldEnabled!==e&&(this._heightManifoldEnabled=e,this._requestRender())}get heightManifoldTarget(){return this._passParameters.heightManifoldTarget}set heightManifoldTarget(e){r(this._passParameters.heightManifoldTarget,e),this._requestRender()}get pointDistanceEnabled(){return this._pointDistanceEnabled}set pointDistanceEnabled(e){e!==this._pointDistanceEnabled&&(this._pointDistanceEnabled=e,this._requestRender())}get pointDistanceTarget(){return this._passParameters.pointDistanceTarget}set pointDistanceTarget(e){r(this._passParameters.pointDistanceTarget,e),this._requestRender()}get pointDistanceOrigin(){return this._passParameters.pointDistanceOrigin}set pointDistanceOrigin(e){r(this._passParameters.pointDistanceOrigin,e),this._requestRender()}get lineVerticalPlaneEnabled(){return this._lineVerticalPlaneEnabled}set lineVerticalPlaneEnabled(e){e!==this._lineVerticalPlaneEnabled&&(this._lineVerticalPlaneEnabled=e,this._requestRender())}get lineVerticalPlaneSegment(){return this._passParameters.lineVerticalPlaneSegment}set lineVerticalPlaneSegment(e){p(e,this._passParameters.lineVerticalPlaneSegment),this._requestRender()}get intersectsLineEnabled(){return this._intersectsLineEnabled}set intersectsLineEnabled(e){e!==this._intersectsLineEnabled&&(this._intersectsLineEnabled=e,this._requestRender())}get intersectsLineSegment(){return this._passParameters.intersectsLineSegment}set intersectsLineSegment(e){p(e,this._passParameters.intersectsLineSegment),this._requestRender()}get intersectsLineRadius(){return this._passParameters.intersectsLineRadius}set intersectsLineRadius(e){e!==this._passParameters.intersectsLineRadius&&(this._passParameters.intersectsLineRadius=e,this._requestRender())}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){e!==this._intersectsLineInfinite&&(this._intersectsLineInfinite=e,this._requestRender())}get pathVerticalPlaneEnabled(){return this._pathVerticalPlaneEnabled}set pathVerticalPlaneEnabled(e){e!==this._pathVerticalPlaneEnabled&&(this._pathVerticalPlaneEnabled=e,null!=this._pathVerticalPlaneData&&this._requestRender())}set pathVerticalPlaneVertices(e){null==this._pathVerticalPlaneData&&(this._pathVerticalPlaneData=new P(this._passParameters.renderCoordsHelper)),this._pathVerticalPlaneData.vertices=e,this.pathVerticalPlaneEnabled&&this._requestRender()}set pathVerticalPlaneBuffers(e){null==this._pathVerticalPlaneData&&(this._pathVerticalPlaneData=new P(this._passParameters.renderCoordsHelper)),this._pathVerticalPlaneData.buffers=e,this.pathVerticalPlaneEnabled&&this._requestRender()}setParameters(e){D(this._passParameters,e)&&this._requestRender()}initializeRenderContext(e){this._context=e,this._techniques=e.techniques,this._techniqueConfig=new L;const t=new f;t.contrastControlEnabled=this.contrastControlEnabled,this._pathTechnique=this._techniques.acquire(b,t)}uninitializeRenderContext(){this._technique=t(this._technique),this._pathVerticalPlaneData=i(this._pathVerticalPlaneData),this._pathTechnique=t(this._pathTechnique)}prepareTechnique(){return this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled?(this._techniqueConfig.heightManifoldEnabled=this.heightManifoldEnabled,this._techniqueConfig.lineVerticalPlaneEnabled=this.lineVerticalPlaneEnabled,this._techniqueConfig.pointDistanceEnabled=this.pointDistanceEnabled,this._techniqueConfig.intersectsLineEnabled=this.intersectsLineEnabled,this._techniqueConfig.contrastControlEnabled=this.contrastControlEnabled,this._techniqueConfig.spherical=this.viewingMode===u.Global,this._technique=this._techniques.releaseAndAcquire(q,this._techniqueConfig,this._technique),this._technique):this._pathTechnique}renderNode(e,t,i){const s=i?.get(\"normals\")?.getTexture();s&&(this._passParameters.normals=s,(this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled)&&this._renderUnified(e,t),this.pathVerticalPlaneEnabled&&this._renderPath(e))}_renderUnified(e,t){const i=e.rctx;this._updatePassParameters(e),i.bindTechnique(t,e.bindParameters,this._passParameters),i.screen.draw()}_renderPath(e){if(null==this._pathVerticalPlaneData||null==this._pathTechnique)return;const t=e.rctx,i=this._pathTechnique;t.bindTechnique(i,e.bindParameters,{...this._passParameters,origin:this._pathVerticalPlaneData.origin}),this._pathVerticalPlaneData.draw(e.rctx)}_updatePassParameters(e){if(!this._intersectsLineEnabled)return;const t=e.bindParameters.camera;if(this._intersectsLineInfinite){if(l(_(this._passParameters.intersectsLineSegment.origin,this._passParameters.intersectsLineSegment.vector),C),C.c0=-Number.MAX_VALUE,!d(t.frustum,C))return;o(C,this._passParameters.lineStartWorld),c(C,this._passParameters.lineEndWorld)}else r(this._passParameters.lineStartWorld,this._passParameters.intersectsLineSegment.origin),a(this._passParameters.lineEndWorld,this._passParameters.intersectsLineSegment.origin,this._passParameters.intersectsLineSegment.vector)}_requestRender(){this._context&&this._context.requestRender()}get test(){}};e([s({constructOnly:!0})],R.prototype,\"viewingMode\",void 0),e([s({constructOnly:!0})],R.prototype,\"contrastControlEnabled\",void 0),e([s({constructOnly:!0})],R.prototype,\"_isDecoration\",void 0),e([s({constructOnly:!0})],R.prototype,\"renderCoordsHelper\",void 0),R=e([n(\"esri.views.3d.webgl-engine.effects.laserlines.LaserLineRenderer\")],R);const C=h();export{R as LaserLineRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{c as e}from\"../../../../chunks/vec32.js\";import{create as t,clone as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as n,fromValues as s,copy as r}from\"../../../../geometry/support/lineSegment.js\";import{VisualElement as l}from\"./VisualElement.js\";import{LaserLineRenderer as h}from\"../../webgl-engine/effects/laserlines/LaserLineRenderer.js\";import{d as a}from\"../../../../chunks/Laserlines.glsl.js\";class c extends l{constructor(e){super(e),this._angleCutoff=a,this._style={},this._heightManifoldTarget=t(),this._heightManifoldEnabled=!1,this._intersectsLine=n(),this._intersectsLineEnabled=!1,this._intersectsLineInfinite=!1,this._lineVerticalPlaneSegment=null,this._pathVerticalPlaneBuffers=null,this._pointDistanceLine=null,this.applyProperties(e)}get testData(){}createResources(){this._ensureRenderer()}destroyResources(){this._disposeRenderer()}updateVisibility(){this._syncRenderer(),this._syncHeightManifold(),this._syncIntersectsLine(),this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance()}get angleCutoff(){return this._angleCutoff}set angleCutoff(e){this._angleCutoff!==e&&(this._angleCutoff=e,this._syncAngleCutoff())}get style(){return this._style}set style(e){this._style=e,this._syncStyle()}get heightManifoldTarget(){return this._heightManifoldEnabled?this._heightManifoldTarget:null}set heightManifoldTarget(t){null!=t?(e(this._heightManifoldTarget,t),this._heightManifoldEnabled=!0):this._heightManifoldEnabled=!1,this._syncRenderer(),this._syncHeightManifold()}set intersectsWorldUpAtLocation(e){if(null==e)return void(this.intersectsLine=null);const t=this.view.renderCoordsHelper.worldUpAtPosition(e,_);this.intersectsLine=s(e,t),this.intersectsLineInfinite=!0}get intersectsLine(){return this._intersectsLineEnabled?this._intersectsLine:null}set intersectsLine(e){null!=e?(r(e,this._intersectsLine),this._intersectsLineEnabled=!0):this._intersectsLineEnabled=!1,this._syncIntersectsLine(),this._syncRenderer()}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){this._intersectsLineInfinite=e,this._syncIntersectsLineInfinite()}get lineVerticalPlaneSegment(){return this._lineVerticalPlaneSegment}set lineVerticalPlaneSegment(e){this._lineVerticalPlaneSegment=null!=e?r(e):null,this._syncLineVerticalPlane(),this._syncRenderer()}get pathVerticalPlane(){return this._pathVerticalPlaneBuffers}set pathVerticalPlane(e){this._pathVerticalPlaneBuffers=e,this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance(),this._syncRenderer()}get pointDistanceLine(){return this._pointDistanceLine}set pointDistanceLine(e){this._pointDistanceLine=null!=e?{origin:i(e.origin),target:e.target?i(e.target):null}:null,this._syncPointDistance(),this._syncRenderer()}_syncRenderer(){this.attached&&this.visible&&(this._intersectsLineEnabled||this._heightManifoldEnabled||null!=this._pointDistanceLine||null!=this._pathVerticalPlaneBuffers)?this._ensureRenderer():this._disposeRenderer()}_ensureRenderer(){null==this._renderer&&(this._renderer=new h({renderCoordsHelper:this.view.renderCoordsHelper,contrastControlEnabled:!0,_isDecoration:this.isDecoration,viewingMode:this.view.state.viewingMode}),this._syncStyle(),this._syncHeightManifold(),this._syncIntersectsLine(),this._syncIntersectsLineInfinite(),this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance(),this._syncAngleCutoff(),this.view._stage&&this.view._stage.addRenderPlugin(this._renderer))}_syncStyle(){null!=this._renderer&&(this._renderer.setParameters(this._style),null!=this._style.intersectsLineRadius&&(this._renderer.intersectsLineRadius=this._style.intersectsLineRadius))}_syncAngleCutoff(){null!=this._renderer&&this._renderer.setParameters({angleCutoff:this._angleCutoff})}_syncHeightManifold(){null!=this._renderer&&(this._renderer.heightManifoldEnabled=this._heightManifoldEnabled&&this.visible,this._heightManifoldEnabled&&(this._renderer.heightManifoldTarget=this._heightManifoldTarget))}_syncIntersectsLine(){null!=this._renderer&&(this._renderer.intersectsLineEnabled=this._intersectsLineEnabled&&this.visible,this._intersectsLineEnabled&&(this._renderer.intersectsLineSegment=this._intersectsLine))}_syncIntersectsLineInfinite(){null!=this._renderer&&(this._renderer.intersectsLineInfinite=this._intersectsLineInfinite)}_syncPathVerticalPlane(){null!=this._renderer&&(this._renderer.pathVerticalPlaneEnabled=null!=this._pathVerticalPlaneBuffers&&this.visible,null!=this._pathVerticalPlaneBuffers&&(this._renderer.pathVerticalPlaneBuffers=this._pathVerticalPlaneBuffers))}_syncLineVerticalPlane(){null!=this._renderer&&(this._renderer.lineVerticalPlaneEnabled=null!=this._lineVerticalPlaneSegment&&this.visible,null!=this._lineVerticalPlaneSegment&&(this._renderer.lineVerticalPlaneSegment=this._lineVerticalPlaneSegment))}_syncPointDistance(){if(null==this._renderer)return;const e=this._pointDistanceLine,t=null!=e;this._renderer.pointDistanceEnabled=t&&null!=e.target&&this.visible,t&&(this._renderer.pointDistanceOrigin=e.origin,null!=e.target&&(this._renderer.pointDistanceTarget=e.target))}_disposeRenderer(){null!=this._renderer&&this.view._stage&&(this.view._stage.removeRenderPlugin(this._renderer),this._renderer=null)}}const _=t();export{c as LaserlineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{watch as e}from\"../../../../core/reactiveUtils.js\";class t{get isDecoration(){return this._isDecoration}set isDecoration(e){this._isDecoration=e}constructor(t){this._isDecoration=!1,this._attached=!1,this._resourcesCreated=!1,this._visible=!0,this.view=t.view,this._handle=e((()=>t.view.ready),(e=>{this._resourcesCreated&&(e?this._createResources():this._destroyResources())}))}applyProperties(e){let t=!1;for(const s in e)s in this&&(\"attached\"===s?t=e[s]:this[s]=e[s]);this.attached=t}destroy(){this.attached=!1,this._handle.remove()}get attached(){return this._attached}set attached(e){e!==this._attached&&this.view._stage&&(this._attached=e,this._attached&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources(),this.onAttachedChange(e))}onAttachedChange(e){}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this.attached&&this.updateVisibility(e))}_createResources(){this.createResources(),this._resourcesCreated=!0,this.updateVisibility(this.visible)}_destroyResources(){this.destroyResources(),this._resourcesCreated=!1}}export{t as VisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ReadDepth as o}from\"./output/ReadDepth.glsl.js\";import{CameraSpace as e}from\"./util/CameraSpace.glsl.js\";import{Float3PassUniform as l}from\"../shaderModules/Float3PassUniform.js\";import{FloatPassUniform as t}from\"../shaderModules/FloatPassUniform.js\";import{glsl as r}from\"../shaderModules/interfaces.js\";import{Texture2DPassUniform as a}from\"../shaderModules/Texture2DPassUniform.js\";function n(n,p){const i=n.fragment;i.include(o),n.include(e),i.uniforms.add(new t(\"globalAlpha\",(o=>o.globalAlpha)),new l(\"glowColor\",(o=>o.glowColor)),new t(\"glowWidth\",((o,e)=>o.glowWidth*e.camera.pixelRatio)),new t(\"glowFalloff\",(o=>o.glowFalloff)),new l(\"innerColor\",(o=>o.innerColor)),new t(\"innerWidth\",((o,e)=>o.innerWidth*e.camera.pixelRatio)),new a(\"depthMap\",((o,e)=>e.depth?.attachment)),new a(\"normalMap\",(o=>o.normals)),new a(\"frameColor\",((o,e)=>e.mainColor))),i.code.add(r`vec4 blendPremultiplied(vec4 source, vec4 dest) {\nfloat oneMinusSourceAlpha = 1.0 - source.a;\nreturn vec4(\nsource.rgb + dest.rgb * oneMinusSourceAlpha,\nsource.a + dest.a * oneMinusSourceAlpha\n);\n}`),i.code.add(r`vec4 premultipliedColor(vec3 rgb, float alpha) {\nreturn vec4(rgb * alpha, alpha);\n}`),i.code.add(r`vec4 laserlineProfile(float dist) {\nif (dist > glowWidth) {\nreturn vec4(0.0);\n}\nfloat innerAlpha = (1.0 - smoothstep(0.0, innerWidth, dist));\nfloat glowAlpha = pow(max(0.0, 1.0 - dist / glowWidth), glowFalloff);\nreturn blendPremultiplied(\npremultipliedColor(innerColor, innerAlpha),\npremultipliedColor(glowColor, glowAlpha)\n);\n}`),i.code.add(r`bool laserlineReconstructFromDepth(out vec3 pos, out vec3 normal, out float angleCutoffAdjust, out float depthDiscontinuityAlpha) {\nfloat depth = depthFromTexture(depthMap, uv);\nif (depth == 1.0) {\nreturn false;\n}\nfloat linearDepth = linearizeDepth(depth);\npos = reconstructPosition(gl_FragCoord.xy, linearDepth);\nfloat minStep = 6e-8;\nfloat depthStep = clamp(depth + minStep, 0.0, 1.0);\nfloat linearDepthStep = linearizeDepth(depthStep);\nfloat depthError = abs(linearDepthStep - linearDepth);\nif (depthError > 0.2) {\nnormal = texture(normalMap, uv).xyz * 2.0 - 1.0;\nangleCutoffAdjust = 0.004;\n} else {\nnormal = normalize(cross(dFdx(pos), dFdy(pos)));\nangleCutoffAdjust = 0.0;\n}\nfloat ddepth = fwidth(linearDepth);\ndepthDiscontinuityAlpha = 1.0 - smoothstep(0.0, 0.01, -ddepth / linearDepth);\nreturn true;\n}`),p.contrastControlEnabled?(i.uniforms.add(new t(\"globalAlphaContrastBoost\",(o=>null!=o.globalAlphaContrastBoost?o.globalAlphaContrastBoost:1))),i.code.add(r`float rgbToLuminance(vec3 color) {\nreturn dot(vec3(0.2126, 0.7152, 0.0722), color);\n}\nvec4 laserlineOutput(vec4 color) {\nfloat backgroundLuminance = rgbToLuminance(texture(frameColor, uv).rgb);\nfloat alpha = clamp(globalAlpha * max(backgroundLuminance * globalAlphaContrastBoost, 1.0), 0.0, 1.0);\nreturn color * alpha;\n}`)):i.code.add(r`vec4 laserlineOutput(vec4 color) {\nreturn color * globalAlpha;\n}`)}export{n as Laserline};\n"],"names":["v","i","t","d","include","r","vertex","w","fragment","uniforms","add","n","_ref","o","camera","e","p","viewMatrix","origin","_ref2","projectionMatrix","s","_ref3","glowWidth","pixelRatio","a","_ref4","m","fullViewport","attributes","c","varyings","code","l","_templateObject","_taggedTemplateLiteral","perScreenPixelRatio","_templateObject2","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","A","j","L","b","P","lineVerticalPlaneEnabled","heightManifoldEnabled","S","computeScreenPixelSizeAt","heightManifoldTarget","lineVerticalPlaneSegment","C","spherical","M","R","F","G","D","Math","max","eye","perRenderPixelRatio","_templateObject3","pointDistanceEnabled","pointDistanceTarget","_templateObject4","intersectsLineEnabled","_templateObject5","_templateObject6","_templateObject7","V","I","renderCoordsHelper","worldUpAtPosition","_templateObject8","_templateObject9","_templateObject10","x","_","pointDistanceOrigin","y","_templateObject11","h","U","vector","O","setAltitude","E","z","_templateObject12","lineStartWorld","lineEndWorld","intersectsLineSegment","intersectsLineRadius","_templateObject13","_templateObject14","T","cos","angleCutoff","W","u","H","f","g","N","defaultAngleCutoff","_r","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","rctx","shader","get","this","configuration","blending","colorWrite","Map","_renderCoordsHelper","_buffers","_origin","_dirty","_count","_vao","set","_step","length","_iterator","_createForOfIteratorHelper","done","err","buffers","floor","_ensureVAO","bindVAO","drawArrays","dispose","_createVAO","_ensureVertexData","_createDataBuffer","data","_e$vertexBuffers$data","vertexBuffers","setData","reduce","_step2","createBuffer","_iterator2","getAltitude","up","setVec","start","extrude","setValues","end","buffer","vec3f","vec2f","_this","contrastControlEnabled","prototype","_s","innerColor","innerWidth","glowColor","glowFalloff","globalAlpha","globalAlphaContrastBoost","_l","_super2","_t","_m","call","_technique","_heightManifoldEnabled","_pointDistanceEnabled","_lineVerticalPlaneEnabled","_intersectsLineEnabled","_intersectsLineInfinite","_pathVerticalPlaneEnabled","_pathVerticalPlaneData","_pathTechnique","_passParameters","produces","_isDecoration","_requestRender","vertices","pathVerticalPlaneEnabled","_context","_techniques","techniques","_techniqueConfig","acquire","viewingMode","releaseAndAcquire","q","_i$get","getTexture","normals","_renderUnified","_renderPath","_updatePassParameters","bindTechnique","bindParameters","screen","draw","_objectSpread","c0","Number","MAX_VALUE","frustum","requestRender","constructOnly","_angleCutoff","_style","_heightManifoldTarget","_intersectsLine","_lineVerticalPlaneSegment","_pathVerticalPlaneBuffers","_pointDistanceLine","applyProperties","_ensureRenderer","_disposeRenderer","_syncRenderer","_syncHeightManifold","_syncIntersectsLine","_syncPathVerticalPlane","_syncLineVerticalPlane","_syncPointDistance","_syncAngleCutoff","_syncStyle","view","intersectsLine","intersectsLineInfinite","_syncIntersectsLineInfinite","target","attached","visible","_renderer","isDecoration","state","_stage","addRenderPlugin","setParameters","pathVerticalPlaneBuffers","removeRenderPlugin","_attached","_resourcesCreated","_visible","_handle","ready","_createResources","_destroyResources","remove","onAttachedChange","updateVisibility","createResources","destroyResources","_e$depth","depth","attachment","mainColor"],"sourceRoot":""}