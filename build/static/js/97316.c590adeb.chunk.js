"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[97316],{97316:function(e,r,t){t.r(r),t.d(r,{_fetchWrapper:function(){return nr},executeApplyEdits:function(){return ze},executeQuery:function(){return Ue},executeQueryStreaming:function(){return He},executeSearch:function(){return Be},executeSearchStreaming:function(){return Ke},fetchKnowledgeGraph:function(){return $e},kgRestServices:function(){return Ae},refreshDataModel:function(){return Xe},refreshServiceDefinition:function(){return rr}});var n=t(29439),o=t(1413),i=t(74165),a=t(15861),s=(t(59486),t(19545)),u=t(76200),p=t(10064),l=t(32718),d=t(43144),c=t(15671),y=t(60136),f=t(29388),h=t(27366),v=t(7138),_=t(49861),g=(t(93169),t(84936),t(69912)),m=function(e){(0,y.Z)(t,e);var r=(0,f.Z)(t);function t(e){var n;return(0,c.Z)(this,t),(n=r.call(this,e)).headerKeys=[],n.outSpatialReference=null,n.exceededTransferLimit=!1,n}return(0,d.Z)(t)}(v.default);(0,h._)([(0,_.Cb)()],m.prototype,"headerKeys",void 0),(0,h._)([(0,_.Cb)()],m.prototype,"outSpatialReference",void 0),(0,h._)([(0,_.Cb)()],m.prototype,"exceededTransferLimit",void 0);var w=m=(0,h._)([(0,g.j)("esri.rest.knowledgeGraph.GraphQueryResultHeader")],m),b=function(e){(0,y.Z)(t,e);var r=(0,f.Z)(t);function t(e){var n;return(0,c.Z)(this,t),(n=r.call(this,e)).resultRows=[],n.resultHeader=new w,n}return(0,d.Z)(t)}(v.default);(0,h._)([(0,_.Cb)()],b.prototype,"resultRows",void 0),(0,h._)([(0,_.Cb)()],b.prototype,"resultHeader",void 0);var Z=b=(0,h._)([(0,g.j)("esri.rest.knowledgeGraph.GraphQueryResult")],b),x=function(e){(0,y.Z)(t,e);var r=(0,f.Z)(t);function t(e){var n;return(0,c.Z)(this,t),(n=r.call(this,e)).resultRowsStream=new ReadableStream,n.resultHeader=new w,n}return(0,d.Z)(t)}(v.default);(0,h._)([(0,_.Cb)()],x.prototype,"resultRowsStream",void 0),(0,h._)([(0,_.Cb)()],x.prototype,"resultHeader",void 0);var T=x=(0,h._)([(0,g.j)("esri.rest.knowledgeGraph.GraphQueryStreamingResult")],x),E=t(46784),k=t(78952),G=function(e){(0,y.Z)(t,e);var r=(0,f.Z)(t);function t(e){var n;return(0,c.Z)(this,t),(n=r.call(this,e)).name=null,n.unique=null,n.ascending=null,n.description=null,n.fieldNames=null,n}return(0,d.Z)(t)}(E.wq);(0,h._)([(0,_.Cb)({type:String,json:{write:!0}})],G.prototype,"name",void 0),(0,h._)([(0,_.Cb)({type:Boolean,json:{write:!0}})],G.prototype,"unique",void 0),(0,h._)([(0,_.Cb)({type:Boolean,json:{write:!0}})],G.prototype,"ascending",void 0),(0,h._)([(0,_.Cb)({type:String,json:{write:!0}})],G.prototype,"description",void 0),(0,h._)([(0,_.Cb)({type:[String],json:{write:!0}})],G.prototype,"fieldNames",void 0);var I=G=(0,h._)([(0,g.j)("esri.rest.knowledgeGraph.FieldIndex")],G),R=function(e){(0,y.Z)(t,e);var r=(0,f.Z)(t);function t(e){var n;return(0,c.Z)(this,t),(n=r.call(this,e)).name=null,n.alias=null,n.fieldType=null,n.geometryType=null,n.hasM=null,n.hasZ=null,n.nullable=null,n.editable=null,n.required=null,n.defaultVisibility=null,n.systemMaintained=null,n.role=null,n.defaultValue=null,n}return(0,d.Z)(t)}(E.wq);(0,h._)([(0,_.Cb)({type:String,json:{write:!0}})],R.prototype,"name",void 0),(0,h._)([(0,_.Cb)({type:String,json:{write:!0}})],R.prototype,"alias",void 0),(0,h._)([(0,_.Cb)({type:String,json:{write:!0}})],R.prototype,"fieldType",void 0),(0,h._)([(0,_.Cb)({type:String,json:{write:!0}})],R.prototype,"geometryType",void 0),(0,h._)([(0,_.Cb)({type:Boolean,json:{write:!0}})],R.prototype,"hasM",void 0),(0,h._)([(0,_.Cb)({type:Boolean,json:{write:!0}})],R.prototype,"hasZ",void 0),(0,h._)([(0,_.Cb)({type:Boolean,json:{write:!0}})],R.prototype,"nullable",void 0),(0,h._)([(0,_.Cb)({type:Boolean,json:{write:!0}})],R.prototype,"editable",void 0),(0,h._)([(0,_.Cb)({type:Boolean,json:{write:!0}})],R.prototype,"required",void 0),(0,h._)([(0,_.Cb)({type:Boolean,json:{write:!0}})],R.prototype,"defaultVisibility",void 0),(0,h._)([(0,_.Cb)({type:Boolean,json:{write:!0}})],R.prototype,"systemMaintained",void 0),(0,h._)([(0,_.Cb)()],R.prototype,"role",void 0),(0,h._)([(0,_.Cb)({json:{write:!0}})],R.prototype,"defaultValue",void 0);var C=R=(0,h._)([(0,g.j)("esri.rest.knowledgeGraph.GraphProperty")],R),S=function(e){(0,y.Z)(t,e);var r=(0,f.Z)(t);function t(e){var n;return(0,c.Z)(this,t),(n=r.call(this,e)).name=null,n.alias=null,n.role=null,n.strict=null,n.properties=null,n.fieldIndexes=null,n.type=null,n}return(0,d.Z)(t)}(E.wq);(0,h._)([(0,_.Cb)({type:String,json:{write:!0}})],S.prototype,"name",void 0),(0,h._)([(0,_.Cb)({type:String,json:{write:!0}})],S.prototype,"alias",void 0),(0,h._)([(0,_.Cb)({type:String,json:{write:!0}})],S.prototype,"role",void 0),(0,h._)([(0,_.Cb)({type:Boolean,json:{write:!0}})],S.prototype,"strict",void 0),(0,h._)([(0,_.Cb)({type:[C],json:{write:!0}})],S.prototype,"properties",void 0),(0,h._)([(0,_.Cb)({type:[I],json:{write:!0}})],S.prototype,"fieldIndexes",void 0);var P=S=(0,h._)([(0,g.j)("esri.rest.knowledgeGraph.GraphObjectType")],S),M=function(e){(0,y.Z)(t,e);var r=(0,f.Z)(t);function t(e){var n;return(0,c.Z)(this,t),(n=r.call(this,e)).type="entity",n}return(0,d.Z)(t)}(P),j=M=(0,h._)([(0,g.j)("esri.rest.knowledgeGraph.EntityType")],M),O=function(e){(0,y.Z)(t,e);var r=(0,f.Z)(t);function t(e){var n;return(0,c.Z)(this,t),(n=r.call(this,e)).endPoints=[],n.type="relationship",n}return(0,d.Z)(t)}(P);(0,h._)([(0,_.Cb)()],O.prototype,"endPoints",void 0);var F=O=(0,h._)([(0,g.j)("esri.rest.knowledgeGraph.RelationshipType")],O),N=function(e){(0,y.Z)(t,e);var r=(0,f.Z)(t);function t(e){var n;return(0,c.Z)(this,t),(n=r.call(this,e)).timestamp=null,n.spatialReference=null,n.strict=null,n.objectIdField=null,n.globalIdField=null,n.arcgisManaged=null,n.identifierInfo=null,n.searchIndexes=null,n.entityTypes=null,n.relationshipTypes=null,n.metaEntityTypes=null,n}return(0,d.Z)(t)}(E.wq);(0,h._)([(0,_.Cb)({type:Date,json:{type:Number,write:{writer:function(e,r){r.timestamp=null===e||void 0===e?void 0:e.getTime()}}}})],N.prototype,"timestamp",void 0),(0,h._)([(0,_.Cb)({type:k.Z,json:{write:!0}})],N.prototype,"spatialReference",void 0),(0,h._)([(0,_.Cb)({type:Boolean,json:{write:!0}})],N.prototype,"strict",void 0),(0,h._)([(0,_.Cb)({type:String,json:{write:!0}})],N.prototype,"objectIdField",void 0),(0,h._)([(0,_.Cb)({type:String,json:{write:!0}})],N.prototype,"globalIdField",void 0),(0,h._)([(0,_.Cb)()],N.prototype,"arcgisManaged",void 0),(0,h._)([(0,_.Cb)()],N.prototype,"identifierInfo",void 0),(0,h._)([(0,_.Cb)()],N.prototype,"searchIndexes",void 0),(0,h._)([(0,_.Cb)({type:[j],json:{write:!0}})],N.prototype,"entityTypes",void 0),(0,h._)([(0,_.Cb)({type:[F],json:{write:!0}})],N.prototype,"relationshipTypes",void 0),(0,h._)([(0,_.Cb)({type:[j],json:{write:!0}})],N.prototype,"metaEntityTypes",void 0);var D=N=(0,h._)([(0,g.j)("esri.rest.knowledgeGraph.DataModel")],N),L=function(e){(0,y.Z)(t,e);var r=(0,f.Z)(t);function t(e){var n;return(0,c.Z)(this,t),(n=r.call(this,e)).capabilities=[],n.supportsSearch=!1,n.supportedQueryFormats=[],n.allowGeometryUpdates=!1,n.searchMaxRecordCount=null,n.serviceCapabilities=null,n.maxRecordCount=null,n.description="",n.copyrightText="",n.units="",n.spatialReference=null,n.currentVersion=null,n.dateFieldsTimeReference=null,n.serviceItemId="",n.supportsDocuments=!1,n.dataEditingNotSupported=!1,n.schemaEditingNotSupported=!1,n.supportsProvenance=!1,n}return(0,d.Z)(t)}(E.wq);(0,h._)([(0,_.Cb)({type:[String],json:{write:!0}})],L.prototype,"capabilities",void 0),(0,h._)([(0,_.Cb)({type:Boolean,json:{write:!0}})],L.prototype,"supportsSearch",void 0),(0,h._)([(0,_.Cb)({type:[String],json:{write:!0}})],L.prototype,"supportedQueryFormats",void 0),(0,h._)([(0,_.Cb)({type:Boolean,json:{write:!0}})],L.prototype,"allowGeometryUpdates",void 0),(0,h._)([(0,_.Cb)({type:Number,json:{write:!0}})],L.prototype,"searchMaxRecordCount",void 0),(0,h._)([(0,_.Cb)({type:Object,json:{write:!0}})],L.prototype,"serviceCapabilities",void 0),(0,h._)([(0,_.Cb)({type:Number,json:{write:!0}})],L.prototype,"maxRecordCount",void 0),(0,h._)([(0,_.Cb)({type:String,json:{write:!0}})],L.prototype,"description",void 0),(0,h._)([(0,_.Cb)({type:String,json:{write:!0}})],L.prototype,"copyrightText",void 0),(0,h._)([(0,_.Cb)({type:String,json:{write:!0}})],L.prototype,"units",void 0),(0,h._)([(0,_.Cb)({type:k.Z,json:{write:!0}})],L.prototype,"spatialReference",void 0),(0,h._)([(0,_.Cb)({type:Number,json:{write:!0}})],L.prototype,"currentVersion",void 0),(0,h._)([(0,_.Cb)({type:Object,json:{write:!0}})],L.prototype,"dateFieldsTimeReference",void 0),(0,h._)([(0,_.Cb)({type:String,json:{write:!0}})],L.prototype,"serviceItemId",void 0),(0,h._)([(0,_.Cb)({type:Boolean,json:{write:!0}})],L.prototype,"supportsDocuments",void 0),(0,h._)([(0,_.Cb)({type:Boolean,json:{write:!0}})],L.prototype,"dataEditingNotSupported",void 0),(0,h._)([(0,_.Cb)({type:Boolean,json:{write:!0}})],L.prototype,"schemaEditingNotSupported",void 0),(0,h._)([(0,_.Cb)({type:Boolean,json:{write:!0}})],L.prototype,"supportsProvenance",void 0);var A=L=(0,h._)([(0,g.j)("esri.rest.knowledgeGraph.ServiceDefinition")],L),z=function(e){(0,y.Z)(t,e);var r=(0,f.Z)(t);function t(e){var n;return(0,c.Z)(this,t),(n=r.call(this,e)).dataModel=null,n.serviceDefinition=null,n}return(0,d.Z)(t)}(E.wq);(0,h._)([(0,_.Cb)({type:String,json:{write:!0}})],z.prototype,"url",void 0),(0,h._)([(0,_.Cb)({type:D,json:{write:!0}})],z.prototype,"dataModel",void 0),(0,h._)([(0,_.Cb)({type:A,json:{write:!0}})],z.prototype,"serviceDefinition",void 0);var q,U,Y,H=z=(0,h._)([(0,g.j)("esri.rest.knowledgeGraph.KnowledgeGraph")],z),Q=t(72430),B=t(77577),V=t(848),K=t(80885),W=t(29909);!function(e){e[e.OBJECT=0]="OBJECT",e[e.ENTITY=1]="ENTITY",e[e.RELATIONSHIP=2]="RELATIONSHIP",e[e.PATH=3]="PATH",e[e.ARRAY=4]="ARRAY"}(q||(q={})),function(e){e[e.view=0]="view",e[e.edit=1]="edit"}(U||(U={})),function(e){e[e.exclude=0]="exclude",e[e.include=1]="include"}(Y||(Y={}));var $=t(32238);function J(e,r){var t=new r.ArrayValue;return t.deleteLater(),e.forEach((function(e){t.add_value(oe(e,r))})),t}function X(e,r){var t=new r.ObjectValue;t.deleteLater();for(var o=0,i=Object.entries(e);o<i.length;o++){var a=(0,n.Z)(i[o],2),s=a[0],u=a[1];t.set_key_value(s,oe(u,r))}return t}function ee(e,r){if(e instanceof B.Z)return function(e,r){var t=new r.GeometryValue;t.deleteLater(),t.geometry_type=t.geometry_type=r.esriGeometryType.esriGeometryMultipoint,t.has_z=e.hasZ,t.has_m=e.hasM;var n=[],o=[];o[0]=e.points.length;var i=0;return e.points.forEach((function(e){e.forEach((function(e){n[i]=e,i++}))})),t.coords=new Float64Array(n),t.lengths=new Uint32Array(o),t}(e,r);if(e instanceof V.Z)return function(e,r){var t=new r.GeometryValue;t.deleteLater(),t.geometry_type=r.esriGeometryType.esriGeometryPoint,t.has_z=e.hasZ,t.has_m=e.hasM;var n=[],o=[];o[0]=1,n[0]=e.x,n[1]=e.y;var i=2;return e.hasZ&&(n[i]=e.z,i++),e.hasM&&(n[i]=e.m,i++),t.coords=new Float64Array(n),t.lengths=new Uint32Array(o),t}(e,r);if(e instanceof W.Z||e instanceof K.Z)return function(e,r){var t=new r.GeometryValue;t.deleteLater(),t.has_z=e.hasZ,t.has_m=e.hasM;var n=[],o=[],i=[];e instanceof W.Z?(t.geometry_type=r.esriGeometryType.esriGeometryPolyline,i=e.paths):e instanceof K.Z&&(t.geometry_type=r.esriGeometryType.esriGeometryPolygon,i=e.rings);var a=0,s=0;return i.forEach((function(e){var r=0;e.forEach((function(e){r++,e.forEach((function(e){n[s]=e,s++}))})),o[a]=r,a++})),t.coords=new Float64Array(n),t.lengths=new Uint32Array(o),t}(e,r);throw new p.Z("knowledge-graph:unsupported-geometry","Only Point, Multipoint, Polyline, and Polygon geometry are supported by ArcGIS Knowledge",{geometry:e})}function re(e,r){r.input_quantization_parameters={xy_resolution:e.xyResolution,x_false_origin:e.xFalseOrigin,y_false_origin:e.yFalseOrigin,z_resolution:e.zResolution,z_false_origin:e.zFalseOrigin,m_resolution:e.mResolution,m_false_origin:e.mFalseOrigin}}function te(e,r,t){if(!e.extent)throw new p.Z("knowledge-graph:illegal-output-quantization","The Output quantization provided to the encoder had an illegal value as part of its extent",e.extent);if(!e.quantizeMode)throw new p.Z("knowledge-graph:illegal-output-quantization","The Output quantization contained an illegal mode setting",e.quantizeMode);if(!e.tolerance)throw new p.Z("knowledge-graph:illegal-output-quantization","The Output quantization contained an illegal tolerance setting",e.quantizeMode);r.output_quantization_parameters={extent:{xmax:e.extent.xmax,ymax:e.extent.ymax,xmin:e.extent.xmin,ymin:e.extent.ymin},quantize_mode:t.esriQuantizeMode[e.quantizeMode],tolerance:e.tolerance}}function ne(e,r){r.provenance_behavior={value:Y[e]}}function oe(e,r){if(null==e)return"";if("object"!=typeof e)return e;if(e instanceof Date)return e;if(e instanceof $.Z)return ee(e,r);if(Array.isArray(e)){var t=new r.ArrayValue;return t.deleteLater(),e.forEach((function(e){t.add_value(oe(e,r))})),t}return X(e,r)}var ie=t(14725),ae=t(49074);function se(e,r){if(!e.typeName)throw new p.Z("knowledge-graph:no-type-name","You must indicate the entity/relationship named object type to apply edits");if(e instanceof ie.Z){var t=new r.EntityValue;t.deleteLater(),t.type_name=e.typeName;for(var o=0,i=Object.entries(e.properties);o<i.length;o++){var a=(0,n.Z)(i[o],2),s=a[0],u=a[1];t.set_key_value(s,pe(u,r))}return e.id&&t.set_id(e.id),t}if(e instanceof ae.Z){var l=new r.RelationshipValue;l.deleteLater(),l.type_name=e.typeName;for(var d=0,c=Object.entries(e.properties);d<c.length;d++){var y=(0,n.Z)(c[d],2),f=y[0],h=y[1];l.set_key_value(f,pe(h,r))}return e.id&&l.set_id(e.id),e.originId&&e.destinationId&&l.set_related_entity_ids(e.originId,e.destinationId),l}throw new p.Z("knowledge-graph:applyEdits-encoding-failure","Could not determine the type of a named graph object passed to the encoder")}function ue(e){return{xy_resolution:e.xyResolution,x_false_origin:e.xFalseOrigin,y_false_origin:e.yFalseOrigin,z_resolution:e.zResolution,z_false_origin:e.zFalseOrigin,m_resolution:e.mResolution,m_false_origin:e.mFalseOrigin}}function pe(e,r){return null==e?null:"object"!=typeof e||e instanceof Date?e:e instanceof $.Z?ee(e,r):null}var le=function(e){(0,y.Z)(t,e);var r=(0,f.Z)(t);function t(e){var n;return(0,c.Z)(this,t),(n=r.call(this,e)).name=null,n.supportedCategory=null,n.analyzers=[],n.searchProperties=new Map,n}return(0,d.Z)(t)}(v.default);(0,h._)([(0,_.Cb)()],le.prototype,"name",void 0),(0,h._)([(0,_.Cb)()],le.prototype,"supportedCategory",void 0),(0,h._)([(0,_.Cb)()],le.prototype,"analyzers",void 0),(0,h._)([(0,_.Cb)()],le.prototype,"searchProperties",void 0);var de=le=(0,h._)([(0,g.j)("esri.rest.knowledgeGraph.SearchIndex")],le),ce=t(71084);function ye(e){var r,t,n,o,i,a,s,u,p,l,d;return e.deleteLater(),new D({timestamp:e.timestamp,spatialReference:new k.Z(e.spatial_reference),strict:e.strict,objectIdField:e.objectid_property,globalIdField:e.globalid_property,arcgisManaged:e.arcgis_managed,identifierInfo:{identifierMappingInfo:{identifierInfoType:ce.Mm[null===(r=e.identifier_info)||void 0===r||null===(t=r.identifier_mapping_info)||void 0===t||null===(n=t.identifier_info_type)||void 0===n?void 0:n.value],databaseNativeIdentifier:null===(o=e.identifier_info)||void 0===o||null===(i=o.identifier_mapping_info)||void 0===i?void 0:i.database_native_identifier,uniformPropertyIdentifier:{identifierPropertyName:null===(a=e.identifier_info)||void 0===a||null===(s=a.identifier_mapping_info)||void 0===s||null===(u=s.uniform_property_identifier)||void 0===u?void 0:u.identifier_property_name}},identifierGenerationInfo:{uuidMethodHint:ce.Wf[null===(p=e.identifier_info)||void 0===p||null===(l=p.identifier_generation_info)||void 0===l||null===(d=l.uuid_method_hint)||void 0===d?void 0:d.value]}},searchIndexes:Te(e.search_indexes),entityTypes:me(e.entity_types),relationshipTypes:xe(e.relationship_types),metaEntityTypes:me(e.meta_entity_types)})}function fe(e){return e.deleteLater(),new j(ve(e))}function he(e){return e.deleteLater(),new I({name:e.name,unique:e.unique,ascending:e.ascending,description:e.description,fieldNames:we(e.fields)})}function ve(e){return{name:e.name,alias:e.alias,role:ce.r0[e.role.value]?ce.r0[e.role.value]:null,strict:e.strict,properties:be(e.properties),fieldIndexes:Ze(e.field_indexes)}}function _e(e){return e.deleteLater(),new C({alias:e.alias,name:e.name,fieldType:ce.jC[e.field_type.value]?ce.jC[e.field_type.value]:null,geometryType:ce.Ks[e.geometry_type.value]?ce.Ks[e.geometry_type.value]:null,hasM:e.has_m,hasZ:e.has_z,nullable:e.nullable,editable:e.editable,required:e.required,defaultVisibility:e.default_visibility,systemMaintained:e.system_maintained,role:ce.NM[e.role.value],defaultValue:e.default_value})}function ge(e){e.deleteLater();for(var r=ve(e),t=[],n=0;n<e.end_points.size();n++){var o=e.end_points.get(n);t.push({originEntityType:o.origin_entity_type,destinationEntityType:o.dest_entity_type})}return e.end_points.delete(),new F(Object.assign({endPoints:t},r))}function me(e){for(var r=[],t=0;t<e.size();t++)r.push(fe(e.get(t)));return e.delete(),r}function we(e){for(var r=[],t=0;t<e.size();t++)r.push(e.get(t));return e.delete(),r}function be(e){for(var r=[],t=0;t<e.size();t++)r.push(_e(e.get(t)));return e.delete(),r}function Ze(e){for(var r=[],t=0;t<e.size();t++)r.push(he(e.get(t)));return e.delete(),r}function xe(e){for(var r=[],t=0;t<e.size();t++)r.push(ge(e.get(t)));return e.delete(),r}function Te(e){for(var r=[],t=0;t<e.size();t++){var n=new de,o=e.get(0);n.name=o.name,n.supportedCategory=ce.LM[o.supported_category.value];for(var i=o.analyzers.size(),a=0;a<i;a++)n.analyzers.push({name:o.analyzers.get(a).name});o.analyzers.delete();for(var s=0;s<o.search_properties.keys().size();s++){for(var u=o.search_properties.keys().get(s),p=o.search_properties.get(u),l=[],d=0;d<p.property_names.size();d++)l.push(p.property_names.get(d));n.searchProperties.set(u,{propertyNames:l})}r.push(n)}return e.delete(),r}t(92364);var Ee,ke=t(2736),Ge=t(11933);function Ie(e,r){var t={spatialReference:r},n=Re(e,t),o=e.lengths,i=e.coords,a="";if(e.geometry_type.value===Ee.ESRI_GEOMETRY_POLYGON)a="rings";else{if(e.geometry_type.value!==Ee.ESRI_GEOMETRY_POLYLINE)throw new p.Z("KnowledgeGraph:illegal-geometry-type","Illegal Geometry type for multipath conversion");a="paths"}t[a]=[];var s=0;return o.forEach((function(e){for(var r=[],o=0;o<e;o++){for(var u=[],p=0;p<n;p++)u[p]=i[s],s++;r.push(u)}t[a].push(r)})),t}function Re(e,r){var t=2;return e.has_z?(r.hasZ=e.has_z,t++):r.hasZ=!1,e.has_m?(r.hasM=e.has_m,t++):r.hasM=!1,t}!function(e){e[e.ESRI_GEOMETRY_NULL=0]="ESRI_GEOMETRY_NULL",e[e.ESRI_GEOMETRY_POINT=1]="ESRI_GEOMETRY_POINT",e[e.ESRI_GEOMETRY_MULTIPOINT=2]="ESRI_GEOMETRY_MULTIPOINT",e[e.ESRI_GEOMETRY_POLYLINE=3]="ESRI_GEOMETRY_POLYLINE",e[e.ESRI_GEOMETRY_POLYGON=4]="ESRI_GEOMETRY_POLYGON",e[e.ESRI_GEOMETRY_ENVELOPE=5]="ESRI_GEOMETRY_ENVELOPE",e[e.ESRI_GEOMETRY_ANY=6]="ESRI_GEOMETRY_ANY",e[e.ESRI_GEOMETRY_MULTI_PATCH=7]="ESRI_GEOMETRY_MULTI_PATCH"}(Ee||(Ee={}));var Ce=function(){return l.Z.getLogger("esri.rest.knowledgeGraph.WasmToQueryResponseObjConstructors")},Se=function(e,r,t){if(null==e)return null;if("object"!=typeof e)return e;if("getDate"in e)return e;if("geometry_type"in e)switch(e.geometry_type.value){case null:return null;case Ee.ESRI_GEOMETRY_POINT:return function(e,r){var t={spatialReference:r},n=2;Re(e,t);var o=e.coords;return t.x=o[0],t.y=o[1],e.has_z&&(t.z=o[n],n++),e.has_m&&(t.m=o[n]),new V.Z(t)}(e,t);case Ee.ESRI_GEOMETRY_MULTIPOINT:return function(e,r){var t={spatialReference:r},n=Re(e,t),o=e.lengths,i=e.coords,a=o[0];t.points=[];for(var s=0,u=0;u<a;u++){for(var p=[],l=0;l<n;l++)p[l]=i[s],s++;t.points.push(p)}return new B.Z(t)}(e,t);case Ee.ESRI_GEOMETRY_POLYLINE:return function(e,r){return new W.Z(Ie(e,r))}(e,t);case Ee.ESRI_GEOMETRY_POLYGON:return function(e,r){return new K.Z(Ie(e,r))}(e,t);case Ee.ESRI_GEOMETRY_ENVELOPE:case Ee.ESRI_GEOMETRY_MULTI_PATCH:return Ce().warnOnce("Envelope and Multipatch are not supported on knowledge entities, but one of those geometry types was detected. Result interpreted as null"),null;case Ee.ESRI_GEOMETRY_NULL:case Ee.ESRI_GEOMETRY_ANY:default:return Ce().warnOnce("Unknown or blank geometry type returned - Result interpreted as null"),null}else{if(!("object_value_type"in e))return Ce().warnOnce("A decoded value came back of a type that is not supported. Result interpreted as null"),null;switch(e.object_value_type.value){case q.OBJECT:return function(e,r,t){return new ke.Z(je(e,r,t))}(e,r,t);case q.ENTITY:return Me(e,r,t);case q.RELATIONSHIP:return Oe(e,r,t);case q.PATH:return function(e,r,t){for(var n=e.entity_count(),o=e.relationship_count(),i=[],a=0;a<n;a++)i.push(Me(e.get_entity_at(a),r,t)),a<o&&i.push(Oe(e.get_relationship_at(a),r,t));return new Ge.Z({path:i})}(e,r,t);case q.ARRAY:return function(e,r,t){for(var n=[],o=e.count(),i=0;i<o;i++){var a=e.get_value_at(i);n.push(Pe(a,r,t))}return n}(e,r,t);default:return Ce().warnOnce("Unknown graph object type detected!  Result interpreted as null"),null}}};function Pe(e,r,t){return Se(e,r,t)}function Me(e,r,t){var n=e.type_name,o=je(e,r,t),i=e.get_id();return new ie.Z(Object.assign({typeName:n,id:i},o))}function je(e,r,t){for(var n={},o=e.key_count(),i=0;i<o;i++)n[e.get_key_at(i)]=Pe(e.get_value_at(i),r,t);return{properties:n}}function Oe(e,r,t){var n=e.type_name,o=je(e,r,t);return new ae.Z(Object.assign({typeName:n,id:e.get_id(),originId:e.get_origin_entity_id(),destinationId:e.get_destination_entity_id()},o))}function Fe(e){for(var r=[],t=0;t<e.get_header_keys().size();t++)r.push(e.get_header_keys().get(t));var n=new k.Z(e.get_out_sr());return new w({headerKeys:r,outSpatialReference:n,exceededTransferLimit:e.exceeded_transfer_limit()})}var Ne=function(e){(0,y.Z)(t,e);var r=(0,f.Z)(t);function t(e){var n;return(0,c.Z)(this,t),(n=r.call(this,e)).hasError=null,n.error=null,n.editResults=[],n}return(0,d.Z)(t)}(v.default);(0,h._)([(0,_.Cb)()],Ne.prototype,"hasError",void 0),(0,h._)([(0,_.Cb)()],Ne.prototype,"error",void 0),(0,h._)([(0,_.Cb)()],Ne.prototype,"editResults",void 0);var De=Ne=(0,h._)([(0,g.j)("esri.rest.knowledgeGraph.GraphApplyEditsResult")],Ne);function Le(e){for(var r=e.has_error(),t=new De({hasError:r,error:r?{errorCode:e.error.error_code,errorMessage:e.error.error_message}:null}),n=e.get_edit_results_count(),o=0;o<n;o++){for(var i=e.get_edit_results_at(o),a=e.get_edit_results_type_name_at(o),s=[],u=[],p=[],l=i.get_add_results_count(),d=i.get_update_results_count(),c=i.get_delete_results_count(),y=0;y<l;y++){var f=i.get_add_result_at(y);s.push({id:f.id,error:{errorCode:f.error.error_code,errorMessage:f.error.error_message}})}for(var h=0;h<d;h++){var v=i.get_update_result_at(h);u.push({id:v.id,error:{errorCode:v.error.error_code,errorMessage:v.error.error_message}})}for(var _=0;_<c;_++){var g=i.get_delete_result_at(_);p.push({id:g.id,error:{errorCode:g.error.error_code,errorMessage:g.error.error_message}})}t.editResults.push({typeName:a,adds:s,updates:u,deletes:p})}return t}var Ae={fetchKnowledgeGraph:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(r){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new H({url:r}),(n=[]).push(Xe(t)),n.push(rr(t)),e.next=5,Promise.all(n);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),refreshDataModel:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zr(r);case 2:r.dataModel=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),refreshServiceDefinition:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(r){var t,n,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)(r.url,{query:{f:"json"}});case 2:return o=e.sent.data,e.abrupt("return",(o.capabilities=null===o||void 0===o||null===(t=o.capabilities)||void 0===t?void 0:t.split(","),o.supportedQueryFormats=null===o||void 0===o||null===(n=o.supportedQueryFormats)||void 0===n?void 0:n.split(","),r.serviceDefinition=new A(o),r.serviceDefinition));case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),executeQueryStreaming:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(r,t,n){var o,a,s,u,l,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="include",s="".concat(r.url,"/graph/query"),e.next=3,ir(r);case 3:return e.next=5,hr(s,n);case 5:if(u=e.sent,null!==(o=r.serviceDefinition)&&void 0!==o&&o.supportsProvenance||t.provenanceBehavior!==a){e.next=8;break}throw new p.Z("knowledge-graph:provenance-not-supported","The Knowledge Graph Service definition indicated that provenance is not supported");case 8:return e.next=10,dr(t,r);case 10:return u.data.body=e.sent,e.next=13,nr(u.data.url,u.data);case 13:if(l=e.sent,!r.dataModel){e.next=19;break}return e.next=17,wr(l,r.dataModel);case 17:return d=e.sent,e.abrupt("return",new T({resultRowsStream:d.readableStream,resultHeader:d.resultHeader}));case 19:throw new p.Z("knowledge-graph:undefined-data-model","The KnowledgeGraph supplied did not have a data model");case 20:case"end":return e.stop()}}),e)})));return function(r,t,n){return e.apply(this,arguments)}}(),executeApplyEdits:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(r,t,n){var o,a,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(o=r.serviceDefinition)||void 0===o||!o.dataEditingNotSupported){e.next=2;break}throw new p.Z("knowledge-graph:data-editing-not-supported","The Knowledge Graph Service definition indicated that data editing is not supported");case 2:return a="".concat(r.url,"/graph/applyEdits"),e.next=5,ir(r);case 5:return e.next=7,hr(a,n);case 7:return s=e.sent,e.next=10,pr(t,r);case 10:return s.data.body=e.sent,e.t0=_r,e.next=14,nr(s.data.url,s.data);case 14:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 16:case"end":return e.stop()}}),e)})));return function(r,t,n){return e.apply(this,arguments)}}(),executeQuery:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(r,t,n){var a,s,l,d,c,y,f;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="".concat(r.url,"/graph/query"),e.next=3,(0,u.Z)(s,{responseType:"array-buffer",query:(0,o.Z)({f:"pbf",openCypherQuery:t.openCypherQuery},null===n||void 0===n?void 0:n.query),signal:null===n||void 0===n?void 0:n.signal,timeout:null===n||void 0===n?void 0:n.timeout});case 3:if(l=e.sent,d=null===(a=l.getHeader)||void 0===a?void 0:a.call(l,"content-type"),c=l.data,null===d||void 0===d||!d.includes("application/x-protobuf")){e.next=15;break}return e.next=9,(0,Q.$G)();case 9:if(e.t0=e.sent.GraphQueryDecoder,(y=new e.t0).deleteLater(),!r.dataModel){e.next=14;break}return f=mr(y,c,r.dataModel),e.abrupt("return",new Z({resultRows:f.resultRows,resultHeader:f.resultHeader}));case 14:throw new p.Z("knowledge-graph:undefined-data-model","The KnowledgeGraph supplied did not have a data model");case 15:throw new p.Z("knowledge-graph:unexpected-server-response","server returned an unexpected response",{responseType:d,data:l.data});case 16:case"end":return e.stop()}}),e)})));return function(r,t,n){return e.apply(this,arguments)}}(),executeSearch:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(r,t,n){var a,s,l,d,c,y,f,h;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.typeCategoryFilter,l="".concat(r.url,"/graph/search"),e.next=4,(0,u.Z)(l,{responseType:"array-buffer",query:(0,o.Z)({f:"pbf",searchQuery:'"'.concat(t.searchQuery,'"'),typeCategoryFilter:s},null===n||void 0===n?void 0:n.query),signal:null===n||void 0===n?void 0:n.signal,timeout:null===n||void 0===n?void 0:n.timeout});case 4:if(d=e.sent,c=null===(a=d.getHeader)||void 0===a?void 0:a.call(d,"content-type"),y=d.data,null===c||void 0===c||!c.includes("application/x-protobuf")){e.next=16;break}return e.next=10,(0,Q.$G)();case 10:if(e.t0=e.sent.GraphQueryDecoder,(f=new e.t0).deleteLater(),!r.dataModel){e.next=15;break}return h=mr(f,y,r.dataModel),e.abrupt("return",new Z({resultRows:h.resultRows,resultHeader:h.resultHeader}));case 15:throw new p.Z("knowledge-graph:undefined-data-model","The KnowledgeGraph supplied did not have a data model");case 16:throw new p.Z("knowledge-graph:unexpected-server-response","server returned an unexpected response",{responseType:c,data:d.data});case 17:case"end":return e.stop()}}),e)})));return function(r,t,n){return e.apply(this,arguments)}}(),executeSearchStreaming:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(r,t,n){var o,a,s,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="".concat(r.url,"/graph/search"),e.next=3,ir(r);case 3:return e.next=5,hr(o,n);case 5:return a=e.sent,e.next=8,yr(t);case 8:return a.data.body=e.sent,e.next=11,nr(a.data.url,a.data);case 11:if(s=e.sent,!r.dataModel){e.next=17;break}return e.next=15,wr(s,r.dataModel);case 15:return u=e.sent,e.abrupt("return",new T({resultRowsStream:u.readableStream,resultHeader:u.resultHeader}));case 17:throw new p.Z("knowledge-graph:undefined-data-model","The KnowledgeGraph supplied did not have a data model");case 18:case"end":return e.stop()}}),e)})));return function(r,t,n){return e.apply(this,arguments)}}(),_fetchWrapper:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(r,t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(r,t));case 1:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}()};function ze(e,r,t){return qe.apply(this,arguments)}function qe(){return qe=(0,a.Z)((0,i.Z)().mark((function e(r,t,n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ae.executeApplyEdits(r,t,n));case 1:case"end":return e.stop()}}),e)}))),qe.apply(this,arguments)}function Ue(e,r,t){return Ye.apply(this,arguments)}function Ye(){return Ye=(0,a.Z)((0,i.Z)().mark((function e(r,t,n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ae.executeQuery(r,t,n));case 1:case"end":return e.stop()}}),e)}))),Ye.apply(this,arguments)}function He(e,r,t){return Qe.apply(this,arguments)}function Qe(){return Qe=(0,a.Z)((0,i.Z)().mark((function e(r,t,n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ae.executeQueryStreaming(r,t,n));case 1:case"end":return e.stop()}}),e)}))),Qe.apply(this,arguments)}function Be(e,r,t){return Ve.apply(this,arguments)}function Ve(){return Ve=(0,a.Z)((0,i.Z)().mark((function e(r,t,n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ae.executeSearch(r,t,n));case 1:case"end":return e.stop()}}),e)}))),Ve.apply(this,arguments)}function Ke(e,r,t){return We.apply(this,arguments)}function We(){return We=(0,a.Z)((0,i.Z)().mark((function e(r,t,n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ae.executeSearchStreaming(r,t,n));case 1:case"end":return e.stop()}}),e)}))),We.apply(this,arguments)}function $e(e){return Je.apply(this,arguments)}function Je(){return Je=(0,a.Z)((0,i.Z)().mark((function e(r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ae.fetchKnowledgeGraph(r));case 1:case"end":return e.stop()}}),e)}))),Je.apply(this,arguments)}function Xe(e){return er.apply(this,arguments)}function er(){return er=(0,a.Z)((0,i.Z)().mark((function e(r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ae.refreshDataModel(r));case 1:case"end":return e.stop()}}),e)}))),er.apply(this,arguments)}function rr(e){return tr.apply(this,arguments)}function tr(){return tr=(0,a.Z)((0,i.Z)().mark((function e(r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ae.refreshServiceDefinition(r));case 1:case"end":return e.stop()}}),e)}))),tr.apply(this,arguments)}function nr(e,r){return or.apply(this,arguments)}function or(){return or=(0,a.Z)((0,i.Z)().mark((function e(r,t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ae._fetchWrapper(r,t));case 1:case"end":return e.stop()}}),e)}))),or.apply(this,arguments)}function ir(e){return ar.apply(this,arguments)}function ar(){return ar=(0,a.Z)((0,i.Z)().mark((function e(r){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null===s.id||void 0===s.id?void 0:s.id.findCredential(r.url),e.t0=t,e.t0){e.next=10;break}if(!r.dataModel){e.next=8;break}return e.next=6,Zr(r);case 6:e.next=10;break;case 8:return e.next=10,Xe(r);case 10:case"end":return e.stop()}}),e)}))),ar.apply(this,arguments)}function sr(e,r,t){if(0!==e.error_code)throw new p.Z(r,t,{errorCode:e.error_code,errorMessage:e.error_message})}function ur(e,r,t,n){null==r?t.set_param_key_value(e,""):"object"!=typeof r||r instanceof Date?t.set_param_key_value(e,r):r instanceof $.Z?t.set_param_key_value(e,ee(r,n)):Array.isArray(r)?t.set_param_key_value(e,J(r,n)):t.set_param_key_value(e,X(r,n))}function pr(e,r){return lr.apply(this,arguments)}function lr(){return lr=(0,a.Z)((0,i.Z)().mark((function e(r,t){var n,o,a,s,u,l,d,c,y,f,h,v,_;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.dataModel,e.t0){e.next=4;break}return e.next=4,Xe(t);case 4:if(t.dataModel){e.next=6;break}throw new p.Z("knowledge-graph:data-model-undefined","Encoding could not proceed because a data model was not provided and it could not be determined from the service");case 6:return e.next=8,(0,Q.$G)();case 8:s=e.sent,u=!(null===(n=r.options)||void 0===n||!n.cascadeDelete),(l=new s.GraphApplyEditsEncoder(s.SpatialReferenceUtil.WGS84(),null!==(o=r.options)&&void 0!==o&&o.inputQuantizationParameters?ue(null===(a=r.options)||void 0===a?void 0:a.inputQuantizationParameters):s.InputQuantizationUtil.WGS84_lossless())).deleteLater(),l.cascade_delete=u,e.prev=12,null!==(d=r.entityAdds)&&void 0!==d&&d.forEach((function(e){sr(l.add_entity(se(e,s)),"knowledge-graph:applyEdits-encoding-failed","Attempting to encode the applyEdits - an entity failed to be added to the encoder")})),null!==(c=r.relationshipAdds)&&void 0!==c&&c.forEach((function(e){if(!e.originId||!e.destinationId)throw new p.Z("knowledge-graph:relationship-origin-destination-missing","When adding a new relationship, you must provide both an origin and destination id on the appropriate class property");sr(l.add_relationship(se(e,s)),"knowledge-graph:applyEdits-encoding-failed","Attempting to encode the applyEdits - a relationship failed to be added to the encoder")})),null!==(y=r.entityUpdates)&&void 0!==y&&y.forEach((function(e){if(!e.id)throw new p.Z("knowledge-graph:entity-id-missing","When updating an entity or relationship, you must specify the id on the class level property");sr(l.update_entity(se(e,s)),"knowledge-graph:applyEdits-encoding-failed","Attempting to encode the applyEdits - an entity failed to be added to the encoder")})),null!==(f=r.relationshipUpdates)&&void 0!==f&&f.forEach((function(e){if(!e.id)throw new p.Z("knowledge-graph:relationship-id-missing","When updating an entity or relationship, you must specify the id on the class level property");sr(l.update_relationship(se(e,s)),"knowledge-graph:applyEdits-encoding-failed","Attempting to encode the applyEdits - a relationship failed to be added to the encoder")})),null!==(h=r.entityDeletes)&&void 0!==h&&h.forEach((function(e){var r;if(!e.typeName)throw new p.Z("knowledge-graph:no-type-name","You must indicate the entity/relationship named object type to apply edits - delete");var t=l.make_delete_helper(e.typeName,!0);t.deleteLater(),null===(r=e.ids)||void 0===r||r.forEach((function(e){t.delete_by_id(e)}))})),null!==(v=r.relationshipDeletes)&&void 0!==v&&v.forEach((function(e){var r;if(!e.typeName)throw new p.Z("knowledge-graph:no-type-name","You must indicate the entity/relationship named object type to apply edits - delete");var t=l.make_delete_helper(e.typeName,!1);null===(r=e.ids)||void 0===r||r.forEach((function(e){t.delete_by_id(e)}))})),l.encode(),e.next=19;break;case 16:throw e.prev=16,e.t1=e.catch(12),new p.Z("knowledge-graph:applyEdits-encoding-failed","Attempting to encode the applyEdits failed",{error:e.t1});case 19:return _=l.get_encoding_result(),e.abrupt("return",(sr(_.error,"knowledge-graph:applyEdits-encoding-failed","Attempting to encode the applyEdits failed"),structuredClone(_.get_byte_buffer())));case 21:case"end":return e.stop()}}),e,null,[[12,16]])}))),lr.apply(this,arguments)}function dr(e,r){return cr.apply(this,arguments)}function cr(){return cr=(0,a.Z)((0,i.Z)().mark((function e(r,t){var o,a,s,u,l,d,c,y,f,h,v;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Q.$G)();case 2:if(a=e.sent,(s=new a.GraphQueryRequestEncoder).deleteLater(),r.outputSpatialReference?s.output_spatial_reference={wkid:r.outputSpatialReference.wkid,latestWkid:r.outputSpatialReference.latestWkid,vcsWkid:r.outputSpatialReference.vcsWkid,latestVcsWkid:r.outputSpatialReference.latestVcsWkid,wkt:null!==(o=r.outputSpatialReference.wkt)&&void 0!==o?o:""}:s.output_spatial_reference=a.SpatialReferenceUtil.WGS84(),s.open_cypher_query=r.openCypherQuery,r.bindParameters)for(u=0,l=Object.entries(r.bindParameters);u<l.length;u++)d=(0,n.Z)(l[u],2),c=d[0],y=d[1],ur(c,y,s,a);if(!r.bindGeometryQuantizationParameters){e.next=9;break}re(r.bindGeometryQuantizationParameters,s),e.next=16;break;case 9:if(e.t0=t.dataModel,e.t0){e.next=13;break}return e.next=13,Xe(t);case 13:if(4326===(null===(f=t.dataModel)||void 0===f||null===(h=f.spatialReference)||void 0===h?void 0:h.wkid)){e.next=15;break}throw new p.Z("knowledge-graph:SR-quantization-mismatch","If the DataModel indicates a coordinate system other than WGS84, inputQuantizationParameters must be provided to the query encoder");case 15:s.input_quantization_parameters=a.InputQuantizationUtil.WGS84_lossless();case 16:r.outputQuantizationParameters&&te(r.outputQuantizationParameters,s,a),r.provenanceBehavior&&ne(r.provenanceBehavior,s),e.prev=17,s.encode(),e.next=24;break;case 21:throw e.prev=21,e.t1=e.catch(17),new p.Z("knowledge-graph:query-encoding-failed","Attempting to encode the query failed",{error:e.t1});case 24:if(0===(v=s.get_encoding_result()).error.error_code){e.next=27;break}throw new p.Z("knowledge-graph:query-encoding-failed","Attempting to encode the query failed",{errorCode:v.error.error_code,errorMessage:v.error.error_message});case 27:return e.abrupt("return",structuredClone(v.get_byte_buffer()));case 28:case"end":return e.stop()}}),e,null,[[17,21]])}))),cr.apply(this,arguments)}function yr(e){return fr.apply(this,arguments)}function fr(){return fr=(0,a.Z)((0,i.Z)().mark((function e(r){var t,n,o,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Q.$G)();case 2:if(n=e.sent,(o=new n.GraphSearchRequestEncoder).deleteLater(),o.search_query=r.searchQuery,o.type_category_filter=n.esriNamedTypeCategory[r.typeCategoryFilter],!0===r.returnSearchContext&&(o.return_search_context=r.returnSearchContext),null!=r.start&&r.start>0&&(o.start_index=r.start),null!=r.num&&(o.max_num_results=r.num),!(null!=r.idsFilter&&Array.isArray(r.idsFilter)&&r.idsFilter.length>0)){e.next=12;break}e.prev=5,o.set_ids_filter(J(r.idsFilter,n)),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(5),new p.Z("knowledge-graph:ids-format-error","Attempting to set ids filter failed.  This is usually caused by an incorrectly formatted UUID string",{error:e.t0});case 12:null===(t=r.namedTypesFilter)||void 0===t||t.forEach((function(e){o.add_named_type_filter(e)})),e.prev=13,o.encode(),e.next=20;break;case 17:throw e.prev=17,e.t1=e.catch(13),new p.Z("knowledge-graph:search-encoding-failed","Attempting to encode the search failed",{error:e.t1});case 20:if(0===(a=o.get_encoding_result()).error.error_code){e.next=23;break}throw new p.Z("knowledge-graph:search-encoding-failed","Attempting to get encoding result from the query failed",{errorCode:a.error.error_code,errorMessage:a.error.error_message});case 23:return e.abrupt("return",structuredClone(a.get_byte_buffer()));case 24:case"end":return e.stop()}}),e,null,[[5,9],[13,17]])}))),fr.apply(this,arguments)}function hr(e,r){return vr.apply(this,arguments)}function vr(){return vr=(0,a.Z)((0,i.Z)().mark((function e(r,t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.Z)(r,{responseType:"native-request-init",method:"post",query:(0,o.Z)({f:"pbf"},null===t||void 0===t?void 0:t.query),body:"x",headers:{"Content-Type":"application/octet-stream"},signal:null===t||void 0===t?void 0:t.signal,timeout:null===t||void 0===t?void 0:t.timeout}));case 1:case"end":return e.stop()}}),e)}))),vr.apply(this,arguments)}function _r(e){return gr.apply(this,arguments)}function gr(){return gr=(0,a.Z)((0,i.Z)().mark((function e(r){var t,n,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=r.headers.get("content-type"))||void 0===t||!t.includes("application/x-protobuf")){e.next=10;break}return e.next=4,r.arrayBuffer();case 4:return n=e.sent,e.next=7,(0,Q.$G)();case 7:return e.t0=e.sent.GraphApplyEditsDecoder,o=new e.t0,e.abrupt("return",(o.deleteLater(),o.decode(new Uint8Array(n)),Le(o)));case 10:throw new p.Z("knowledge-graph:unexpected-server-response","server returned an unexpected response",{responseType:t,data:r.text()});case 11:case"end":return e.stop()}}),e)}))),gr.apply(this,arguments)}function mr(e,r,t,n){e.push_buffer(new Uint8Array(r));for(var o,i,a=[],s=0;e.next_row();){var u;o&&i||(i=null!==(u=(o=null!==n&&void 0!==n?n:Fe(e)).outSpatialReference)&&void 0!==u?u:new k.Z({wkid:4326})),s||(s=e.get_header_keys().size());for(var l=new Array(s),d=0;d<s;d++){var c=e.get_value(d);l[d]=Pe(c,t,i)}a.push(l)}if(e.has_error())throw new p.Z("knowledge-graph:stream-decoding-error","One or more result rows were not successfully decoded - inner row decoding",{errorCode:e.error.error_code,errorMessage:e.error.error_message});return{resultHeader:o,resultRows:a}}function wr(e,r){return br.apply(this,arguments)}function br(){return br=(0,a.Z)((0,i.Z)().mark((function e(r,t){var n,o,s,u,d,c,y,f,h;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.headers.get("content-type"),r.headers.get("content-length")&&l.Z.getLogger("esri.rest.knowledgeGraph.knowledgeGraphService").warnOnce("Found `Content-Length` header when expecting a streaming HTTP response! Please investigate whether all intermediate HTTP proxies and/or load balancers are configured such that they don't forcefully buffer the entire response before returning it to the client. A valid HTTP streaming response should use Chunked Transfer Encoding and not have a Content Length defined."),null===n||void 0===n||!n.includes("application/x-protobuf")){e.next=15;break}return s=null===(o=r.body)||void 0===o?void 0:o.getReader(),e.next=5,(0,Q.$G)();case 5:return e.t0=e.sent.GraphQueryDecoder,(u=new e.t0).deleteLater(),f=new Promise((function(e,r){c=e,y=r})),h=!1,e.t1=new ReadableStream({start:function(e){return(0,a.Z)((0,i.Z)().mark((function r(){var n;return(0,i.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=function(){return null===s||void 0===s?void 0:s.read().then((function(r){var o=r.done,i=r.value;try{if(o){var a;if(u.has_error()?a=new p.Z("knowledge-graph:stream-decoding-error","One or more result rows were not successfully decoded - query stream done",{errorCode:u.error.error_code,errorMessage:u.error.error_message}):h||c(new w),s.releaseLock(),a)throw e.error(a),y(a),a;return void e.close()}var f=mr(u,i,t,d),v=f.resultRows;return v.length>0&&e.enqueue(v),!d&&f.resultHeader&&(d=f.resultHeader,c(f.resultHeader),h=!0),n()}catch(Ze){throw l.Z.getLogger("esri.rest.knowledgeGraph.knowledgeGraphService").error(Ze),y(Ze),new p.Z("knowledge-graph:unexpected-server-response","Error inside streaming data return parsing",{error:Ze})}}))},r.prev=1,r.abrupt("return",n());case 5:r.prev=5,r.t0=r.catch(1),null!==s&&void 0!==s&&s.releaseLock(),e.error(new p.Z("knowledge-graph:stream-decoding-error","The server returned a valid response, but there was an error decoding the response stream",{error:r.t0})),e.close();case 8:case"end":return r.stop()}}),r,null,[[1,5]])})))()}}),e.next=13,f;case 13:return e.t2=e.sent,e.abrupt("return",{readableStream:e.t1,resultHeader:e.t2});case 15:throw new p.Z("knowledge-graph:unexpected-server-response","server returned an unexpected response",{responseType:n,data:r.text()});case 16:case"end":return e.stop()}}),e)}))),br.apply(this,arguments)}function Zr(e){return xr.apply(this,arguments)}function xr(){return xr=(0,a.Z)((0,i.Z)().mark((function e(r){var t,n,o,a,s,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(r.url,"/dataModel/queryDataModel"),e.next=3,(0,u.Z)(n,{responseType:"array-buffer",query:{f:"pbf"}});case 3:if(o=e.sent,a=null===(t=o.getHeader)||void 0===t?void 0:t.call(o,"content-type"),s=o.data,null===a||void 0===a||!a.includes("application/x-protobuf")){e.next=13;break}return e.next=9,(0,Q.$G)();case 9:if(l=e.sent.decode_data_model_from_protocol_buffer(new Uint8Array(s))){e.next=12;break}throw new p.Z("knowledge-graph:data-model-decode-failure","The server responded to the data model query, but the response failed to be decoded.  This typically occurs when the Knowledge JS API (4.26 or later) is used with an unsupported backend (11.0 or earlier)");case 12:return e.abrupt("return",ye(l));case 13:throw new p.Z("knowledge-graph:unexpected-server-response","server returned an unexpected response",{responseType:a,data:o.data});case 14:case"end":return e.stop()}}),e)}))),xr.apply(this,arguments)}},71084:function(e,r,t){var n,o,i,a,s,u,p;t.d(r,{Ks:function(){return i},LM:function(){return s},Mm:function(){return p},NM:function(){return u},Wf:function(){return a},jC:function(){return o},r0:function(){return n}}),function(e){e[e.Regular=0]="Regular",e[e.Provenance=1]="Provenance",e[e.Document=2]="Document"}(n||(n={})),function(e){e[e.esriFieldTypeSmallInteger=0]="esriFieldTypeSmallInteger",e[e.esriFieldTypeInteger=1]="esriFieldTypeInteger",e[e.esriFieldTypeSingle=2]="esriFieldTypeSingle",e[e.esriFieldTypeDouble=3]="esriFieldTypeDouble",e[e.esriFieldTypeString=4]="esriFieldTypeString",e[e.esriFieldTypeDate=5]="esriFieldTypeDate",e[e.esriFieldTypeOID=6]="esriFieldTypeOID",e[e.esriFieldTypeGeometry=7]="esriFieldTypeGeometry",e[e.esriFieldTypeBlob=8]="esriFieldTypeBlob",e[e.esriFieldTypeRaster=9]="esriFieldTypeRaster",e[e.esriFieldTypeGUID=10]="esriFieldTypeGUID",e[e.esriFieldTypeGlobalID=11]="esriFieldTypeGlobalID",e[e.esriFieldTypeXML=12]="esriFieldTypeXML",e[e.esriFieldTypeBigInteger=13]="esriFieldTypeBigInteger",e[e.esriFieldTypeDateOnly=14]="esriFieldTypeDateOnly",e[e.esriFieldTypeTimeOnly=15]="esriFieldTypeTimeOnly",e[e.esriFieldTypeTimestampOffset=16]="esriFieldTypeTimestampOffset"}(o||(o={})),function(e){e[e.esriGeometryNull=0]="esriGeometryNull",e[e.esriGeometryPoint=1]="esriGeometryPoint",e[e.esriGeometryMultipoint=2]="esriGeometryMultipoint",e[e.esriGeometryPolyline=3]="esriGeometryPolyline",e[e.esriGeometryPolygon=4]="esriGeometryPolygon",e[e.esriGeometryEnvelope=5]="esriGeometryEnvelope",e[e.esriGeometryAny=6]="esriGeometryAny",e[e.esriGeometryMultiPatch=7]="esriGeometryMultiPatch"}(i||(i={})),function(e){e[e.esriMethodHintUNSPECIFIED=0]="esriMethodHintUNSPECIFIED",e[e.esriUUIDESRI=1]="esriUUIDESRI",e[e.esriUUIDRFC4122=2]="esriUUIDRFC4122"}(a||(a={})),function(e){e[e.esriTypeUNSPECIFIED=0]="esriTypeUNSPECIFIED",e[e.esriTypeEntity=1]="esriTypeEntity",e[e.esriTypeRelationship=2]="esriTypeRelationship",e[e.esriTypeBoth=4]="esriTypeBoth"}(s||(s={})),function(e){e[e.esriGraphPropertyUNSPECIFIED=0]="esriGraphPropertyUNSPECIFIED",e[e.esriGraphPropertyRegular=1]="esriGraphPropertyRegular",e[e.esriGraphPropertyDocumentName=2]="esriGraphPropertyDocumentName",e[e.esriGraphPropertyDocumentTitle=3]="esriGraphPropertyDocumentTitle",e[e.esriGraphPropertyDocumentUrl=4]="esriGraphPropertyDocumentUrl",e[e.esriGraphPropertyDocumentText=5]="esriGraphPropertyDocumentText",e[e.esriGraphPropertyDocumentKeywords=6]="esriGraphPropertyDocumentKeywords",e[e.esriGraphPropertyDocumentContentType=7]="esriGraphPropertyDocumentContentType",e[e.esriGraphPropertyDocumentMetadata=8]="esriGraphPropertyDocumentMetadata",e[e.esriGraphPropertyDocumentFileExtension=9]="esriGraphPropertyDocumentFileExtension",e[e.esriGraphPropertyProvenanceInstanceId=10]="esriGraphPropertyProvenanceInstanceId",e[e.esriGraphPropertyProvenanceSourceType=11]="esriGraphPropertyProvenanceSourceType",e[e.esriGraphPropertyProvenanceSourceName=12]="esriGraphPropertyProvenanceSourceName",e[e.esriGraphPropertyProvenanceSource=13]="esriGraphPropertyProvenanceSource",e[e.esriGraphPropertyProvenanceComment=14]="esriGraphPropertyProvenanceComment",e[e.esriGraphPropertyProvenanceTypeName=15]="esriGraphPropertyProvenanceTypeName",e[e.esriGraphPropertyProvenancePropertyName=16]="esriGraphPropertyProvenancePropertyName"}(u||(u={})),function(e){e[e.esriIdentifierInfoTypeUNSPECIFIED=0]="esriIdentifierInfoTypeUNSPECIFIED",e[e.esriIdentifierInfoTypeDatabaseNative=1]="esriIdentifierInfoTypeDatabaseNative",e[e.esriIdentifierInfoTypeUniformProperty=2]="esriIdentifierInfoTypeUniformProperty"}(p||(p={}))},72430:function(e,r,t){t.d(r,{$G:function(){return l}});var n,o=t(74165),i=t(15861),a=t(65905),s=t(93169),u="esri/rest/knowledgeGraph/wasmInterface/",p=null;function l(){return d.apply(this,arguments)}function d(){return d=(0,i.Z)((0,o.Z)().mark((function e(){var r,t,i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=null!==(r=p)&&void 0!==r?r:n)){e.next=3;break}return e.abrupt("return",t);case 3:return i=(0,s.Z)("wasm-simd"),e.abrupt("return",n=c(i));case 5:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function c(e){return y.apply(this,arguments)}function y(){return y=(0,i.Z)((0,o.Z)().mark((function e(r){var n,i,s,p;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=6;break}return e.next=3,t.e(2717).then(t.bind(t,2717)).then((function(e){return e.a}));case 3:return n=e.sent,i=n.default,e.abrupt("return",i({locateFile:function(e){return(0,a.V)(u+e)}}));case 6:return e.next=8,t.e(43415).then(t.bind(t,43415)).then((function(e){return e.a}));case 8:return s=e.sent,p=s.default,e.abrupt("return",p({locateFile:function(e){return(0,a.V)(u+e)}}));case 11:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}}}]);
//# sourceMappingURL=97316.c590adeb.chunk.js.map