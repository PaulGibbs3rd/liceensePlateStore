{"version":3,"file":"static/js/22200.bba2895b.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/map-components/dist/esm/arcgis-expand.entry.js","../node_modules/@arcgis/map-components/dist/esm/useWidget-9b153437.js"],"sourcesContent":["/*!\n * All material copyright Esri, All Rights Reserved, unless otherwise specified.\n * See https://js.arcgis.com/4.30/esri/copyright.txt for details.\n * v4.30.7\n */\nimport { r as registerInstance, c as createEvent, g as getElement } from './index-7d33cc26.js';\nimport { G as newWidgetsExpand } from './index-d2df902e.js';\nimport { u as useControllerManager } from './index-c99fc80c.js';\nimport { m as makeWidgetController } from './useWidget-9b153437.js';\nimport './component-utils-de9339fe.js';\n\nconst expandCss = \"arcgis-expand{pointer-events:auto}arcgis-expand>.esri-expand__content--expanded{background-color:var(--calcite-color-background)}\";\nconst ArcgisExpandStyle0 = expandCss;\n\nconst useExpandWidget = makeWidgetController(newWidgetsExpand);\nconst ArcgisExpand = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.arcgisReady = createEvent(this, \"arcgisReady\", 7);\n        this.manager = useControllerManager(this);\n        this.widget = useExpandWidget(this);\n        this.viewModel = this.widget.viewModel;\n        this.autoDestroyDisabled = false;\n        this.icon = this.widget.icon;\n        this.content = this.widget.content;\n        this.label = this.widget.label;\n        this.autoCollapse = this.widget.autoCollapse;\n        this.closeOnEsc = this.widget.closeOnEsc;\n        this.collapseIcon = this.widget.collapseIcon;\n        this.collapseTooltip = this.widget.collapseTooltip;\n        this.expanded = this.widget.expanded;\n        this.expandIcon = this.widget.expandIcon;\n        this.expandTooltip = this.widget.expandTooltip;\n        this.group = this.widget.group;\n        this.iconNumber = this.widget.iconNumber;\n        this.mode = this.widget.mode;\n        this.placement = this.widget.placement;\n        this.position = \"top-right\";\n        this.referenceElement = undefined;\n        /**\n         * This refers to the content inside the expand's popup. This is different\n         * from this.el.childElem which refers to the expand's UI (which in part\n         * includes the popup with this.content)\n         */\n        this.content ?? (this.content = document.createElement(\"div\"));\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Methods\n    //\n    //--------------------------------------------------------------------------\n    /** Permanently destroy the component */\n    async destroy() {\n        await this.manager.destroy();\n    }\n    async collapse() {\n        this.widget?.collapse();\n    }\n    async expand() {\n        this.widget?.expand();\n    }\n    async toggle() {\n        if (this.expanded) {\n            await this.collapse();\n        }\n        else {\n            await this.expand();\n        }\n    }\n    get el() { return getElement(this); }\n};\nArcgisExpand.style = ArcgisExpandStyle0;\n\nexport { ArcgisExpand as arcgis_expand };\n","/*!\n * All material copyright Esri, All Rights Reserved, unless otherwise specified.\n * See https://js.arcgis.com/4.30/esri/copyright.txt for details.\n * v4.30.7\n */\nimport { p as proxyExports, A as AccessorController, a as accessorSupport } from './index-c99fc80c.js';\nimport './index-d2df902e.js';\nimport { a as attachToParent } from './component-utils-de9339fe.js';\n\n// FEATURE: if inside of arcgis-expand/arcgis-placement, sync autoDestroyDisabled prop with that of Expand\n/**\n * A controller for a wrapped JS API Widget\n * - loads the widget\n * - initializes the widget with the component's properties\n * - does two-way binding between widget and component properties\n * - re-emits the widgets's events on the component\n * - type-checks everything ✨\n *\n * Documentation:\n * https://devtopia.esri.com/WebGIS/arcgis-web-components/blob/main/packages/map-components/src/controllers/useWidget.md\n */\nconst makeWidgetController = (loadWidget, _options) => (component, options) => proxy(component, loadWidget, options);\nclass WidgetController extends AccessorController {\n    constructor(component, _loadAccessor, \n    // Disable covariance check\n    // eslint-disable-next-line @typescript-eslint/method-signature-style\n    _options) {\n        super(component, _loadAccessor, _options);\n        this._watchedViewModelProperties = new Map();\n        this._watchedVisibleElementsProperties = {};\n        this._isBindingViewModel = { value: true };\n        Object.defineProperty(this.exports, \"viewModel\", {\n            value: accessorSupport.makeGetterProxy(component, this._watchedViewModelProperties, this._isBindingViewModel),\n        });\n        Object.defineProperty(this.exports, \"visibleElements\", {\n            value: this._makeVisibleElementsBinder(),\n        });\n    }\n    hostConnected() {\n        super.hostConnected();\n        /*\n         * We are done binding props to properties - any accesses after this should\n         * be treated as normal property accesses\n         */\n        this._isBindingViewModel.value = false;\n        if (this.component.manager.didLoadCalled) {\n            attachToParent(this.component);\n        }\n    }\n    async hostLoad() {\n        /*\n         * \"viewModel\" property might not have a @State(), so two-way binding might\n         * not work (and probably one way is fine)\n         */\n        this._watchedProperties.delete(\"viewModel\");\n        await super.hostLoad();\n        if (this.component.manager.destroyed) {\n            return;\n        }\n        this._watchMetaProperties();\n        accessorSupport.reEmitAccessorEvents(this, this._instance, this.reactiveUtils, \"widget\");\n        // Do one way watching for viewModel property\n        this.onLifecycle(() => this.reactiveUtils.watch(() => this._instance.viewModel, (newViewModel) => {\n            this.component.viewModel = newViewModel;\n        }, { initial: true }));\n        const viewModel = this._instance.viewModel;\n        if (typeof viewModel === \"object\") {\n            accessorSupport.reEmitAccessorEvents(this, viewModel, this.reactiveUtils, \"viewModel\");\n            accessorSupport.watchComponentUpdates(this, viewModel, this._watchedViewModelProperties);\n            accessorSupport.watchAccessorUpdates(this, viewModel, this._watchedViewModelProperties);\n        }\n        else if (this._watchedViewModelProperties.size > 0) {\n            throw new Error(`The widget does not have a viewModel to bind to. Tried to bind the following properties: ${Array.from(this._watchedViewModelProperties.keys()).join(\", \")}`);\n        }\n        const visibleElements = Object.entries(this._watchedVisibleElementsProperties);\n        if (visibleElements.length > 0) {\n            this.onLifecycle(() => visibleElements.map(([prop, propertyChain]) => {\n                let base = this._instance.visibleElements ?? {};\n                let defaultVisible = undefined;\n                for (const key of propertyChain.slice(0, -1)) {\n                    if (typeof base[key] === \"object\" && base[key] !== null) {\n                        base = base[key];\n                    }\n                    else {\n                        defaultVisible = Boolean(base[key]);\n                        break;\n                    }\n                }\n                if (defaultVisible === undefined) {\n                    defaultVisible = Boolean(base[propertyChain.slice(-1)[0]] ?? true);\n                }\n                prop.startsWith(\"hide\") ? !defaultVisible : defaultVisible;\n                const hideShowInName = prop.startsWith(\"hide\") || prop.startsWith(\"show\");\n                const shouldFlip = hideShowInName ? prop.startsWith(\"hide\") : defaultVisible;\n                const genericComponent = this.component;\n                if (typeof genericComponent[prop] === \"boolean\") {\n                    this._updateWidgetVisibleElement(propertyChain, genericComponent[prop], shouldFlip);\n                }\n                else {\n                    genericComponent[prop] = false;\n                }\n                return this.watch(prop, (rawVisible) => this._updateWidgetVisibleElement(propertyChain, rawVisible, shouldFlip));\n            }));\n        }\n    }\n    _updateWidgetVisibleElement(propertyChain, propValue, shouldFlip) {\n        let base = this._instance.visibleElements ?? {};\n        for (const key of propertyChain.slice(0, -1)) {\n            if (typeof base[key] !== \"object\" || base[key] === null) {\n                base[key] = {};\n            }\n            base = base[key];\n        }\n        const visible = Boolean(shouldFlip ? !propValue : propValue);\n        base[propertyChain.at(-1)] = visible;\n    }\n    hostLoaded() {\n        const { el } = this.component;\n        /*\n         * On hot reloading, new this.component instance is created (so properties\n         * on it are reset) but this.component.el instance is preserved (so\n         * properties on it are preserved). Since childElem is re-parented on 1st\n         * hostLoad(), for it to be accessible on the 2nd hostLoad() (hot reload),\n         * we have to store it's reference on the el, rather than component\n         */\n        el.childElem ?? (el.childElem = document.createElement(\"div\"));\n        this._instance.container = el.childElem;\n        let arcgisReadyEmitted = false;\n        // Check if view was already provided by the user\n        const currentView = this.component.el.view;\n        // Define the \"view\" property to allow component usage with MapView/SceneView\n        Object.defineProperty(this.component.el, \"view\", {\n            get: () => this._instance.view ?? this._instance.viewModel?.view,\n            set: (view) => {\n                if (!(\"view\" in this._instance) && typeof this._instance.viewModel === \"object\") {\n                    this._instance.viewModel.view = view;\n                }\n                else {\n                    this._instance.view = view;\n                }\n                this._watchViewDestroy();\n                if (!arcgisReadyEmitted) {\n                    arcgisReadyEmitted = true;\n                    this.component.arcgisReady.emit();\n                }\n            },\n            configurable: true,\n            enumerable: true,\n        });\n        if (currentView) {\n            this._instance.view = currentView;\n        }\n        if (this.component.el.isConnected) {\n            attachToParent(this.component);\n            this._watchViewDestroy();\n        }\n    }\n    hostDisconnected() {\n        // If view is already destroyed, view.ui might be undefined\n        if (typeof this.component.el.childElem === \"object\") {\n            this.component.el.view?.ui?.remove(this.component.el.childElem);\n        }\n    }\n    hostDestroy() {\n        super.hostDestroy();\n        this._watchViewDestroyHandle?.remove();\n    }\n    _watchMetaProperties() {\n        this.watch(\"position\", (position) => {\n            if (this.component.el.childElem != null && typeof position === \"string\") {\n                attachToParent(this.component);\n            }\n        });\n        this.watch(\"referenceElement\", () => attachToParent(this.component));\n    }\n    _makeVisibleElementsBinder() {\n        return new Proxy({}, {\n            has: (target, prop) => typeof prop === \"string\" || Reflect.has(target, prop),\n            get: (target, prop) => {\n                // Possibly called by the JS engine\n                if (typeof prop === \"symbol\" || prop in Promise.prototype) {\n                    return Reflect.get(target, prop);\n                }\n                const propertyChain = [prop];\n                const proxy = this._makeRecursiveProxy(propertyChain);\n                return this.component.manager.trackPropKey((resolvedKey) => {\n                    if (resolvedKey === undefined) {\n                        throw new Error(\"Unable to bind visibleElements property. Check for incorrect this.widget.visibleElements usage\");\n                    }\n                    this.component[resolvedKey] = false;\n                    this._watchedVisibleElementsProperties[resolvedKey] = propertyChain;\n                }, proxy);\n            },\n        });\n    }\n    _makeRecursiveProxy(propertyChain) {\n        const chain = new Proxy({}, {\n            get: (target, prop) => {\n                const value = Reflect.get(target, prop);\n                // Possibly called by the JS engine\n                if (typeof prop === \"symbol\" || prop in Promise.prototype) {\n                    return value;\n                }\n                propertyChain.push(prop);\n                return chain;\n            },\n        });\n        return chain;\n    }\n    /**\n     * Destroy the component if view gets destroyed. Note, that when view is\n     * destroyed, component disconnect is triggered, which will destroy the\n     * component in 1s but that can be too late, because in the meanwhile,\n     * a watcher on the widget/viewModel instance may get triggered, and throw\n     * an error if it's not able to access this.view.map or etc\n     * (happens in VersionManagementViewModel for example).\n     * We can't check for this in disconnectedCallback though as even though\n     * view.destroy() does trigger disconnect on all map-components, the\n     * view.destroyed is not yet set to true when disconnect is triggered.\n     */\n    _watchViewDestroy() {\n        this._watchViewDestroyHandle?.remove();\n        this._watchViewDestroyHandle = this.reactiveUtils.when(() => this.component.el.view?.destroyed === true, () => void this.component.destroy().catch(console.error), { sync: true });\n    }\n}\nconst proxy = proxyExports(WidgetController);\n\nexport { makeWidgetController as m };\n"],"names":["useExpandWidget","makeWidgetController","newWidgetsExpand","ArcgisExpand","hostRef","_this$content","_classCallCheck","registerInstance","this","arcgisReady","createEvent","manager","useControllerManager","widget","viewModel","autoDestroyDisabled","icon","content","label","autoCollapse","closeOnEsc","collapseIcon","collapseTooltip","expanded","expandIcon","expandTooltip","group","iconNumber","mode","placement","position","referenceElement","undefined","document","createElement","_createClass","key","value","_destroy","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","destroy","stop","apply","arguments","_collapse","_callee2","_this$widget","_context2","collapse","_expand","_callee3","_this$widget2","_context3","expand","_toggle","_callee4","_context4","get","getElement","style","loadWidget","_options","component","options","proxy","WidgetController","_AccessorController","_inherits","_super","_createSuper","_loadAccessor","_this","call","_watchedViewModelProperties","Map","_watchedVisibleElementsProperties","_isBindingViewModel","Object","defineProperty","exports","accessorSupport","_makeVisibleElementsBinder","_get","_getPrototypeOf","prototype","didLoadCalled","attachToParent","_hostLoad","visibleElements","_this2","_watchedProperties","delete","destroyed","abrupt","_watchMetaProperties","_instance","reactiveUtils","onLifecycle","watch","newViewModel","initial","size","Error","concat","Array","from","keys","join","entries","length","map","_ref","_this2$_instance$visi","_step","_base$propertyChain$s","_ref2","_slicedToArray","prop","propertyChain","base","defaultVisible","_iterator","_createForOfIteratorHelper","slice","s","n","done","Boolean","err","e","f","startsWith","shouldFlip","genericComponent","_updateWidgetVisibleElement","rawVisible","propValue","_this$_instance$visib","_step2","_iterator2","visible","at","_el$childElem","_this3","el","childElem","container","arcgisReadyEmitted","currentView","view","_this3$_instance$view","_this3$_instance$view2","set","_watchViewDestroy","emit","configurable","enumerable","isConnected","_this$component$el$vi","_this$component$el$vi2","ui","remove","_this$_watchViewDestr","_watchViewDestroyHandle","_this4","_this5","Proxy","has","target","Reflect","Promise","_makeRecursiveProxy","trackPropKey","resolvedKey","chain","push","_this$_watchViewDestr2","_this6","when","_this6$component$el$v","catch","console","error","sync","AccessorController","proxyExports"],"sourceRoot":""}