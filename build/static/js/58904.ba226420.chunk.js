"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[58904],{58904:function(e,t,n){n.r(t),n.d(t,{default:function(){return ee}});var i=n(4942),o=n(15671),l=n(43144),r=n(97326),a=n(60136),s=n(29388),u=n(27366),c=n(80987),d=n(44927),v=n(79056),p=n(32718),m=n(49861),f=(n(93169),n(84936),n(69912)),h=n(91953),b=n(33565),y=n(9309),_=n(8905),g=n(7021),I=(n(80975),n(80532)),C=n(28907),k=n(67005),w="esri-table-list",E="".concat(w,"__item"),M={base:w,actionMenu:"".concat(w,"__action-menu"),actionGroup:"".concat(w,"__action-group"),filterNoResults:"".concat(w,"__filter-no-results"),item:E,itemContent:"".concat(E,"-content"),itemContentBottom:"".concat(E,"-content-bottom"),itemMessage:"".concat(E,"-message"),itemActionIcon:"".concat(E,"-action-icon"),itemActionImage:"".concat(E,"-action-image"),itemTemporaryIcon:"".concat(E,"-temporary-icon"),publishing:"".concat(w,"__publishing"),statusIndicator:"".concat(w,"__status-indicator")},F=n(7138),L=n(94172),P=n(89125),A=n(693),Z=n(57976),S=n(6945),T=n(5027),D=n(9676),N=n(53963),O=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e,i){var l;return(0,o.Z)(this,n),(l=t.call(this,e,i)).className=null,l.content=null,l.flowEnabled=!1,l.image=null,l.listItem=null,l.open=!1,l.visible=!0,l}return(0,l.Z)(n,[{key:"disabled",get:function(){return!(this.content&&this.listItem)},set:function(e){this._overrideIfSome("disabled",e)}},{key:"icon",get:function(){var e,t=this.image,n=this._getFirstWidget();return null!==(e=this._get("icon"))&&void 0!==e?e:!t&&n?n.icon:null},set:function(e){this._overrideIfSome("icon",e)}},{key:"title",get:function(){var e,t;return this._get("title")||(null!==(e=null===(t=this._getFirstWidget())||void 0===t?void 0:t.label)&&void 0!==e?e:"")},set:function(e){this._override("title",e)}},{key:"render",value:function(){return(0,k.u)("div",{class:"esri-list-item-panel"},this._renderContents())}},{key:"_renderContent",value:function(e){var t=this.disabled,n=this.open;return e&&!t&&n?"string"==typeof e?(0,k.u)("div",{innerHTML:e,key:e}):(0,N.Qd)(e)?(0,k.u)("div",{key:"content-widget"},e.render()):e instanceof HTMLElement?(0,k.u)("div",{afterCreate:this._attachToNode,bind:e,key:"content-element"}):null:null}},{key:"_renderContents",value:function(){var e=this,t=this.content;return this.open?Array.isArray(t)?t.map((function(t){return e._renderContent(t)})):this._renderContent(t):null}},{key:"_attachToNode",value:function(e){e.appendChild(this)}},{key:"_getWidget",value:function(e){return(0,N.Qd)(e)?e:null}},{key:"_getFirstWidget",value:function(){var e=this,t=this.content;return Array.isArray(t)?t.map((function(t){return e._getWidget(t)})).find((function(e){return e})):this._getWidget(t)}}]),n}((0,v.IG)(b.Z));(0,u._)([(0,m.Cb)()],O.prototype,"className",void 0),(0,u._)([(0,m.Cb)()],O.prototype,"content",void 0),(0,u._)([(0,m.Cb)()],O.prototype,"disabled",null),(0,u._)([(0,m.Cb)()],O.prototype,"flowEnabled",void 0),(0,u._)([(0,m.Cb)()],O.prototype,"icon",null),(0,u._)([(0,m.Cb)()],O.prototype,"image",void 0),(0,u._)([(0,m.Cb)()],O.prototype,"listItem",void 0),(0,u._)([(0,m.Cb)()],O.prototype,"open",void 0),(0,u._)([(0,m.Cb)()],O.prototype,"title",null),(0,u._)([(0,m.Cb)()],O.prototype,"visible",void 0);var x,B=O=(0,u._)([(0,f.j)("esri.widgets.TableList.ListItemPanel")],O),R=c.Z.ofType({key:"type",defaultKeyValue:"button",base:Z.Z,typeMap:{button:S.Z,toggle:D.Z,slider:T.Z}}),G=c.Z.ofType(R),H=x=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var i;return(0,o.Z)(this,n),(i=t.call(this,e)).actionsSections=new G,i.actionsOpen=!1,i.checkPublishStatusEnabled=!1,i.hidden=!1,i.layer=null,i.listItemCreatedFunction=null,i.panel=null,i.sortable=!0,i}return(0,l.Z)(n,[{key:"initialize",value:function(){var e=this;if(this.addHandles([(0,L.watch)((function(){return e.panel}),(function(t){return e._setListItemOnPanel(t)}),L.initial)]),"function"==typeof this.listItemCreatedFunction){var t={item:this};this.listItemCreatedFunction.call(null,t)}}},{key:"destroy",value:function(){var e;null===(e=this.panel)||void 0===e||e.destroy()}},{key:"error",get:function(){var e;return null===(e=this.layer)||void 0===e?void 0:e.loadError}},{key:"castPanel",value:function(e){var t;return null!==(t=this.panel)&&void 0!==t&&t.open&&!e.hasOwnProperty("open")&&(e.open=!0),e?new B(e):null}},{key:"publishing",get:function(){var e,t,n=this.layer;return null!==(e=this.checkPublishStatusEnabled&&n&&"publishingInfo"in n&&"publishing"===(null===(t=n.publishingInfo)||void 0===t?void 0:t.status))&&void 0!==e&&e}},{key:"title",get:function(){var e,t,n=(0,A.U2)(this,"layer.layer");return null!==(e=!n||n&&(0,A.U2)(this,"layer.layer.loaded")?null===(t=this.layer)||void 0===t?void 0:t.title:null)&&void 0!==e?e:""},set:function(e){this._overrideIfSome("title",e)}},{key:"clone",value:function(){return new x({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,checkPublishStatusEnabled:this.checkPublishStatusEnabled,hidden:this.hidden,layer:this.layer,listItemCreatedFunction:this.listItemCreatedFunction,panel:this.panel,sortable:this.sortable,title:this.title})}},{key:"_setListItemOnPanel",value:function(e){e&&(e.listItem=this)}}]),n}((0,v.IG)(F.default));(0,u._)([(0,m.Cb)({type:G})],H.prototype,"actionsSections",void 0),(0,u._)([(0,m.Cb)()],H.prototype,"actionsOpen",void 0),(0,u._)([(0,m.Cb)()],H.prototype,"checkPublishStatusEnabled",void 0),(0,u._)([(0,m.Cb)({readOnly:!0})],H.prototype,"error",null),(0,u._)([(0,m.Cb)()],H.prototype,"hidden",void 0),(0,u._)([(0,m.Cb)()],H.prototype,"layer",void 0),(0,u._)([(0,m.Cb)()],H.prototype,"listItemCreatedFunction",void 0),(0,u._)([(0,m.Cb)({type:B})],H.prototype,"panel",void 0),(0,u._)([(0,P.p)("panel")],H.prototype,"castPanel",null),(0,u._)([(0,m.Cb)({readOnly:!0})],H.prototype,"publishing",null),(0,u._)([(0,m.Cb)()],H.prototype,"sortable",void 0),(0,u._)([(0,m.Cb)()],H.prototype,"title",null);var U=H=x=(0,u._)([(0,f.j)("esri.widgets.TableList.ListItem")],H),z=n(91505),V="map",W="layer-list-mode",j=c.Z.ofType(U),q=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var i;return(0,o.Z)(this,n),(i=t.call(this,e)).checkPublishStatusEnabled=!1,i.listItemCreatedFunction=null,i.listModeDisabled=!1,i.tableItems=new j,i.map=null,i}return(0,l.Z)(n,[{key:"initialize",value:function(){var e=this;this.addHandles([(0,L.watch)((function(){var t;return[e.tables,null===(t=e.map)||void 0===t?void 0:t.allTables.toArray()]}),(function(){return e._compileList()}),L.initial),(0,L.watch)((function(){var t;return[null===(t=e.map)||void 0===t?void 0:t.loaded,e.listItemCreatedFunction,e.checkPublishStatusEnabled,e.listModeDisabled]}),(function(){return e._recompileList()}))],V)}},{key:"destroy",value:function(){this._removeAllItems(),this.map=null,this.tables=null}},{key:"tables",get:function(){var e;return null===(e=this.map)||void 0===e?void 0:e.allTables},set:function(e){this._overrideIfSome("tables",e)}},{key:"state",get:function(){var e=this.map,t=this.tables;if(!e)return t?"ready":"disabled";var n=null===e||void 0===e?void 0:e.loadStatus;return"string"==typeof n?"loaded"===n?"ready":"loading"===n?"loading":"disabled":"ready"}},{key:"totalItems",get:function(){return this.tableItems.length}},{key:"triggerAction",value:function(e,t){e&&!e.disabled&&this.emit("trigger-action",{action:e,item:t})}},{key:"_removeAllItems",value:function(){this.tableItems.destroyAll()}},{key:"_getViewableTables",value:function(e){return e?this.listModeDisabled?e:e.filter((function(e){return"hide"!==(0,y.aV)(e)})):void 0}},{key:"_watchTablesListMode",value:function(e){var t=this;this.removeHandles(W),e&&!this.listModeDisabled&&this.addHandles((0,L.watch)((function(){return e.filter((function(e){return"listMode"in e})).map((function(e){return e.listMode})).toArray()}),(function(){return t._compileList()})),W)}},{key:"_compileList",value:function(){var e=this.tables;this._watchTablesListMode(e);var t=this._getViewableTables(e);null!==t&&void 0!==t&&t.length?(this._createNewItems(t),this._removeItems(t),this._sortItems(t)):this._removeAllItems()}},{key:"_createNewItems",value:function(e){var t=this.tableItems,n=this.listItemCreatedFunction,i=this.checkPublishStatusEnabled;e.forEach((function(e){t.some((function(t){return t.layer===e}))||t.add(new U({checkPublishStatusEnabled:i,layer:e,listItemCreatedFunction:n}))}))}},{key:"_removeItems",value:function(e){var t=this.tableItems;t.forEach((function(n){n&&((null===e||void 0===e?void 0:e.find((function(e){return n.layer===e})))||(t.remove(n),n.destroy()))}))}},{key:"_sortItems",value:function(e){this.tableItems.sort((function(t,n){var i=e.indexOf(t.layer),o=e.indexOf(n.layer);return i>o?-1:i<o?1:0}))}},{key:"_recompileList",value:function(){this._removeAllItems(),this._compileList()}}]),n}(z.Z.EventedAccessor);(0,u._)([(0,m.Cb)()],q.prototype,"checkPublishStatusEnabled",void 0),(0,u._)([(0,m.Cb)()],q.prototype,"listItemCreatedFunction",void 0),(0,u._)([(0,m.Cb)({nonNullable:!0})],q.prototype,"listModeDisabled",void 0),(0,u._)([(0,m.Cb)({type:j,readOnly:!0})],q.prototype,"tableItems",void 0),(0,u._)([(0,m.Cb)()],q.prototype,"tables",null),(0,u._)([(0,m.Cb)()],q.prototype,"map",void 0),(0,u._)([(0,m.Cb)({readOnly:!0})],q.prototype,"state",null),(0,u._)([(0,m.Cb)()],q.prototype,"totalItems",null);var K=q=(0,u._)([(0,f.j)("esri.widgets.TableList.TableListViewModel")],q),Q=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;return(0,o.Z)(this,n),(e=t.apply(this,arguments)).closeButton=!1,e.collapseButton=!1,e.errors=!1,e.filter=!1,e.flow=!0,e.heading=!1,e.statusIndicators=!0,e.temporaryTableIndicators=!1,e}return(0,l.Z)(n)}(F.default);(0,u._)([(0,m.Cb)({type:Boolean,nonNullable:!0})],Q.prototype,"closeButton",void 0),(0,u._)([(0,m.Cb)({type:Boolean,nonNullable:!0})],Q.prototype,"collapseButton",void 0),(0,u._)([(0,m.Cb)({type:Boolean,nonNullable:!0})],Q.prototype,"errors",void 0),(0,u._)([(0,m.Cb)({type:Boolean,nonNullable:!0})],Q.prototype,"filter",void 0),(0,u._)([(0,m.Cb)({type:Boolean,nonNullable:!0})],Q.prototype,"flow",void 0),(0,u._)([(0,m.Cb)({type:Boolean,nonNullable:!0})],Q.prototype,"heading",void 0),(0,u._)([(0,m.Cb)({type:Boolean,nonNullable:!0})],Q.prototype,"statusIndicators",void 0),(0,u._)([(0,m.Cb)({type:Boolean,nonNullable:!0})],Q.prototype,"temporaryTableIndicators",void 0);var J=Q=(0,u._)([(0,f.j)("esri.widgets.TableList.TableListVisibleElements")],Q);function X(e){return e["data-item"]}var Y=c.Z.ofType(U),$=function(e){(0,a.Z)(u,e);var t=(0,s.Z)(u);function u(e,n){var i;return(0,o.Z)(this,u),(i=t.call(this,e,n))._focusRootFlowItem=!1,i._focusPanelFlowItem=!1,i._lastDragDetail=null,i._selectedDragItemLayerUid=null,i._rootGroupUid="table-".concat(i.uid),i.collapsed=!1,i.dragEnabled=!1,i.filterPlaceholder="",i.filterText="",i.headingLevel=2,i.listItemCanGiveFunction=null,i.listItemCanReceiveFunction=null,i.messages=null,i.messagesCommon=null,i.minDragEnabledItems=y.MZ,i.minFilterItems=y.Kp,i.selectedItems=new Y,i.selectionMode="none",i.viewModel=new K,i.visibleElements=new J,i._canMove=function(e,t){var n=e.dragEl,o=e.fromEl,l=e.toEl,r="pull"===t?i.listItemCanGiveFunction:i.listItemCanReceiveFunction,a=X(n);if(null===a||void 0===a||!a.sortable)return!1;var s=X(o),u=(0,y.Gr)(o),c=X(l),d=(0,y.Gr)(l),v=!!u&&!!d&&u===d,p={selected:a,from:s,to:c},m=o.group,f=l.group;return m&&f&&"function"==typeof r?r.call(null,p):v},i._onCalciteListOrderChange=function(e){var t,n=(0,r.Z)(i)._lastDragDetail,o=e.toEl,l=e.fromEl,a=e.dragEl,s=e.newIndex;if(l&&o&&((null===n||void 0===n?void 0:n.newIndex)!==s||(null===n||void 0===n?void 0:n.dragEl)!==a||(null===n||void 0===n?void 0:n.toEl)!==o||(null===n||void 0===n?void 0:n.fromEl)!==l)){i._lastDragDetail=e;var u=Array.from(l.children).filter((function(e){return null===e||void 0===e?void 0:e.matches("calcite-list-item")})).map((function(e){return e.value}));!function(e,t){null===e||void 0===e||e.sort((function(e,n){var i=t.indexOf(e.uid),o=t.indexOf(n.uid);return i>o?-1:i<o?1:0}))}(null===(t=i.map)||void 0===t?void 0:t.tables,u)}},i}return(0,l.Z)(u,[{key:"loadDependencies",value:function(){return(0,_.h)({action:function(){return Promise.all([n.e(92358),n.e(46895),n.e(65138),n.e(91741)]).then(n.bind(n,6814))},"action-group":function(){return Promise.all([n.e(92358),n.e(46895),n.e(89219),n.e(63839),n.e(65138),n.e(2654),n.e(23635),n.e(70405)]).then(n.bind(n,70405))},"action-menu":function(){return Promise.all([n.e(92358),n.e(46895),n.e(89219),n.e(63839),n.e(65138),n.e(2654),n.e(23635),n.e(24745)]).then(n.bind(n,24745))},button:function(){return Promise.all([n.e(92358),n.e(46895),n.e(54438),n.e(14105),n.e(32275)]).then(n.bind(n,32275))},flow:function(){return n.e(53049).then(n.bind(n,53049))},"flow-item":function(){return Promise.all([n.e(92358),n.e(46895),n.e(89219),n.e(63839),n.e(65138),n.e(2654),n.e(23635),n.e(89524),n.e(48926)]).then(n.bind(n,48926))},icon:function(){return Promise.all([n.e(92358),n.e(87474)]).then(n.bind(n,87474))},list:function(){return Promise.all([n.e(92358),n.e(46895),n.e(54438),n.e(34504),n.e(8715),n.e(38782)]).then(n.bind(n,38782))},"list-item":function(){return Promise.all([n.e(92358),n.e(46895),n.e(65138),n.e(21340)]).then(n.bind(n,67994))},notice:function(){return Promise.all([n.e(92358),n.e(46895),n.e(15669)]).then(n.bind(n,15669))}})}},{key:"_dragEnabled",get:function(){return this.viewModel.totalItems>=this.minDragEnabledItems&&this.dragEnabled}},{key:"_filterEnabled",get:function(){return this.viewModel.totalItems>=this.minFilterItems&&this.visibleElements.filter}},{key:"icon",get:function(){return"table"},set:function(e){this._overrideIfSome("icon",e)}},{key:"label",get:function(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.widgetLabel)&&void 0!==e?e:""},set:function(e){this._overrideIfSome("label",e)}},{key:"listItemCreatedFunction",get:function(){return this.viewModel.listItemCreatedFunction},set:function(e){this.viewModel.listItemCreatedFunction=e}},{key:"map",get:function(){return this.viewModel.map},set:function(e){this.viewModel.map=e}},{key:"multipleSelectionEnabled",get:function(){return(0,d.Mr)(p.Z.getLogger(this),"multipleSelectionEnabled",{replacement:"selectionMode",version:"4.29",warnOnce:!0}),"multiple"===this.selectionMode},set:function(e){(0,d.Mr)(p.Z.getLogger(this),"multipleSelectionEnabled",{replacement:"selectionMode",version:"4.29",warnOnce:!0}),this.selectionMode=e?"multiple":this.selectionEnabled?"single":"none"}},{key:"selectionEnabled",get:function(){return(0,d.Mr)(p.Z.getLogger(this),"selectionEnabled",{replacement:"selectionMode, dragEnabled",version:"4.29",warnOnce:!0}),"none"!==this.selectionMode&&this.dragEnabled},set:function(e){(0,d.Mr)(p.Z.getLogger(this),"selectionEnabled",{replacement:"selectionMode, dragEnabled",version:"4.29",warnOnce:!0}),this.dragEnabled=e,this.selectionMode=e?this.multipleSelectionEnabled?"multiple":"single":"none"}},{key:"tableItems",get:function(){return this.viewModel.tableItems}},{key:"tables",get:function(){return this.viewModel.tables},set:function(e){this.viewModel.tables=e}},{key:"triggerAction",value:function(e,t){return this.viewModel.triggerAction(e,t)}},{key:"render",value:function(){var e,t,n,o=this,l=null===(e=this.viewModel)||void 0===e?void 0:e.state,r=(t={},(0,i.Z)(t,g.z.hidden,"loading"===l),(0,i.Z)(t,g.z.disabled,"disabled"===l),t),a=null===(n=this.tableItems)||void 0===n?void 0:n.filter((function(e){return!e.hidden&&(o.visibleElements.errors||!e.error)}));return(0,k.u)("div",{class:this.classes(M.base,g.z.widget,g.z.panel,r)},null!==a&&void 0!==a&&a.length?this._renderItems(a):this._renderNoItems())}},{key:"_renderNoItemsMessage",value:function(){return(0,k.u)("div",{slot:"message"},this.messages.noItemsToDisplay)}},{key:"_renderNoItems",value:function(){return(0,k.u)("div",{class:M.itemMessage,key:"esri-layer-list__no-items"},(0,k.u)("calcite-notice",{icon:"information",kind:"info",open:!0,width:"full"},this._renderNoItemsMessage()))}},{key:"_renderPanelFlowItems",value:function(e){var t=this;return null===e||void 0===e?void 0:e.toArray().filter((function(e){var t=e.panel;return(null===t||void 0===t?void 0:t.open)&&!t.disabled&&t.flowEnabled})).map((function(e){var n=e.title,i=e.panel,o=function(){return t._handlePanelFlowItemBack(i)};return(0,k.u)("calcite-flow-item",{afterCreate:t._focusPanelFlowItemNode,afterUpdate:t._focusPanelFlowItemNode,bind:t,description:n,heading:i.title,headingLevel:t.headingLevel,key:"flow-panel-".concat(i.uid),onCalciteFlowItemBack:function(e){e.preventDefault(),o()}},i.render(),(0,k.u)("calcite-button",{appearance:"transparent",onclick:o,slot:"footer-actions",width:"full"},t.messagesCommon.back))}))}},{key:"_handlePanelFlowItemBack",value:function(e){e.open=!1,this._focusRootFlowItem=!0}},{key:"_focusRootFlowItemNode",value:function(e){this._focusRootFlowItem&&(this._focusRootFlowItem=!1,requestAnimationFrame((function(){return null===e||void 0===e?void 0:e.setFocus()})))}},{key:"_focusPanelFlowItemNode",value:function(e){this._focusPanelFlowItem&&(this._focusPanelFlowItem=!1,requestAnimationFrame((function(){return null===e||void 0===e?void 0:e.setFocus()})))}},{key:"_renderItems",value:function(e){var t=this,n=this.visible,i=this.collapsed,o=this.visibleElements,l=o.closeButton,r=o.collapseButton,a=o.heading,s=o.flow,u=this._dragEnabled,c=this._filterEnabled,d=this._rootGroupUid,v=this.selectionMode,p=this.messages,m=this.filterPlaceholder,f=this.filterText,h=[(0,k.u)("calcite-flow-item",{afterCreate:this._focusRootFlowItemNode,afterUpdate:this._focusRootFlowItemNode,bind:this,closable:l,closed:!n,collapsed:i,collapsible:r,heading:a?p.widgetLabel:void 0,headingLevel:this.headingLevel,key:"root-flow-item",onCalciteFlowItemClose:function(){return t.visible=!1}},(0,k.u)("calcite-list",{canPull:function(e){return t._canMove(e,"pull")},canPut:function(e){return t._canMove(e,"put")},"data-layer-type":d,dragEnabled:u,filterEnabled:c,filterPlaceholder:m,filterText:c?f:"",group:d,key:"root-list",label:p.widgetLabel,selectionAppearance:"border",selectionMode:v,onCalciteListChange:function(e){return t._handleCalciteListChange(e)},onCalciteListDragEnd:function(e){return t._handleCalciteListDragEnd(e.detail)},onCalciteListFilter:function(e){var n,i;return t.filterText=null!==(n=null===(i=e.target)||void 0===i?void 0:i.filterText)&&void 0!==n?n:""},onCalciteListOrderChange:function(e){return t._onCalciteListOrderChange(e.detail)}},null===e||void 0===e?void 0:e.toArray().map((function(e){return t._renderItem(e)})),null!==e&&void 0!==e&&e.length&&c?(0,k.u)("div",{class:M.filterNoResults,slot:"filter-no-results"},(0,k.u)("calcite-notice",{kind:"info",open:!0,width:"full"},this._renderNoItemsMessage())):null)),this._renderPanelFlowItems(e)];return n?s?(0,k.u)("calcite-flow",{key:"root-flow"},h):h:null}},{key:"_handleCalciteListDragEnd",value:function(e){var t=e.fromEl,n=e.dragEl,i=e.oldIndex;t.insertBefore(n,t.children[i])}},{key:"_renderItemMessage",value:function(e){return e.error?(0,k.u)("div",{class:M.itemMessage,key:"esri-layer-list__error",slot:"content-bottom"},(0,k.u)("calcite-notice",{icon:"exclamation-mark-triangle",kind:"warning",open:!0,scale:"s",width:"full"},(0,k.u)("div",{slot:"message"},this.messages.tableError))):null}},{key:"_renderItem",value:function(e){var t,n,i=this,o=this._selectedDragItemLayerUid,l=this.selectionMode,r=this.selectedItems,a=this.messages,s=e.title||a.untitledTable,u=this._filterActions(e.actionsSections),c=this._countActions(u);return(0,k.u)("calcite-list-item",{afterCreate:function(t){return i._focusSelectedDragEl(t,e)},afterUpdate:function(t){return i._focusSelectedDragEl(t,e)},class:M.item,"data-item":e,"data-layer-id":e.layer.id,dragDisabled:!e.sortable,dragSelected:e.layer.uid===o,id:null===(t=e.layer)||void 0===t?void 0:t.uid,key:"list-item-".concat(e.layer.uid),label:s,metadata:{title:s},selected:"none"!==l&&r.includes(e),title:s,value:null===(n=e.layer)||void 0===n?void 0:n.uid,onCalciteListItemDragHandleChange:function(t){return i._handleCalciteListItemDragHandleChange(t,e)}},(0,k.u)("div",{class:M.itemContent,slot:"content"},s),this._renderItemStatus(e),this._renderItemTemporaryIcon(e),this._renderItemMessage(e),this._renderPanel(e.panel),this._renderPanelAction(e.panel),c>1?this._renderActionsSections(e,u):1===c?this._renderAction({item:e,action:this._getSingleAction(u),textEnabled:!1}):null)}},{key:"_renderItemTemporaryIcon",value:function(e){return this.visibleElements.temporaryTableIndicators&&!e.layer.persistenceEnabled?(0,k.u)("calcite-icon",{class:M.itemTemporaryIcon,icon:"temporary",key:"temporary-icon",scale:"s",slot:"actions-start",title:this.messages.temporary}):null}},{key:"_renderItemStatus",value:function(e){var t;if(!this.visibleElements.statusIndicators)return null;var n=e.publishing;return(0,k.u)("calcite-icon",{class:this.classes((t={},(0,i.Z)(t,M.statusIndicator,!0),(0,i.Z)(t,M.publishing,n),t)),icon:"stop-square",key:"layer-item-status",scale:"s",slot:"actions-end"})}},{key:"_renderPanel",value:function(e){return null===e||void 0===e||!e.open||e.disabled||e.flowEnabled?null:(0,k.u)("div",{class:M.itemContentBottom,key:"content-panel-".concat(e.uid),slot:"content-bottom"},e.render())}},{key:"_renderPanelAction",value:function(e){var t=this;if(null===e||void 0===e||!e.visible)return null;var n=e.open,i=e.title,o=e.disabled;return(0,k.u)("calcite-action",{active:n,appearance:"transparent",disabled:o,icon:(0,h.mR)(e),key:"action-".concat(e.uid),onclick:function(){return t._togglePanel(e)},scale:"s",slot:"actions-end",text:null!==i&&void 0!==i?i:"",title:null!==i&&void 0!==i?i:void 0},this._renderFallbackIcon(e))}},{key:"_renderActionsSections",value:function(e,t){var n=this,i=this.messagesCommon.options;return(0,k.u)("calcite-action-menu",{appearance:"transparent",class:M.actionMenu,key:"item-action-menu",label:this.messagesCommon.menu,open:e.actionsOpen,overlayPositioning:"fixed",placement:"bottom-end",scale:"s",slot:"actions-end",onCalciteActionMenuOpen:function(t){return e.actionsOpen=t.target.open}},(0,k.u)("calcite-action",{appearance:"transparent",icon:"ellipsis",scale:"s",slot:"trigger",text:i,title:i}),t.toArray().map((function(t,i){return n._renderActionSection(e,t,i)})))}},{key:"_renderActionSection",value:function(e,t,n){var i=this;return(0,k.u)("calcite-action-group",{class:M.actionGroup,key:"action-section-".concat(n)},t.toArray().map((function(t){return i._renderAction({item:e,action:t,textEnabled:!0})})))}},{key:"_renderFallbackIcon",value:function(e){var t,n=e.className;if(e.icon)return null;var o="image"in e?e.image:void 0,l=(t={},(0,i.Z)(t,M.itemActionIcon,!!n),(0,i.Z)(t,M.itemActionImage,!!o),t);return n&&(l[n]=!0),o||n?(0,k.u)("span",{"aria-hidden":"true",class:this.classes(M.itemActionIcon,l),key:"icon",styles:(0,h.uS)(o)}):null}},{key:"_renderAction",value:function(e){var t=this,n=e.item,i=e.action,o=e.textEnabled;if(!i)return null;var l=i.active,r=i.disabled,a=i.title,s=i.type,u=i.indicator;return(0,k.u)("calcite-action",{active:"toggle"===s&&i.value,appearance:"transparent",disabled:r,icon:(0,h.mR)(i),indicator:u,key:"action-".concat(i.uid),loading:l,onclick:function(){return t._triggerAction(n,i)},scale:"s",slot:o?void 0:"actions-end",text:null!==a&&void 0!==a?a:"",textEnabled:o,title:null!==a&&void 0!==a?a:void 0},this._renderFallbackIcon(i))}},{key:"_filterActions",value:function(e){return e.map((function(e){return e.filter((function(e){return e.visible}))}))}},{key:"_getSingleAction",value:function(e){return e.reduce((function(e){return e})).find((function(e){return e&&("button"===e.type||"toggle"===e.type)}))}},{key:"_countActions",value:function(e){return e.reduce((function(e,t){return e+t.length}),0)}},{key:"_focusSelectedDragEl",value:function(e,t){this._selectedDragItemLayerUid===t.layer.uid&&requestAnimationFrame((function(){return null===e||void 0===e?void 0:e.setFocus()}))}},{key:"_handleCalciteListItemDragHandleChange",value:function(e,t){e.stopPropagation();var n=e.target.dragSelected;this._selectedDragItemLayerUid=n?t.layer.uid:null}},{key:"_handleCalciteListChange",value:function(e){var t=this.selectionMode,n=this.selectedItems;if("none"!==t){var i=e.target.selectedItems.map((function(e){return X(e)})).filter(Boolean);n.removeAll(),n.addMany(i)}}},{key:"_togglePanel",value:function(e){e.open=!e.open,e.open&&(this._focusPanelFlowItem=!0)}},{key:"_triggerAction",value:function(e,t){t&&e&&("toggle"===t.type&&(t.value=!t.value),this.triggerAction(t,e))}}]),u}((0,v.IG)(b.Z));(0,u._)([(0,m.Cb)()],$.prototype,"_focusRootFlowItem",void 0),(0,u._)([(0,m.Cb)()],$.prototype,"_focusPanelFlowItem",void 0),(0,u._)([(0,m.Cb)()],$.prototype,"_dragEnabled",null),(0,u._)([(0,m.Cb)()],$.prototype,"_filterEnabled",null),(0,u._)([(0,m.Cb)()],$.prototype,"collapsed",void 0),(0,u._)([(0,m.Cb)()],$.prototype,"dragEnabled",void 0),(0,u._)([(0,m.Cb)()],$.prototype,"filterPlaceholder",void 0),(0,u._)([(0,m.Cb)()],$.prototype,"filterText",void 0),(0,u._)([(0,m.Cb)()],$.prototype,"headingLevel",void 0),(0,u._)([(0,m.Cb)()],$.prototype,"icon",null),(0,u._)([(0,m.Cb)()],$.prototype,"label",null),(0,u._)([(0,m.Cb)()],$.prototype,"listItemCanGiveFunction",void 0),(0,u._)([(0,m.Cb)()],$.prototype,"listItemCanReceiveFunction",void 0),(0,u._)([(0,m.Cb)()],$.prototype,"listItemCreatedFunction",null),(0,u._)([(0,m.Cb)()],$.prototype,"map",null),(0,u._)([(0,m.Cb)(),(0,I.H)("esri/widgets/TableList/t9n/TableList")],$.prototype,"messages",void 0),(0,u._)([(0,m.Cb)(),(0,I.H)("esri/t9n/common")],$.prototype,"messagesCommon",void 0),(0,u._)([(0,m.Cb)()],$.prototype,"minDragEnabledItems",void 0),(0,u._)([(0,m.Cb)()],$.prototype,"minFilterItems",void 0),(0,u._)([(0,m.Cb)()],$.prototype,"multipleSelectionEnabled",null),(0,u._)([(0,m.Cb)()],$.prototype,"selectionEnabled",null),(0,u._)([(0,m.Cb)()],$.prototype,"selectedItems",void 0),(0,u._)([(0,m.Cb)()],$.prototype,"selectionMode",void 0),(0,u._)([(0,m.Cb)({readOnly:!0})],$.prototype,"tableItems",null),(0,u._)([(0,m.Cb)()],$.prototype,"tables",null),(0,u._)([(0,C.s)("trigger-action"),(0,m.Cb)({type:K})],$.prototype,"viewModel",void 0),(0,u._)([(0,m.Cb)({type:J,nonNullable:!0})],$.prototype,"visibleElements",void 0);var ee=$=(0,u._)([(0,f.j)("esri.widgets.TableList")],$)}}]);
//# sourceMappingURL=58904.ba226420.chunk.js.map