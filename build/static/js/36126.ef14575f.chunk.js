"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[36126],{15909:function(e,r,t){t.d(r,{D:function(){return a}});var n=t(80292);function a(e){(null===e||void 0===e?void 0:e.writtenProperties)&&e.writtenProperties.forEach((function(e){var r=e.target,t=e.propName,a=e.newOrigin;(0,n.l)(r)&&a&&r.originOf(t)!==a&&r.updateOrigin(t,a)}))}},80292:function(e,r,t){function n(e){return e&&"getAtOrigin"in e&&"originOf"in e}t.d(r,{l:function(){return n}})},36126:function(e,r,t){t.r(r),t.d(r,{save:function(){return v},saveAs:function(){return h}});var n=t(74165),a=t(15861),o=t(65286),i=t(73117),u="Stream Service",s="Feed",c="stream-layer-save",l="stream-layer-save-as";function p(e){return{isValid:"stream"===e.type&&!!e.url&&!e.webSocketUrl,errorMessage:"Stream layer should be created using a url to a stream service"}}function f(e){var r=e.layerJSON;return Promise.resolve(r&&Object.keys(r).length?r:null)}function d(e,r){return m.apply(this,arguments)}function m(){return m=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,o,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.parsedUrl,o=r.title,u=r.fullExtent,t.url=a.path,t.title||(t.title=o),t.extent=null,e.t0=null!=u,!e.t0){e.next=9;break}return e.next=8,(0,i.$o)(u);case 8:t.extent=e.sent;case 9:(0,i.ck)(t,i.hz.METADATA),(0,i.qj)(t,i.hz.SINGLE_LAYER);case 11:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function v(e,r){return y.apply(this,arguments)}function y(){return(y=(0,a.Z)((0,n.Z)().mark((function e(r,t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.a1)({layer:r,itemType:u,additionalItemType:s,validateLayer:p,createItemData:f,errorNamePrefix:c},t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,r,t){return w.apply(this,arguments)}function w(){return(w=(0,a.Z)((0,n.Z)().mark((function e(r,t,a){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.po)({layer:r,itemType:u,validateLayer:p,createItemData:f,errorNamePrefix:l,newItem:t,setItemProperties:d},a));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},65286:function(e,r,t){t.d(r,{DC:function(){return m},Nw:function(){return g},UY:function(){return I},V3:function(){return b},Ym:function(){return Z},a1:function(){return N},jX:function(){return P},po:function(){return O},uT:function(){return x},xG:function(){return h}});var n=t(74165),a=t(1413),o=t(15861),i=t(10064),u=t(15909),s=t(7575),c=t(98995),l=t(32698),p=t(73117),f=t(76926),d=t(9634);function m(e,r,t){var n=t(e);if(!n.isValid)throw new i.Z("".concat(r,":invalid-parameters"),n.errorMessage,{layer:e})}function v(e){return y.apply(this,arguments)}function y(){return(y=(0,o.Z)((0,n.Z)().mark((function e(r){var t,a,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.layer,a=r.errorNamePrefix,o=r.validateLayer,e.next=3,t.load();case 3:m(t,a,o);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,r){return"Layer (title: ".concat(e.title,", id: ").concat(e.id,") of type '").concat(e.declaredClass,"' ").concat(r)}function w(e){var r=e.item,t=e.errorNamePrefix,n=e.layer,a=e.validateItem;if((0,f.w)(r),function(e){var r=e.item,t=e.itemType,n=e.additionalItemType,a=e.errorNamePrefix,o=e.layer,u=[t];if(n&&u.push(n),!u.includes(r.type)){var s=u.map((function(e){return"'".concat(e,"'")})).join(", ");throw new i.Z("".concat(a,":portal-item-wrong-type"),'Portal item type should be one of: "'.concat(s,'"'),{item:r,layer:o})}}(e),a){var o=a(r);if(!o.isValid)throw new i.Z("".concat(t,":invalid-parameters"),o.errorMessage,{layer:n})}}function Z(e){var r=e.layer,t=e.errorNamePrefix,n=r.portalItem;if(!n)throw new i.Z("".concat(t,":portal-item-not-set"),h(r,"requires the portalItem property to be set"));if(!n.loaded)throw new i.Z("".concat(t,":portal-item-not-loaded"),h(r,"cannot be saved to a portal item that does not exist or is inaccessible"));w((0,a.Z)((0,a.Z)({},e),{},{item:n}))}function x(e){var r,t,n,o,i=e.newItem,u=e.itemType,l=c.default.from(i);return l.id&&((l=l.clone()).id=null),null!==(t=(r=l).type)&&void 0!==t||(r.type=u),null!==(o=(n=l).portal)&&void 0!==o||(n.portal=s.Z.getDefault()),w((0,a.Z)((0,a.Z)({},e),{},{item:l})),l}function b(e){return(0,l.Y)(e,"portal-item")}function g(e,r,t){return k.apply(this,arguments)}function k(){return(k=(0,o.Z)((0,n.Z)().mark((function e(r,t,a){var o,i,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="beforeSave"in r&&"function"==typeof r.beforeSave,!e.t0){e.next=4;break}return e.next=4,r.beforeSave();case 4:return u=r.write({},t),e.next=7,Promise.all(null!==(o=null===(i=t.resources)||void 0===i?void 0:i.pendingOperations)&&void 0!==o?o:[]);case 7:return(0,d.z)(t,{errorName:"layer-write:unsupported"},a),e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){(0,p.qj)(e,p.hz.JSAPI),e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter((function(e,r,t){return t.indexOf(e)===r})))}function P(e,r,t){return S.apply(this,arguments)}function S(){return(S=(0,o.Z)((0,n.Z)().mark((function e(r,t,a){var o,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.portal,e.next=3,i.signIn();case 3:return e.next=5,null===(o=i.user)||void 0===o?void 0:o.addItem({item:r,data:t,folder:null===a||void 0===a?void 0:a.folder});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,r){return U.apply(this,arguments)}function U(){return U=(0,o.Z)((0,n.Z)().mark((function e(r,t){var o,i,s,c,l,p,f,d,m,y;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.layer,i=r.createItemData,s=r.createJSONContext,c=r.setItemProperties,l=r.saveResources,p=r.supplementalUnsupportedErrors,e.next=3,v(r);case 3:return Z(r),f=o.portalItem,d=s?s(f):b(f),e.next=8,g(o,d,(0,a.Z)((0,a.Z)({},t),{},{supplementalUnsupportedErrors:p}));case 8:return m=e.sent,e.next=11,i({layer:o,layerJSON:m},f);case 11:return y=e.sent,e.next=14,null===c||void 0===c?void 0:c(o,f);case 14:return I(f),e.next=17,f.update({data:y});case 17:return(0,u.D)(d),e.next=20,null===l||void 0===l?void 0:l(f,d);case 20:return e.abrupt("return",f);case 21:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}function O(e,r){return D.apply(this,arguments)}function D(){return D=(0,o.Z)((0,n.Z)().mark((function e(r,t){var o,i,s,c,l,p,f,d,m,y;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.layer,i=r.createItemData,s=r.createJSONContext,c=r.setItemProperties,l=r.saveResources,p=r.supplementalUnsupportedErrors,e.next=3,v(r);case 3:return f=x(r),d=s?s(f):b(f),e.next=7,g(o,d,(0,a.Z)((0,a.Z)({},t),{},{supplementalUnsupportedErrors:p}));case 7:return m=e.sent,e.next=10,i({layer:o,layerJSON:m},f);case 10:return y=e.sent,e.next=13,c(o,f);case 13:return I(f),e.next=16,P(f,y,t);case 16:return o.portalItem=f,(0,u.D)(d),e.next=20,null===l||void 0===l?void 0:l(f,d);case 20:return e.abrupt("return",f);case 21:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}},32698:function(e,r,t){t.d(r,{Y:function(){return u},h:function(){return i}});var n=t(1413),a=t(35995),o=t(7575);function i(e,r){return(0,n.Z)((0,n.Z)({},s(e,r)),{},{readResourcePaths:[]})}function u(e,r,t){var o=(0,a.mN)(e.itemUrl);return(0,n.Z)((0,n.Z)({},s(e,r)),{},{messages:[],writtenProperties:[],blockedRelativeUrls:[],verifyItemRelativeUrls:o?{rootPath:o.path,writtenUrls:[]}:null,resources:t?{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}:null})}function s(e,r){return{origin:r,url:(0,a.mN)(e.itemUrl),portal:e.portal||o.Z.getDefault(),portalItem:e}}},76926:function(e,r,t){t.d(r,{w:function(){return i}});var n=t(42265),a=t(10064),o=t(66660);function i(e){if(n.Z.apiKey&&(0,o.r)(e.portal.url))throw new a.Z("save-api-key-utils:api-key-not-supported","Saving is not supported on ".concat(e.portal.url," when using an api key"))}},9634:function(e,r,t){t.d(r,{P:function(){return u},z:function(){return l}});var n=t(74165),a=t(37762),o=t(15861),i=t(10064);function u(e){return s.apply(this,arguments)}function s(){return s=(0,o.Z)((0,n.Z)().mark((function e(r){var t,o,i,u,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],o=(0,a.Z)(r.allLayers);try{for(o.s();!(i=o.n()).done;)"beforeSave"in(u=i.value)&&"function"==typeof u.beforeSave&&(s=u.beforeSave())&&t.push(s)}catch(n){o.e(n)}finally{o.f()}return e.next=5,Promise.allSettled(t);case 5:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}var c=new Set(["layer:unsupported","property:unsupported","symbol:unsupported","symbol-layer:unsupported","url:unsupported"]);function l(e,r,t){var n,a=(null!==(n=e.messages)&&void 0!==n?n:[]).filter((function(e){return"error"===e.type})).map((function(e){var r=e.name,t=e.message,n=e.details;return new i.Z(r,t,n)}));if(e.blockedRelativeUrls&&(a=a.concat(e.blockedRelativeUrls.map((function(e){return new i.Z("url:unsupported","Relative url '".concat(e,"' is not supported"))})))),t){var o=t.ignoreUnsupported,u=t.supplementalUnsupportedErrors,s=void 0===u?[]:u,l=t.requiredPropertyChecksDisabled;o&&(a=a.filter((function(e){var r=e.name;return!(c.has(r)||s.includes(r))}))),l&&(a=a.filter((function(e){return"web-document-write:property-required"!==e.name})))}if(a.length>0)throw new i.Z(r.errorName,"Failed to save due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:a})}}}]);
//# sourceMappingURL=36126.ef14575f.chunk.js.map