"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[87813],{51750:function(t,e,n){n.d(e,{L:function(){return i},v:function(){return r}});var r=15.5,i=1024},84328:function(t,e,n){n.d(e,{Ht:function(){return r},QS:function(){return u},jL:function(){return o}});var r=8388607,i=8388608,o=function(t){return t&r};function u(t,e){return((e?i:0)|t)>>>0}},73325:function(t,e,n){n.d(e,{yu:function(){return B},XB:function(){return G},Qt:function(){return J},ri:function(){return Y},oo:function(){return Q},Pz:function(){return j},Ou:function(){return q},qH:function(){return H},xh:function(){return E},Kw:function(){return L},e5:function(){return R}});var r=n(4942),i=n(1413),o=n(29439),u=n(37762),a=n(93433),c=n(43144),s=n(15671),l=n(27366),f=(n(93169),n(32718)),v=n(643),h=n(60136),p=n(29388),d=n(10064),y=n(99340),m=n(97731),g=function(){function t(){(0,s.Z)(this,t),this._includedModules=new Map}return(0,c.Z)(t,[{key:"include",value:function(t,e){this._includedModules.has(t)?this._includedModules.get(t):(this._includedModules.set(t,e),t(this.builder,e))}}]),t}(),b=function(t){(0,h.Z)(n,t);var e=(0,p.Z)(n);function n(){var t;return(0,s.Z)(this,n),(t=e.apply(this,arguments)).vertex=new w,t.fragment=new w,t.attributes=new k,t.varyings=new x,t.extensions=new S,t.constants=new V,t}return(0,c.Z)(n,[{key:"fragmentUniforms",get:function(){return this.fragment.uniforms.entries}},{key:"builder",get:function(){return this}},{key:"generate",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.extensions.generateSource(t),r=this.attributes.generateSource(t),i=this.varyings.generateSource(t),o="vertex"===t?this.vertex:this.fragment,u=o.uniforms.generateSource(),a=o.code.generateSource(),c="vertex"===t?I:T(e),s=this.constants.generateSource().concat(o.constants.generateSource());return"".concat(e?"#version 300 es":"","\n").concat(n.join("\n"),"\n").concat(c,"\n").concat(s.join("\n"),"\n").concat(u.join("\n"),"\n").concat(r.join("\n"),"\n").concat(i.join("\n"),"\n").concat(a.join("\n"))}},{key:"generateBindPass",value:function(t){var e=new Map;this.vertex.uniforms.entries.forEach((function(t){var n=t.bind[y.P.Pass];n&&e.set(t.name,n)})),this.fragment.uniforms.entries.forEach((function(t){var n=t.bind[y.P.Pass];n&&e.set(t.name,n)}));var n=Array.from(e.values()),r=n.length;return function(e,i){for(var o=0;o<r;++o)n[o](t,e,i)}}},{key:"generateBindDraw",value:function(t){var e=new Map;this.vertex.uniforms.entries.forEach((function(t){var n=t.bind[y.P.Draw];n&&e.set(t.name,n)})),this.fragment.uniforms.entries.forEach((function(t){var n=t.bind[y.P.Draw];n&&e.set(t.name,n)}));var n=Array.from(e.values()),r=n.length;return function(e,i,o){for(var u=0;u<r;++u)n[u](t,e,i,o)}}}]),n}(g),Z=function(){function t(){(0,s.Z)(this,t),this._entries=new Map}return(0,c.Z)(t,[{key:"add",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];this._add(o)}}},{key:"get",value:function(t){return this._entries.get(t)}},{key:"_add",value:function(t){if(null!=t){if(this._entries.has(t.name)&&!this._entries.get(t.name).equals(t))throw new d.Z("Duplicate uniform name ".concat(t.name," for different uniform type"));this._entries.set(t.name,t)}else f.Z.getLogger("esri.views.3d.webgl-engine.core.shaderModules.shaderBuilder").error("Trying to add null Uniform from ".concat((new Error).stack,"."))}},{key:"generateSource",value:function(){return Array.from(this._entries.values()).map((function(t){return null!=t.arraySize?"uniform ".concat(t.type," ").concat(t.name,"[").concat(t.arraySize,"];"):"uniform ".concat(t.type," ").concat(t.name,";")}))}},{key:"entries",get:function(){return Array.from(this._entries.values())}}]),t}(),_=function(){function t(){(0,s.Z)(this,t),this._entries=new Array}return(0,c.Z)(t,[{key:"add",value:function(t){this._entries.push(t)}},{key:"generateSource",value:function(){return this._entries}}]),t}(),w=function(t){(0,h.Z)(n,t);var e=(0,p.Z)(n);function n(){var t;return(0,s.Z)(this,n),(t=e.apply(this,arguments)).uniforms=new Z,t.code=new _,t.constants=new V,t}return(0,c.Z)(n,[{key:"builder",get:function(){return this}}]),n}(g),k=function(){function t(){(0,s.Z)(this,t),this._entries=new Array}return(0,c.Z)(t,[{key:"add",value:function(t,e){this._entries.push([t,e])}},{key:"generateSource",value:function(t){return"fragment"===t?[]:this._entries.map((function(t){return"in ".concat(t[1]," ").concat(t[0],";")}))}}]),t}(),x=function(){function t(){(0,s.Z)(this,t),this._entries=new Map}return(0,c.Z)(t,[{key:"add",value:function(t,e){this._entries.has(t)&&(0,m.hu)(this._entries.get(t)===e),this._entries.set(t,e)}},{key:"generateSource",value:function(t){var e=new Array;return this._entries.forEach((function(n,r){return e.push("vertex"===t?"out ".concat(n," ").concat(r,";"):"in ".concat(n," ").concat(r,";"))})),e}}]),t}(),S=function(){function t(){(0,s.Z)(this,t),this._entries=new Set}return(0,c.Z)(t,[{key:"add",value:function(t){this._entries.add(t)}},{key:"generateSource",value:function(e){var n="vertex"===e?t.ALLOWLIST_VERTEX:t.ALLOWLIST_FRAGMENT;return Array.from(this._entries).filter((function(t){return n.includes(t)})).map((function(t){return"#extension ".concat(t," : enable")}))}}]),t}();S.ALLOWLIST_FRAGMENT=["GL_EXT_shader_texture_lod","GL_OES_standard_derivatives"],S.ALLOWLIST_VERTEX=[];var V=function(){function t(){(0,s.Z)(this,t),this._entries=new Set}return(0,c.Z)(t,[{key:"add",value:function(e,n,r){var i="ERROR_CONSTRUCTOR_STRING";switch(n){case"float":i=t._numberToFloatStr(r);break;case"int":i=t._numberToIntStr(r);break;case"bool":i=r.toString();break;case"vec2":i="vec2(".concat(t._numberToFloatStr(r[0]),",                            ").concat(t._numberToFloatStr(r[1]),")");break;case"vec3":i="vec3(".concat(t._numberToFloatStr(r[0]),",                            ").concat(t._numberToFloatStr(r[1]),",                            ").concat(t._numberToFloatStr(r[2]),")");break;case"vec4":i="vec4(".concat(t._numberToFloatStr(r[0]),",                            ").concat(t._numberToFloatStr(r[1]),",                            ").concat(t._numberToFloatStr(r[2]),",                            ").concat(t._numberToFloatStr(r[3]),")");break;case"ivec2":i="ivec2(".concat(t._numberToIntStr(r[0]),",                             ").concat(t._numberToIntStr(r[1]),")");break;case"ivec3":i="ivec3(".concat(t._numberToIntStr(r[0]),",                             ").concat(t._numberToIntStr(r[1]),",                             ").concat(t._numberToIntStr(r[2]),")");break;case"ivec4":i="ivec4(".concat(t._numberToIntStr(r[0]),",                             ").concat(t._numberToIntStr(r[1]),",                             ").concat(t._numberToIntStr(r[2]),",                             ").concat(t._numberToIntStr(r[3]),")");break;case"mat2":case"mat3":case"mat4":i="".concat(n,"(").concat(Array.prototype.map.call(r,(function(e){return t._numberToFloatStr(e)})).join(", "),")")}return this._entries.add("const ".concat(n," ").concat(e," = ").concat(i,";")),this}},{key:"generateSource",value:function(){return Array.from(this._entries)}}],[{key:"_numberToIntStr",value:function(t){return t.toFixed(0)}},{key:"_numberToFloatStr",value:function(t){return Number.isInteger(t)?t.toFixed(1):t.toString()}}]),t}();function T(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n  precision highp sampler2D;\n#else\n  precision mediump float;\n  precision mediump sampler2D;\n#endif\n".concat(t?"out vec4 fragColor;":"","\n")}var I="precision highp float;\nprecision highp sampler2D;",U=n(52995);function N(t,e,n){var r,i=e.split("\n"),o=(0,u.Z)(i);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.trim().length){var c="";null!=n&&(c+="/*id:".concat(null!==n&&void 0!==n?n:"000","*/   ")),t.body+=c.padEnd(14),t.body+=" ".repeat(t.indent)+a+"\n"}}}catch(s){o.e(s)}finally{o.f()}}var z=function(){function t(){(0,s.Z)(this,t)}return(0,c.Z)(t,[{key:"write",value:function(t){var e,n=(0,u.Z)(t.rootOutputNodes());try{for(n.s();!(e=n.n()).done;){var r=e.value;t.shouldPruneOutputNode(r)||(r.variableName=this._write(t,r.node))}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"_createVarName",value:function(t,e){var n="";return"boolean"!=typeof e&&"number"!=typeof e&&e.debugInfo.name&&(n="".concat(e.debugInfo.name,"_")),"".concat(n,"v").concat(t.varCount++)}},{key:"_write",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("number"==typeof e)return e.toString();if("boolean"==typeof e)return e.toString();var r=t.getEmit(e);if(r)return r;switch(e.shaderType){case"scope-node":r=this._writeScopeNode(t,e);break;case"primitive-node":r=this._writePrimitiveNode(t,e,n);break;case"function-node":r=this._writeFunctionNode(t,e);break;case"property-access-node":r=this._writePropertyAccessNode(t,e);break;case"text-node":r=e.text;break;case"block-node":r=this._writeBlockNode(t,e);break;case"condition-node":r=this._writeConditionNode(t,e)}return t.setEmit(e,r),r}},{key:"_writeScopeNode",value:function(t,e){var n=new e.child.constructor;n.setDebugName(e.debugInfo.name);var r=this._write(t,n,!0);return N(t,"{ /*ScopeStart: ".concat(e.uid," ").concat(e.debugInfo.name,"*/")),t.indent+=2,N(t,"".concat(r," = ").concat(this._write(t,e.child),";")),t.indent-=2,N(t,"} /*ScopeEnd: ".concat(e.uid," ").concat(e.debugInfo.name,"*/")),r}},{key:"_writeConditionNode",value:function(t,e){var n=new e.ifTrue.constructor,r=this._write(t,n,!0);N(t,"if (".concat(this._write(t,e.condition),") {")),t.indent+=2;var i=t.createSubgraphContext(),o=this._write(i,e.ifTrue);if(t.body+=i.body,o&&N(t,"".concat(r," = ").concat(o,";")),t.indent-=2,N(t,"}"),e.ifFalse){N(t,"else {"),t.indent+=2;var u=t.createSubgraphContext(),a=this._write(u,e.ifFalse);t.body+=u.body,a&&N(t,"".concat(r," = ").concat(a,";")),t.indent-=2,N(t,"}")}return r}},{key:"_writeBlockNode",value:function(t,e){var n=e.captureList,r=e.generator,i=e.returnType,o={};for(var u in n)if(n[u]){var a=this._write(t,n[u]);o[u]=a}var c=new i,s=this._write(t,c,!0);if(o.out=s,e.subgraph){var l=t.createSubgraphContext(),f=this._write(l,e.subgraph.child),v=l.body;o.subgraph={varName:f,body:v}}var h=r(o);return N(t,"{\n"),t.indent+=2,N(t,h),t.indent-=2,N(t,"}\n"),s}},{key:"_writePropertyAccessNode",value:function(t,e){var n=this._write(t,e.target);return"string"==typeof e.property&&e.property.includes("[")?"".concat(n).concat(e.property):"string"!=typeof e.property?"".concat(n,"[").concat(this._write(t,e.property),"]"):"".concat(n,".").concat(e.property)}},{key:"_writeFunctionNode",value:function(t,e){var n=this,r=e.returnType.type;if(e.isInfix){var i=e.children.map((function(e){return n._write(t,e)})),u=(0,o.Z)(i,2),a=u[0],c=u[1],s=this._createVarName(t,e);return N(t,"".concat(r.padEnd(5)," ").concat(s," = ").concat(a," ").concat(e.token," ").concat(c,";"),e.uid),s}var l=e.children.map((function(e){return n._write(t,e)})).join(", "),f=this._createVarName(t,e);return N(t,"".concat(r.padEnd(5)," ").concat(f," = ").concat(e.token,"(").concat(l,");"),e.uid),f}},{key:"_writePrimitiveNode",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.getInput(e);if(o)return o.isUsed=!0,o.variableName;var u=1===e.children.length&&(null===(n=e.children[0])||void 0===n?void 0:n.type)===e.type;if(e.isImplicit||u)return this._write(t,e.children[0]);var a=this._createVarName(t,e);if(i)return N(t,"".concat(e.type.padEnd(5)," ").concat(a,";"),e.uid),a;var c=!e.debugInfo.name&&!e.isMutable;if(c&&"float"===e.type&&"number"==typeof e.children[0])return Number.isInteger(e.children[0])?e.children[0].toFixed(1):e.children[0].toString();if(c&&"int"===e.type&&"number"==typeof e.children[0]&&Number.isInteger(e.children[0]))return e.children[0].toString();var s=e.children.map((function(e){return r._write(t,e)})).join(", ");return"array"===e.type?(N(t,"".concat(e.type.padEnd(5)," ").concat(a," = [").concat(s,"];"),e.uid),a):c?"".concat(e.type,"(").concat(s,")"):(N(t,"".concat(e.type.padEnd(5)," ").concat(a," = ").concat(e.type,"(").concat(s,");"),e.uid),a)}}]),t}(),C=n(74165),O=n(23105),F=function(){function t(e,n,r){(0,s.Z)(this,t),this.variableName=e,this.variableInputType=n,this.node=r,this.type="shader-input",this.isUsed=!1}return(0,c.Z)(t,[{key:"clone",value:function(){return new t(this.variableName,this.variableInputType,(0,O.UV)(this.node))}}]),t}(),D=function(){function t(e,n,r){(0,s.Z)(this,t),this.outVariableName=e,this.outVariableType=n,this.node=r,this.type="shader-output"}return(0,c.Z)(t,[{key:"clone",value:function(){var e=new t(this.outVariableName,this.outVariableType,(0,O.UV)(this.node));return e.variableName=this.variableName,e}}]),t}(),A=function(){function t(e,n,r,i){(0,s.Z)(this,t),this.type="shader-graph-context",this.indent=0,this.body="",this.varCount=0,this._inputShaderTypesByNodeUid=new Map,this._nodeEmitMap=new Map;var o,a=(0,u.Z)(e);try{for(a.s();!(o=a.n()).done;){var c=o.value;this._inputShaderTypesByNodeUid.set(c.node.uid,c)}}catch(l){a.e(l)}finally{a.f()}this._outputShaderTypes=n,this._transformFeedbackBindings=r,this._transformFeedbackNames=new Set(r.map((function(t){return"v_"+t.propertyKey}))),this._usedInFragmentShader=i}return(0,c.Z)(t,[{key:"shouldPruneOutputNode",value:function(t){return!!this._usedInFragmentShader&&"builtin"!==t.outVariableType&&!this._transformFeedbackNames.has(t.outVariableName)&&!this._usedInFragmentShader.has(t.node.uid)}},{key:"setEmit",value:function(t,e){this._nodeEmitMap.set(t.uid,e)}},{key:"getEmit",value:function(t){return this._nodeEmitMap.get(t.uid)}},{key:"inputs",value:function(){return this._inputShaderTypesByNodeUid.values()}},{key:"getInput",value:function(t){return this._inputShaderTypesByNodeUid.get(t.uid)}},{key:"rootOutputNodes",value:(0,C.Z)().mark((function t(){var e,n,r;return(0,C.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=(0,u.Z)(this._outputShaderTypes),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return r=n.value,t.next=7,r;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"nodes",value:(0,C.Z)().mark((function t(){var e,n,r,i,o;return(0,C.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=[],n=(0,u.Z)(this._outputShaderTypes.values());try{for(n.s();!(r=n.n()).done;)i=r.value,e.push(i.node)}catch(c){n.e(c)}finally{n.f()}case 3:if(!e.length){t.next=10;break}return"number"!=typeof(o=e.pop())&&"boolean"!=typeof o&&e.push.apply(e,(0,a.Z)(o.children.filter(Boolean))),t.next=8,o;case 8:t.next=3;break;case 10:case"end":return t.stop()}}),t,this)}))},{key:"nodesOfTypeOrFunction",value:(0,C.Z)().mark((function t(){var e,n,r;return(0,C.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=(0,u.Z)(this.nodes()),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=11;break}if(r=n.value,t.t0="number"!=typeof r&&"boolean"!=typeof r,!t.t0){t.next=9;break}return t.next=9,r;case 9:t.next=3;break;case 11:t.next=16;break;case 13:t.prev=13,t.t1=t.catch(1),e.e(t.t1);case 16:return t.prev=16,e.f(),t.finish(16);case 19:case"end":return t.stop()}}),t,this,[[1,13,16,19]])}))},{key:"createSubgraphContext",value:function(){var t=this.clone();return t.body="",t.indent=this.indent+2,t._nodeEmitMap=new Map(this._nodeEmitMap),t}},{key:"clone",value:function(){var e=new t([],this._outputShaderTypes,this._transformFeedbackBindings,this._usedInFragmentShader);return e._inputShaderTypesByNodeUid=this._inputShaderTypesByNodeUid,e.indent=this.indent,e.body=this.body,e.varCount=this.varCount,e._nodeEmitMap=this._nodeEmitMap,e}},{key:"insertVertexShader",value:function(t){t.vertex.code.add(""),this._insertInputs(t,"vertex"),t.vertex.code.add(""),t.vertex.code.add("// OUTPUTS: "),t.vertex.code.add("// --------------------------------------------------------- ");var e,n=(0,u.Z)(this.rootOutputNodes());try{for(n.s();!(e=n.n()).done;){var r=e.value,i="builtin"===r.outVariableType;this.shouldPruneOutputNode(r)||(i?t.vertex.code.add("// ".concat(r.outVariableType.padEnd(7)," ").concat(r.node.type.padEnd(9)," ").concat(r.outVariableName,";")):t.vertex.code.add("".concat(r.outVariableType.padEnd(10)," ").concat(r.node.type.padEnd(9)," ").concat(r.outVariableName,";")))}}catch(s){n.e(s)}finally{n.f()}t.vertex.code.add(""),t.vertex.code.add("void main() {"),t.vertex.code.add("  "+this.body.split("\n").join("\n  "));var o,a=(0,u.Z)(this.rootOutputNodes());try{for(a.s();!(o=a.n()).done;){var c=o.value;this.shouldPruneOutputNode(c)||t.vertex.code.add("  ".concat(c.outVariableName," = ").concat(c.variableName,";"))}}catch(s){a.e(s)}finally{a.f()}t.vertex.code.add("}")}},{key:"insertFragmentShader",value:function(t){this._insertInputs(t,"fragment"),t.fragment.code.add(""),t.fragment.code.add("void main() {"),t.fragment.code.add("  "+this.body.split("\n").join("\n  "));var e,n=(0,u.Z)(this.rootOutputNodes());try{for(n.s();!(e=n.n()).done;){var r=e.value;"discard"===r.outVariableType?(t.fragment.code.add("  // TODO: Should ensure codegen for discard appears first in fragment shader"),t.fragment.code.add("  if (".concat(r.variableName,") {")),t.fragment.code.add("    discard;"),t.fragment.code.add("  }"),t.fragment.code.add("  ")):t.fragment.code.add("  ".concat(r.outVariableName," = ").concat(r.variableName,";"))}}catch(i){n.e(i)}finally{n.f()}t.fragment.code.add("}")}},{key:"_insertInputs",value:function(t,e){t[e].code.add("// INPUTS: "),t[e].code.add("// --------------------------------------------------------- ");var n,r=(0,u.Z)(this.inputs());try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isUsed&&"builtin"!==i.variableInputType&&("array"===i.node.type?t[e].code.add("".concat(i.variableInputType.padEnd(10)," ").concat(i.node.elementType.type.padEnd(9)," ").concat(i.variableName,"[").concat(i.node.size,"];")):t[e].code.add("".concat(i.variableInputType.padEnd(10)," ").concat(i.node.type.padEnd(9)," ").concat(i.variableName,";")))}}catch(o){r.e(o)}finally{r.f()}}}],[{key:"createVertex",value:function(e,n,r,i,o,a){var c=[];for(var s in e){var l=e[s],f=r.get(s);f?c.push(new F(f,"builtin",l)):c.push(new F("a_"+s,"attribute",l))}var v,h=(0,u.Z)(i);try{for(h.s();!(v=h.n()).done;){var p=v.value,d=p.uniformHydrated;c.push(new F(p.uniformName,"uniform",d))}}catch(b){h.e(b)}finally{h.f()}var y=[];for(var m in n){var g=n[m];"glPosition"===m?y.push(new D("gl_Position","builtin",g)):"glPointSize"===m?y.push(new D("gl_PointSize","builtin",g)):y.push(new D("v_"+m,"varying",g))}return new t(c,y,o,a)}},{key:"createFragment",value:function(e,n,r,i,o,a){var c=[],s=Array.from(o.rootOutputNodes()),l=function(t){var n=e[t],i=r.get(t);if(i)return c.push(new F(i,"builtin",n)),"continue";var o=s.find((function(t){return t.node===n}));o&&c.push(new F(o.outVariableName,o.outVariableType,n))};for(var f in e)l(f);var v,h=(0,u.Z)(i);try{for(h.s();!(v=h.n()).done;){var p=v.value,d=p.uniformHydrated;c.push(new F(p.uniformName,"uniform",d))}}catch(Z){h.e(Z)}finally{h.f()}var y=[];for(var m in n){var g=n[m],b=r.get(m);if("discard"===m)y.push(new D(null,"discard",g));else{if(!b)throw new Error("Member ".concat(m," in shader fragment output shoule be tagged as builtin"));y.push(new D(b,"builtin",g))}}return new t(c,y,a)}}]),t}(),P=n(19407);function K(t){return new t}function M(t,e,n){var r,i=null!==(r=t.constructor[e])&&void 0!==r?r:[];t.constructor.hasOwnProperty(e)||Object.defineProperty(t.constructor,e,{value:i.slice()}),t.constructor[e].push(n)}function E(t,e){return function(n,r){M(n,"locations",{typeCtor:e,propertyKey:r,parameterIndex:null,index:t})}}var H=function(t){return function(e,n,r){M(e,"inputs",{inputCtor:t,propertyKey:n,parameterIndex:r})}},R=function(t){return function(e,n){M(e,"uniforms",{typeCtor:t,propertyKey:n})}},L=function(t){return function(e,n){M(e,"options",{typeCtor:t,propertyKey:n})}},q=function(t,e){M(t,"defines",{propertyKey:e})};var W=function(t,e){return function(n,r){n.constructor.builtins.push({builtin:t,propertyKey:r,typeCtor:e})}},j=(0,c.Z)((function t(){(0,s.Z)(this,t)}));j.builtins=[],(0,l._)([W("gl_VertexID",U.J7)],j.prototype,"glVertexID",void 0);var B=(0,c.Z)((function t(){(0,s.Z)(this,t)})),G=(0,c.Z)((function t(){(0,s.Z)(this,t)}));G.builtins=[],(0,l._)([W("gl_FragCoord",U.T8)],G.prototype,"glFragCoord",void 0),(0,l._)([W("gl_PointCoord",U.Sg)],G.prototype,"glPointCoord",void 0);var J=(0,c.Z)((function t(){(0,s.Z)(this,t)}));(0,l._)([function(t){return function(e,n){M(e,"builtins",{builtin:t,propertyKey:n})}}("gl_FragColor")],J.prototype,"glFragColor",void 0);var Q=function(){function t(){(0,s.Z)(this,t),this.type="uniform-group"}return(0,c.Z)(t,[{key:"_uniforms",get:function(){var t;return null!==(t=this.constructor.uniforms)&&void 0!==t?t:[]}}]),t}(),Y=function(){function t(){(0,s.Z)(this,t),this.logShader=!1,this.computeAttributes={}}return(0,c.Z)(t,[{key:"vertexInput",get:function(){var t=this._shaderModuleClass.inputs.findLast((function(t){return"vertex"===t.propertyKey&&0===t.parameterIndex}));if(!t)throw new Error("Unable to find vertex input parameter");return t}},{key:"computeInput",get:function(){return this._shaderModuleClass.inputs.findLast((function(t){return"vertex"===t.propertyKey&&1===t.parameterIndex}))}},{key:"fragmentInput",get:function(){var t=this._shaderModuleClass.inputs.findLast((function(t){return"fragment"===t.propertyKey}));if(!t)throw new Error("Unable to find fragment input parameter");return t}},{key:"transformFeedbackBindings",get:function(){var t;return null!==(t=this.fragmentInput.inputCtor.transformFeedbackBindings)&&void 0!==t?t:[]}},{key:"locations",get:function(){var t,e;return[].concat((0,a.Z)(this.vertexInput.inputCtor.locations),(0,a.Z)(null!==(t=null===(e=this.computeInput)||void 0===e?void 0:e.inputCtor.locations)&&void 0!==t?t:[]))}},{key:"locationsMap",get:function(){var t,e=new Map,n=new Set,r=(0,u.Z)(this.locations);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.has(i.index)?f.Z.getLogger("esri.views.2d.engine.webgl.shaderGraph.GraphShaderModule").warnOnce("mapview-rendering","Unable to assigned attribute ".concat(i.propertyKey," to ").concat(i.index,". Index already in use"),{locationsMap:e}):(e.set(i.propertyKey,i.index),n.add(i.index))}}catch(o){r.e(o)}finally{r.f()}return e}},{key:"locationInfo",get:function(){if(!this._locationInfo){var t=this.locationsMap,e=Array.from(t.entries()).map((function(t){var e=(0,o.Z)(t,2),n=e[0],r=e[1];return"".concat(n,".").concat(r)})).join("."),n=(0,v.hP)(e),r=this.computeAttributes;this._locationInfo={hash:n,locations:t,computeAttributeMap:r}}return this._locationInfo}},{key:"renamedLocationsMap",get:function(){var t,e=new Map,n=(0,u.Z)(this.locations);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.set("a_"+r.propertyKey,r.index)}}catch(i){n.e(i)}finally{n.f()}return e}},{key:"optionPropertyKeys",get:function(){if(!this._optionPropertyKeys){var t,e=new Set,n=(0,u.Z)(this._options);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.add(r.propertyKey)}}catch(i){n.e(i)}finally{n.f()}this._optionPropertyKeys=e}return this._optionPropertyKeys}},{key:"_shaderModuleClass",get:function(){return this.constructor}},{key:"_defines",get:function(){var t;return null!==(t=this._shaderModuleClass.defines)&&void 0!==t?t:[]}},{key:"_options",get:function(){var t;return null!==(t=this._shaderModuleClass.options)&&void 0!==t?t:[]}},{key:"_uniforms",get:function(){var t;return null!==(t=this._shaderModuleClass.uniforms)&&void 0!==t?t:[]}},{key:"getProgram",value:function(t,e,n,r){try{var i=this._generateShaders(t,e,n,r),o=i.vertex,u=i.fragment,a=i.uniformBindings;return new P.X(o,u,this.renamedLocationsMap,this.locationInfo,a,this.transformFeedbackBindings)}catch(D){return new P.X("","",this.renamedLocationsMap,this.locationInfo,[],this.transformFeedbackBindings)}}},{key:"getDebugUniformClassInfo",value:function(t){var e=this._options.find((function(e){return e.propertyKey===t}));if(e)return{type:"option",className:e.typeCtor};var n=this._uniforms.find((function(e){return e.propertyKey===t}));if(!n)throw new Error("Unable to find uniform class type for property: ".concat(t));return{type:"required",className:n.typeCtor}}},{key:"getShaderKey",value:function(t,e,n,r){var i=this,o=Object.keys(t).map((function(e){return"".concat(e,".").concat(t[e])})).join("."),u=Object.keys(n).map((function(t){return"".concat(t,".").concat(n[t])})).join("."),a=Object.keys(r).map((function(t){return"".concat(t,".").concat(r[t])})).join("."),c=Object.keys(e).filter((function(t){return i.optionPropertyKeys.has(t)&&e[t]})).join(".");return"".concat(this.constructor.name,".").concat(o,".").concat(u,".").concat(a,".").concat(c)}},{key:"_generateShaders",value:function(t,e,n,r){var o=[];this._setDefines(n),this._setOptionalUniforms(o,e),this._setRequiredUniforms(o);var u=this._hydrateVertexInput(r),a=this._injectPackPrecisionFactor(u,t),c=this._hydrateComputeInput(),s=c&&this._injectComputePackPrecisionFactor(c,t),l=this.vertex(a,s),f=this._hydrateFragmentInput(l),v=this.fragment(f),h=new Set;for(var p in v){var d=v[p];(0,O.Q0)(h,d)}var y=this._getVertexInputBuiltins(),m=A.createVertex((0,i.Z)((0,i.Z)({},u),c),l,y,o,this.transformFeedbackBindings,h);(new z).write(m);var g=this._getFragmentInputBuiltins(v);g.set("glPointCoord","gl_PointCoord");var b=A.createFragment(f,v,g,o,m,this.transformFeedbackBindings);(new z).write(b);var Z=this._createShaderBuilder(m,b),_=Z.generate("vertex",!1),w=Z.generate("fragment",!1);return this.logShader&&(console.log(_),console.log(w)),{vertex:_,fragment:w,uniformBindings:o}}},{key:"_setDefines",value:function(t){for(var e in t)this[e]=t[e]}},{key:"_setOptionalUniforms",value:function(t,e){var n,r=(0,u.Z)(this._options);try{for(r.s();!(n=r.n()).done;){var i=n.value;e[i.propertyKey]?this[i.propertyKey]=this._hydrateUniformGroup(t,i):this[i.propertyKey]=null}}catch(o){r.e(o)}finally{r.f()}}},{key:"_setRequiredUniforms",value:function(t){var e,n=(0,u.Z)(this._uniforms);try{for(n.s();!(e=n.n()).done;){var r=e.value;this[r.propertyKey]=this._hydrateUniformGroup(t,r)}}catch(i){n.e(i)}finally{n.f()}}},{key:"_hydrateUniformGroup",value:function(t,e){var n,r,i=new(0,e.typeCtor),o=(0,u.Z)(null!==(n=i._uniforms)&&void 0!==n?n:[]);try{for(o.s();!(r=o.n()).done;){var a=r.value,c=K(a.typeCtor),s="u_".concat(e.propertyKey,"_").concat(a.propertyKey),l=c.type,f=[e.propertyKey,a.propertyKey].join(".");if("type"in a.typeCtor&&"array"===a.typeCtor.type){var v=c;t.push({shaderModulePath:f,uniformName:s,uniformType:l,uniformArrayLength:v.size,uniformArrayElementType:v.elementType.type,uniformHydrated:c})}else t.push({shaderModulePath:f,uniformName:s,uniformType:l,uniformHydrated:c});i[a.propertyKey]=c}}catch(h){o.e(h)}finally{o.f()}return i}},{key:"_hydrateVertexInput",value:function(t){var e,n=this.vertexInput.inputCtor,o=n.locations.reduce((function(e,n){return!1===t[n.propertyKey]?e:(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},n.propertyKey,K(n.typeCtor)))}),{}),a=(0,u.Z)(n.builtins);try{for(a.s();!(e=a.n()).done;){var c=e.value,s=c.propertyKey,l=K(c.typeCtor);o[s]=l}}catch(f){a.e(f)}finally{a.f()}return o}},{key:"_hydrateComputeInput",value:function(){return null==this.computeInput?null:this.computeInput.inputCtor.locations.reduce((function(t,e){return(0,i.Z)((0,i.Z)({},t),{},(0,r.Z)({},e.propertyKey,K(e.typeCtor)))}),{})}},{key:"_injectPackPrecisionFactor",value:function(t,e){var n={};for(var r in t){var i=t[r],o=e[r];if(o){if("float"!==i.type&&"vec2"!==i.type&&"vec3"!==i.type&&"vec4"!==i.type)throw new Error("InternalError: packPrecisionFactor requires GenType, but found ".concat(i.type));n[r]=i.divide(new U.bv(o))}else n[r]=i}return n}},{key:"_injectComputePackPrecisionFactor",value:function(t,e){var n={},r=new Map;for(var i in this.computeAttributes){var o,a,c=(0,u.Z)(null!==(o=this.computeAttributes[i])&&void 0!==o?o:[]);try{for(c.s();!(a=c.n()).done;){var s=a.value;r.set(s,i)}}catch(p){c.e(p)}finally{c.f()}}for(var l in t){var f=t[l],v=r.get(l);if(v){var h=e[v];if(h){if("float"!==f.type&&"vec2"!==f.type&&"vec3"!==f.type&&"vec4"!==f.type)throw new Error("InternalError: packPrecisionFactor requires GenType, but found ".concat(f.type));n[l]=f.divide(new U.bv(h))}else n[l]=f}}return n}},{key:"_hydrateFragmentInput",value:function(t){var e={};for(var n in t)e[n]=t[n];var r,i=(0,u.Z)(G.builtins);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.propertyKey,c=K(o.typeCtor);e[a]=c}}catch(s){i.e(s)}finally{i.f()}return e}},{key:"_getVertexInputBuiltins",value:function(){var t,e=this.vertexInput.inputCtor,n=new Map,r=(0,u.Z)(e.builtins);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.builtin,a=i.propertyKey;n.set(a,o)}}catch(c){r.e(c)}finally{r.f()}return n}},{key:"_getFragmentInputBuiltins",value:function(t){var e,n,r=t.constructor,i=new Map,o=(0,u.Z)(null!==(e=r.builtins)&&void 0!==e?e:[]);try{for(o.s();!(n=o.n()).done;){var a=n.value;i.set(a.propertyKey,a.builtin)}}catch(c){o.e(c)}finally{o.f()}return i}},{key:"_createShaderBuilder",value:function(t,e){var n=new b;return this._insertDebugInfo(n),t.insertVertexShader(n),e.insertFragmentShader(n),n}},{key:"_insertDebugInfo",value:function(t){t.vertex.code.add("// DEFINES: "),t.vertex.code.add("// --------------------------------------------------------- ");var e,n=(0,u.Z)(this._defines);try{for(n.s();!(e=n.n()).done;){var r=e.value;this[r.propertyKey]?t.vertex.code.add("//   ".concat(r.propertyKey,": true")):t.vertex.code.add("//   ".concat(r.propertyKey,": false"))}}catch(c){n.e(c)}finally{n.f()}t.vertex.code.add(""),t.vertex.code.add("// OPTIONS: "),t.vertex.code.add("// --------------------------------------------------------- ");var i,o=(0,u.Z)(this._options);try{for(o.s();!(i=o.n()).done;){var a=i.value;this[a.propertyKey]?t.vertex.code.add("//   ".concat(a.propertyKey,": true")):t.vertex.code.add("//   ".concat(a.propertyKey,": false"))}}catch(c){o.e(c)}finally{o.f()}}}]),t}()},23105:function(t,e,n){n.d(e,{Q0:function(){return c},UV:function(){return l},Yo:function(){return p},Ys:function(){return y},h9:function(){return f},lJ:function(){return d},rK:function(){return h}});var r=n(60136),i=n(29388),o=n(15671),u=n(43144),a=n(37762);function c(t,e){var n=[];for(n.push(e);n.length;){var r=n.pop();if("object"==typeof r&&!t.has(r.uid)){t.add(r.uid);var i,o=(0,a.Z)(r.children);try{for(o.s();!(i=o.n()).done;){var u=i.value;n.push(u)}}catch(c){o.e(c)}finally{o.f()}}}}var s=function(){function t(){(0,o.Z)(this,t),this.uid=t.NodeCount++,this._debugName=null,this._isMutable=!1,this.isImplicit=!1}return(0,u.Z)(t,[{key:"isMutable",get:function(){return this._isMutable}},{key:"setMutable",value:function(){return this._isMutable=!0,this}},{key:"setDebugName",value:function(e){return e=function(t){return t.split(" ").map((function(t,e){return e>0?t.charAt(0).toUpperCase()+t.slice(1):t})).join("")}(e),this._debugName=e,this.isImplicit&&this.children[0]instanceof t&&this.children[0].setDebugName(e),this}},{key:"debugInfo",get:function(){var t;return{name:null!==(t=this._debugName)&&void 0!==t?t:""}}},{key:"cloneInto",value:function(t){t._debugName=this._debugName,t._isMutable=this._isMutable,t.isImplicit=this.isImplicit,t.uid=this.uid}}]),t}();function l(t){return"object"==typeof t?t.clone():t}s.NodeCount=0;var f=function(t){(0,r.Z)(n,t);var e=(0,i.Z)(n);function n(){var t;return(0,o.Z)(this,n),(t=e.apply(this,arguments)).shaderType="primitive-node",t}return(0,u.Z)(n)}(s),v=function(t){(0,r.Z)(n,t);var e=(0,i.Z)(n);function n(t){var r;return(0,o.Z)(this,n),(r=e.call(this)).child=t,r.shaderType="scope-node",r}return(0,u.Z)(n,[{key:"children",get:function(){return[this.child]}},{key:"clone",value:function(){var t=new n(l(this.child));return this.cloneInto(t),t}}]),n}(s),h=function(t){(0,r.Z)(n,t);var e=(0,i.Z)(n);function n(t,r,i){var u;return(0,o.Z)(this,n),(u=e.call(this)).property=t,u.target=r,u.returnType=i,u.shaderType="property-access-node",u}return(0,u.Z)(n,[{key:"children",get:function(){var t=[this.target];return"string"!=typeof this.property&&t.push(this.property),t}},{key:"clone",value:function(){var t=new n(this.property,l(this.target),this.returnType);return this.cloneInto(t),t}}]),n}(s),p=function(t){(0,r.Z)(n,t);var e=(0,i.Z)(n);function n(t,r,i){var u;return(0,o.Z)(this,n),(u=e.call(this)).condition=t,u.ifTrue=r,u.ifFalse=i,u.shaderType="condition-node",u}return(0,u.Z)(n,[{key:"children",get:function(){return[this.condition,this.ifTrue,this.ifFalse]}},{key:"clone",value:function(){var t=l(this.ifTrue),e=this.ifFalse?l(this.ifFalse):null,r=new n(this.condition,t,e);return this.cloneInto(r),r}}]),n}(s),d=function(t){(0,r.Z)(n,t);var e=(0,i.Z)(n);function n(t,r,i,u){var a;return(0,o.Z)(this,n),(a=e.call(this)).captureList=t,a.returnType=r,a.generator=u,a.shaderType="block-node",i&&(a.subgraph=new v(i)),a}return(0,u.Z)(n,[{key:"children",get:function(){var t,e=this;return Object.keys(this.captureList).map((function(t){return e.captureList[t]})).concat(null!==(t=this.subgraph)&&void 0!==t?t:[])}},{key:"clone",value:function(){var t={};for(var e in this.captureList)t[e]=l(this.captureList[e]);var r=new n(t,this.returnType,this.subgraph?l(this.subgraph.child):this.subgraph,this.generator);return this.cloneInto(r),r}}]),n}(s),y=function(t){(0,r.Z)(n,t);var e=(0,i.Z)(n);function n(t,r,i,u,a){var c,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return(0,o.Z)(this,n),(c=e.call(this)).token=t,c._children=r,c.isInfix=i,c.isPropertyAccess=u,c.returnType=a,c.isTernary=s,c.shaderType="function-node",c}return(0,u.Z)(n,[{key:"children",get:function(){return this._children}},{key:"clone",value:function(){var t=new n(this.token,this._children.map(l),this.isInfix,this.isPropertyAccess,this.returnType,this.isTernary);return this.cloneInto(t),t}}]),n}(s)},52995:function(t,e,n){n.d(e,{AK:function(){return Kt},AO:function(){return A},CD:function(){return qt},CW:function(){return Jt},Dg:function(){return Zt},Eg:function(){return O},Fp:function(){return Rt},Fv:function(){return jt},GW:function(){return Mt},Iz:function(){return xt},J7:function(){return B},K4:function(){return rt},KJ:function(){return pt},Nb:function(){return Qt},O$:function(){return Gt},Qj:function(){return kt},R3:function(){return it},Sg:function(){return D},T8:function(){return P},TE:function(){return Pt},Tu:function(){return $},VV:function(){return Lt},Wn:function(){return zt},ZI:function(){return Et},bv:function(){return F},e$:function(){return et},ff:function(){return Bt},fz:function(){return nt},hx:function(){return _t},ig:function(){return Yt},kE:function(){return Ht},ln:function(){return wt},mC:function(){return At},mD:function(){return Ft},or:function(){return Tt},r7:function(){return Vt},tS:function(){return St},tW:function(){return R},tk:function(){return vt},uZ:function(){return Dt},v8:function(){return C},vh:function(){return ot},wO:function(){return ut},wQ:function(){return Wt},wV:function(){return dt},xD:function(){return Ut},yb:function(){return X}});var r,i,o,u,a,c,s,l,f,v,h,p,d,y,m=n(29439),g=n(88301),b=n(61120),Z=n(43144),_=n(15671),w=n(60136),k=n(29388),x=n(28664),S=n(5647),V=n(93433),T=n(27366),I=n(23105);function U(t){return new Proxy(t,{get:function(e,n){if("constructor"===n)return new Proxy(e.constructor,{construct:function(t,e,n){return U((0,S.Z)(t,(0,V.Z)(e)))}});if(n in e)return e[n];if("string"==typeof n){var r=function(t){for(var e=0,n=[["float","vec2","vec3","vec4"],["int","ivec2","ivec3","ivec4"],["uint","uvec2","uvec3","uvec4"],["bool","bvec2","bvec3","bvec4"]];e<n.length;e++){var r=n[e];if(r.includes(t))return r.map((function(t){return tt[t]}))}throw new Error("Unable to find type family")}(t.type);return at(t,n,r[n.length-1])}}})}function N(t){return new Proxy(t,{construct:function(t,e,n){return U((0,S.Z)(t,(0,V.Z)(e)))}})}var z=function(t){(0,w.Z)(n,t);var e=(0,k.Z)(n);function n(){return(0,_.Z)(this,n),e.apply(this,arguments)}return(0,Z.Z)(n)}((0,x.Z)(Error)),C=r=function(t){(0,w.Z)(n,t);var e=(0,k.Z)(n);function n(t,r){var i;return(0,_.Z)(this,n),(i=e.call(this)).elementType=t,i.size=r,i.children=[],i.type="array",i}return(0,Z.Z)(n,[{key:"clone",value:function(){var t=new r(this.elementType,this.size);return(0,g.Z)((0,b.Z)(n.prototype),"cloneInto",this).call(this,t),t}},{key:"get",value:function(t){if("number"==typeof t){var e=new B(t);return e.isImplicit=!0,at(this,e,this.elementType.constructor)}return at(this,t,this.elementType.constructor)}},{key:"last",value:function(){return this.get(this.size-1)}},{key:"first",value:function(){return this.get(0)}},{key:"findIndex",value:function(t,e,n){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.size,i=new B(n).setMutable().setDebugName("FindIndexIterator"),o=e(t.get(i)).setDebugName("FindIndexPredicate"),u=ht({iter:i},B,o,(function(t){var e=t.out,n=t.iter,i=t.subgraph;return"\n".concat(e," = -1;\n\nfor (; ").concat(n," < ").concat(r,"; ").concat(n,"++) {\n\n").concat(i.body,"\n\n  if (").concat(i.varName,") {\n    ").concat(e," = ").concat(n,";\n    break;\n  }\n\n}\n")})).setDebugName("FindIndexBlock");return u}(this,t,e,n)}},{key:"glslFindIndex",value:function(t,e,n){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.size,i=ht({array:t},B,null,(function(t){var i=t.out,o=t.array;return"\n".concat(i," = -1;\nfor (int i = ").concat(n,"; i < ").concat(r,"; i++) {\n  bool condition;\n  ").concat(e({array:o,i:"i",out:"condition"}),"\n  if (condition) {\n    ").concat(i," = i;\n    break;\n  }\n}\n")})).setDebugName("GlslFindIndexBlock");return i}(this,t,e,n)}}],[{key:"ofType",value:function(t,e){var n={construct:function(n,i){return new r(new t,e)}};return new Proxy(r,n)}}]),n}(I.h9);C.type="array",C=r=(0,T._)([function(t){return new Proxy(t,{construct:function(t,e,n){return function(t){return new Proxy(t,{get:function(e,n){if(n in e)return e[n];if("string"==typeof n){var r=parseInt(n,10);if(!isNaN(r))return at(t,"[".concat(r,"]"),t.elementType.constructor)}}})}((0,S.Z)(t,(0,V.Z)(e)))}})}],C);var O=function(t){(0,w.Z)(n,t);var e=(0,k.Z)(n);function n(){var t;return(0,_.Z)(this,n),(t=e.apply(this,arguments)).type="sampler2D",t.children=[],t}return(0,Z.Z)(n,[{key:"clone",value:function(){var t=new n;return t.children=this.children.map(I.UV),(0,g.Z)((0,b.Z)(n.prototype),"cloneInto",this).call(this,t),t}}]),n}(I.h9);O.type="sampler2D";var F=function(t){(0,w.Z)(n,t);var e=(0,k.Z)(n);function n(t){var r;return(0,_.Z)(this,n),(r=e.call(this)).type="float",r.children=[t],r}return(0,Z.Z)(n,[{key:"clone",value:function(){var t=new n((0,I.UV)(this.children[0]));return(0,g.Z)((0,b.Z)(n.prototype),"cloneInto",this).call(this,t),t}},{key:"multiply",value:function(t){return yt(this,"number"==typeof t?W(t,n):t)}},{key:"divide",value:function(t){return mt(this,"number"==typeof t?W(t,n):t)}},{key:"add",value:function(t){return gt(this,"number"==typeof t?W(t,n):t)}},{key:"subtract",value:function(t){return bt(this,"number"==typeof t?W(t,n):t)}}]),n}(I.h9);F.type="float";var D=i=function(t){(0,w.Z)(n,t);var e=(0,k.Z)(n);function n(t,r){var i;return(0,_.Z)(this,n),(i=e.call(this)).type="vec2",i.children=[t,r].filter((function(t){return null!=t})),i}return(0,Z.Z)(n,[{key:"clone",value:function(){var t=new i((0,I.UV)(this.children[0]),(0,I.UV)(this.children[1]));return(0,g.Z)((0,b.Z)(n.prototype),"cloneInto",this).call(this,t),t}},{key:"0",get:function(){return at(this,"[0]",F)}},{key:"1",get:function(){return at(this,"[1]",F)}},{key:"2",get:function(){throw new z}},{key:"3",get:function(){throw new z}},{key:"multiply",value:function(t){return yt(this,"number"==typeof t?W(t,F):t)}},{key:"divide",value:function(t){return mt(this,"number"==typeof t?W(t,F):t)}},{key:"add",value:function(t){return gt(this,"number"==typeof t?W(t,F):t)}},{key:"subtract",value:function(t){return bt(this,"number"==typeof t?W(t,F):t)}}]),n}(I.h9);D.type="vec2",D=i=(0,T._)([N],D);var A=o=function(t){(0,w.Z)(n,t);var e=(0,k.Z)(n);function n(t,r,i){var o;return(0,_.Z)(this,n),(o=e.call(this)).type="vec3",o.children=[t,r,i].filter((function(t){return null!=t})),o}return(0,Z.Z)(n,[{key:"0",get:function(){return at(this,"[0]",F)}},{key:"1",get:function(){return at(this,"[1]",F)}},{key:"2",get:function(){return at(this,"[2]",F)}},{key:"3",get:function(){throw new z}},{key:"clone",value:function(){var t=new o((0,I.UV)(this.children[0]),(0,I.UV)(this.children[1]),(0,I.UV)(this.children[2]));return(0,g.Z)((0,b.Z)(n.prototype),"cloneInto",this).call(this,t),t}},{key:"multiply",value:function(t){return yt(this,"number"==typeof t?W(t,F):t)}},{key:"divide",value:function(t){return mt(this,"number"==typeof t?W(t,F):t)}},{key:"add",value:function(t){return gt(this,"number"==typeof t?W(t,F):t)}},{key:"subtract",value:function(t){return bt(this,"number"==typeof t?W(t,F):t)}}]),n}(I.h9);A.type="vec3",A=o=(0,T._)([N],A);var P=u=function(t){(0,w.Z)(n,t);var e=(0,k.Z)(n);function n(t,r,i,o){var u;return(0,_.Z)(this,n),(u=e.call(this)).type="vec4",u.children=[t,r,i,o].filter((function(t){return null!=t})),u}return(0,Z.Z)(n,[{key:"clone",value:function(){var t=new u((0,I.UV)(this.children[0]),(0,I.UV)(this.children[1]),(0,I.UV)(this.children[2]),(0,I.UV)(this.children[3]));return(0,g.Z)((0,b.Z)(n.prototype),"cloneInto",this).call(this,t),t}},{key:"0",get:function(){return at(this,"[0]",F)}},{key:"1",get:function(){return at(this,"[1]",F)}},{key:"2",get:function(){return at(this,"[2]",F)}},{key:"3",get:function(){return at(this,"[3]",F)}},{key:"multiply",value:function(t){return yt(this,"number"==typeof t?W(t,F):t)}},{key:"divide",value:function(t){return mt(this,"number"==typeof t?W(t,F):t)}},{key:"add",value:function(t){return gt(this,"number"==typeof t?W(t,F):t)}},{key:"subtract",value:function(t){return bt(this,"number"==typeof t?W(t,F):t)}}]),n}(I.h9);P.type="vec4",P=u=(0,T._)([N],P);var K=a=function(t){(0,w.Z)(n,t);var e=(0,k.Z)(n);function n(t){var r;return(0,_.Z)(this,n),(r=e.call(this)).type="uint",r.children=[t],r}return(0,Z.Z)(n,[{key:"clone",value:function(){var t=new a((0,I.UV)(this.children[0]));return(0,g.Z)((0,b.Z)(n.prototype),"cloneInto",this).call(this,t),t}}]),n}(I.h9);K.type="uint",K=a=(0,T._)([N],K);var M=c=function(t){(0,w.Z)(n,t);var e=(0,k.Z)(n);function n(t,r){var i;return(0,_.Z)(this,n),(i=e.call(this)).type="uvec2",i.children=[t,r].filter((function(t){return null!=t})),i}return(0,Z.Z)(n,[{key:"clone",value:function(){var t=new c((0,I.UV)(this.children[0]),(0,I.UV)(this.children[1]));return(0,g.Z)((0,b.Z)(n.prototype),"cloneInto",this).call(this,t),t}}]),n}(I.h9);M.type="uvec2",M=c=(0,T._)([N],M);var E=s=function(t){(0,w.Z)(n,t);var e=(0,k.Z)(n);function n(t,r,i){var o;return(0,_.Z)(this,n),(o=e.call(this)).type="uvec3",o.children=[t,r,i].filter((function(t){return null!=t})),o}return(0,Z.Z)(n,[{key:"clone",value:function(){var t=new s((0,I.UV)(this.children[0]),(0,I.UV)(this.children[1]),(0,I.UV)(this.children[2]));return(0,g.Z)((0,b.Z)(n.prototype),"cloneInto",this).call(this,t),t}}]),n}(I.h9);E.type="uvec3",E=s=(0,T._)([N],E);var H=l=function(t){(0,w.Z)(n,t);var e=(0,k.Z)(n);function n(t,r,i,o){var u;return(0,_.Z)(this,n),(u=e.call(this)).type="uvec4",u.children=[t,r,i,o].filter((function(t){return null!=t})),u}return(0,Z.Z)(n,[{key:"clone",value:function(){var t=new l((0,I.UV)(this.children[0]),(0,I.UV)(this.children[1]),(0,I.UV)(this.children[2]),(0,I.UV)(this.children[3]));return(0,g.Z)((0,b.Z)(n.prototype),"cloneInto",this).call(this,t),t}}]),n}(I.h9);H.type="uvec4",H=l=(0,T._)([N],H);var R=function(t){(0,w.Z)(n,t);var e=(0,k.Z)(n);function n(t){var r;return(0,_.Z)(this,n),(r=e.call(this)).type="bool",r.children=[t],r}return(0,Z.Z)(n,[{key:"and",value:function(t){return Ut(this,t)}},{key:"or",value:function(t){return Tt(this,t)}},{key:"clone",value:function(){var t=new n((0,I.UV)(this.children[0]));return(0,g.Z)((0,b.Z)(n.prototype),"cloneInto",this).call(this,t),t}}]),n}(I.h9);R.type="bool";var L=f=function(t){(0,w.Z)(n,t);var e=(0,k.Z)(n);function n(t,r){var i;return(0,_.Z)(this,n),(i=e.call(this)).type="bvec2",i.children=[t,r].filter((function(t){return null!=t})),i}return(0,Z.Z)(n,[{key:"all",value:function(){return Ct(this)}},{key:"any",value:function(){return Ot(this)}},{key:"clone",value:function(){var t=new f((0,I.UV)(this.children[0]),(0,I.UV)(this.children[1]));return(0,g.Z)((0,b.Z)(n.prototype),"cloneInto",this).call(this,t),t}}]),n}(I.h9);L.type="bvec2",L=f=(0,T._)([N],L);var q=v=function(t){(0,w.Z)(n,t);var e=(0,k.Z)(n);function n(t,r,i){var o;return(0,_.Z)(this,n),(o=e.call(this)).type="bvec3",o.children=[t,r,i].filter((function(t){return null!=t})),o}return(0,Z.Z)(n,[{key:"all",value:function(){return Ct(this)}},{key:"any",value:function(){return Ot(this)}},{key:"clone",value:function(){var t=new v((0,I.UV)(this.children[0]),(0,I.UV)(this.children[1]),(0,I.UV)(this.children[2]));return(0,g.Z)((0,b.Z)(n.prototype),"cloneInto",this).call(this,t),t}}]),n}(I.h9);function W(t,e){return"number"==typeof t?new e(t):t}q.type="bvec3",q=v=(0,T._)([N],q);var j=h=function(t){(0,w.Z)(n,t);var e=(0,k.Z)(n);function n(t,r,i,o){var u;return(0,_.Z)(this,n),(u=e.call(this)).type="bvec4",u.children=[t,r,i,o].filter((function(t){return null!=t})),u}return(0,Z.Z)(n,[{key:"all",value:function(){return Ct(this)}},{key:"any",value:function(){return Ot(this)}},{key:"clone",value:function(){var t=new h((0,I.UV)(this.children[0]),(0,I.UV)(this.children[1]),(0,I.UV)(this.children[2]),(0,I.UV)(this.children[3]));return(0,g.Z)((0,b.Z)(n.prototype),"cloneInto",this).call(this,t),t}}]),n}(I.h9);j.type="bvec4",j=h=(0,T._)([N],j);var B=function(t){(0,w.Z)(n,t);var e=(0,k.Z)(n);function n(t){var r;return(0,_.Z)(this,n),(r=e.call(this)).type="int",r.children=[t],r}return(0,Z.Z)(n,[{key:"multiply",value:function(t){return yt(this,W(t,n))}},{key:"add",value:function(t){return gt(this,W(t,n))}},{key:"subtract",value:function(t){return bt(this,W(t,n))}},{key:"divide",value:function(t){return mt(this,W(t,n))}},{key:"clone",value:function(){var t=new n((0,I.UV)(this.children[0]));return(0,g.Z)((0,b.Z)(n.prototype),"cloneInto",this).call(this,t),t}}]),n}(I.h9);B.type="int";var G=p=function(t){(0,w.Z)(n,t);var e=(0,k.Z)(n);function n(t,r){var i;return(0,_.Z)(this,n),(i=e.call(this)).type="ivec2",i.children=[t,r].filter((function(t){return null!=t})),i}return(0,Z.Z)(n,[{key:"clone",value:function(){var t=new p((0,I.UV)(this.children[0]),(0,I.UV)(this.children[1]));return(0,g.Z)((0,b.Z)(n.prototype),"cloneInto",this).call(this,t),t}}]),n}(I.h9);G.type="ivec2",G=p=(0,T._)([N],G);var J=d=function(t){(0,w.Z)(n,t);var e=(0,k.Z)(n);function n(t,r,i){var o;return(0,_.Z)(this,n),(o=e.call(this)).type="ivec3",o.children=[t,r,i].filter((function(t){return null!=t})),o}return(0,Z.Z)(n,[{key:"clone",value:function(){var t=new d((0,I.UV)(this.children[0]),(0,I.UV)(this.children[1]),(0,I.UV)(this.children[2]));return(0,g.Z)((0,b.Z)(n.prototype),"cloneInto",this).call(this,t),t}}]),n}(I.h9);J.type="ivec3",J=d=(0,T._)([N],J);var Q=y=function(t){(0,w.Z)(n,t);var e=(0,k.Z)(n);function n(t,r,i,o){var u;return(0,_.Z)(this,n),(u=e.call(this)).type="ivec4",u.children=[t,r,i,o].filter((function(t){return null!=t})),u}return(0,Z.Z)(n,[{key:"clone",value:function(){var t=new y((0,I.UV)(this.children[0]),(0,I.UV)(this.children[1]),(0,I.UV)(this.children[2]),(0,I.UV)(this.children[3]));return(0,g.Z)((0,b.Z)(n.prototype),"cloneInto",this).call(this,t),t}}]),n}(I.h9);Q.type="ivec4",Q=y=(0,T._)([N],Q);var Y=function(t){(0,w.Z)(n,t);var e=(0,k.Z)(n);function n(t,r,i,o){var u;return(0,_.Z)(this,n),(u=e.call(this)).type="mat2",u.children=[t,r,i,o],u}return(0,Z.Z)(n,[{key:"clone",value:function(){var t=new n((0,I.UV)(this.children[0]),(0,I.UV)(this.children[1]),(0,I.UV)(this.children[2]),(0,I.UV)(this.children[3]));return(0,g.Z)((0,b.Z)(n.prototype),"cloneInto",this).call(this,t),t}}]),n}(I.h9);Y.type="mat2";var $=function(t){(0,w.Z)(n,t);var e=(0,k.Z)(n);function n(t,r,i,o,u,a,c,s,l){var f;return(0,_.Z)(this,n),(f=e.call(this)).type="mat3",f.children=[t,r,i,o,u,a,c,s,l],f}return(0,Z.Z)(n,[{key:"add",value:function(t){return gt(this,t)}},{key:"multiply",value:function(t){return yt(this,t)}},{key:"clone",value:function(){var t=new n((0,I.UV)(this.children[0]),(0,I.UV)(this.children[1]),(0,I.UV)(this.children[2]),(0,I.UV)(this.children[3]),(0,I.UV)(this.children[4]),(0,I.UV)(this.children[5]),(0,I.UV)(this.children[6]),(0,I.UV)(this.children[7]),(0,I.UV)(this.children[8]));return(0,g.Z)((0,b.Z)(n.prototype),"cloneInto",this).call(this,t),t}}],[{key:"identity",value:function(){return new n(1,0,0,0,1,0,0,0,1)}},{key:"fromRotation",value:function(t){var e=Gt(t),r=At(t);return new n(r,e,0,vt(e),r,0,0,0,1)}}]),n}(I.h9);$.type="mat3";var X=function(t){(0,w.Z)(n,t);var e=(0,k.Z)(n);function n(t,r,i,o,u,a,c,s,l,f,v,h,p,d,y,m){var g;return(0,_.Z)(this,n),(g=e.call(this)).type="mat4",g.children=[t,r,i,o,u,a,c,s,l,f,v,h,p,d,y,m],g}return(0,Z.Z)(n,[{key:"multiply",value:function(t){return yt(this,t)}},{key:"clone",value:function(){var t=new n((0,I.UV)(this.children[0]),(0,I.UV)(this.children[1]),(0,I.UV)(this.children[2]),(0,I.UV)(this.children[3]),(0,I.UV)(this.children[4]),(0,I.UV)(this.children[5]),(0,I.UV)(this.children[6]),(0,I.UV)(this.children[7]),(0,I.UV)(this.children[8]),(0,I.UV)(this.children[9]),(0,I.UV)(this.children[10]),(0,I.UV)(this.children[11]),(0,I.UV)(this.children[12]),(0,I.UV)(this.children[13]),(0,I.UV)(this.children[14]),(0,I.UV)(this.children[15]));return(0,g.Z)((0,b.Z)(n.prototype),"cloneInto",this).call(this,t),t}}],[{key:"identity",value:function(){return new n(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}},{key:"fromColumns",value:function(t,e,r,i){return new n(t.x,t.y,t.z,t.w,e.x,e.y,e.z,e.w,r.x,r.y,r.z,r.w,i.x,i.y,i.z,i.w)}}]),n}(I.h9);X.type="mat4";var tt={float:F,vec2:D,vec3:A,vec4:P,int:B,ivec2:G,ivec3:J,ivec4:Q,uint:K,uvec2:M,uvec3:E,uvec4:H,bool:R,bvec2:L,bvec3:q,bvec4:j},et=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,S.Z)(B,e)},nt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,S.Z)(F,e)},rt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,S.Z)(D,e)},it=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,S.Z)(A,e)},ot=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,S.Z)(P,e)},ut=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,S.Z)($,e)};function at(t,e,n){var r=new n(new I.rK(e,t,n));return r.isImplicit=!0,r}function ct(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(r){var i=new r,o=new r(new I.Ys(t,[e,n],!0,!1,i));return o.isImplicit=!0,o}if("float"===e.type||"int"===e.type){var u=new n.constructor(new I.Ys(t,[e,n],!0,!1,n.constructor));return u.isImplicit=!0,u}if(("mat2"===e.type||"mat3"===e.type||"mat4"===e.type)&&"float"!==n.type){var a=new n.constructor(new I.Ys(t,[e,n],!0,!1,n.constructor));return a.isImplicit=!0,a}var c=new e.constructor(new I.Ys(t,[e,n],!0,!1,e.constructor));return c.isImplicit=!0,c}function st(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.constructor,r=new n(new I.Ys(t,[e],!1,!1,n));return r.isImplicit=!0,r}function lt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.constructor,i=new r(new I.Ys(t,[e,n],!1,!1,r));return i.isImplicit=!0,i}function ft(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.constructor,o=new i(new I.Ys(t,[e,n,r],!1,!1,i));return o.isImplicit=!0,o}function vt(t){return yt(t,nt(-1))}function ht(t,e,n,r){return new e(new I.lJ(t,e,n,r))}function pt(t,e,n){var r="function"==typeof e?e():e,i="function"==typeof n?n():n,o=new r.constructor(new I.Yo(t,r,i));return o.isImplicit=!0,o}function dt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.map((function(t){var e=(0,m.Z)(t,2),n=e[0],r=e[1];return"function"==typeof r?[n,r()]:[n,r]})),i=r[0][1].constructor,o=r.findIndex((function(t){return!0===t[0]}));if(-1===o)throw new Error("A cond must have a fallthrough case with `true`/; ");var u=r.slice(0,o),a=r[o][1],c=new i(u.reduceRight((function(t,e){return pt(e[0],e[1],t)}),a));return c.isImplicit=!0,c}function yt(t,e){return ct("*",t,e)}function mt(t,e){return ct("/",t,e)}function gt(t,e){return ct("+",t,e)}function bt(t,e){return ct("-",t,e)}function Zt(t,e){return ct(">>",t,e)}function _t(t,e){return ct("&",t,e)}function wt(t,e){return ct("==",t,e,R)}function kt(t,e){return ct("<",t,e,R)}function xt(t,e){return ct("<=",t,e,R)}function St(t,e){return ct(">",t,e,R)}function Vt(t,e){return ct(">=",t,e,R)}function Tt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length<=1?e[0]:e.slice(1).reduce((function(t,e){return It(t,e)}),e[0])}function It(t,e){return ct("||",t,e,R)}function Ut(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length<=1?e[0]:e.slice(1).reduce((function(t,e){return Nt(t,e)}),e[0])}function Nt(t,e){return ct("&&",t,e,R)}function zt(t){return st("abs",t)}function Ct(t){return st("all",t,R)}function Ot(t){return st("any",t,R)}function Ft(t){return st("ceil",t)}function Dt(t,e,n){return ft("clamp",t,e,n,t.constructor)}function At(t){return st("cos",t)}function Pt(t,e){return lt("distance",t,e,F)}function Kt(t,e){return lt("dot",t,e,F)}function Mt(t){return st("floor",t)}function Et(t){return st("fract",t)}function Ht(t){return st("length",t,F)}function Rt(t,e){return lt("max",t,e)}function Lt(t,e){return lt("min",t,e)}function qt(t,e,n){return ft("mix",t,e,n)}function Wt(t,e){return lt("mod",t,e)}function jt(t){return st("normalize",t)}function Bt(t){return"bool"===t.type?st("!",t):st("not",t)}function Gt(t){return st("sin",t)}function Jt(t,e,n){return ft("smoothstep",t,e,n)}function Qt(t,e){return lt("step",t,e,e.constructor)}function Yt(t,e){return lt("texture2D",t,e,P)}},29660:function(t,e,n){var r;n.d(e,{t:function(){return r}}),function(t){t[t.Fill=0]="Fill",t[t.PatternFill=1]="PatternFill",t[t.ComplexFill=2]="ComplexFill",t[t.OutlineFill=3]="OutlineFill",t[t.PatternOutlineFill=4]="PatternOutlineFill",t[t.ComplexOutlineFill=5]="ComplexOutlineFill",t[t.Marker=6]="Marker",t[t.PieChart=7]="PieChart",t[t.Line=8]="Line",t[t.TexturedLine=9]="TexturedLine",t[t.Text=10]="Text",t[t.Label=11]="Label",t[t.Heatmap=12]="Heatmap",t[t.DotDensity=13]="DotDensity",t[t.Test=14]="Test"}(r||(r={}))},70467:function(t,e,n){n.d(e,{m:function(){return r}});var r={bitset:{isSDF:0,isMapAligned:1,scaleSymbolsProportionally:2,overrideOutlineColor:3,colorLocked:4}}},15135:function(t,e,n){n.d(e,{Ie:function(){return Z},RS:function(){return g},fz:function(){return b},HN:function(){return m}});var r=n(43144),i=n(15671),o=n(60136),u=n(29388),a=n(27366),c=n(8841),s=n(73325),l=n(52995),f=n(93169),v=n(34130),h=function(t){(0,o.Z)(n,t);var e=(0,u.Z)(n);function n(){return(0,i.Z)(this,n),e.apply(this,arguments)}return(0,r.Z)(n,[{key:"getVisualVariableData",value:function(t){if(!this._vvData){var e=this.getAttributeDataCoords(t);this._vvData=(0,l.ig)(this.visualVariableData,e).setDebugName("storage2")}return this._vvData}},{key:"getAttributeDataCoords",value:function(t){if(!this._uv){var e=(0,v.Wv)(t),n=this.size,r=(0,l.e$)(e.x),i=(0,l.e$)(e.y).multiply((0,l.e$)(256)),o=(0,l.e$)(e.z).multiply((0,l.e$)(256)).multiply((0,l.e$)(256)),u=(0,l.fz)(r.add(i).add(o)),a=(0,l.wQ)(u,n),c=u.subtract(a).divide(n);this._uv=new l.Sg(a,c).add(.5).divide(n)}return this._uv}},{key:"getFilterData",value:function(t){var e=this.getAttributeDataCoords(t);return(0,l.ig)(this.filterFlags,e).setDebugName("storage0")}},{key:"getAnimationData",value:function(t){var e=this.getAttributeDataCoords(t);return(0,l.ig)(this.animation,e).setDebugName("storage1")}},{key:"getVVData",value:function(t){return this.getVisualVariableData(t)}},{key:"getDataDrivenData0",value:function(t){var e=this.getAttributeDataCoords(t);return(0,l.ig)(this.dataDriven0,e).setDebugName("storage30")}},{key:"getDataDrivenData1",value:function(t){var e=this.getAttributeDataCoords(t);return(0,l.ig)(this.dataDriven1,e).setDebugName("storage31")}},{key:"getDataDrivenData2",value:function(t){var e=this.getAttributeDataCoords(t);return(0,l.ig)(this.dataDriven2,e).setDebugName("storage32")}},{key:"getGPGPUData",value:function(t){var e=this.getAttributeDataCoords(t);return(0,l.ig)(this.gpgpu,e).setDebugName("storage4")}},{key:"getFilterFlags",value:function(t){return(0,f.Z)("webgl-ignores-sampler-precision")?(0,l.mD)(this.getFilterData(t).x.multiply((0,l.fz)(255))):this.getFilterData(t).x.multiply((0,l.fz)(255))}},{key:"getAnimationValue",value:function(t){return this.getAnimationData(t).x}},{key:"getSizeValue",value:function(t){return this.getVisualVariableData(t).x}},{key:"getColorValue",value:function(t){return this.getVisualVariableData(t).y}},{key:"getOpacityValue",value:function(t){return this.getVisualVariableData(t).z}},{key:"getRotationValue",value:function(t){return this.getVisualVariableData(t).w}}]),n}(s.oo);(0,a._)([(0,s.e5)(l.Eg)],h.prototype,"filterFlags",void 0),(0,a._)([(0,s.e5)(l.Eg)],h.prototype,"animation",void 0),(0,a._)([(0,s.e5)(l.Eg)],h.prototype,"gpgpu",void 0),(0,a._)([(0,s.e5)(l.Eg)],h.prototype,"visualVariableData",void 0),(0,a._)([(0,s.e5)(l.Eg)],h.prototype,"dataDriven0",void 0),(0,a._)([(0,s.e5)(l.Eg)],h.prototype,"dataDriven1",void 0),(0,a._)([(0,s.e5)(l.Eg)],h.prototype,"dataDriven2",void 0),(0,a._)([(0,s.e5)(l.bv)],h.prototype,"size",void 0);var p=function(t){(0,o.Z)(n,t);var e=(0,u.Z)(n);function n(){return(0,i.Z)(this,n),e.apply(this,arguments)}return(0,r.Z)(n)}(s.oo);(0,a._)([(0,s.e5)(l.bv)],p.prototype,"activeReasons",void 0),(0,a._)([(0,s.e5)(l.bv)],p.prototype,"highlightAll",void 0);var d=function(t){(0,o.Z)(n,t);var e=(0,u.Z)(n);function n(){return(0,i.Z)(this,n),e.apply(this,arguments)}return(0,r.Z)(n)}(s.oo);(0,a._)([(0,s.e5)(l.Sg)],d.prototype,"position",void 0),(0,a._)([(0,s.e5)(l.bv)],d.prototype,"distance",void 0),(0,a._)([(0,s.e5)(l.bv)],d.prototype,"smallSymbolDistance",void 0),(0,a._)([(0,s.e5)(l.bv)],d.prototype,"smallSymbolSizeThreshold",void 0);var y=n(31060),m=function(t){(0,o.Z)(n,t);var e=(0,u.Z)(n);function n(){return(0,i.Z)(this,n),e.apply(this,arguments)}return(0,r.Z)(n)}(s.Pz);(0,a._)([(0,s.xh)(0,l.AO)],m.prototype,"id",void 0),(0,a._)([(0,s.xh)(1,l.bv)],m.prototype,"bitset",void 0),(0,a._)([(0,s.xh)(2,l.Sg)],m.prototype,"pos",void 0);var g=function(t){(0,o.Z)(n,t);var e=(0,u.Z)(n);function n(){return(0,i.Z)(this,n),e.apply(this,arguments)}return(0,r.Z)(n)}(s.yu);(0,a._)([(0,s.xh)(14,l.Sg)],g.prototype,"nextPos1",void 0),(0,a._)([(0,s.xh)(15,l.Sg)],g.prototype,"nextPos2",void 0);var b=function(t){(0,o.Z)(n,t);var e=(0,u.Z)(n);function n(){return(0,i.Z)(this,n),e.apply(this,arguments)}return(0,r.Z)(n)}(s.XB),Z=function(t){(0,o.Z)(n,t);var e=(0,u.Z)(n);function n(){return(0,i.Z)(this,n),e.apply(this,arguments)}return(0,r.Z)(n,[{key:"clip",value:function(t,e){var n=new l.bv(0),r=this.storage.getFilterFlags(t);if(n=n.add((0,l.fz)(2).multiply((0,l.fz)(1).subtract((0,v.bG)(r,0)))),this.inside?n=n.add((0,l.fz)(2).multiply((0,l.fz)(1).subtract((0,v.bG)(r,1)))):this.outside?n=n.add((0,l.fz)(2).multiply((0,v.bG)(r,1))):this.highlight&&(n=n.add((0,l.fz)(2).multiply((0,l.fz)(1).subtract(this._checkHighlight(r))))),null!=e){var i=new l.bv(1).subtract((0,l.Nb)(e.x,this.view.currentZoom)),o=(0,l.Nb)(e.y,this.view.currentZoom);n=n.add(new l.bv(2).multiply(i.add(o)))}return n}},{key:"getFragmentOutput",value:function(t,e){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new l.bv(1/255),o=new s.Qt;return o.glFragColor=null!==(n=null!==(r=this._maybeWriteHittest(e))&&void 0!==r?r:this._maybeHighlight(t,i))&&void 0!==n?n:t,o}},{key:"_maybeHighlight",value:function(t,e){return this.highlight?new l.T8(t.rgb,(0,l.Nb)(e,t.a)):null}},{key:"_checkHighlight",value:function(t){for(var e=this._checkHighlightBit(t,0),n=1;n<c.Oo.length;n++)e=e.add(this._checkHighlightBit(t,n));return(0,l.Nb)(new l.bv(.1),e.add(this.highlight.highlightAll))}},{key:"_checkHighlightBit",value:function(t,e){return(0,v.hG)(t,e).multiply((0,v.qD)(this.highlight.activeReasons,e))}},{key:"maybeRunHittest",value:function(t,e,n){if(null==this.hittestRequest)return null;var r=this.hittest(t,e,n),i=(0,l.KJ)((0,l.tS)(r,this.hittestRequest.distance),new l.bv(2),new l.bv(0)),o=this.storage.getAttributeDataCoords(t.id),u=(0,v.pK)(o);i=i.add(this.clip(t.id,t.zoomRange));var a=new l.T8(new l.bv(1/255),0,0,0);return{glPointSize:new l.bv(1),glPosition:new l.T8(u,i,1),color:a}}},{key:"_maybeWriteHittest",value:function(t){return null!=this.hittestRequest?t.color:null}}]),n}(s.ri);(0,a._)([s.Ou],Z.prototype,"inside",void 0),(0,a._)([s.Ou],Z.prototype,"outside",void 0),(0,a._)([(0,s.Kw)(p)],Z.prototype,"highlight",void 0),(0,a._)([(0,s.e5)(h)],Z.prototype,"storage",void 0),(0,a._)([(0,s.e5)(y.C)],Z.prototype,"view",void 0),(0,a._)([(0,s.Kw)(d)],Z.prototype,"hittestRequest",void 0)},26837:function(t,e,n){n.d(e,{LU:function(){return k},Oh:function(){return w},YW:function(){return _}});var r=n(1413),i=n(88301),o=n(61120),u=n(43144),a=n(15671),c=n(60136),s=n(29388),l=n(27366),f=n(73325),v=n(52995),h=n(15135),p=n(17326),d=n(93787),y=n(23058),m=n(31571),g=n(34130),b=function(t){(0,c.Z)(n,t);var e=(0,s.Z)(n);function n(){return(0,a.Z)(this,n),e.apply(this,arguments)}return(0,u.Z)(n)}(d.F);(0,l._)([(0,f.xh)(5,v.T8)],b.prototype,"tlbr",void 0),(0,l._)([(0,f.xh)(6,v.bv)],b.prototype,"width",void 0),(0,l._)([(0,f.xh)(7,v.bv)],b.prototype,"height",void 0),(0,l._)([(0,f.xh)(8,v.Sg)],b.prototype,"offset",void 0),(0,l._)([(0,f.xh)(9,v.Sg)],b.prototype,"scale",void 0),(0,l._)([(0,f.xh)(10,v.bv)],b.prototype,"angle",void 0);var Z=function(t){(0,c.Z)(n,t);var e=(0,s.Z)(n);function n(){return(0,a.Z)(this,n),e.apply(this,arguments)}return(0,u.Z)(n)}(h.fz);function _(t,e){var n=t.view.requiredZoomFactor,r=new v.Sg(e.width,e.height),i=r.multiply(e.scale).multiply(n),o=e.angle.multiply(p.e4),u=(0,v.O$)(o),a=(0,v.mC)(o),c=function(t,e,n,r,i){var o=(0,v.ln)((0,g.qD)(i,p.Ux),(0,v.fz)(1)),u=(0,g.JH)(new v.T8(t,0));return(0,v.KJ)(o,(0,v.wO)(r.divide(e.x),n.divide(e.y),0,(0,v.tk)(n.divide(e.x)),r.divide(e.y),0,(0,g.TN)((0,v.K4)(u,0)),(0,g.TN)((0,v.K4)(0,u)),1),(0,v.wO)(r.divide(e.x),n.divide(e.y),0,(0,v.tk)(n.divide(e.x)),r.divide(e.y),0,0,0,1))}(e.id,i,u,a,e.bitset),s=t.localTileOffset.getPatternOffsetAtTileOrigin(r,u,a),l=n.multiply(e.scale).multiply(e.offset.subtract(s)).divide(i),f=new v.AO(e.pos,1),h=c.multiply(f).xy.subtract(l),d=e.tlbr.divide(t.mosaicInfo.size.xyxy),y=(0,g.qD)(e.bitset,p.GS);return null!=t.visualVariableColor&&(y=(0,v.KJ)((0,g.In)(t.storage.getColorValue(e.id)),new v.bv(0),y)),{tileTextureCoord:h,tlbr:d,sampleAlphaOnly:y}}function w(t,e){var n=(0,v.wQ)(e.tileTextureCoord,new v.bv(1)),r=(0,v.CD)(e.tlbr.xy,e.tlbr.zw,n),i=(0,v.ig)(t.mosaicInfo.texture,r);return i=(0,v.KJ)((0,v.tS)(e.sampleAlphaOnly,new v.bv(.5)),i.aaaa,i),e.color.multiply(i)}var k=function(t){(0,c.Z)(n,t);var e=(0,s.Z)(n);function n(){return(0,a.Z)(this,n),e.apply(this,arguments)}return(0,u.Z)(n,[{key:"vertex",value:function(t,e){return(0,r.Z)((0,r.Z)({},(0,i.Z)((0,o.Z)(n.prototype),"vertex",this).call(this,t,e)),_(this,t))}},{key:"fragment",value:function(t){var e=w(this,t);return this.getFragmentOutput(e,t,new v.bv(0))}}]),n}(d.C);(0,l._)([(0,f.e5)(m.N)],k.prototype,"mosaicInfo",void 0),(0,l._)([(0,f.e5)(y.H)],k.prototype,"localTileOffset",void 0),(0,l._)([(0,l.a)(0,(0,f.qH)(b)),(0,l.a)(1,(0,f.qH)(h.RS))],k.prototype,"vertex",null),(0,l._)([(0,l.a)(0,(0,f.qH)(Z))],k.prototype,"fragment",null)},78825:function(t,e,n){n.d(e,{$1:function(){return b},NS:function(){return _},Nz:function(){return x}});var r=n(1413),i=n(43144),o=n(15671),u=n(60136),a=n(29388),c=n(27366),s=n(73325),l=n(52995),f=n(15135),v=n(26837),h=n(19812),p=n(16661),d=n(23058),y=n(31571),m=n(48156),g=n(44461),b=16,Z=1/b,_=128,w=function(t){(0,u.Z)(n,t);var e=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n)}(f.HN);(0,c._)([(0,s.xh)(3,l.T8)],w.prototype,"color",void 0),(0,c._)([(0,s.xh)(4,l.T8)],w.prototype,"tlbr",void 0),(0,c._)([(0,s.xh)(5,l.bv)],w.prototype,"angle",void 0),(0,c._)([(0,s.xh)(6,l.bv)],w.prototype,"aux1",void 0),(0,c._)([(0,s.xh)(7,l.bv)],w.prototype,"aux2",void 0),(0,c._)([(0,s.xh)(8,l.Sg)],w.prototype,"aux3",void 0),(0,c._)([(0,s.xh)(9,l.Sg)],w.prototype,"aux4",void 0),(0,c._)([(0,s.xh)(10,l.Sg)],w.prototype,"zoomRange",void 0);var k=function(t){(0,u.Z)(n,t);var e=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n)}(g.K7),x=function(t){(0,u.Z)(n,t);var e=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n,[{key:"vertex",value:function(t,e){var n=t.aux1,i=t.aux2,o=t.aux3,u=t.aux4,a=(0,r.Z)((0,r.Z)({},t),{},{width:n,height:i,offset:o,scale:u.multiply(Z)}),c=(0,r.Z)((0,r.Z)({},t),{},{halfWidth:n,referenceHalfWidth:i,offset:o,normal:u.subtract(_).multiply(Z)}),s=(0,m.R0)(this,c),f=(0,v.YW)(this,a),h=(0,l.tS)(s.isOutline,new l.bv(.5));return(0,r.Z)((0,r.Z)((0,r.Z)({},s),f),this.maybeRunHittest(t,e,h))}},{key:"fragment",value:function(t){var e=t.isOutline,n=(0,l.tS)(e,new l.bv(.5)),r=(0,p.zj)(t,this.antialiasingControls.blur),i=(0,v.Oh)(this,t),o=(0,l.KJ)(n,r,i),u=(0,l.KJ)(n,new l.bv(1/255),new l.bv(0));return this.getFragmentOutput(o,t,u)}},{key:"hittest",value:function(t,e,n){return(0,l.KJ)(n,(0,h.Oz)(this.hittestRequest),(0,h.CC)(this,t,e))}}]),n}(m.VV);(0,c._)([(0,s.e5)(y.N)],x.prototype,"mosaicInfo",void 0),(0,c._)([(0,s.e5)(d.H)],x.prototype,"localTileOffset",void 0),(0,c._)([(0,c.a)(0,(0,s.qH)(w)),(0,c.a)(1,(0,s.qH)(f.RS))],x.prototype,"vertex",null),(0,c._)([(0,c.a)(0,(0,s.qH)(k))],x.prototype,"fragment",null)},93787:function(t,e,n){n.d(e,{C:function(){return m},F:function(){return y}});var r=n(1413),i=n(43144),o=n(15671),u=n(60136),a=n(29388),c=n(27366),s=n(73325),l=n(52995),f=n(15135),v=n(19812),h=n(14294),p=n(72328),d=n(10750),y=function(t){(0,u.Z)(n,t);var e=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n)}(f.HN);(0,c._)([(0,s.xh)(3,l.T8)],y.prototype,"color",void 0),(0,c._)([(0,s.xh)(4,l.Sg)],y.prototype,"zoomRange",void 0);var m=function(t){(0,u.Z)(n,t);var e=(0,a.Z)(n);function n(){var t;return(0,o.Z)(this,n),(t=e.apply(this,arguments)).computeAttributes={pos:["nextPos1","nextPos2"]},t}return(0,i.Z)(n,[{key:"vertex",value:function(t,e){var n=(0,d.sY)(this,t.id),i=(0,d.Zt)(this,t.id,t.color).multiply(n),o=this.view.displayViewScreenMat3.multiply(new l.AO(t.pos.xy,1)),u=this.clip(t.id,t.zoomRange);return(0,r.Z)({glPosition:new l.T8(o.xy,u,1),color:i},this.maybeRunHittest(t,e,null))}},{key:"fragment",value:function(t){return this.getFragmentOutput(t.color,t,new l.bv(0))}},{key:"hittest",value:function(t,e){return(0,v.CC)(this,t,e)}}]),n}(f.Ie);(0,c._)([(0,s.Kw)(h.W)],m.prototype,"visualVariableColor",void 0),(0,c._)([(0,s.Kw)(p.V)],m.prototype,"visualVariableOpacity",void 0),(0,c._)([(0,c.a)(0,(0,s.qH)(y)),(0,c.a)(1,(0,s.qH)(f.RS))],m.prototype,"vertex",null),(0,c._)([(0,c.a)(0,(0,s.qH)(f.fz))],m.prototype,"fragment",null)},16661:function(t,e,n){n.d(e,{Pf:function(){return I},Wc:function(){return S},b$:function(){return k},fc:function(){return w},tp:function(){return _},uY:function(){return V},zj:function(){return T}});var r=n(1413),i=n(43144),o=n(15671),u=n(60136),a=n(29388),c=n(27366),s=n(73325),l=n(52995),f=n(15135),v=n(17326),h=n(19812),p=n(14294),d=n(72328),y=n(48684),m=n(60064),g=n(9830),b=n(38694),Z=n(10750),_=function(t){(0,u.Z)(n,t);var e=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n)}(f.HN);(0,c._)([(0,s.xh)(3,l.T8)],_.prototype,"color",void 0),(0,c._)([(0,s.xh)(4,l.Sg)],_.prototype,"offset",void 0),(0,c._)([(0,s.xh)(5,l.Sg)],_.prototype,"normal",void 0),(0,c._)([(0,s.xh)(6,l.bv)],_.prototype,"halfWidth",void 0),(0,c._)([(0,s.xh)(7,l.bv)],_.prototype,"referenceHalfWidth",void 0),(0,c._)([(0,s.xh)(8,l.Sg)],_.prototype,"zoomRange",void 0);var w=function(t){(0,u.Z)(n,t);var e=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n)}(f.fz),k=function(t){(0,u.Z)(n,t);var e=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n)}(s.oo);function x(t){return(0,l.Fp)(new l.bv(v.Ay).multiply((0,l.Nb)(t,new l.bv(v.xp))),new l.bv(1))}function S(t,e){var n=t.halfWidth,r=t.normal,i=x(n),o=(0,l.kE)(r).multiply(n);return(0,l.uZ)(i.multiply(n.subtract(o)).divide(e.add(i).subtract(new l.bv(1))),new l.bv(0),new l.bv(1))}function V(t,e){var n=e.id,r=e.offset,i=e.pos,o=e.normal,u=e.zoomRange,a=t.view,c=a.displayViewScreenMat3,s=a.displayViewMat3,f=(0,Z.Zt)(t,n,e.color),h=(0,Z.sY)(t,n),p=function(t,e){var n=e.id,r=e.halfWidth,i=e.referenceHalfWidth;if((0,Z.lA)(t)){var o=new l.bv(2).multiply(i),u=(0,Z.Vm)(t,n,o);return new l.bv(.5).multiply(r.divide((0,l.Fp)(i,new l.bv(v.Ho)))).multiply(u)}return r}(t,e),d=new l.bv(.5).multiply(t.antialiasingControls.antialiasing),y=(0,l.Fp)(p.add(d),new l.bv(.45)).add(new l.bv(.1).multiply(d)),m=x(y).multiply(y).multiply(r),g=s.multiply(new l.AO(m,new l.bv(0))),b=c.multiply(new l.AO(i,new l.bv(1))).add(g),_=new l.bv(2).multiply((0,l.Nb)(p,new l.bv(0))).add(t.clip(n,u)),w=new l.T8(b.xy,_,1);return{color:f,opacity:h,halfWidth:y,normal:o,scaledOffset:m,scaledHalfWidth:p,glPosition:new l.T8(w.xy,_,1)}}function T(t,e){var n=t.opacity,r=t.color,i=S(t,e);return n.multiply(r).multiply(i)}(0,c._)([(0,s.e5)(l.bv)],k.prototype,"antialiasing",void 0),(0,c._)([(0,s.e5)(l.bv)],k.prototype,"blur",void 0);var I=function(t){(0,u.Z)(n,t);var e=(0,a.Z)(n);function n(){var t;return(0,o.Z)(this,n),(t=e.apply(this,arguments)).computeAttributes={pos:["nextPos1","nextPos2"]},t}return(0,i.Z)(n,[{key:"vertex",value:function(t,e){var n=V(this,t);return(0,r.Z)((0,r.Z)({},n),this.maybeRunHittest(t,e,n.halfWidth))}},{key:"fragment",value:function(t){var e=T(t,this.antialiasingControls.blur);return this.getFragmentOutput(e,t)}},{key:"hittest",value:function(t,e,n){var r=this.view,i=r.viewMat3,o=r.tileMat3,u=i.multiply(o),a=u.multiply(new l.AO(t.pos,1)),c=u.multiply(new l.AO(e.nextPos1,1)),s=u.multiply(new l.AO(e.nextPos2,1)),f=this.hittestRequest,v=f.distance,p=f.smallSymbolDistance,d=f.smallSymbolSizeThreshold,y=(0,l.Nb)(n,d.multiply(.5)).multiply(v.subtract(p)),m=this.hittestRequest.position;return(0,l.VV)((0,h.bA)(m,a.xy,c.xy),(0,h.bA)(m,a.xy,s.xy)).subtract(n).add(y)}}]),n}(f.Ie);(0,c._)([(0,s.e5)(k)],I.prototype,"antialiasingControls",void 0),(0,c._)([(0,s.Kw)(p.W)],I.prototype,"visualVariableColor",void 0),(0,c._)([(0,s.Kw)(d.V)],I.prototype,"visualVariableOpacity",void 0),(0,c._)([(0,s.Kw)(y.k)],I.prototype,"visualVariableSizeMinMaxValue",void 0),(0,c._)([(0,s.Kw)(m.U)],I.prototype,"visualVariableSizeScaleStops",void 0),(0,c._)([(0,s.Kw)(g.W)],I.prototype,"visualVariableSizeStops",void 0),(0,c._)([(0,s.Kw)(b.V)],I.prototype,"visualVariableSizeUnitValue",void 0),(0,c._)([(0,c.a)(0,(0,s.qH)(_)),(0,c.a)(1,(0,s.qH)(f.RS))],I.prototype,"vertex",null),(0,c._)([(0,c.a)(0,(0,s.qH)(w))],I.prototype,"fragment",null)},23058:function(t,e,n){n.d(e,{H:function(){return f}});var r=n(15671),i=n(43144),o=n(60136),u=n(29388),a=n(27366),c=n(73325),s=n(52995),l=n(17326),f=function(t){(0,o.Z)(n,t);var e=(0,u.Z)(n);function n(){return(0,r.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n,[{key:"getPatternOffsetAtTileOrigin",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new s.bv(0),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new s.bv(1),r=new s.Sg(l.ad).divide(t),i=t.multiply((0,s.ZI)(this.maxIntsToLocalOrigin.multiply(r))).add(this.tileOffsetFromLocalOrigin).subtract(new s.bv(.5).multiply(t));return i=new s.Sg(i.x.multiply(n).subtract(i.y.multiply(e)),i.x.multiply(e).add(i.y.multiply(n))),(0,s.wQ)(i,t)}}]),n}(c.oo);(0,a._)([(0,c.e5)(s.Sg)],f.prototype,"tileOffsetFromLocalOrigin",void 0),(0,a._)([(0,c.e5)(s.Sg)],f.prototype,"maxIntsToLocalOrigin",void 0)},31571:function(t,e,n){n.d(e,{N:function(){return l}});var r=n(43144),i=n(15671),o=n(60136),u=n(29388),a=n(27366),c=n(73325),s=n(52995),l=function(t){(0,o.Z)(n,t);var e=(0,u.Z)(n);function n(){return(0,i.Z)(this,n),e.apply(this,arguments)}return(0,r.Z)(n)}(c.oo);(0,a._)([(0,c.e5)(s.Sg)],l.prototype,"size",void 0),(0,a._)([(0,c.e5)(s.Eg)],l.prototype,"texture",void 0)},48156:function(t,e,n){n.d(e,{N8:function(){return k},R0:function(){return S},VV:function(){return V},jt:function(){return x},py:function(){return T}});var r=n(1413),i=n(43144),o=n(15671),u=n(60136),a=n(29388),c=n(27366),s=n(73325),l=n(52995),f=n(15135),v=n(17326),h=n(19812),p=n(16661),d=n(34130),y=n(14294),m=n(72328),g=n(48684),b=n(60064),Z=n(9830),_=n(38694),w=n(10750),k=function(t){(0,u.Z)(n,t);var e=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n)}(f.HN);(0,c._)([(0,s.xh)(3,l.Sg)],k.prototype,"offset",void 0),(0,c._)([(0,s.xh)(4,l.T8)],k.prototype,"color",void 0),(0,c._)([(0,s.xh)(5,l.Sg)],k.prototype,"normal",void 0),(0,c._)([(0,s.xh)(6,l.bv)],k.prototype,"halfWidth",void 0),(0,c._)([(0,s.xh)(7,l.bv)],k.prototype,"referenceHalfWidth",void 0),(0,c._)([(0,s.xh)(8,l.Sg)],k.prototype,"zoomRange",void 0);var x=function(t){(0,u.Z)(n,t);var e=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n)}(p.fc);function S(t,e,n){var i=e.id,o=e.bitset,u=(0,d.qD)(o,v.WD),a=(0,l.tS)(u,new l.bv(.5)),c=(0,p.uY)(t,e),s=(0,l.KJ)(a,c.halfWidth,new l.bv(0)),f=(0,w.sY)(t,i),h=(0,w.Zt)(t,i,e.color),y=(0,l.KJ)(a,e.color,h.multiply(f)),m=t.view.displayViewScreenMat3.multiply(new l.AO(e.pos.xy,1)),g=t.clip(e.id),b=new l.T8(m.xy,g,1),Z=(0,l.KJ)(a,c.glPosition,b),_=n&&t.maybeRunHittest(e,n,a);return(0,r.Z)({isOutline:u,color:y,opacity:new l.bv(1),halfWidth:s,normal:c.normal,glPosition:Z},_)}var V=function(t){(0,u.Z)(n,t);var e=(0,a.Z)(n);function n(){var t;return(0,o.Z)(this,n),(t=e.apply(this,arguments)).computeAttributes={pos:["nextPos1","nextPos2"]},t}return(0,i.Z)(n)}(f.Ie);(0,c._)([(0,s.e5)(p.b$)],V.prototype,"antialiasingControls",void 0),(0,c._)([(0,s.Kw)(y.W)],V.prototype,"visualVariableColor",void 0),(0,c._)([(0,s.Kw)(m.V)],V.prototype,"visualVariableOpacity",void 0),(0,c._)([(0,s.Kw)(g.k)],V.prototype,"visualVariableSizeMinMaxValue",void 0),(0,c._)([(0,s.Kw)(b.U)],V.prototype,"visualVariableSizeScaleStops",void 0),(0,c._)([(0,s.Kw)(Z.W)],V.prototype,"visualVariableSizeStops",void 0),(0,c._)([(0,s.Kw)(_.V)],V.prototype,"visualVariableSizeUnitValue",void 0);var T=function(t){(0,u.Z)(n,t);var e=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n,[{key:"vertex",value:function(t,e){return S(this,t,e)}},{key:"fragment",value:function(t){var e=t.color,n=t.isOutline,r=(0,l.tS)(n,new l.bv(.5)),i=(0,p.zj)(t,this.antialiasingControls.blur),o=(0,l.KJ)(r,i,e),u=(0,l.KJ)(r,new l.bv(1/255),new l.bv(0));return this.getFragmentOutput(o,t,u)}},{key:"hittest",value:function(t,e,n){return(0,l.KJ)(n,(0,h.Oz)(this.hittestRequest),(0,h.CC)(this,t,e))}}]),n}(V);(0,c._)([(0,c.a)(0,(0,s.qH)(k)),(0,c.a)(1,(0,s.qH)(f.RS))],T.prototype,"vertex",null),(0,c._)([(0,c.a)(0,(0,s.qH)(x))],T.prototype,"fragment",null)},44405:function(t,e,n){n.d(e,{DS:function(){return Z},Qp:function(){return b},lA:function(){return _}});var r=n(1413),i=n(88301),o=n(61120),u=n(43144),a=n(15671),c=n(60136),s=n(29388),l=n(27366),f=n(73325),v=n(52995),h=n(15135),p=n(93787),d=n(23058),y=n(31571),m=function(t){(0,c.Z)(n,t);var e=(0,s.Z)(n);function n(){return(0,a.Z)(this,n),e.apply(this,arguments)}return(0,u.Z)(n)}(p.F);(0,l._)([(0,f.xh)(5,v.T8)],m.prototype,"tlbr",void 0),(0,l._)([(0,f.xh)(6,v.bv)],m.prototype,"inverseRasterizationScale",void 0);var g=function(t){(0,c.Z)(n,t);var e=(0,s.Z)(n);function n(){return(0,a.Z)(this,n),e.apply(this,arguments)}return(0,u.Z)(n)}(h.fz);function b(t,e){var n=e.tlbr.xy,r=e.tlbr.zw,i=r.x.subtract(n.x),o=n.y.subtract(r.y),u=new v.Sg(i,o).multiply(e.inverseRasterizationScale),a=u.multiply(t.view.requiredZoomFactor),c=function(t){var e=new v.bv(1),n=new v.bv(0);return new v.Tu(e.divide(t.x),n.divide(t.y),0,(0,v.tk)(n.divide(t.x)),e.divide(t.y),0,0,0,1)}(a),s=t.localTileOffset.getPatternOffsetAtTileOrigin(u).divide(a),l=new v.AO(e.pos,1);return{tileTextureCoord:c.multiply(l).xy.subtract(s),tlbr:e.tlbr.divide(t.mosaicInfo.size.xyxy)}}function Z(t,e){var n=(0,v.wQ)(t.tileTextureCoord,new v.bv(1)),r=(0,v.CD)(t.tlbr.xy,t.tlbr.zw,n),i=(0,v.ig)(e.texture,r);return t.color.multiply(i)}var _=function(t){(0,c.Z)(n,t);var e=(0,s.Z)(n);function n(){return(0,a.Z)(this,n),e.apply(this,arguments)}return(0,u.Z)(n,[{key:"vertex",value:function(t,e){return(0,r.Z)((0,r.Z)({},(0,i.Z)((0,o.Z)(n.prototype),"vertex",this).call(this,t,e)),b(this,t))}},{key:"fragment",value:function(t){var e=Z(t,this.mosaicInfo);return this.getFragmentOutput(e,t,new v.bv(0))}}]),n}(p.C);(0,l._)([(0,f.e5)(y.N)],_.prototype,"mosaicInfo",void 0),(0,l._)([(0,f.e5)(d.H)],_.prototype,"localTileOffset",void 0),(0,l._)([(0,l.a)(0,(0,f.qH)(m)),(0,l.a)(1,(0,f.qH)(h.RS))],_.prototype,"vertex",null),(0,l._)([(0,l.a)(0,(0,f.qH)(g))],_.prototype,"fragment",null)},44461:function(t,e,n){n.d(e,{K7:function(){return g},Zd:function(){return b}});var r=n(1413),i=n(43144),o=n(15671),u=n(60136),a=n(29388),c=n(27366),s=n(73325),l=n(52995),f=n(15135),v=n(16661),h=n(23058),p=n(31571),d=n(48156),y=n(44405),m=function(t){(0,u.Z)(n,t);var e=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n)}(d.N8);(0,c._)([(0,s.xh)(9,l.T8)],m.prototype,"tlbr",void 0),(0,c._)([(0,s.xh)(10,l.bv)],m.prototype,"inverseRasterizationScale",void 0);var g=function(t){(0,u.Z)(n,t);var e=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n)}(d.jt),b=function(t){(0,u.Z)(n,t);var e=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n,[{key:"vertex",value:function(t,e){return(0,r.Z)((0,r.Z)({},(0,d.R0)(this,t,e)),(0,y.Qp)(this,t))}},{key:"fragment",value:function(t){var e=t.isOutline,n=(0,l.tS)(e,new l.bv(.5)),r=(0,v.zj)(t,this.antialiasingControls.blur),i=(0,y.DS)(t,this.mosaicInfo),o=(0,l.KJ)(n,r,i),u=(0,l.KJ)(n,new l.bv(1/255),new l.bv(0));return this.getFragmentOutput(o,t,u)}}]),n}(d.py);(0,c._)([(0,s.e5)(p.N)],b.prototype,"mosaicInfo",void 0),(0,c._)([(0,s.e5)(h.H)],b.prototype,"localTileOffset",void 0),(0,c._)([(0,c.a)(0,(0,s.qH)(m)),(0,c.a)(1,(0,s.qH)(f.RS))],b.prototype,"vertex",null),(0,c._)([(0,c.a)(0,(0,s.qH)(g))],b.prototype,"fragment",null)},31060:function(t,e,n){n.d(e,{C:function(){return l}});var r=n(43144),i=n(15671),o=n(60136),u=n(29388),a=n(27366),c=n(73325),s=n(52995),l=function(t){(0,o.Z)(n,t);var e=(0,u.Z)(n);function n(){return(0,i.Z)(this,n),e.apply(this,arguments)}return(0,r.Z)(n)}(c.oo);(0,a._)([(0,c.e5)(s.Tu)],l.prototype,"displayViewScreenMat3",void 0),(0,a._)([(0,c.e5)(s.Tu)],l.prototype,"displayViewMat3",void 0),(0,a._)([(0,c.e5)(s.Tu)],l.prototype,"displayMat3",void 0),(0,a._)([(0,c.e5)(s.Tu)],l.prototype,"viewMat3",void 0),(0,a._)([(0,c.e5)(s.Tu)],l.prototype,"tileMat3",void 0),(0,a._)([(0,c.e5)(s.bv)],l.prototype,"displayZoomFactor",void 0),(0,a._)([(0,c.e5)(s.bv)],l.prototype,"requiredZoomFactor",void 0),(0,a._)([(0,c.e5)(s.Sg)],l.prototype,"tileOffset",void 0),(0,a._)([(0,c.e5)(s.bv)],l.prototype,"currentScale",void 0),(0,a._)([(0,c.e5)(s.bv)],l.prototype,"currentZoom",void 0),(0,a._)([(0,c.e5)(s.bv)],l.prototype,"metersPerSRUnit",void 0),(0,a._)([(0,c.e5)(s.bv)],l.prototype,"rotation",void 0),(0,a._)([(0,c.e5)(s.bv)],l.prototype,"pixelRatio",void 0)},14294:function(t,e,n){n.d(e,{W:function(){return f}});var r=n(15671),i=n(43144),o=n(60136),u=n(29388),a=n(27366),c=n(73325),s=n(52995),l=n(34130),f=function(t){(0,o.Z)(n,t);var e=(0,u.Z)(n);function n(){return(0,r.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n,[{key:"getColor",value:function(t,e,n){var r=this;return(0,s.wV)([(0,s.or)((0,l.In)(t),n),e],[(0,s.Iz)(t,this.values.first()),this.colors.first()],[(0,s.r7)(t,this.values.last()),this.colors.last()],[!0,function(){var e=r.values.findIndex((function(e){return(0,s.tS)(e,t)})),n=r.values.get(e),i=e.subtract(1),o=r.values.get(i),u=t.subtract(o).divide(n.subtract(o));return(0,s.CD)(r.colors.get(i),r.colors.get(e),u)}])}}]),n}(c.oo);(0,a._)([(0,c.e5)(s.v8.ofType(s.T8,8))],f.prototype,"colors",void 0),(0,a._)([(0,c.e5)(s.v8.ofType(s.bv,8))],f.prototype,"values",void 0)},72328:function(t,e,n){n.d(e,{V:function(){return f}});var r=n(15671),i=n(43144),o=n(60136),u=n(29388),a=n(27366),c=n(73325),s=n(52995),l=n(34130),f=function(t){(0,o.Z)(n,t);var e=(0,u.Z)(n);function n(){return(0,r.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n,[{key:"getOpacity",value:function(t){var e=this;return(0,s.wV)([(0,l.In)(t),new s.bv(1)],[(0,s.Iz)(t,this.opacityValues.first()),this.opacities.first()],[(0,s.r7)(t,this.opacityValues.last()),this.opacities.last()],[!0,function(){var n=e.opacityValues.findIndex((function(e){return(0,s.tS)(e,t)})),r=e.opacityValues.get(n),i=n.subtract(1),o=e.opacityValues.get(i),u=t.subtract(o).divide(r.subtract(o));return(0,s.CD)(e.opacities.get(i),e.opacities.get(n),u)}])}}]),n}(c.oo);(0,a._)([(0,c.e5)(s.v8.ofType(s.bv,8))],f.prototype,"opacities",void 0),(0,a._)([(0,c.e5)(s.v8.ofType(s.bv,8))],f.prototype,"opacityValues",void 0)},48684:function(t,e,n){n.d(e,{k:function(){return f}});var r=n(15671),i=n(43144),o=n(60136),u=n(29388),a=n(27366),c=n(73325),s=n(52995),l=n(34130),f=function(t){(0,o.Z)(n,t);var e=(0,u.Z)(n);function n(){return(0,r.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n,[{key:"getSize",value:function(t,e){var n=this.minMaxValueAndSize.xy,r=this.minMaxValueAndSize.zw;return(0,s.KJ)((0,l.In)(t),e,(function(){var e=t.subtract(n.x).divide(n.y.subtract(n.x)),i=(0,s.uZ)(e,new s.bv(0),new s.bv(1));return r.x.add(i.multiply(r.y.subtract(r.x)))}))}}]),n}(c.oo);(0,a._)([(0,c.e5)(s.T8)],f.prototype,"minMaxValueAndSize",void 0)},60064:function(t,e,n){n.d(e,{U:function(){return l}});var r=n(15671),i=n(43144),o=n(60136),u=n(29388),a=n(27366),c=n(73325),s=n(52995),l=function(t){(0,o.Z)(n,t);var e=(0,u.Z)(n);function n(){return(0,r.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n,[{key:"getSizeForViewScale",value:function(t){var e=this;return(0,s.wV)([(0,s.Iz)(t,this.values.first()),this.sizes.first()],[(0,s.r7)(t,this.values.last()),this.sizes.last()],[!0,function(){var n=e.values.findIndex((function(e){return(0,s.tS)(e,t)})),r=e.values.get(n),i=n.subtract(1),o=e.values.get(i),u=t.subtract(o).divide(r.subtract(o));return(0,s.CD)(e.sizes.get(i),e.sizes.get(n),u)}])}}]),n}(c.oo);(0,a._)([(0,c.e5)(s.v8.ofType(s.bv,8))],l.prototype,"sizes",void 0),(0,a._)([(0,c.e5)(s.v8.ofType(s.bv,8))],l.prototype,"values",void 0)},9830:function(t,e,n){n.d(e,{W:function(){return f}});var r=n(15671),i=n(43144),o=n(60136),u=n(29388),a=n(27366),c=n(73325),s=n(52995),l=n(34130),f=function(t){(0,o.Z)(n,t);var e=(0,u.Z)(n);function n(){return(0,r.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n,[{key:"getSize",value:function(t,e){var n=this,r=(0,s.wV)([(0,l.In)(t),e],[(0,s.Iz)(t,this.values.first()),this.sizes.first()],[(0,s.r7)(t,this.values.last()),this.sizes.last()],[!0,function(){var e=n.values.findIndex((function(e){return(0,s.tS)(e,t)})),r=n.values.get(e),i=e.subtract(1),o=n.values.get(i),u=t.subtract(o).divide(r.subtract(o));return(0,s.CD)(n.sizes.get(i),n.sizes.get(e),u)}]);return(0,s.KJ)((0,l.In)(r),e,r)}}]),n}(c.oo);(0,a._)([(0,c.e5)(s.v8.ofType(s.bv,8))],f.prototype,"sizes",void 0),(0,a._)([(0,c.e5)(s.v8.ofType(s.bv,8))],f.prototype,"values",void 0)},38694:function(t,e,n){n.d(e,{V:function(){return f}});var r=n(15671),i=n(43144),o=n(60136),u=n(29388),a=n(27366),c=n(73325),s=n(52995),l=n(34130),f=function(t){(0,o.Z)(n,t);var e=(0,u.Z)(n);function n(){return(0,r.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n,[{key:"getSize",value:function(t,e){return(0,s.KJ)((0,l.In)(t),e,t.multiply(this.unitValueToPixelsRatio))}}]),n}(c.oo);(0,a._)([(0,c.e5)(s.bv)],f.prototype,"unitValueToPixelsRatio",void 0)},17326:function(t,e,n){var r;n.d(e,{$r:function(){return Z},Ay:function(){return a},B7:function(){return g},GS:function(){return p},Ho:function(){return f},Ke:function(){return l},MO:function(){return r},T5:function(){return v},Ux:function(){return y},V_:function(){return s},WD:function(){return d},Wq:function(){return m},ad:function(){return _},e4:function(){return o},k9:function(){return h},mL:function(){return b},nF:function(){return i},nU:function(){return u},xp:function(){return c}}),function(t){t[t.Geographic=0]="Geographic",t[t.Arithmatic=1]="Arithmatic"}(r||(r={}));var i=3.14159265359/180,o=3.14159265359/128,u=1,a=1.1,c=1,s=24,l=8,f=1e-5,v=.05,h=1e-30,p=4,d=0,y=2,m=2,g=3,b=0,Z=3,_=16777216},19812:function(t,e,n){n.d(e,{CC:function(){return v},Oz:function(){return f},P0:function(){return l},XM:function(){return h},bA:function(){return u},hF:function(){return c},lD:function(){return a}});var r=n(52995),i=n(17326),o=n(34130);function u(t,e,n){var i=n.subtract(e),o=function(t,e){return(0,r.AK)(t,(0,r.Fv)(e))}(t.subtract(e),i),u=(0,r.uZ)(o.divide((0,r.kE)(i)),new r.bv(0),new r.bv(1));return(0,r.TE)(t,e.add(u.multiply(n.subtract(e))))}function a(t){var e=(0,r.Wn)(t);return(0,r.Nb)(e.x.add(e.y).add(e.z),new r.bv(1.05))}function c(t,e,n,i){var o=new r.Tu(n.x.multiply(i.y).subtract(i.x.multiply(n.y)),i.x.multiply(e.y).subtract(e.x.multiply(i.y)),e.x.multiply(n.y).subtract(n.x.multiply(e.y)),n.y.subtract(i.y),i.y.subtract(e.y),e.y.subtract(n.y),i.x.subtract(n.x),e.x.subtract(i.x),n.x.subtract(e.x)),u=e.x.multiply(n.y.subtract(i.y)),a=n.x.multiply(i.y.subtract(e.y)),c=i.x.multiply(e.y.subtract(n.y)),s=u.add(a).add(c);return new r.bv(1).divide(s).multiply(o.multiply(new r.AO(1,t)))}function s(t,e,n,i){return(0,r.ln)(a(c(t,e,n,i)),new r.bv(1))}function l(t,e,n,a){var c=n.subtract(e),l=a.subtract(e),f=(0,o.xQ)(c,l),v=(0,r.xD)((0,r.Qj)(f,new r.bv(i.T5)),(0,r.tS)(f,new r.bv(-i.T5)));return(0,r.wV)([(0,r.xD)((0,r.ff)(v),s(t.xy,e,n,a)),new r.bv(-1)],[!0,function(){var i=u(t,e,n),o=u(t,n,a),c=u(t,a,e);return(0,r.VV)((0,r.VV)(i,o),c)}])}function f(t){return t.distance.add(1)}function v(t,e,n){var i=t.view,o=i.viewMat3,u=i.tileMat3,a=o.multiply(u),c=a.multiply(new r.AO(e.pos,1)),s=a.multiply(new r.AO(n.nextPos1,1)),f=a.multiply(new r.AO(n.nextPos2,1));return l(t.hittestRequest.position,c.xy,s.xy,f.xy)}function h(t,e,n){return(0,r.TE)(t,n).subtract(e)}},34130:function(t,e,n){n.d(e,{In:function(){return a},JH:function(){return d},TN:function(){return u},Wv:function(){return p},X3:function(){return y},bG:function(){return v},h7:function(){return f},hG:function(){return h},pK:function(){return s},qD:function(){return l},xQ:function(){return c}});var r=n(8841),i=n(52995),o=n(17326);function u(t){var e=(0,i.fz)(12.9898),n=(0,i.fz)(78.233),r=(0,i.fz)(43758.5453),o=(0,i.AK)(t,(0,i.K4)(e,n)),u=(0,i.wQ)(o,(0,i.fz)(3.14));return(0,i.ZI)((0,i.O$)(u).multiply(r))}function a(t){return(0,i.ln)(t,(0,i.fz)(o.k9))}function c(t,e){return t.x.multiply(e.y).subtract(e.x.multiply(t.y))}function s(t){return t.multiply(2).subtract(1)}function l(t,e){var n=(0,i.fz)(Math.pow(2,e));return(0,i.wQ)((0,i.GW)(t.divide(n)),(0,i.fz)(2))}function f(t,e){return(0,i.tS)(l(t,e),(0,i.fz)(.5))}function v(t,e){return l(t,e+r.Oo.length)}function h(t,e){return l(t,e)}function p(t){var e=l(t.z,7),n=(0,i.fz)(1).subtract(e),r=t.xyz.subtract((0,i.R3)(0,0,(0,i.fz)(128)));return n.multiply(t).add(e.multiply(r))}function d(t){var e=(0,i.vh)(255/256,255/65536,255/16777216,255/4294967296);return(0,i.AK)(t,e)}function y(t){return(0,i.Fp)((0,i.Fp)((0,i.Fp)(t.x,t.y),t.z),t.w)}},10750:function(t,e,n){n.d(e,{H8:function(){return c},Vm:function(){return o},Zt:function(){return u},lA:function(){return i},sY:function(){return a}});var r=n(52995);function i(t){return null!=t.visualVariableSizeMinMaxValue||null!=t.visualVariableSizeScaleStops||null!=t.visualVariableSizeStops||null!=t.visualVariableSizeUnitValue}function o(t,e,n){if(i(t)){var r,o,u,a,c,s,l,f=t.storage.getSizeValue(e);return null!==(r=null!==(o=null!==(u=null===(a=t.visualVariableSizeMinMaxValue)||void 0===a?void 0:a.getSize(f,n))&&void 0!==u?u:null===(c=t.visualVariableSizeScaleStops)||void 0===c?void 0:c.getSizeForViewScale(t.view.currentScale))&&void 0!==o?o:null===(s=t.visualVariableSizeStops)||void 0===s?void 0:s.getSize(f,n))&&void 0!==r?r:null===(l=t.visualVariableSizeUnitValue)||void 0===l?void 0:l.getSize(f,n)}return n}function u(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new r.tW(!1);if(null==t.visualVariableColor)return n;var o=t.storage.getColorValue(e);return t.visualVariableColor.getColor(o,n,i)}function a(t,e){if(null==t.visualVariableOpacity)return new r.bv(1);var n=t.storage.getOpacityValue(e);return t.visualVariableOpacity.getOpacity(n)}function c(t,e){if(null==t.visualVariableRotation)return r.Tu.identity();var n=t.storage.getRotationValue(e);return t.visualVariableRotation.getVVRotationMat3(n)}},19407:function(t,e,n){n.d(e,{X:function(){return h}});var r=n(29439),i=n(37762),o=n(15671),u=n(43144),a=n(10064),c=n(32718),s=n(18202),l=(n(84936),n(93169),n(37825),n(8548),n(53634),n(47428)),f=(n(46888),n(57808),n(84319));function v(t,e,n){var r=e.length;if(r!==n){var i=new a.Z("Invalid Uniform","Invalid length, expected ".concat(n," but got ").concat(r),{uniformName:t,values:e});c.Z.getLogger("esri.views.2d.engine.webgl.shaderGraph.typed.TypedShaderProgram").errorOnce(i)}}var h=function(){function t(e,n,r,i,u,a){(0,o.Z)(this,t),this._program=null,this._vao=null,this._temporaryTextures=[],this.vertexShader=e,this.fragmentShader=n,this._locations=r,this._locationInfo=i,this._uniformBindings=u,this._transformFeedbackBindings=a}return(0,u.Z)(t,[{key:"destroy",value:function(){this._program&&this._program.dispose(),this.cleanupTemporaryTextures()}},{key:"locations",get:function(){return this._locations}},{key:"locationInfo",get:function(){return this._locationInfo}},{key:"setUniforms",value:function(t){this._uniforms=t}},{key:"cleanupTemporaryTextures",value:function(){var t,e=(0,i.Z)(this._temporaryTextures);try{for(e.s();!(t=e.n()).done;){t.value.dispose()}}catch(n){e.e(n)}finally{e.f()}this._temporaryTextures=[]}},{key:"bind",value:function(t){var e=this._uniforms;if(!this._program){var n,o,u=new Map,a=(0,i.Z)(this._locations);try{for(a.s();!(o=a.n()).done;){var c=(0,r.Z)(o.value,2),h=c[0],p=c[1];u.set(h,p)}}catch(O){a.e(O)}finally{a.f()}var d,y=[],m=(0,i.Z)(null!==(n=this._transformFeedbackBindings)&&void 0!==n?n:[]);try{for(m.s();!(d=m.n()).done;){var g=d.value,b=g.index,Z=g.propertyKey;y[b]="v_".concat(Z)}}catch(O){m.e(O)}finally{m.f()}this._program=new l.$(t,this.vertexShader,this.fragmentShader,u,new Map,y)}var _=this._program;t.useProgram(_);var w,k=(0,i.Z)(this._uniformBindings);try{for(k.s();!(w=k.n()).done;){var x=w.value,S=x.shaderModulePath,V=x.uniformName,T=x.uniformType,I=x.uniformArrayLength,U=(0,s.hS)(S,e);if(null==U){if("sampler2D"===T)continue;throw new Error("Failed to find uniform value for ".concat(S))}switch("array"===T?x.uniformArrayElementType:T){case"sampler2D":var N=U.unit,z=U.texture;if(_.setUniform1i(V,N),"type"in z)t.bindTexture(z,N);else{var C=(0,f.cU)(t,z.descriptor,z.data);t.bindTexture(C,N)}break;case"int":if(!I){_.setUniform1i(V,U);break}v(x.uniformName,U,I),_.setUniform1iv(V,U);break;case"float":if(!I){_.setUniform1f(V,U);break}v(x.uniformName,U,I),_.setUniform1fv(V,U);break;case"vec2":if(!I){_.setUniform2f(V,U[0],U[1]);break}v(x.uniformName,U,I),_.setUniform2fv(V,U.flat());break;case"vec3":if(!I){_.setUniform3f(V,U[0],U[1],U[2]);break}v(x.uniformName,U,I),_.setUniform3fv(V,U.flat());break;case"vec4":if(!I){_.setUniform4f(V,U[0],U[1],U[2],U[3]);break}v(x.uniformName,U,I),_.setUniform4fv(V,U.flat());break;case"mat3":_.setUniformMatrix3fv(V,U.flat());break;case"mat4":_.setUniformMatrix4fv(V,U.flat());break;default:throw new Error("Unable to set uniform for type ".concat(T))}}}catch(O){k.e(O)}finally{k.f()}}}]),t}()},79004:function(t,e,n){n.d(e,{x:function(){return y}});var r=n(29439),i=n(15671),o=n(43144),u=n(60136),a=n(29388),c=n(27366),s=n(7138),l=n(93169),f=n(18442),v=n(94172),h=n(49861),p=(n(32718),n(84936),n(69912)),d=n(46634),y=function(t){(0,u.Z)(n,t);var e=(0,a.Z)(n);function n(t){var r;return(0,i.Z)(this,n),(r=e.call(this,t)).debugName="",r._updatingHandles=new d.R,r._idToUpdatingState=new f.Z,r}return(0,o.Z)(n,[{key:"updating",get:function(){var t=this._updatingHandles.updating||Array.from(this._idToUpdatingState.values()).some((function(t){return t}));if((0,l.Z)("esri-2d-log-updating")){var e=Array.from(this._idToUpdatingState.entries()).map((function(t){var e=(0,r.Z)(t,2),n=e[0],i=e[1];return"-> ".concat(n,": ").concat(i)})).join("\n");console.log("".concat(this.debugName,": Updating: ").concat(t,"\n-> Handles: ").concat(this._updatingHandles.updating,"\n").concat(e))}return t}},{key:"addUpdateTracking",value:function(t,e){var n=this,r=(0,v.watch)((function(){return e.updating}),(function(e){return n._idToUpdatingState.set(t,e)}),{sync:!0});this.addHandles(r)}},{key:"addPromise",value:function(t){return this._updatingHandles.addPromise(t)}}]),n}(s.default);(0,c._)([(0,h.Cb)({constructOnly:!0})],y.prototype,"debugName",void 0),(0,c._)([(0,h.Cb)({readOnly:!0})],y.prototype,"updating",null),y=(0,c._)([(0,p.j)("esri.views.2d.layers.support.UpdateTracking2D")],y)},99340:function(t,e,n){var r;n.d(e,{P:function(){return r}}),function(t){t[t.Pass=0]="Pass",t[t.Draw=1]="Draw"}(r||(r={}))},97731:function(t,e,n){n.d(e,{E6:function(){return p},T:function(){return l},ep:function(){return v},hu:function(){return s},iV:function(){return h},kG:function(){return y},u_:function(){return d},yK:function(){return f}});var r=n(15671),i=n(43144),o=n(6644),u=n(19093),a=(0,n(86361).Ue)(),c=function(){function t(e){(0,r.Z)(this,t),this.message=e}return(0,i.Z)(t,[{key:"toString",value:function(){return"AssertException: ".concat(this.message)}}]),t}();function s(t,e){if(!t){e=e||"Assertion";var n=new Error(e).stack;throw new c("".concat(e," at ").concat(n))}}function l(t,e){t||(e=e||"",console.warn("Verify failed: "+e+"\n"+new Error("verify").stack))}function f(t,e,n,r){var i,o=(n[0]-t[0])/e[0],u=(r[0]-t[0])/e[0];o>u&&(i=o,o=u,u=i);var a=(n[1]-t[1])/e[1],c=(r[1]-t[1])/e[1];if(a>c&&(i=a,a=c,c=i),o>c||a>u)return!1;a>o&&(o=a),c<u&&(u=c);var s=(n[2]-t[2])/e[2],l=(r[2]-t[2])/e[2];return s>l&&(i=s,s=l,l=i),!(o>l||s>u)&&(l<u&&(u=l),!(u<0))}function v(t,e,n,r,i){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:(0,o.Ue)(),a=(r[i]-n[i])*(e[0]-t[0])-(r[0]-n[0])*(e[i]-t[i]),c=(r[0]-n[0])*(t[i]-n[i])-(r[i]-n[i])*(t[0]-n[0]);if(0===a)return!1;var s=c/a;return u[0]=t[0]+s*(e[0]-t[0]),u[1]=t[i]+s*(e[i]-t[i]),!0}function h(t,e,n,r,i){a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=1,(0,u.t)(a,a,e),i.length>2&&(i[2]=-a[2]),(0,u.t)(a,a,n),s(0!==a[3]),i[0]=a[0]/a[3],i[1]=a[1]/a[3],i[2]=a[2]/a[3],i[0]=(.5*i[0]+.5)*r[2]+r[0],i[1]=(.5*i[1]+.5)*r[3]+r[1]}function p(t,e){return Math.log(t)/Math.log(e)}function d(t,e,n,r){t[12]=e,t[13]=n,t[14]=r}function y(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[3]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[7]&&0===t[8]&&0===t[9]&&1===t[10]&&0===t[11]&&1===t[15]}}}]);
//# sourceMappingURL=87813.620eb6b4.chunk.js.map