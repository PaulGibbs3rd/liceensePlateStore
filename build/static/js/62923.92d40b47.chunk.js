"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[62923],{42069:function(e,t,n){n.d(t,{A:function(){return b}});var i=n(74165),r=n(15861),o=n(15671),a=n(43144),l=n(88301),s=n(61120),u=n(60136),d=n(29388),c=n(27366),v=n(42537),h=n(66978),p=n(94172),y=n(49861),f=(n(93169),n(32718),n(84936),n(69912)),g=n(5354),b=function(e){var t=function(e){(0,u.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;return(0,o.Z)(this,n),(e=t.apply(this,arguments)).slicePlaneEnabled=!1,e.supportsHeightUnitConversion=!1,e}return(0,a.Z)(n,[{key:"postscript",value:function(){(0,l.Z)((0,s.Z)(n.prototype),"postscript",this).call(this),(0,g.qC)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}},{key:"_validateHeightModelInfo",value:function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){var t,n,r,o=this;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new AbortController,n=t.signal,this.addHandles((0,v.kB)((function(){return t.abort()}))),e.next=4,(0,p.whenOnce)((function(){var e;return null===(e=o.view.defaultsFromMap)||void 0===e?void 0:e.heightModelInfoReady}),n);case 4:if((0,h.k_)(n),!(r=(0,g.Wt)(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion))){e.next=8;break}throw r;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(e);return(0,c._)([(0,y.Cb)()],t.prototype,"view",void 0),(0,c._)([(0,y.Cb)()],t.prototype,"slicePlaneEnabled",void 0),t=(0,c._)([(0,f.j)("esri.views.3d.layers.LayerView3D")],t)}},62923:function(e,t,n){n.r(t),n.d(t,{default:function(){return G}});var i=n(74165),r=n(15861),o=n(37762),a=n(15671),l=n(43144),s=n(88301),u=n(61120),d=n(60136),c=n(29388),v=n(27366),h=n(80987),p=n(77178),y=n(92026),f=n(94172),g=n(49861),b=(n(93169),n(32718),n(84936),n(69912)),m=n(40653),_=n(54889),k=n(16406),C=n(44745),w=n(21604),Z=n(99821),E=n(70491),I=n(42069),S=n(79510),O=n(20488),R=n(61712),A=n(5198),V=n(78485),H=n(67581);var P=function(e){(0,d.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,a.Z)(this,n),(e=t.apply(this,arguments)).type="route-3d",e.loadedGraphics=new A.g,e._byObjectID=new Map,e.slicePlaneEnabled=!1,e.fullExtentInLocalViewSpatialReference=null,e}return(0,l.Z)(n,[{key:"initialize",value:function(){var e=this;this._set("processor",new S.D({owner:this,scaleVisibilityEnabled:!0,frustumVisibilityEnabled:!0})),this.addResolvingPromise(this.processor.initializePromise),this._updatingHandles.addOnCollectionChange((function(){return e._routeItems}),(function(t){return e._routeItemsChanged(t)}),f.initial),this.addResolvingPromise((0,R.E)(this).then((function(t){return e.fullExtentInLocalViewSpatialReference=t}))),this.addHandles((0,f.when)((function(){var t,n;return null===(t=e.view)||void 0===t||null===(n=t.basemapTerrain)||void 0===n?void 0:n.ready}),(function(){return function(){return e.notifyChange("updating")}}),{once:!0}))}},{key:"destroy",value:function(){var e;this._updatingHandles.removeAll(),this._set("processor",(0,y.SC)(this.processor)),null===(e=this._get("_routeItems"))||void 0===e||e.destroy()}},{key:"_routeItems",get:function(){var e=this;return new p.Z({getCollections:function(){return[e.layer.pointBarriers,e.layer.polygonBarriers,e.layer.polylineBarriers,e.layer.stops,e.layer.directionLines,e.layer.directionPoints,null!=e.layer.routeInfo?new h.Z([e.layer.routeInfo]):null]}})}},{key:"_routeItemsChanged",value:function(e){var t=this;if(e.removed.length){this.loadedGraphics.removeMany(e.removed.map((function(e){var n=t._byObjectID.get(e);return t._byObjectID.delete(e),n})));var n,i=(0,o.Z)(e.removed);try{for(i.s();!(n=i.n()).done;){var r=n.value;this.removeHandles(r)}}catch(u){i.e(u)}finally{i.f()}}if(e.added.length){this.loadedGraphics.addMany(e.added.map((function(e){var n=e.toGraphic();return t._byObjectID.set(e,n),n})));var a,l=(0,o.Z)(e.added);try{var s=function(){var e=a.value;t.addHandles([(0,f.watch)((function(){return e.geometry}),(function(n,i){t._updateGraphic(e,"geometry",n,i)})),(0,f.watch)((function(){return e.symbol}),(function(n,i){t._updateGraphic(e,"symbol",n,i)}))],e)};for(l.s();!(a=l.n()).done;)s()}catch(u){l.e(u)}finally{l.f()}}}},{key:"legendEnabled",get:function(){var e;return this.canResume()&&!(null!==(e=this.processor)&&void 0!==e&&e.frustumVisibilitySuspended)}},{key:"visibleAtCurrentScale",get:function(){var e;return!(null!==(e=this.processor)&&void 0!==e&&e.scaleVisibilitySuspended)}},{key:"getSuspendInfo",value:function(){var e,t,i=(0,s.Z)((0,u.Z)(n.prototype),"getSuspendInfo",this).call(this);return i.outsideOfView=null!==(e=null===(t=this.processor)||void 0===t?void 0:t.frustumVisibilitySuspended)&&void 0!==e&&e,i}},{key:"getHit",value:function(e){return this.processor.getHit(e)}},{key:"whenGraphicBounds",value:function(e,t){return this.processor.whenGraphicBounds(e,t)}},{key:"computeAttachmentOrigin",value:function(e,t){var n;return null===(n=this.processor)||void 0===n?void 0:n.computeAttachmentOrigin(e,t)}},{key:"getSymbolLayerSize",value:function(e,t){return this.processor.getSymbolLayerSize(e,t)}},{key:"queryGraphics",value:function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new h.Z(this.loadedGraphics.toArray()));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"maskOccludee",value:function(e){return this.processor.maskOccludee(e)}},{key:"highlight",value:function(e){return function(e){return e instanceof m.Z||e instanceof _.Z||e instanceof k.Z||e instanceof C.Z||e instanceof w.Z||e instanceof Z.Z||e instanceof E.Z}(e)&&(e=this._byObjectID.get(e)),this.processor.highlight(e)}},{key:"updatePolicy",get:function(){var e;return(null===(e=this.processor)||void 0===e?void 0:e.graphicsCore.effectiveUpdatePolicy)||V.j.SYNC}},{key:"isUpdating",value:function(){var e,t,n;return!((null===(e=this.processor)||void 0===e||!e.updating)&&null!==(t=this.view)&&void 0!==t&&null!==(n=t.basemapTerrain)&&void 0!==n&&n.ready)}},{key:"performanceInfo",get:function(){var e,t,n,i;return new O.W(null!==(e=null===(t=this.processor)||void 0===t?void 0:t.graphicsCore.usedMemory)&&void 0!==e?e:0,this.loadedGraphics.length,-1,-1,0,null!==(n=null===(i=this.processor)||void 0===i?void 0:i.graphicsCore.performanceInfo)&&void 0!==n?n:null)}},{key:"_updateGraphic",value:function(e,t,n,i){var r,o=this._byObjectID.get(e);o[t]=n,x.graphic=o,x.property=t,x.oldValue=i,x.newValue=n,null===(r=this.processor)||void 0===r||r.graphicsCore.graphicUpdateHandler(x)}}]),n}((0,I.A)(H.Z));(0,v._)([(0,g.Cb)()],P.prototype,"_routeItems",null),(0,v._)([(0,g.Cb)()],P.prototype,"loadedGraphics",void 0),(0,v._)([(0,g.Cb)({readOnly:!0})],P.prototype,"legendEnabled",null),(0,v._)([(0,g.Cb)({readOnly:!0})],P.prototype,"visibleAtCurrentScale",null),(0,v._)([(0,g.Cb)()],P.prototype,"layer",void 0),(0,v._)([(0,g.Cb)({readOnly:!0})],P.prototype,"processor",void 0),(0,v._)([(0,g.Cb)({type:Boolean})],P.prototype,"slicePlaneEnabled",void 0),P=(0,v._)([(0,b.j)("esri.views.3d.layers.RouteLayerView3D")],P);var x={graphic:null,property:null,oldValue:null,newValue:null},G=P},61712:function(e,t,n){n.d(t,{E:function(){return o}});var i=n(81753),r=n(67387);function o(e){var t=e.view.spatialReference,n=e.layer.fullExtent,o=null!=n&&n.spatialReference;if(null==n||!o)return Promise.resolve(null);if(o.equals(t))return Promise.resolve(n.clone());var a=(0,i.iV)(n,t);return null!=a?Promise.resolve(a):e.view.state.isLocal?(0,r.projectGeometry)(n,t,e.layer.portalItem).then((function(t){return!e.destroyed&&t?t:null})).catch((function(){return null})):Promise.resolve(null)}},5198:function(e,t,n){n.d(t,{g:function(){return h}});var i=n(93433),r=n(37762),o=n(15671),a=n(43144),l=n(60136),s=n(29388),u=n(91505),d=n(62314),c=n(92377),v=n(76432),h=function(e){(0,l.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;return(0,o.Z)(this,n),(e=t.apply(this,arguments))._set=new Set,e._length=(0,v.t)(0),e}return(0,a.Z)(n,[{key:"clear",value:function(){if(this._set.size>0){var e=this.toArray();this._set.clear(),this.emit("after-changes",{type:d.y.REMOVE}),this.emit("change",{added:[],removed:e})}}},{key:"length",get:function(){return this._length.value}},{key:"addMany",value:function(e){if(0!==e.length){var t,n=(0,r.Z)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this._set.add(i)}}catch(o){n.e(o)}finally{n.f()}this._length.value=this._set.size,this.emit("after-changes",{type:d.y.ADD}),this.emit("change",{added:e,removed:[]})}}},{key:"remove",value:function(e){this._set.delete(e)&&(this._length.value=this._set.size,this.emit("after-changes",{type:d.y.REMOVE}),this.emit("change",{added:[],removed:[e]}))}},{key:"removeMany",value:function(e){var t,n=[],i=(0,r.Z)(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;this._set.delete(o)&&n.push(o)}}catch(a){i.e(a)}finally{i.f()}n.length>0&&(this._length.value=this._set.size,this.emit("after-changes",{type:d.y.REMOVE}),this.emit("change",{added:[],removed:n}))}},{key:"toArray",value:function(){return(0,i.Z)(this._set)}},{key:"find",value:function(e){var t;return(0,c.fn)(this._set,(function(n){return!!e(n)&&(t=n,!0)})),t}},{key:"forEach",value:function(e){this._set.forEach((function(t){return e(t)}))}}]),n}(u.Z)},67581:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(15671),r=n(43144),o=n(60136),a=n(29388),l=n(27366),s=n(7138),u=n(91505),d=n(79056),c=n(32718),v=n(92026),h=n(67426),p=n(49861),y=(n(93169),n(84936),n(69912)),f=n(46634),g=n(69787),b=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e))._updatingHandles=new f.R,r.layer=null,r.parent=null,r}return(0,r.Z)(n,[{key:"initialize",value:function(){var e=this;this.when().catch((function(t){if("layerview:create-error"!==t.name){var n,i=e.layer&&e.layer.id||"no id",r=(null===(n=e.layer)||void 0===n?void 0:n.title)||"no title";c.Z.getLogger(e).error("#resolve()","Failed to resolve layer view (layer title: '".concat(r,"', id: '").concat(i,"')"),t)}}))}},{key:"destroy",value:function(){this._updatingHandles=(0,v.SC)(this._updatingHandles)}},{key:"fullOpacity",get:function(){var e,t,n,i;return(null!==(e=null===(t=this.layer)||void 0===t?void 0:t.opacity)&&void 0!==e?e:1)*(null!==(n=null===(i=this.parent)||void 0===i?void 0:i.fullOpacity)&&void 0!==n?n:1)}},{key:"suspended",get:function(){return this.destroyed||!this.canResume()}},{key:"suspendInfo",get:function(){return this.getSuspendInfo()}},{key:"legendEnabled",get:function(){var e;return!this.suspended&&!0===(null===(e=this.layer)||void 0===e?void 0:e.legendEnabled)}},{key:"updating",get:function(){var e;return!((null===(e=this._updatingHandles)||void 0===e||!e.updating)&&!this.isUpdating())}},{key:"updatingProgress",get:function(){return this.updating?0:1}},{key:"updateSuspended",get:function(){return this.suspended}},{key:"visible",get:function(){var e;return!0===(null===(e=this.layer)||void 0===e?void 0:e.visible)},set:function(e){this._overrideIfSome("visible",e)}},{key:"visibleAtCurrentScale",get:function(){return!0}},{key:"visibleAtCurrentTimeExtent",get:function(){var e,t=this.view.timeExtent,n=null===(e=this.layer)||void 0===e?void 0:e.visibilityTimeExtent;return!t||!n||!t.intersection(n).isEmpty}},{key:"canResume",value:function(){var e,t,n,i=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&(null===(e=this.layer)||void 0===e?void 0:e.loaded)&&!(null!==(t=this.parent)&&void 0!==t&&t.suspended)&&(null===(n=this.view)||void 0===n?void 0:n.ready)&&(0,g.Cy)(i)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}},{key:"getSuspendInfo",value:function(){var e,t,n=null!==(e=this.parent)&&void 0!==e&&e.suspended?this.parent.suspendInfo:{};null!==(t=this.view)&&void 0!==t&&t.ready||(n.viewNotReady=!0),this.layer&&this.layer.loaded||(n.layerNotLoaded=!0);var i=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return(0,g.Cy)(i)&&this.visibleAtCurrentScale||(n.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(n.outsideVisibilityTimeExtent=!0),this.visible||(n.layerInvisible=!0),n}},{key:"isUpdating",value:function(){return!1}}]),n}((0,d.IG)((0,h.v)(u.Z.EventedMixin(s.default))));(0,l._)([(0,p.Cb)()],b.prototype,"view",void 0),(0,l._)([(0,p.Cb)()],b.prototype,"fullOpacity",null),(0,l._)([(0,p.Cb)()],b.prototype,"layer",void 0),(0,l._)([(0,p.Cb)()],b.prototype,"parent",void 0),(0,l._)([(0,p.Cb)({readOnly:!0})],b.prototype,"suspended",null),(0,l._)([(0,p.Cb)({readOnly:!0})],b.prototype,"suspendInfo",null),(0,l._)([(0,p.Cb)({readOnly:!0})],b.prototype,"legendEnabled",null),(0,l._)([(0,p.Cb)({type:Boolean,readOnly:!0})],b.prototype,"updating",null),(0,l._)([(0,p.Cb)({readOnly:!0})],b.prototype,"updatingProgress",null),(0,l._)([(0,p.Cb)()],b.prototype,"updateSuspended",null),(0,l._)([(0,p.Cb)()],b.prototype,"visible",null),(0,l._)([(0,p.Cb)({readOnly:!0})],b.prototype,"visibleAtCurrentScale",null),(0,l._)([(0,p.Cb)({readOnly:!0})],b.prototype,"visibleAtCurrentTimeExtent",null);var m=b=(0,l._)([(0,y.j)("esri.views.layers.LayerView")],b)}}]);
//# sourceMappingURL=62923.92d40b47.chunk.js.map