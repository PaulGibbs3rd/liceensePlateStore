"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[59658],{59658:function(e,r,n){n.r(r),n.d(r,{deleteVersion:function(){return f},serverVersionCacheMap:function(){return p}});var t=n(74165),a=n(1413),s=n(15861),i=n(76200),u=n(10064),o=n(23084),c=n(3231),p=new Map;function f(e,r,n){return v.apply(this,arguments)}function v(){return v=(0,s.Z)((0,t.Z)().mark((function e(r,n,s){var f,v,h,l,d,Z,k,w;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=p.has(r),e.t0){e.next=4;break}return e.next=4,(0,c.P)(p,r);case 4:if(v=p.get(r),!((null!==(f=null===v||void 0===v?void 0:v.serverVersion)&&void 0!==f?f:0)<=11.1)){e.next=7;break}throw new u.Z("deleteVersion:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");case 7:return h=(0,o.en)(r),l=n.toJSON(),d=(0,o.lA)(h.query,(0,a.Z)((0,a.Z)({query:(0,o.cv)((0,a.Z)((0,a.Z)({},l),{},{f:"json"}))},s),{},{authMode:"immediate",method:"post"})),Z="".concat(h.path,"/delete"),e.next=13,(0,i.Z)(Z,d);case 13:return k=e.sent,w=k.data,e.abrupt("return",w.success);case 16:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}},3231:function(e,r,n){n.d(r,{P:function(){return i}});var t=n(74165),a=n(15861),s=n(76200);function i(e,r){return u.apply(this,arguments)}function u(){return u=(0,a.Z)((0,t.Z)().mark((function e(r,n){var a,i,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null,i="string"==typeof n?n:n.path,r.has(i)){e.next=7;break}return e.next=5,(0,s.Z)(i.replace(/\/VersionManagementServer/i,"/FeatureServer"),{query:{f:"json"}});case 5:u=e.sent,a={serverVersion:Number(u.data.currentVersion),featureServerUrl:i.replace(/\/VersionManagementServer/i,"/FeatureServer")},r.set(n,a);case 7:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}}}]);
//# sourceMappingURL=59658.7bd0a30a.chunk.js.map