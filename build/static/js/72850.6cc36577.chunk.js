"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[72850],{72850:function(e,t,n){n.r(t),n.d(t,{default:function(){return ie}});var i,o,l=n(4942),a=n(15671),s=n(43144),r=n(60136),u=n(29388),c=n(27366),d=n(32718),h=n(94172),g=n(49861),f=(n(93169),n(84936),n(69912)),p=n(33565),m="esri-daylight",v="".concat(m,"__container"),y="esri-slider",_={base:m,dayContainer:"".concat(v," ").concat(m,"__day-container"),dateContainer:"".concat(v," ").concat(m,"__date-container"),containerDisabled:"".concat(v,"--disabled"),slider:y,sliderShadowOff:"".concat(y,"--shadow-off"),sliderShadowOn:"".concat(y,"--shadow-on"),sliderAmPmOn:"".concat(y,"--ampm-on"),sliderDateOff:"".concat(y,"--date-off"),sliderDateOn:"".concat(y,"--date-on"),playPauseButton:"".concat(m,"__play-pause-button"),datePicker:"".concat(m,"__date-picker"),seasonPicker:"".concat(m,"__season-picker"),panelError:"".concat(m,"__panel--error"),sunLightingCheckbox:"".concat(m,"__sun-lighting-checkbox"),shadowsCheckbox:"".concat(m,"__shadows-checkbox")},b=n(7138),C=n(42537),k=n(92026),T=n(99346),w=n(86710),z=n(85276),O=n(13086),S=n(12040),D=n(696);(o=i||(i={}))[o.NORTHERN=0]="NORTHERN",o[o.SOUTHERN=1]="SOUTHERN";var P={spring:{dayOfMonth:20,month:2},summer:{dayOfMonth:21,month:5},fall:{dayOfMonth:23,month:8},winter:{dayOfMonth:21,month:11}},E=["spring","summer","fall","winter"];function M(e,t,n){var i=U(t,n),o=P[i],l=o.dayOfMonth,a=o.month,s=new Date(e.getTime());return s.setMonth(a,l),s}function L(e,t){return U(function(e){var t=e.getTime(),n=M(e,"spring",i.NORTHERN).getTime(),o=M(e,"summer",i.NORTHERN).getTime(),l=M(e,"fall",i.NORTHERN).getTime(),a=M(e,"winter",i.NORTHERN).getTime();return t>=n&&t<o?"spring":t>=o&&t<l?"summer":t>=l&&t<a?"fall":"winter"}(e),t)}function U(e,t){return t===i.NORTHERN?e:function(e){var t=E.indexOf(e);return E[(t+2)%4]}(e)}var Z=function(e){(0,r.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;return(0,a.Z)(this,n),(e=t.apply(this,arguments)).utcOffset=null,e.timezonePickerOpen=!1,e}return(0,s.Z)(n)}(n(84908).Z);(0,c._)([(0,g.Cb)()],Z.prototype,"utcOffset",void 0),(0,c._)([(0,g.Cb)()],Z.prototype,"timezonePickerOpen",void 0),Z=(0,c._)([(0,f.j)("esri.widgets.Daylight.support.SliderWithDropdownViewModel")],Z);var N=n(80629),A=function(e){(0,r.Z)(n,e);var t=(0,u.Z)(n);function n(e){var i;return(0,a.Z)(this,n),(i=t.call(this,e)).view=null,i.timeSliderViewModel=new Z({min:0,max:1439,values:[0],labelFormatFunction:N.Ox,inputFormatFunction:N.Ox}),i.lightingUpdateInterval=200,i._oldLighting=null,i.playSpeedMultiplier=1,i._lastTime=null,i._sunrise=null,i._sunset=null,i._cachedLightingDateUTC=new Date(0),i._cachedDisplayUTCOffset=0,i._firstInteraction=!0,i._lastLightingUpdate=0,i._lightingUpdateHandle=null,i}return(0,s.Z)(n,[{key:"initialize",value:function(){var e=this;this.addHandles([(0,h.when)((function(){return e.view}),(function(t){return t.when((function(){return e._updateLighting()}))}),h.initial),(0,h.watch)((function(){var t=e._lighting;return"sun"===(null===t||void 0===t?void 0:t.type)?e._ensureValidDate(t):null}),(function(t){return e._scheduleLightingUpdate(t)})),(0,h.on)((function(){return e._lighting}),"timezone-will-change",(function(t){return e._timezoneWillChange(t)}),{onListenerAdd:function(){return e._timezoneWillChange(null)}}),(0,h.watch)((function(){var t;return!0===(null===(t=e.view)||void 0===t?void 0:t.stationary)}),(function(){(e.dayPlaying||e.yearPlaying)&&e._updateSunriseAndSunset()}),h.initial),(0,h.watch)((function(){var t=e.timeSliderViewModel;return{vm:t,state:t.state,sliderPosition:e.timeSliderPosition}}),(function(e){var t=e.vm,n=e.state,i=e.sliderPosition;"ready"===n&&t.setValue(0,i)})),(0,h.watch)((function(){var t;return null===(t=e.timeSliderViewModel)||void 0===t?void 0:t.utcOffset}),(function(t){null!=t&&(e.utcOffset=t)})),(0,h.watch)((function(){return{utcOffset:e.utcOffset,sliderViewModel:e.timeSliderViewModel}}),(function(e){var t=e.utcOffset,n=e.sliderViewModel;n&&(n.utcOffset=t)}),h.syncAndInitial),(0,h.watch)((function(){return e.timeSliderViewModel.timezonePickerOpen}),(function(){return e.stopPlaying()})),(0,h.watch)((function(){return e.timeSliderViewModel.values}),(function(t){var n;return e._setTimeSliderPosition(null!==(n=null===t||void 0===t?void 0:t[0])&&void 0!==n?n:0,{forceLightingUpdate:!1})}))])}},{key:"destroy",value:function(){this._cancelLightingUpdate(),this.view=null}},{key:"isSupported",get:function(){return null==this.view||"3d"===this.view.type}},{key:"utcOffset",get:function(){return this._cachedDisplayUTCOffset},set:function(e){e!==this.utcOffset&&null!=this._lighting&&"virtual"!==this._lighting.type&&(this._lighting.displayUTCOffset=e,this._updateLighting())}},{key:"localDate",get:function(){return(0,w.cH)(this._lightingDateDisplay)},set:function(e){var t;null!==(t=this.view)&&void 0!==t&&t.ready?(0,w.qb)(e)&&e.getTime()!==this.localDate.getTime()&&(this._lightingDateDisplay=(0,w.y7)(this._lightingDateDisplay,e)):d.Z.getLogger(this).error("The localDate property cannot be set before the view and the widget are ready.")}},{key:"timeSliderPosition",get:function(){return function(e){return(0,w.Ni)(e,"minutes")}(this._lightingDateDisplay)},set:function(e){var t,n;null!==(t=this.view)&&void 0!==t&&t.ready&&"ready"===(null===(n=this.timeSliderViewModel)||void 0===n?void 0:n.state)?this._setTimeSliderPosition(e,{forceLightingUpdate:!0}):d.Z.getLogger(this).error("The timeSliderPosition property cannot be set before the view and the widget are ready.")}},{key:"_setTimeSliderPosition",value:function(e,t){Math.abs(e-this.timeSliderPosition)<=1/60||(this.stopPlaying(),this._enableDirectShadowsIfFirstInteraction(),t.forceLightingUpdate&&(this._cancelLightingUpdate(),this._updateLighting()),this._lightingDateDisplay=function(e,t){return(0,w.cl)(e,t,"minutes")}(this._lightingDateDisplay,e))}},{key:"_timezoneFromCamera",value:function(e,t){if(null==t||!e.cameraTrackingEnabled)return 0;var n=(0,D.dF)([t.longitude,t.latitude]);return null==n?0:Math.round(n.hours+n.minutes/60+n.seconds/3600)}},{key:"directShadowsEnabled",get:function(){var e,t;return null!==(e=null===(t=this._lighting)||void 0===t?void 0:t.directShadowsEnabled)&&void 0!==e&&e},set:function(e){var t=this._lighting;t&&(t.directShadowsEnabled=e)}},{key:"sunLightingEnabled",get:function(){return"sun"===this._lightingType},set:function(e){var t=this._environment;if(e!==this._get("sunLightingEnabled")&&null!=t){var n=t.lighting,i=this._oldLighting;this._oldLighting=n;var o,l={directShadowsEnabled:n.directShadowsEnabled,cameraTrackingEnabled:n.cameraTrackingEnabled},a=e?"sun":"virtual";(o=null!=i&&i.type===a?i:e?new O.Z:new S.Z).set(l),t.lighting=o,e||(this.stopPlaying(),this.timeSliderViewModel.timezonePickerOpen=!1)}}},{key:"playingState",set:function(e){this.playingState!==e&&(this._set("playingState",e),"none"!==e&&this.sunLightingEnabled&&(this._updateSunriseAndSunset(),this._lastTime=Date.now(),this._play(),this._enableDirectShadowsIfFirstInteraction()))}},{key:"dayPlaying",get:function(){return"day"===this.playingState},set:function(e){e?this.playingState="day":this.dayPlaying&&(this.playingState="none")}},{key:"yearPlaying",get:function(){return"year"===this.playingState},set:function(e){e?this.playingState="year":this.yearPlaying&&(this.playingState="none")}},{key:"currentSeason",get:function(){return L(this.localDate,this._currentHemisphere)},set:function(e){this.stopPlaying();var t=U(e,this._currentHemisphere);this.localDate=M(this.localDate,t,i.NORTHERN)}},{key:"_currentHemisphere",get:function(){var e,t,n,o=null===(e=this.view)||void 0===e||null===(t=e.camera)||void 0===t||null===(n=t.position)||void 0===n?void 0:n.latitude;return null==o||o>=0?i.NORTHERN:i.SOUTHERN}},{key:"_environment",get:function(){var e;return null===(e=this.view)||void 0===e?void 0:e.environment}},{key:"_lighting",get:function(){var e;return null===(e=this._environment)||void 0===e?void 0:e.lighting}},{key:"_lightingType",get:function(){var e;return null===(e=this._lighting)||void 0===e?void 0:e.type}},{key:"_lightingDateDisplay",get:function(){return(0,w.Nm)(this._cachedLightingDateUTC,this._cachedDisplayUTCOffset,"hours")},set:function(e){var t=this._lighting;if(null!=t&&this.sunLightingEnabled&&"virtual"!==t.type&&(0,w.qb)(e)){var n=this._ensureValidDate(t),i=(0,w.Nm)(e,-this._cachedDisplayUTCOffset,"hours");i.getTime()!==n.getTime()&&(t.date=i,this._updateLighting())}}},{key:"stopPlaying",value:function(){this.playingState="none"}},{key:"toggleDayPlaying",value:function(){this.dayPlaying=!this.dayPlaying}},{key:"toggleYearPlaying",value:function(){this.yearPlaying=!this.yearPlaying}},{key:"toggleSunLightingEnabled",value:function(){this.stopPlaying(),this.sunLightingEnabled=!this.sunLightingEnabled}},{key:"toggleDirectShadowsEnabled",value:function(){this.stopPlaying(),this.directShadowsEnabled=!this.directShadowsEnabled}},{key:"onDateChange",value:function(e){this.dayPlaying=!1,this.localDate=e}},{key:"_enableDirectShadowsIfFirstInteraction",value:function(){this._firstInteraction&&(this._firstInteraction=!1,this.directShadowsEnabled=!0)}},{key:"_updateLighting",value:function(e){var t,n,i=Date.now();this._lastLightingUpdate=i;var o=this.view,l=this._lighting;if(null!=o&&null!=l&&"virtual"!==l.type){null!==(t=e)&&void 0!==t||(e=this._ensureValidDate(l));var a=l.displayUTCOffset,s=null!==a?a:this._timezoneFromCamera(l,null===(n=o.camera)||void 0===n?void 0:n.position);this._cachedLightingDateUTC.getTime()!==e.getTime()&&(this._cachedLightingDateUTC=new Date(e.getTime())),this._cachedDisplayUTCOffset!==s&&(this._cachedDisplayUTCOffset=s)}}},{key:"_timezoneWillChange",value:function(e){var t=this._lighting;if(null!=t&&"virtual"!==t.type&&t.cameraTrackingEnabled){var n;if(e)n=e.timezoneOffset;else{if(null!=t.displayUTCOffset)return;n=O.Z.calculateTimezoneOffset(t.positionTimezoneInfo)}t.displayUTCOffset=n,this._scheduleLightingUpdate()}}},{key:"_scheduleLightingUpdate",value:function(e){var t=this;if((!e||(this._lightingUpdateHandle=(0,k.hw)(this._lightingUpdateHandle),(0,w.qb)(e)))&&!this._lightingUpdateHandle){var n=Date.now()-this._lastLightingUpdate,i=this.lightingUpdateInterval-n,o=null,l=function(){t._updateLighting(e),t._lightingUpdateHandle===o&&(t._lightingUpdateHandle=null)};if(i<=0)this._lightingUpdateHandle=o=(0,T.Os)(l);else{var a=setTimeout(l,i);this._lightingUpdateHandle=o=(0,C.kB)((function(){return clearTimeout(a)}))}}}},{key:"_cancelLightingUpdate",value:function(){this._lightingUpdateHandle=(0,k.hw)(this._lightingUpdateHandle)}},{key:"_play",value:function(){var e=this,t=this._lighting;if(null!=t&&this.sunLightingEnabled&&"virtual"!==t.type){var n=this._ensureValidDate(t);if(this.dayPlaying||this.yearPlaying){var i,o=Date.now()-(null!==(i=this._lastTime)&&void 0!==i?i:0);if(this.dayPlaying){this._lastTime=Date.now();var l=function(e,t,n){var i=12e5,o=i/4,l=18e5,a=o/3*2,s=72e5;if(null==e||null==t||isNaN(e.getTime())&&isNaN(t.getTime()))return o;var r=n.getTime(),u=e.getTime(),c=t.getTime(),d=u-s/2,h=u+s/2,g=c-s/3*2,f=c+s/3,p=o;return r>=d&&r<=h?p=r-d<=i?l-(r-d)/i*(l-a):h-r<=i/2?o-(h-r)/i*2*(o-a):a:r>=g&&r<=f?p=r-g<=i/2?o-(r-g)/i*2*(o-a):f-r<=i?l-(f-r)/i*(l-a):a:(r<u||r>c)&&(p=l),p}(this._sunrise,this._sunset,n)*this.playSpeedMultiplier/100*o;if(l>0){var a,s=new Date(n.getTime()+l),r=null!==(a=t.displayUTCOffset)&&void 0!==a?a:0;if(((s.getUTCHours()+r)%24+24)%24<((n.getUTCHours()+r)%24+24)%24){s=new Date(n.getTime()+l-864e5)}t.date=s}}else if(o>1e3){this._lastTime=Date.now();var u=(n.getUTCMonth()+1)%12,c=new Date(n.getTime());c.setUTCMonth(u),t.date=c}requestAnimationFrame((function(){return e._play()}))}}}},{key:"_updateSunriseAndSunset",value:function(){var e,t,n=this._lighting;if(null!=n&&"virtual"!==n.type&&this.sunLightingEnabled){var i=null===(e=this.view)||void 0===e||null===(t=e.camera)||void 0===t?void 0:t.position;if(null!=i){var o=i.latitude,l=i.longitude,a=n.date,s=n.displayUTCOffset,r=(0,N.LL)(a,o,l,null!==s&&void 0!==s?s:0);r&&(this._sunrise=new Date(r.sunrise),this._sunset=new Date(r.sunset))}}}},{key:"_ensureValidDate",value:function(e){return(0,w.qb)(e.date)||(d.Z.getLogger(this).warn("Invalid date. Reverting to the current date/time."),e.date=new Date),e.date}}]),n}(b.default);(0,c._)([(0,g.Cb)({type:z.default})],A.prototype,"view",void 0),(0,c._)([(0,g.Cb)({type:Z,nonNullable:!0})],A.prototype,"timeSliderViewModel",void 0),(0,c._)([(0,g.Cb)()],A.prototype,"isSupported",null),(0,c._)([(0,g.Cb)()],A.prototype,"lightingUpdateInterval",void 0),(0,c._)([(0,g.Cb)()],A.prototype,"utcOffset",null),(0,c._)([(0,g.Cb)()],A.prototype,"localDate",null),(0,c._)([(0,g.Cb)()],A.prototype,"timeSliderPosition",null),(0,c._)([(0,g.Cb)()],A.prototype,"directShadowsEnabled",null),(0,c._)([(0,g.Cb)()],A.prototype,"sunLightingEnabled",null),(0,c._)([(0,g.Cb)({type:["none","day","year"],value:"none"})],A.prototype,"playingState",null),(0,c._)([(0,g.Cb)()],A.prototype,"dayPlaying",null),(0,c._)([(0,g.Cb)()],A.prototype,"yearPlaying",null),(0,c._)([(0,g.Cb)()],A.prototype,"playSpeedMultiplier",void 0),(0,c._)([(0,g.Cb)()],A.prototype,"currentSeason",null),(0,c._)([(0,g.Cb)()],A.prototype,"_lastTime",void 0),(0,c._)([(0,g.Cb)()],A.prototype,"_sunrise",void 0),(0,c._)([(0,g.Cb)()],A.prototype,"_sunset",void 0),(0,c._)([(0,g.Cb)()],A.prototype,"_cachedLightingDateUTC",void 0),(0,c._)([(0,g.Cb)()],A.prototype,"_cachedDisplayUTCOffset",void 0),(0,c._)([(0,g.Cb)()],A.prototype,"_firstInteraction",void 0),(0,c._)([(0,g.Cb)()],A.prototype,"_currentHemisphere",null),(0,c._)([(0,g.Cb)()],A.prototype,"_environment",null),(0,c._)([(0,g.Cb)()],A.prototype,"_lighting",null),(0,c._)([(0,g.Cb)()],A.prototype,"_lightingType",null),(0,c._)([(0,g.Cb)()],A.prototype,"_lightingDateDisplay",null);var H=A=(0,c._)([(0,f.j)("esri.widgets.Daylight.DaylightViewModel")],A),I=function(e){(0,r.Z)(n,e);var t=(0,u.Z)(n);function n(e){var i;return(0,a.Z)(this,n),(i=t.call(this,e)).header=!0,i.playButtons=!0,i.datePicker=!0,i.timezone=!0,i.sunLightingToggle=!0,i.shadowsToggle=!0,i}return(0,s.Z)(n)}(b.default);(0,c._)([(0,g.Cb)({type:Boolean,nonNullable:!0})],I.prototype,"header",void 0),(0,c._)([(0,g.Cb)({type:Boolean,nonNullable:!0})],I.prototype,"playButtons",void 0),(0,c._)([(0,g.Cb)({type:Boolean,nonNullable:!0})],I.prototype,"datePicker",void 0),(0,c._)([(0,g.Cb)({type:Boolean,nonNullable:!0})],I.prototype,"timezone",void 0),(0,c._)([(0,g.Cb)({type:Boolean,nonNullable:!0})],I.prototype,"sunLightingToggle",void 0),(0,c._)([(0,g.Cb)({type:Boolean,nonNullable:!0})],I.prototype,"shadowsToggle",void 0);var x=I=(0,c._)([(0,f.j)("esri.widgets.Daylight.VisibleElements")],I),B=n(88301),V=n(61120),R=n(88350),W=n(1552),F=n(80975),G=n(67005),j="esri-slider-with-dropdown",K={label:"esri-slider__label",box:"".concat(j,"__box"),boxDropDownOn:"".concat(j,"__box--drop-down-on"),boxDropDownOff:"".concat(j,"__box--drop-down-off")},q=function(e){(0,r.Z)(n,e);var t=(0,u.Z)(n);function n(e,i){var o;return(0,a.Z)(this,n),(o=t.call(this,e,i)).viewModel=new Z,o.showDropDown=!0,o._labelWidth=0,o._onLabelAfterCreate=function(e){var t="label-size-observer";o.removeHandles(t),o.addHandles((0,F.ib)(e,(function(e){var t=e.contentRect;o._labelWidth=t.width})),t)},o._getLabelStyles=function(){if(o.trackElement){var e=o._trackWidth,t=o._labelWidth/2,n=o.getCurrentPosition(),i=n-t,l=n+t,a=-t;return i<0?a+=-i:l>e&&(a+=e-l),{left:"".concat(a,"px")}}},o._onTimezoneChange=function(e){o.viewModel.utcOffset=e},o._onTimezonePickerOpen=function(){o.viewModel.timezonePickerOpen=!0},o._onTimezonePickerClose=function(){o.viewModel.timezonePickerOpen=!1},o}return(0,s.Z)(n,[{key:"renderThumbLabel",value:function(e){var t,i=this.showDropDown,o=this.viewModel;return(0,G.u)("div",{afterCreate:this._onLabelAfterCreate,class:this.classes((t={},(0,l.Z)(t,K.box,!0),(0,l.Z)(t,K.label,!0),(0,l.Z)(t,K.boxDropDownOn,i),(0,l.Z)(t,K.boxDropDownOff,!i),t)),key:"thumb-label",styles:this._getLabelStyles()},(0,B.Z)((0,V.Z)(n.prototype),"renderThumbLabel",this).call(this,e),i?(0,G.u)(W.X,{open:o.timezonePickerOpen,value:o.utcOffset,onChange:this._onTimezoneChange,onClose:this._onTimezonePickerClose,onOpen:this._onTimezonePickerOpen}):null)}}]),n}(R.default);(0,c._)([(0,g.Cb)()],q.prototype,"viewModel",void 0),(0,c._)([(0,g.Cb)()],q.prototype,"showDropDown",void 0),(0,c._)([(0,g.Cb)()],q.prototype,"_labelWidth",void 0);var Y=q=(0,c._)([(0,f.j)("esri.widgets.Daylight.support.SliderWithDropdown")],q),J=n(8905),X=n(7021),Q=n(96919),$=n(80532),ee="date",te=function(e){(0,r.Z)(i,e);var t=(0,u.Z)(i);function i(e,n){var o;return(0,a.Z)(this,i),(o=t.call(this,e,n)).headingLevel=3,o.viewModel=new H,o.visibleElements=new x,o.dateOrSeason=ee,o._timeSlider=new Y({viewModel:o.viewModel.timeSliderViewModel,steps:o.timeSliderSteps,labelInputsEnabled:!1,visibleElements:{labels:!0},tickConfigs:[{mode:"position",values:[0,360,720,1080,1439],labelsVisible:!0,tickCreatedFunction:function(e,t,n){return(0,N.mW)({tickElement:t,labelElement:n,tickClasses:ne,onClick:o._makeGoToTime(e)})}},{mode:"position",values:[120,240,480,600,840,960,1200,1320],tickCreatedFunction:function(e,t){return(0,N.FL)({tickElement:t,tickClasses:ne,onClick:o._makeGoToTime(e)})}}]}),o._datePicker=null,o._onPlayDayClick=function(){o.viewModel.toggleDayPlaying()},o._onDatePickerAfterCreate=function(e){o._datePicker=e},o._onDateChange=function(e){var t=e.target.valueAsDate;o.viewModel.onDateChange(Array.isArray(t)?t[0]:t)},o._onYearPlayClick=function(){o.viewModel.toggleYearPlaying()},o._onSeasonChange=function(e){o.viewModel.currentSeason=e.target.value},o._onSunLightingCheckboxChange=function(){o.viewModel.toggleSunLightingEnabled()},o._onShadowCheckboxChange=function(){o.viewModel.toggleDirectShadowsEnabled()},o}return(0,s.Z)(i,[{key:"icon",get:function(){return"brightness"},set:function(e){this._overrideIfSome("icon",e)}},{key:"label",get:function(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.title)&&void 0!==e?e:""},set:function(e){this._overrideIfSome("label",e)}},{key:"playSpeedMultiplier",get:function(){return this.viewModel.playSpeedMultiplier},set:function(e){this.viewModel.playSpeedMultiplier=e}},{key:"timeSliderSteps",get:function(){var e,t;return null!==(e=null===(t=this._timeSlider)||void 0===t?void 0:t.steps)&&void 0!==e?e:5},set:function(e){this._timeSlider.steps=e}},{key:"view",get:function(){return this.viewModel.view},set:function(e){this.viewModel.view=e}},{key:"postInitialize",value:function(){var e=this;this.viewModel.isSupported&&this.addHandles([(0,h.watch)((function(){return e.viewModel.timeSliderViewModel}),(function(t){return e._timeSlider.viewModel=t}),h.syncAndInitial),(0,h.watch)((function(){var t;return null===(t=e.visibleElements)||void 0===t?void 0:t.timezone}),(function(t){return e._timeSlider.showDropDown=t}),h.syncAndInitial),(0,h.watch)((function(){return!e.viewModel.sunLightingEnabled}),(function(t){e._timeSlider.disabled=t}),h.syncAndInitial),(0,h.when)((function(){return!e.visible}),(function(){e._datePicker&&(e._datePicker.open=!1)}),h.sync)])}},{key:"destroy",value:function(){this._timeSlider.destroy()}},{key:"render",value:function(){var e=this.messages,t=this.viewModel,n=this.visibleElements,i=t.isSupported;return(0,G.u)("div",{class:this.classes(_.base,X.z.widget)},i?(0,G.u)(G.D,null,n.header?(0,G.u)(Q.X,{level:this.headingLevel},e.title):null,this._renderTimeOptions(),n.datePicker?this._renderDateOrSeason():null,n.sunLightingToggle?this._renderSunLightingToggle():null,n.shadowsToggle?this._renderShadowsToggle():null):(0,G.u)("div",{class:_.panelError,key:"unsupported"},(0,G.u)("p",null,e.unsupported)))}},{key:"loadDependencies",value:function(){return(0,J.h)({button:function(){return Promise.all([n.e(92358),n.e(46895),n.e(54438),n.e(14105),n.e(32275)]).then(n.bind(n,32275))},checkbox:function(){return Promise.all([n.e(92358),n.e(54438),n.e(12424)]).then(n.bind(n,12424))},label:function(){return Promise.all([n.e(92358),n.e(35738)]).then(n.bind(n,35738))},"input-date-picker":function(){return Promise.all([n.e(92358),n.e(46895),n.e(54438),n.e(89219),n.e(63839),n.e(96506),n.e(11216)]).then(n.bind(n,11216))},option:function(){return n.e(19790).then(n.bind(n,19790))},select:function(){return Promise.all([n.e(92358),n.e(54438),n.e(26369)]).then(n.bind(n,26369))}})}},{key:"_renderTimeOptions",value:function(){var e,t=this.viewModel,n=this.visibleElements,i=this.messages,o=t.directShadowsEnabled,a=t.dayPlaying,s=!t.sunLightingEnabled;return(0,G.u)("div",{class:this.classes(_.dayContainer,(e={},(0,l.Z)(e,_.sliderShadowOn,o),(0,l.Z)(e,_.sliderShadowOff,!o),(0,l.Z)(e,_.sliderDateOn,n.datePicker),(0,l.Z)(e,_.sliderDateOff,!n.datePicker),(0,l.Z)(e,_.sliderAmPmOn,(0,N.y8)()),(0,l.Z)(e,_.containerDisabled,s),e)),key:"daylight-time-options"},this._timeSlider.render(),n.playButtons?this._renderPlayPauseButton({playing:a,disabled:s,label:i.playDay,onClick:this._onPlayDayClick}):null)}},{key:"_renderDateOptions",value:function(){var e=this.viewModel,t=this.visibleElements,n=this.messages,i=e.yearPlaying,o=!e.sunLightingEnabled;return(0,G.u)("div",{class:this.classes(_.dateContainer,o&&_.containerDisabled),key:_.dateContainer},(0,G.u)("calcite-input-date-picker",{afterCreate:this._onDatePickerAfterCreate,class:_.datePicker,"data-testid":"daylight-date-picker",disabled:o,key:_.datePicker,overlayPositioning:"fixed",placement:"bottom",valueAsDate:e.localDate,onCalciteInputDatePickerChange:this._onDateChange}),t.playButtons?this._renderPlayPauseButton({playing:i,disabled:o,label:n.playYear,onClick:this._onYearPlayClick}):null)}},{key:"_renderPlayPauseButton",value:function(e){var t=e.playing,n=e.disabled,i=e.label,o=e.onClick;return(0,G.u)("calcite-button",{appearance:"solid",class:_.playPauseButton,disabled:n,iconStart:t?"pause-f":"play-f",label:i,onclick:o,round:!0,title:i,type:"button"})}},{key:"_renderSeasonSelect",value:function(){var e=this.messages,t=this.viewModel,n=!t.sunLightingEnabled;return(0,G.u)("calcite-select",{class:this.classes(_.seasonPicker),disabled:n,label:e.season,onCalciteSelectChange:this._onSeasonChange},E.map((function(n){return(0,G.u)("calcite-option",{selected:t.currentSeason===n,value:n},e[n])})))}},{key:"_renderDateOrSeason",value:function(){return"date"===this.dateOrSeason?this._renderDateOptions():this._renderSeasonSelect()}},{key:"_renderSunLightingToggle",value:function(){var e,t=null===(e=this.messages)||void 0===e?void 0:e.sunLightingToggle;return(0,G.u)("calcite-label",{key:"date-time-toggle",layout:"inline",scale:"s",title:null===t||void 0===t?void 0:t.tooltip},(0,G.u)("calcite-checkbox",{checked:this.viewModel.sunLightingEnabled,class:_.sunLightingCheckbox,onCalciteCheckboxChange:this._onSunLightingCheckboxChange}),null===t||void 0===t?void 0:t.label)}},{key:"_renderShadowsToggle",value:function(){var e=this.messages.shadowsToggle;return(0,G.u)("calcite-label",{key:"shadow-toggle",layout:"inline",scale:"s",title:null===e||void 0===e?void 0:e.tooltip},(0,G.u)("calcite-checkbox",{checked:this.viewModel.directShadowsEnabled,class:_.shadowsCheckbox,onCalciteCheckboxChange:this._onShadowCheckboxChange}),e.label)}},{key:"_makeGoToTime",value:function(e){var t=this;return function(){t.viewModel.timeSliderPosition=e}}}]),i}(p.Z);(0,c._)([(0,g.Cb)(),(0,$.H)("esri/widgets/Daylight/t9n/Daylight")],te.prototype,"messages",void 0),(0,c._)([(0,g.Cb)(),(0,$.H)("esri/widgets/support/t9n/timezone")],te.prototype,"timezoneMessages",void 0),(0,c._)([(0,g.Cb)()],te.prototype,"headingLevel",void 0),(0,c._)([(0,g.Cb)()],te.prototype,"icon",null),(0,c._)([(0,g.Cb)()],te.prototype,"label",null),(0,c._)([(0,g.Cb)()],te.prototype,"playSpeedMultiplier",null),(0,c._)([(0,g.Cb)()],te.prototype,"timeSliderSteps",null),(0,c._)([(0,g.Cb)()],te.prototype,"view",null),(0,c._)([(0,g.Cb)({type:H})],te.prototype,"viewModel",void 0),(0,c._)([(0,g.Cb)({type:x,nonNullable:!0})],te.prototype,"visibleElements",void 0),(0,c._)([(0,g.Cb)({cast:function(e){return"season"===e||"date"===e?e:(d.Z.getLogger(this).warn('"'.concat(e,'" is not a valid option. Acceptable values are only "date" or "season". Defaulting to "').concat(ee,'".')),ee)}})],te.prototype,"dateOrSeason",void 0),(0,c._)([(0,g.Cb)()],te.prototype,"_timeSlider",void 0),(0,c._)([(0,g.Cb)()],te.prototype,"_datePicker",void 0),te=(0,c._)([(0,f.j)("esri.widgets.Daylight")],te);var ne=[X.z.interactive,X.z.anchor],ie=te},96919:function(e,t,n){n.d(t,{M:function(){return h},X:function(){return c}});var i=n(1413),o=n(44925),l=n(16889),a=n(7021),s=n(80975),r=n(67005),u=["level","class"];function c(e,t){var n=e.level,l=e.class,c=(0,o.Z)(e,u),h=d(n);return(0,r.u)("h".concat(h),(0,i.Z)((0,i.Z)({},c),{},{"aria-level":String(h),class:(0,s.Sh)(a.z.heading,l),role:"heading"}),t)}function d(e){return(0,l.uZ)(Math.ceil(e),1,6)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return d(e+t)}},1552:function(e,t,n){n.d(t,{X:function(){return v}});var i=n(15671),o=n(43144),l=n(60136),a=n(29388),s=n(27366),r=n(49861),u=(n(93169),n(32718),n(84936),n(69912)),c=n(33565),d=n(8905),h=n(80629),g=(n(80975),n(80532)),f=n(67005),p="esri-timezone-picker",m={base:p,trigger:"".concat(p,"__trigger"),itemTitle:"".concat(p,"__item-title"),itemDescription:"".concat(p,"__item_description")},v=function(e){(0,l.Z)(s,e);var t=(0,a.Z)(s);function s(e,n){var o;return(0,i.Z)(this,s),(o=t.call(this,e,n)).value=null,o.onChange=null,o.open=!1,o.onOpen=null,o.onClose=null,o._selectedId=null,o._onOpen=function(){var e,t;o.open=!0,null===(e=(t=o).onOpen)||void 0===e||e.call(t)},o._onClose=function(){var e,t;o.open=!1,null===(e=(t=o).onClose)||void 0===e||e.call(t)},o._killEvent=function(e){return e.stopPropagation(),!0},o._onChange=function(e){var t,n,i,l,a=null===(t=e.target.selectedItems)||void 0===t?void 0:t[0].getAttribute("data-id"),s=null===(n=y(o._gmtOffsets,a))||void 0===n?void 0:n.utcOffset;s&&(o._selectedId=a,null===(i=(l=o).onChange)||void 0===i||i.call(l,s))},o}return(0,o.Z)(s,[{key:"loadDependencies",value:function(){return(0,d.h)({button:function(){return Promise.all([n.e(92358),n.e(46895),n.e(54438),n.e(14105),n.e(32275)]).then(n.bind(n,32275))},dropdown:function(){return Promise.all([n.e(92358),n.e(89219),n.e(43001)]).then(n.bind(n,43001))},"dropdown-group":function(){return n.e(89992).then(n.bind(n,89992))},"dropdown-item":function(){return Promise.all([n.e(92358),n.e(19784)]).then(n.bind(n,19784))}})}},{key:"render",value:function(){var e,t=this._messages;if(!t)return(0,f.u)("div",{class:m.base,key:"empty"});var n=this._selectedItem,i=_(n);return(0,f.u)("div",{class:m.base,key:"container",onpointerdown:this._killEvent},(0,f.u)("calcite-dropdown",{open:this.open,overlayPositioning:"fixed",placement:"bottom-end",scale:"s",onCalciteDropdownClose:this._onClose,onCalciteDropdownOpen:this._onOpen,onCalciteDropdownSelect:this._onChange},(0,f.u)("calcite-button",{appearance:"transparent",class:m.trigger,"data-testid":"timezone-picker-button",key:"trigger",kind:"neutral",scale:"s",slot:"trigger",tabIndex:0,title:t.chooseTimezone},null!==(e=null===n||void 0===n?void 0:n.short)&&void 0!==e?e:""),(0,f.u)("calcite-dropdown-group",{selectionMode:"single"},this._gmtOffsets.map((function(e){var t=_(e);return(0,f.u)("calcite-dropdown-item",{"data-id":t,key:t,selected:i===t},(0,f.u)("div",{class:m.itemTitle,key:"title"},e.shortWithUTC),(0,f.u)("div",{class:m.itemDescription,key:"description"},e.long))})))))}},{key:"_gmtOffsets",get:function(){var e=this._messages;return e?(0,h.qZ)(e):[]}},{key:"_selectedItem",get:function(){var e=this._gmtOffsets,t=this.value,n=y(e,this._selectedId);return(null===n||void 0===n?void 0:n.utcOffset)===t?n:function(e,t){return e.find((function(e){return e.utcOffset===t}))}(e,t)}}]),s}(c.Z);function y(e,t){return e.find((function(e){return _(e)===t}))}function _(e){return e?"".concat(e.utcOffset,"-").concat(e.long):void 0}(0,s._)([(0,r.Cb)()],v.prototype,"value",void 0),(0,s._)([(0,r.Cb)()],v.prototype,"onChange",void 0),(0,s._)([(0,r.Cb)()],v.prototype,"open",void 0),(0,s._)([(0,r.Cb)()],v.prototype,"onOpen",void 0),(0,s._)([(0,r.Cb)()],v.prototype,"onClose",void 0),(0,s._)([(0,r.Cb)(),(0,g.H)("esri/widgets/support/t9n/timezone")],v.prototype,"_messages",void 0),(0,s._)([(0,r.Cb)()],v.prototype,"_gmtOffsets",null),(0,s._)([(0,r.Cb)()],v.prototype,"_selectedItem",null),(0,s._)([(0,r.Cb)()],v.prototype,"_selectedId",void 0),v=(0,s._)([(0,u.j)("esri.widgets.support.TimezonePicker")],v)},80629:function(e,t,n){n.d(t,{FL:function(){return h},LL:function(){return p},Ox:function(){return c},mW:function(){return d},qZ:function(){return m},s5:function(){return r},y8:function(){return g}});var i=n(93433),o=n(86710),l=n(76969),a=n(73401),s=n(7021),r={hour:"numeric",minute:"numeric",timeZone:"UTC"},u={hour:"numeric",timeZone:"UTC"};function c(e,t){var n=f(e,t),i=(0,l.p6)(n,r);return 0!==e&&"00:00"===i&&(i="24:00"),"tick"===t&&i.includes(" ")&&(i=(i=(0,l.p6)(n,u)).replace(":00","")),i}function d(e){var t,n,o=e.tickElement,l=e.labelElement,a=e.tickClasses,r=void 0===a?[]:a,u=e.onClick;o&&l&&((t=o.classList).add.apply(t,(0,i.Z)(r).concat([s.z.primaryTick])),(n=l.classList).add.apply(n,(0,i.Z)(r).concat([s.z.primaryTickLabel])),u&&(l.onclick=o.onclick=function(){return u()}))}function h(e){var t,n=e.tickElement,o=e.tickClasses,l=void 0===o?[]:o,a=e.onClick;n&&((t=n.classList).add.apply(t,(0,i.Z)(l).concat([s.z.secondaryTick])),a&&(n.onclick=function(){return a()}))}function g(){return(0,l.Sh)(u).formatToParts(f(0,"value")).some((function(e){return"dayPeriod"===e.type}))}function f(e,t){if("tick"===t){var n=Math.round((0,o.rJ)(e,"minutes","hours"));return new Date((0,o.rJ)(n,"hours","milliseconds"))}return new Date(6e4*e)}function p(e,t,n,i){if(null==t||null==n)return null;var l=a.S.getTimes(e,t,n),s=l.sunrise,r=l.sunset,u=(0,o.Nm)(e,i,"hours"),c=(0,o.Nm)(s,i,"hours"),d=(0,o.Nm)(r,i,"hours");if(u.getUTCDate()!==c.getUTCDate()||u.getUTCDate()!==d.getUTCDate()){var h=u.getTime()-c.getTime()>0?1:-1;s.setUTCDate(s.getUTCDate()+h),r.setUTCDate(r.getUTCDate()+h)}return{sunrise:s,sunset:r}}function m(e){return[{utcOffset:-12,short:"UTC-12",long:e.timezoneDateline},{utcOffset:-11,short:"UTC-11",long:e.timezoneSamoa},{utcOffset:-10,short:e.timezoneHAST,long:e.timezoneHawaii},{utcOffset:-9,short:e.timezoneAKST,long:e.timezoneAlaska},{utcOffset:-8,short:e.timezonePST,long:e.timezoneBaja},{utcOffset:-7,short:e.timezoneMST,long:e.timezoneMountain},{utcOffset:-7,short:e.timezoneMST,long:e.timezoneLaPaz},{utcOffset:-7,short:e.timezoneMST,long:e.timezoneArizona},{utcOffset:-6,short:e.timezoneCST,long:e.timezoneSaskatchewan},{utcOffset:-6,short:e.timezoneCST,long:e.timezoneCentralAmerica},{utcOffset:-6,short:e.timezoneCST,long:e.timezoneCentralTime},{utcOffset:-6,short:e.timezoneCST,long:e.timezoneMexico},{utcOffset:-5,short:e.timezoneEST,long:e.timezoneEasternUS},{utcOffset:-5,short:e.timezoneEST,long:e.timezoneLima},{utcOffset:-5,short:e.timezoneEST,long:e.timezoneIndiana},{utcOffset:-4,short:null,long:e.timezoneAtlantic},{utcOffset:-4,short:null,long:e.timezoneCuiaba},{utcOffset:-4,short:null,long:e.timezoneSantiago},{utcOffset:-4,short:null,long:e.timezoneManaus},{utcOffset:-4,short:null,long:e.timezoneAsuncion},{utcOffset:-3,short:null,long:e.timezoneBrasilia},{utcOffset:-3,short:null,long:e.timezoneGreenland},{utcOffset:-3,short:null,long:e.timezoneMontevideo},{utcOffset:-3,short:null,long:e.timezoneCayenne},{utcOffset:-3,short:null,long:e.timezoneBuenosAires},{utcOffset:-2,short:null,long:e.timezoneMidAtlantic},{utcOffset:-1,short:null,long:e.timezoneAzores},{utcOffset:-1,short:null,long:e.timezoneCaboVerde},{utcOffset:0,short:null,long:e.timezoneDublin},{utcOffset:0,short:null,long:e.timezoneReykjavik},{utcOffset:0,short:null,long:e.timezoneCasablanca},{utcOffset:1,short:e.timezoneCET,long:e.timezoneBelgrade},{utcOffset:1,short:e.timezoneCET,long:e.timezoneSarajevo},{utcOffset:1,short:e.timezoneCET,long:e.timezoneBrussels},{utcOffset:1,short:e.timezoneCET,long:e.timezoneWCAfrica},{utcOffset:1,short:e.timezoneCET,long:e.timezoneAmsterdam},{utcOffset:1,short:e.timezoneCET,long:e.timezoneWindhoek},{utcOffset:2,short:e.timezoneEET,long:e.timezoneMinsk},{utcOffset:2,short:e.timezoneEET,long:e.timezoneCairo},{utcOffset:2,short:e.timezoneEET,long:e.timezoneHelsinki},{utcOffset:2,short:e.timezoneEET,long:e.timezoneAthens},{utcOffset:2,short:e.timezoneEET,long:e.timezoneJerusalem},{utcOffset:2,short:e.timezoneEET,long:e.timezoneAmman},{utcOffset:2,short:e.timezoneEET,long:e.timezoneBeirut},{utcOffset:2,short:e.timezoneEET,long:e.timezoneHarare},{utcOffset:2,short:e.timezoneEET,long:e.timezoneDamascus},{utcOffset:2,short:e.timezoneEET,long:e.timezoneIstanbul},{utcOffset:3,short:e.timezoneMSK,long:e.timezoneKuwait},{utcOffset:3,short:e.timezoneMSK,long:e.timezoneBaghdad},{utcOffset:3,short:e.timezoneMSK,long:e.timezoneNairobi},{utcOffset:3,short:e.timezoneMSK,long:e.timezoneKaliningrad},{utcOffset:4,short:e.timezoneGST,long:e.timezoneMoscow},{utcOffset:4,short:e.timezoneGST,long:e.timezoneMuscat},{utcOffset:4,short:e.timezoneGST,long:e.timezoneBaku},{utcOffset:4,short:e.timezoneGST,long:e.timezoneYerevan},{utcOffset:4,short:e.timezoneGST,long:e.timezoneTbilisi},{utcOffset:4,short:e.timezoneGST,long:e.timezonePortLouis},{utcOffset:5,short:null,long:e.timezoneTashkent},{utcOffset:5,short:null,long:e.timezoneIslamabad},{utcOffset:6,short:null,long:e.timezoneEkaterinburg},{utcOffset:6,short:null,long:e.timezoneAstana},{utcOffset:6,short:null,long:e.timezoneDhaka},{utcOffset:7,short:e.timezoneICT,long:e.timezoneNovosibirsk},{utcOffset:7,short:e.timezoneICT,long:e.timezoneBangkok},{utcOffset:8,short:e.timezoneCCT,long:e.timezoneKrasnoyarsk},{utcOffset:8,short:e.timezoneCCT,long:e.timezoneBeijing},{utcOffset:8,short:e.timezoneCCT,long:e.timezoneSingapore},{utcOffset:8,short:e.timezoneCCT,long:e.timezoneTaipei},{utcOffset:8,short:e.timezoneCCT,long:e.timezonePerth},{utcOffset:8,short:e.timezoneCCT,long:e.timezoneUlaanbaatar},{utcOffset:9,short:e.timezoneJST,long:e.timezoneIrkutsk},{utcOffset:9,short:e.timezoneJST,long:e.timezoneSeoul},{utcOffset:9,short:e.timezoneJST,long:e.timezoneOsaka},{utcOffset:10,short:e.timezoneAEST,long:e.timezoneYakutsk},{utcOffset:10,short:e.timezoneAEST,long:e.timezoneCanberra},{utcOffset:10,short:e.timezoneAEST,long:e.timezoneBrisbane},{utcOffset:10,short:e.timezoneAEST,long:e.timezoneHobart},{utcOffset:10,short:e.timezoneAEST,long:e.timezoneGuam},{utcOffset:11,short:null,long:e.timezoneVladivostok},{utcOffset:11,short:null,long:e.timezoneSolomon},{utcOffset:12,short:e.timezoneNZST,long:e.timezoneMagadan},{utcOffset:12,short:e.timezoneNZST,long:e.timezoneFiji},{utcOffset:12,short:e.timezoneNZST,long:e.timezoneAuckland},{utcOffset:12,short:e.timezoneNZST,long:e.timezoneNukualofa}].map((function(e){var t=e.utcOffset,n=e.short,i=e.long,o=t>0?"UTC+".concat(t):t<0?"UTC".concat(t):"GMT";return n?{utcOffset:t,short:n,shortWithUTC:"".concat(o," (").concat(n,")"),long:i}:{utcOffset:t,short:o,shortWithUTC:o,long:i}}))}}}]);
//# sourceMappingURL=72850.6cc36577.chunk.js.map